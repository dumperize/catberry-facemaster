/*
 * catberry-example: 0.0.0
 * Build Date: Thu Jan 14 2016 15:43:30 GMT+0400 (SAMT)
 */

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

/**
 * This module is a template and it is used only with some string replaces
 * by BrowserBundleBuilder module. It does not work by itself.
 */

'use strict';

var stores = [

{name: 'Breadcrumps', constructor: require('./catberry_stores/Breadcrumps.js')},
{name: 'Pages', constructor: require('./catberry_stores/Pages.js')},
{name: 'Paginator', constructor: require('./catberry_stores/Paginator.js')},
{name: 'Tag', constructor: require('./catberry_stores/Tag.js')},
{name: 'master/MasterItem', constructor: require('./catberry_stores/master/MasterItem.js')},
{name: 'master/MasterList', constructor: require('./catberry_stores/master/MasterList.js')},
{name: 'master/MasterSovety', constructor: require('./catberry_stores/master/MasterSovety.js')},
{name: 'master/MasterVideo', constructor: require('./catberry_stores/master/MasterVideo.js')},
{name: 'master/Recommended', constructor: require('./catberry_stores/master/Recommended.js')},
{name: 'other/News', constructor: require('./catberry_stores/other/News.js')},
{name: 'other/NewsItem', constructor: require('./catberry_stores/other/NewsItem.js')},
{name: 'other/Recommendation', constructor: require('./catberry_stores/other/Recommendation.js')},
{name: 'other/Vacancy', constructor: require('./catberry_stores/other/Vacancy.js')},
{name: 'other/VacancyItem', constructor: require('./catberry_stores/other/VacancyItem.js')},
{name: 'rubrika/Rubrika', constructor: require('./catberry_stores/rubrika/Rubrika.js')},
{name: 'rubrika/Rubrikator', constructor: require('./catberry_stores/rubrika/Rubrikator.js')},
{name: 'rubrika/RubrikatorCompany', constructor: require('./catberry_stores/rubrika/RubrikatorCompany.js')},
{name: 'rubrika/RubrikatorParent', constructor: require('./catberry_stores/rubrika/RubrikatorParent.js')},
{name: 'Head', constructor: require('./catberry_stores/Head.js')}
];

var components = [

{name: 'breadcrumps', constructor: require('./catberry_components/breadcrumps/index.js'), properties: {"name":"breadcrumps","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "        <span class=\\"breadcrumbs__icon\\">\\n            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "arrow-breadcrumbs", {"name":"icon","hash":{},"data":data})))\n    + "\\n        </span>\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.url : depth0), {"name":"if","hash":{},"fn":this.program(2, data),"inverse":this.program(7, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.links : depth0), {"name":"if","hash":{},"fn":this.program(9, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"2":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.links : depth0), {"name":"if","hash":{},"fn":this.program(3, data),"inverse":this.program(5, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"3":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                <a class=\\"breadcrumbs__level breadcrumbs__level_link js-parent-rub\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</a>\\n";\n},"5":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                <a class=\\"breadcrumbs__level breadcrumbs__level_link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</a>\\n";\n},"7":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "            <span class=\\"breadcrumbs__level\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</span>\\n";\n},"9":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "            <div class=\\"breadcrumbs__list-container js-breadcrumbs-list\\">\\n                <ul class=\\"breadcrumbs__list\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.links : depth0), {"name":"each","hash":{},"fn":this.program(10, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                </ul>\\n            </div>\\n";\n},"10":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        <li class=\\"breadcrumbs__list-item\\">\\n                            <span class=\\"breadcrumbs__icon\\"></span>\\n                            <a class=\\"breadcrumbs__level breadcrumbs__level_link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</a>\\n                        </li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"breadcrumbs\\">\\n    <span class=\\"breadcrumbs__header\\">Вы находитесь: </span>\\n";\n  stack1 = helpers.each.call(depth0, depth0, {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'catalog-list', constructor: require('./catberry_components/catalog-list/index.js'), properties: {"name":"catalog-list","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "        <li class=\\"catalog-list__item\\">\\n            <a class=\\"catalog-list__item-link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n                <span class=\\"catalog-list__icon\\">\\n                    "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, (depth0 != null ? depth0.ico : depth0), {"name":"icon","hash":{},"data":data})))\n    + "\\n                </span>\\n                ";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n            </a>\\n        </li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<ul class=\\"catalog-list_"\n    + escapeExpression(((helper = (helper = helpers[\'data-mod\'] || (depth0 != null ? depth0[\'data-mod\'] : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"data-mod","hash":{},"data":data}) : helper)))\n    + " catalog-list\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.catalogs : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</ul>\\n\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'document', constructor: require('./catberry_components/document/index.js'), properties: {"name":"document","template":"./template.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<!DOCTYPE html>\\n<html lang=\\"en\\">\\n<head cat-store=\\"Head\\"></head>\\n<body>\\n\t<cat-pages-header id=\\"pages-header\\" cat-store=\\"Pages\\"></cat-pages-header>\\n\t<cat-pages-content id=\\"pages-content\\" cat-store=\\"Pages\\"></cat-pages-content>\\n    <cat-pages-footer id=\\"pages-footer\\" cat-store=\\"Pages\\"></cat-pages-footer>\\n</body>\\n</html>\\n";\n  },"useData":true}', errorTemplateSource: null},
{name: 'head', constructor: require('./catberry_components/head/index.js'), properties: {"name":"head","template":"./template.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "<meta charset=\\"UTF-8\\">\\n<title>"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</title>\\n<meta content=\\""\n    + escapeExpression(((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"description","hash":{},"data":data}) : helper)))\n    + "\\" name=\\"description\\">\\n<meta content=\\""\n    + escapeExpression(((helper = (helper = helpers.keywords || (depth0 != null ? depth0.keywords : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"keywords","hash":{},"data":data}) : helper)))\n    + "\\" name=\\"keywords\\">\\n<meta content=\\"telephone=no\\" name=\\"format-detection\\">\\n<meta name=\\"robots\\" content=\\"noodp, noydir\\">\\n\\n<meta name=\\"HandheldFriendly\\" content=\\"true\\">\\n<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=edge\\">\\n<meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1\\">\\n\\n<meta property=\\"og:title\\" content=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.social : depth0)) != null ? stack1.title : stack1), depth0))\n    + "\\">\\n<meta property=\\"og:url\\" content=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.social : depth0)) != null ? stack1.url : stack1), depth0))\n    + "\\">\\n<meta property=\\"og:description\\" content=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.social : depth0)) != null ? stack1.description : stack1), depth0))\n    + "\\">\\n<meta property=\\"og:image\\" content=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.social : depth0)) != null ? stack1.img : stack1), depth0))\n    + "\\">\\n<meta property=\\"og:image:type\\" content=\\"image/jpeg\\">\\n<meta property=\\"og:image:width\\" content=\\"500\\">\\n<meta property=\\"og:image:height\\" content=\\"300\\">\\n<meta property=\\"twitter:description\\" content=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.social : depth0)) != null ? stack1.description : stack1), depth0))\n    + "\\">\\n<link rel=\\"image_src\\" href=\\"\\">\\n<link rel=\\"icon\\" type=\\"image/png\\" href=\\"/img/icon.ico\\">\\n\\n<link href=\\"/css/main.css\\" rel=\\"stylesheet\\">\\n<link href=\\"/css/vendor.min.css\\" rel=\\"stylesheet\\">\\n<script src=\\"/vendor.min.js\\"></script>\\n<script src=\\"/bundle.js\\"></script>\\n<script>svg4everybody();</script>\\n\\n<!--[if lt IE 9 ]><!--<script src=\\"/separate-js/html5shiv-3.7.2.min.js\\" type=\\"text/javascript\\"></script><meta content=\\"no\\" http-equiv=\\"imagetoolbar\\">--><![endif]-->\\n";\n},"useData":true}', errorTemplateSource: null},
{name: 'loader', constructor: require('./catberry_components/loader/index.js'), properties: {"name":"loader","template":"./template.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"loading\\"></div>\\n\\n";\n  },"useData":true}', errorTemplateSource: null},
{name: 'search', constructor: require('./catberry_components/search/index.js'), properties: {"name":"search","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return " search_"\n    + escapeExpression(((helper = (helper = helpers.modificator || (depth0 != null ? depth0.modificator : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"modificator","hash":{},"data":data}) : helper)))\n    + " ";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<div class=\\"search ";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.modificator : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\">\\n    <form class=\\"search__form\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\">\\n        <div class=\\"search__title\\">\\n            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "search", {"name":"icon","hash":{},"data":data})))\n    + "\\n        </div>\\n        <div class=\\"search__field\\">\\n            <input class=\\"search__field-input input-text\\" type=\\"text\\" name=\\"search\\">\\n        </div>\\n        <div class=\\"search__button\\">\\n            <button class=\\"search__button-submit\\" type=\\"submit\\">найди услугу</button>\\n        </div>\\n    </form>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'service-request', constructor: require('./catberry_components/service-request/index.js'), properties: {"name":"service-request","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'social', constructor: require('./catberry_components/social/index.js'), properties: {"name":"social","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "    <li class=\\"social__item\\">\\n        <a class=\\"social__item-link link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\" target=\\"_blank\\">\\n            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, (depth0 != null ? depth0.ico : depth0), "icon_white", {"name":"icon","hash":{},"data":data})))\n    + "\\n        </a>\\n    </li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<ul class=\\"social\\">\\n";\n  stack1 = helpers.each.call(depth0, depth0, {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</ul>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'common-h1', constructor: require('./catberry_components/_common/common-h1/index.js'), properties: {"name":"common-h1","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<h1 class=\\"h1 h1_style\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</h1>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'common-paginator', constructor: require('./catberry_components/_common/common-paginator/index.js'), properties: {"name":"common-paginator","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, buffer = "    <div class=\\"paginator\\">\\n        <span class=\\"paginator__title\\">Перейти к странице: </span>\\n        <ul class=\\"paginator__list\\">\\n            <li class=\\"paginator__page paginator__page_previous\\">\\n                <a class=\\"paginator__number\\" href=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.start : depth0)) != null ? stack1.url : stack1), depth0))\n    + "\\">&lt;</a>\\n            </li>\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.list : depth0), {"name":"each","hash":{},"fn":this.program(2, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "            <li class=\\"paginator__page paginator__page_next\\">\\n                <a class=\\"paginator__number\\" href=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.end : depth0)) != null ? stack1.url : stack1), depth0))\n    + "\\">&gt;</a>\\n            </li>\\n        </ul>\\n    </div>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0[\'is-selected\'] : depth0), {"name":"if","hash":{},"fn":this.program(3, data),"inverse":this.program(5, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"3":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                    <li class=\\"paginator__page paginator__page_selected\\"><span class=\\"paginator__number\\">"\n    + escapeExpression(((helper = (helper = helpers.number || (depth0 != null ? depth0.number : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"number","hash":{},"data":data}) : helper)))\n    + "</span></li>\\n";\n},"5":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                    <li class=\\"paginator__page\\"><a class=\\"paginator__number\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.number || (depth0 != null ? depth0.number : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"number","hash":{},"data":data}) : helper)))\n    + "</a></li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1;\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0[\'is-paginator\'] : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { return stack1; }\n  else { return \'\'; }\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-filter', constructor: require('./catberry_components/master/master-filter/index.js'), properties: {"name":"master-filter","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "        <div class=\\"filter-section\\">\\n            <a class=\\"filter-section__title filter-section__title_"\n    + escapeExpression(((helper = (helper = helpers.sectionName || (depth0 != null ? depth0.sectionName : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"sectionName","hash":{},"data":data}) : helper)))\n    + " ";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.openSection : depth0), {"name":"if","hash":{},"fn":this.program(2, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += " js-filter-toggle-btn\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n                <div class=\\"filter-section__icon\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.openSection : depth0), {"name":"if","hash":{},"fn":this.program(4, data),"inverse":this.program(6, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                </div>\\n\\n                "\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "\\n\\n                <div class=\\"filter-section__arrow\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.openSection : depth0), {"name":"if","hash":{},"fn":this.program(8, data),"inverse":this.program(10, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                </div>\\n            </a>\\n\\n";\n  stack1 = helpers[\'with\'].call(depth0, (depth0 != null ? depth0.openSection : depth0), {"name":"with","hash":{},"fn":this.program(12, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "        </div>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  return "active";\n  },"4":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, (depth0 != null ? depth0.ico : depth0), "icon_white", {"name":"icon","hash":{},"data":data})))\n    + "\\n";\n},"6":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, (depth0 != null ? depth0.ico : depth0), {"name":"icon","hash":{},"data":data})))\n    + "\\n";\n},"8":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "strelka", "down", {"name":"icon","hash":{},"data":data})))\n    + "\\n";\n},"10":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "strelka", {"name":"icon","hash":{},"data":data})))\n    + "\\n";\n},"12":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "                <div class=\\"filter-section__section js-filter-toggle-section\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.sortBy : depth0), {"name":"if","hash":{},"fn":this.program(13, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.tagsGroup : depth0), {"name":"if","hash":{},"fn":this.program(15, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                </div>\\n";\n},"13":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return "                        <div class=\\"sort-by\\">\\n                            <p class=\\"sort-by__title\\">Отсортировать: </p>\\n\\n                            <form class=\\"sort-by__form\\" action=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.sortBy : depth0)) != null ? stack1.url : stack1), depth0))\n    + "\\" method=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.sortBy : depth0)) != null ? stack1.method : stack1), depth0))\n    + "\\">\\n                                <div class=\\"filter-radio\\">\\n                                    <input class=\\"filter-radio__input\\" type=\\"radio\\" name=\\"sort-by\\" value=\\"name\\" id=\\"sort-by-name\\">\\n                                    <label class=\\"filter-radio__label\\" for=\\"sort-by-name\\">по фамилии по алфавиту</label>\\n                                </div>\\n                                <div class=\\"filter-radio\\">\\n                                    <input class=\\"filter-radio__input\\" type=\\"radio\\" name=\\"sort-by\\" value=\\"recommendation\\" id=\\"sort-by-recommendation\\">\\n                                    <label class=\\"filter-radio__label\\" for=\\"sort-by-recommendation\\">по количеству\\n                                        рекомендаций</label>\\n                                </div>\\n                            </form>\\n                        </div>\\n";\n},"15":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "                        <div class=\\"filter-by\\">\\n                            <p class=\\"filter-by__title\\">Отфильтровать:</p>\\n\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.tagsGroup : depth0), {"name":"each","hash":{},"fn":this.program(16, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                        </div>\\n";\n},"16":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.title : depth0), {"name":"if","hash":{},"fn":this.program(17, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.tags : depth0), {"name":"each","hash":{},"fn":this.program(19, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"17":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                                    <p class=\\"filter-by__title\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</p>\\n";\n},"19":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.isActive : depth0), {"name":"if","hash":{},"fn":this.program(20, data),"inverse":this.program(22, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"20":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                                        <span class=\\"filter-by__tag-active\\">\\n                                            "\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\n                                            <div class=\\"filter-by__close\\">\\n                                                <a class=\\"filter-by__close-link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.urlBack || (depth0 != null ? depth0.urlBack : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"urlBack","hash":{},"data":data}) : helper)))\n    + "\\">\\n                                                    <div class=\\"filter-by__close-icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "close", {"name":"icon","hash":{},"data":data})))\n    + "</div>\\n                                                </a>\\n                                            </div>\\n                                        </span>\\n";\n},"22":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                                        <a class=\\"filter-by__tag\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.path || (depth0 != null ? depth0.path : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"path","hash":{},"data":data}) : helper)))\n    + "\\">\\n                                            "\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\n                                        </a>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"filter\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.filterSection : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-list', constructor: require('./catberry_components/master/master-list/index.js'), properties: {"name":"master-list","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "        <div class=\\"master-list__item\\">\\n            <cat-master-minicard id=\\"master-minicard-"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\" master-id=\\""\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\"></cat-master-minicard>\\n        </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"master-list\\">\\n";\n  stack1 = helpers.each.call(depth0, depth0, {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div><!--master-list-->";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-page', constructor: require('./catberry_components/master/master-page/index.js'), properties: {"name":"master-page","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                <p class=\\"master-card-mp__company\\">\\n                    <span><img class=\\"master-card-mp__logo\\" src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, ((stack1 = (depth0 != null ? depth0.company : depth0)) != null ? stack1.imgID : stack1), (depth0 != null ? depth0.null : depth0), 70, {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.company : depth0)) != null ? stack1.name : stack1), depth0))\n    + "\\"></span>\\n                    <span>"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.company : depth0)) != null ? stack1.name : stack1), depth0))\n    + "</span>\\n                </p>\\n";\n},"3":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                        <li><i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "phone", {"name":"icon","hash":{},"data":data})))\n    + "</i><span>"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.phone : stack1), depth0))\n    + "</span></li>\\n";\n},"5":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                        <li><i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "email", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                            <a class=\\"contacts-mp__anch\\" href=\\"mailto:"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.email : stack1), depth0))\n    + "\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.email : stack1), depth0))\n    + "</a>\\n                        </li>\\n";\n},"7":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                        <li><i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "skype", {"name":"icon","hash":{},"data":data})))\n    + "</i>"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.skype : stack1), depth0))\n    + "</li>\\n";\n},"9":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                        <li><i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "icq", {"name":"icon","hash":{},"data":data})))\n    + "</i>"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.icq : stack1), depth0))\n    + "</li>\\n";\n},"11":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                        <li><i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "placemark", {"name":"icon","hash":{},"data":data})))\n    + "</i>"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.addr : stack1), depth0))\n    + "<br>\\n                            <span class=\\"contacts-mp__onmap\\"><a class=\\"contacts-mp__anch\\" href=\\"#\\">на карте</a> →</span>\\n                        </li>\\n";\n},"13":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.access : depth0), {"name":"if","hash":{},"fn":this.program(14, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"14":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "                <li>";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.active : depth0), {"name":"if","hash":{},"fn":this.program(15, data),"inverse":this.program(17, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</li>\\n";\n},"15":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<a href=\\"#\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</a>";\n},"17":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<span>"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</span>";\n},"19":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.access : depth0), {"name":"if","hash":{},"fn":this.program(20, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"20":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.active : depth0), {"name":"if","hash":{},"fn":this.program(21, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"21":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "                    <p class=\\"master-page__section-title\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</p>\\n                    <div class=\\"master-page__section-cont\\">\\n                        <cat-master-block-"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + " id=\\"master-block-"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + "\\" cat-store=\\"master/MasterItem\\" master-page=\\"true\\"></cat-master-block-"\n    + escapeExpression(lambda((data && data.key), depth0))\n    + ">\\n                    </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType="function", lambda=this.lambda, buffer = "<div class=\\"master-page\\"><!-- mp - master-page -->\\n    <div class=\\"master-page__row\\">\\n\\n        <div class=\\"master-page__master-card\\">\\n\\n            <div class=\\"master-page__avatar-cont\\">\\n                <img src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, (depth0 != null ? depth0.imgID : depth0), {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\">\\n            </div>\\n\\n            <div class=\\"master-card-mp\\">\\n                <h1 class=\\"master-card-mp__name\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</h1>\\n\\n                <p class=\\"master-card-mp__spec\\">"\n    + escapeExpression(((helper = (helper = helpers.spec || (depth0 != null ? depth0.spec : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"spec","hash":{},"data":data}) : helper)))\n    + "</p>\\n\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.company : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n\\n                <div class=\\"master-card-mp__master-number\\">\\n                    <p class=\\"master-number\\">\\n                        <span class=\\"master-number__title\\">личный номер Мастера</span>\\n                        <span class=\\"master-number__number\\">№"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.number : stack1), depth0))\n    + "</span>\\n                        <span class=\\"master-number__print\\"><a class=\\"master-number__print\\" href=\\"#\\">распечатать визитку</a></span>\\n                    </p>\\n                </div>\\n\\n            </div>\\n\\n        </div>\\n\\n        <div class=\\"master-page__contact-cont\\">\\n            <div class=\\"contacts-mp\\">\\n                <div class=\\"contacts-mp__cap\\" style=\\"display: none\\">\\n                    <p>\\n                        <i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "phone", {"name":"icon","hash":{},"data":data})))\n    + "</i><br>\\n                        <span>+7 (***) ***-**-**</span>\\n                    </p>\\n\\n                    <a class=\\"contacts-mp__show-contact\\" href=\\"#\\">Показать контакты</a>\\n                </div>\\n\\n\\n                <ul class=\\"contacts-mp__list\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.phone : stack1), {"name":"if","hash":{},"fn":this.program(3, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.email : stack1), {"name":"if","hash":{},"fn":this.program(5, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.skype : stack1), {"name":"if","hash":{},"fn":this.program(7, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.icq : stack1), {"name":"if","hash":{},"fn":this.program(9, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.addr : stack1), {"name":"if","hash":{},"fn":this.program(11, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                </ul>\\n\\n                "\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.links : stack1), depth0))\n    + "\\n\\n                <a class=\\"contacts-mp__a-callback\\" href=\\"#\\">заказать звонок</a>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <ul class=\\"menu-mp\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.isBlock : depth0), {"name":"each","hash":{},"fn":this.program(13, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "    </ul><!-- menu-mp -->\\n\\n    <div class=\\"master-page__content\\">\\n\\n        <!-- Удалить когда заработают услуги -->\\n        <p class=\\"master-page__section-title\\">Услуги</p>\\n        <div class=\\"master-page__section-cont\\">\\n            <cat-master-block-service id=\\"master-block-service\\" cat-store=\\"master/MasterItem\\" master-page=\\"true\\"></cat-master-block-service>\\n        </div>\\n        <!-- Удалить когда заработают услуги - конец -->\\n\\n\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.isBlock : depth0), {"name":"each","hash":{},"fn":this.program(19, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "    </div>\\n</div>\\n<!-- master-page -->";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-recommended', constructor: require('./catberry_components/master/master-recommended/index.js'), properties: {"name":"master-recommended","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "    <div class=\\"master_recommended\\">\\n        <h2 class=\\"master_recommended__title\\">\\n            Этих<br>\\n            Мастеров<br>\\n            рекомендуют\\n        </h2>\\n\\n        <div class=\\"master_recommended__slider\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0[\'recommended-master\'] : depth0), {"name":"each","hash":{},"fn":this.program(2, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "        </div>\\n    </div>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                <a class=\\"master_recommended__master\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers[\'master-url\'] || (depth0 != null ? depth0[\'master-url\'] : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"master-url","hash":{},"data":data}) : helper)))\n    + "\\">\\n                    <img class=\\"master_recommended__master-photo\\" src=\\""\n    + escapeExpression(((helper = (helper = helpers.src || (depth0 != null ? depth0.src : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"src","hash":{},"data":data}) : helper)))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.alt || (depth0 != null ? depth0.alt : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"alt","hash":{},"data":data}) : helper)))\n    + "\\">\\n\\n                    <p class=\\"master_recommended__master-name\\">\\n                        "\n    + escapeExpression(((helper = (helper = helpers[\'master-name\'] || (depth0 != null ? depth0[\'master-name\'] : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"master-name","hash":{},"data":data}) : helper)))\n    + "\\n                    </p>\\n\\n                    <p class=\\"master_recommended__master-recommendations\\">\\n                        "\n    + escapeExpression(((helper = (helper = helpers[\'recommendation-number\'] || (depth0 != null ? depth0[\'recommendation-number\'] : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"recommendation-number","hash":{},"data":data}) : helper)))\n    + "\\n                    </p>\\n                </a>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1;\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0[\'is-recommended-masters\'] : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { return stack1; }\n  else { return \'\'; }\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-rubrika', constructor: require('./catberry_components/master/master-rubrika/index.js'), properties: {"name":"master-rubrika","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, buffer = "        <div class=\\"seo-text\\">\\n            <div class=\\"seo-text__text format\\">\\n                ";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.currentSeo : depth0)) != null ? stack1.text : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n            </div>\\n        </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing, buffer = "<div class=\\"inner-top\\">\\n    <div class=\\"inner-top__title\\">\\n        <cat-common-h1 id=\\"common-h1\\" name=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.currentSeo : depth0)) != null ? stack1.pageTitle : stack1), depth0))\n    + "\\"></cat-common-h1>\\n    </div>\\n\\n    <div class=\\"inner-top__search\\">\\n        <cat-search id=\\"search\\" modificator=\\"inner\\"></cat-search>\\n    </div>\\n    <div class=\\"inner-top__callback\\">\\n        <a class=\\"request\\" href=\\"/request\\">\\n            <div class=\\"request__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "star-in-sun", {"name":"icon","hash":{},"data":data})))\n    + "</div>\\n            Отправить задание мастерам\\n        </a>\\n    </div>\\n</div>\\n<div class=\\"inner-content\\">\\n    <div class=\\"inner-content__left-side\\">\\n        <cat-master-filter id=\\"master-filter\\" cat-store=\\"Tag\\"></cat-master-filter>\\n        { {> banner/banner_side/banner_side banner_side} }\\n    </div>\\n    <div class=\\"inner-content__right-side\\">\\n        <cat-master-recommended id=\\"master-recommended\\" cat-store=\\"master/Recommended\\"></cat-master-recommended>\\n        <cat-master-list id=\\"master-list\\"></cat-master-list> <!-- Добавил -->\\n    </div>\\n</div>\\n<div class=\\"row\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.currentSeo : depth0)) != null ? stack1.text : stack1), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'other-news', constructor: require('./catberry_components/other/other-news/index.js'), properties: {"name":"other-news","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "        <div class=\\"news\\">\\n            <div class=\\"news__inner\\">\\n                <div class=\\"news__img-wr\\">\\n                    <img class=\\"news__img\\" src=\\""\n    + escapeExpression(((helper = (helper = helpers.src || (depth0 != null ? depth0.src : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"src","hash":{},"data":data}) : helper)))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "\\">\\n                </div>\\n                <div class=\\"news__content\\">\\n                    <p class=\\"news__title\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</p>\\n\\n                    <p class=\\"news__intro\\">";\n  stack1 = ((helpers.stripTags || (depth0 && depth0.stripTags) || helperMissing).call(depth0, (depth0 != null ? depth0.preview : depth0), {"name":"stripTags","hash":{},"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</p>\\n\\n                    <p class=\\"news__date\\">"\n    + escapeExpression(((helpers.formatDate || (depth0 && depth0.formatDate) || helperMissing).call(depth0, (depth0 != null ? depth0.date : depth0), "%d %Z %Y", {"name":"formatDate","hash":{},"data":data})))\n    + "</p>\\n\\n                    <a class=\\"news__more\\" href=\\"/news/item/"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\">\\n                        подробнее\\n                        <i class=\\"news__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "strelka", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                    </a>\\n                </div>\\n                <div class=\\"news__autor\\">\\n                    <p>\\n                        Новость добавил: <br> ERROR\\n                        "\n    + escapeExpression(((helper = (helper = helpers.autor || (depth0 != null ? depth0.autor : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"autor","hash":{},"data":data}) : helper)))\n    + "\\n                    </p>\\n                </div>\\n            </div>\\n        </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"news-list\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.data : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'other-news-item', constructor: require('./catberry_components/other/other-news-item/index.js'), properties: {"name":"other-news-item","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "\\n<cat-common-h1 id=\\"common-h1\\" name=\\""\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "\\"></cat-common-h1>\\n"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\n"\n    + escapeExpression(((helper = (helper = helpers.img || (depth0 != null ? depth0.img : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"img","hash":{},"data":data}) : helper)))\n    + "\\n"\n    + escapeExpression(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"date","hash":{},"data":data}) : helper)))\n    + "\\n"\n    + escapeExpression(((helper = (helper = helpers.preview || (depth0 != null ? depth0.preview : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"preview","hash":{},"data":data}) : helper)))\n    + "\\n";\n  stack1 = ((helper = (helper = helpers.text || (depth0 != null ? depth0.text : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"text","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'other-recommendation', constructor: require('./catberry_components/other/other-recommendation/index.js'), properties: {"name":"other-recommendation","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "        <div class=\\"recommendation\\">\\n            <div class=\\"recommendation__inner\\">\\n                <div class=\\"recommendation__img-wr\\">\\n                    <img class=\\"recommendation__img\\" src=\\""\n    + escapeExpression(((helper = (helper = helpers.photo || (depth0 != null ? depth0.photo : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"photo","hash":{},"data":data}) : helper)))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "\\">\\n                </div>\\n                <div class=\\"recommendation__content\\">\\n                    <p class=\\"recommendation__title\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</p>\\n\\n                    <div class=\\"recommendation__intro\\">";\n  stack1 = ((helpers.stripStyle || (depth0 && depth0.stripStyle) || helperMissing).call(depth0, (depth0 != null ? depth0.text : depth0), {"name":"stripStyle","hash":{},"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>\\n\\n                    <p class=\\"recommendation__date\\">ERROR"\n    + escapeExpression(((helper = (helper = helpers.date || (depth0 != null ? depth0.date : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"date","hash":{},"data":data}) : helper)))\n    + "</p>\\n                </div>\\n            </div>\\n        </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"recommendation-list\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.data : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "ERROR\\n";\n  },"useData":true}'},
{name: 'other-vacancy', constructor: require('./catberry_components/other/other-vacancy/index.js'), properties: {"name":"other-vacancy","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  return "    <p><strong>Сейчас открыты вакансии:</strong></p>\\n";\n  },"3":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "    <p><a href=\\"/vacancy/item/"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"post","hash":{},"data":data}) : helper)))\n    + "</a></p>\\n";\n},"5":function(depth0,helpers,partials,data) {\n  return "    <p><strong>Сейчас открытых вакансий нет.</strong></p>\\n";\n  },"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.vacancy : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.vacancy : depth0), {"name":"each","hash":{},"fn":this.program(3, data),"inverse":this.program(5, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'other-vacancy-item', constructor: require('./catberry_components/other/other-vacancy-item/index.js'), properties: {"name":"other-vacancy-item","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<div class=\\"vacancy-one-page\\">\\n    <h1 class=\\"h1 h1_style\\">"\n    + escapeExpression(((helper = (helper = helpers.post || (depth0 != null ? depth0.post : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"post","hash":{},"data":data}) : helper)))\n    + "</h1>\\n    <img class=\\"vacancy-one-page__img\\" src=\\"/img/other/vacancy.png\\" alt=\\"Наши вакансии\\">\\n    <div class=\\"vacancy-one-page__text format\\">\\n        ";\n  stack1 = ((helper = (helper = helpers.text || (depth0 != null ? depth0.text : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"text","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n    </div>\\n    <div class=\\"vacancy-one-page__contact format\\">\\n\\n        <!-- ERROR -->\\n        ";\n  stack1 = ((helper = (helper = helpers.contact || (depth0 != null ? depth0.contact : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"contact","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n        <p style=\\"color: red; font-weight: bold\\">------ ERROR! (нет поля contact) ------</p>\\n        <!-- ERROR -->\\n\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'pages-content', constructor: require('./catberry_components/pages/pages-content/index.js'), properties: {"name":"pages-content","template":"./template.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  return "            <cat-breadcrumps id=\\"breadcrumps\\" cat-store=\\"Breadcrumps\\"></cat-breadcrumps>\\n";\n  },"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<div class=\\"page container\\">\\n    <div class=\\"page__row\\">\\n        <cat-loader id=\\"pages-content-loader\\"></cat-loader>\\n\\n";\n  stack1 = helpers.unless.call(depth0, ((stack1 = (depth0 != null ? depth0.isActive : depth0)) != null ? stack1.main : stack1), {"name":"unless","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n        <div class=\\"content\\">\\n            <cat-page-"\n    + escapeExpression(((helper = (helper = helpers.current || (depth0 != null ? depth0.current : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"current","hash":{},"data":data}) : helper)))\n    + " id=\\"page-current-"\n    + escapeExpression(((helper = (helper = helpers.current || (depth0 != null ? depth0.current : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"current","hash":{},"data":data}) : helper)))\n    + "\\"></cat-page-"\n    + escapeExpression(((helper = (helper = helpers.current || (depth0 != null ? depth0.current : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"current","hash":{},"data":data}) : helper)))\n    + ">\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: null},
{name: 'pages-footer', constructor: require('./catberry_components/pages/pages-footer/index.js'), properties: {"name":"pages-footer","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "                    <a class=\\"footer__links-a\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</a>&nbsp;\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<footer class=\\"footer\\">\\n    <div class=\\"container\\">\\n        { {> _common/totop-btn/totop-btn} }\\n        <div class=\\"row\\">\\n            <div class=\\"footer__coordinator\\">Координатор сайта: "\n    + escapeExpression(((helper = (helper = helpers.phone || (depth0 != null ? depth0.phone : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"phone","hash":{},"data":data}) : helper)))\n    + "</div>\\n\\n            <div class=\\"footer__copyright\\">\\n                <p class=\\"footer__copyright-who\\">© FaceMaster — Фейсмастер</p>\\n                <p class=\\"footer__copyright-text\\">При полном или частичном воспроизведении информации\\n                    активная ссылка на Фейсмастер обязательна.</p>\\n            </div>\\n\\n\\n            <div class=\\"footer__links\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.links : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "            </div>\\n\\n\\n            <div class=\\"footer__counters\\">\\n                <!--{ { > footer/counters/counters counters} }-->\\n            </div>\\n        </div>\\n    </div>\\n</footer>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'pages-header', constructor: require('./catberry_components/pages/pages-header/index.js'), properties: {"name":"pages-header","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  return "                    <div class=\\"login\\">\\n                        <a class=\\"login__btn btn\\" href=\\"/login\\">Вход для Мастеров</a>\\n                    </div>\\n";\n  },"3":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "                    <div class=\\"login\\">\\n                        <a class=\\"login__btn btn\\" href=\\"<!--ERROR-->\\"><!--ERROR - username--></a>\\n\\n                        <div class=\\"menu-user\\">\\n                            <ul class=\\"menu-user__ul\\">\\n                                <!--ERROR MENUUSER-->\\n";\n  stack1 = helpers.each.call(depth0, ((stack1 = (depth0 != null ? depth0.authData : depth0)) != null ? stack1.menuUser : stack1), {"name":"each","hash":{},"fn":this.program(4, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                            </ul>\\n                        </div>\\n                    </div>\\n";\n},"4":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "                                    <li class=\\"menu-user__item\\">\\n                                        <a class=\\"menu-user__item-link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</a>\\n                                    </li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "<header class=\\"header\\">\\n    <div class=\\"container\\">\\n        <div class=\\"row\\">\\n            <div class=\\"header__left-col\\">\\n                <div class=\\"logo\\">\\n                    <div class=\\"logo__img\\">\\n                        <a class=\\"logo__link\\" href=\\"/main\\">\\n                            <img alt=\\"Facemaster.ru Logo\\" src=\\"/img/logo.svg\\" width=\\"100%\\">\\n                        </a>\\n                    </div>\\n                    <div class=\\"visitor\\">\\n                        <p class=\\"visitor__count\\">"\n    + escapeExpression(((helper = (helper = helpers.visitCount || (depth0 != null ? depth0.visitCount : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"visitCount","hash":{},"data":data}) : helper)))\n    + "</p>\\n\\n                        <p class=\\"visitor__mera\\">в неделю</p>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"header__title\\">\\n                <a class=\\"title\\" href=\\"/main\\">\\n                    <p class=\\"title__text h1\\">ПОИСК МАСТЕРОВ В СФЕРЕ УСЛУГ</p>\\n                </a>\\n            </div>\\n            <div class=\\"header__login\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.isGuest : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.program(3, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "            </div>\\n            <div class=\\"header__menu\\">\\n                <cat-pages-navigation id=\\"pages-navigation\\"></cat-pages-navigation>\\n            </div>\\n            <div class=\\"header__social\\">\\n                <cat-social id=\\"social\\"></cat-social>\\n            </div>\\n        </div>\\n    </div>\\n</header>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'pages-navigation', constructor: require('./catberry_components/pages/pages-navigation/index.js'), properties: {"name":"pages-navigation","template":"./template.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "            <li class=\\"main-menu__item\\">\\n                <a class=\\"main-menu__item-link link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.link || (depth0 != null ? depth0.link : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"link","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</a>\\n            </li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<nav class=\\"menu\\">\\n    <ul class=\\"main-menu\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.menu : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "    </ul>\\n</nav>\\n";\n},"useData":true}', errorTemplateSource: null},
{name: 'page-catalog', constructor: require('./catberry_components/page/page-catalog/index.js'), properties: {"name":"page-catalog","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"master-rubrikator-page master-rubrikator-page_collapsed\\">\\n\\n    <cat-common-h1 id=\\"common-h1\\" name=\\"Каталог услуг\\"></cat-common-h1>\\n\\n    <div class=\\"row\\">\\n        <div class=\\"master-rubrikator-page__rubriks-columns\\">\\n            <div class=\\"row\\">\\n                <cat-rubrikator-list id=\\"rubrikator-list\\" cat-store=\\"rubrika/Rubrikator\\"></cat-rubrikator-list>\\n            </div>\\n        </div>\\n        <div class=\\"master-rubrikator-page__dop\\">\\n            <p class=\\"master-rubrikator-page__dop-title\\">Другие возможности\\n                в подборе мастера</p>\\n\\n            <div class=\\"master-rubrikator-page__dop-catalogs\\">\\n                <cat-catalog-list id=\\"catalog-list\\" data-mod=\\"page_rubrikator\\"></cat-catalog-list>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-contact', constructor: require('./catberry_components/page/page-contact/index.js'), properties: {"name":"page-contact","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<div class=\\"contact-page\\">\\n    <h1 class=\\"h1 h1_style\\">Контакты</h1>\\n\\n    <div class=\\"contact-block\\">\\n        <p class=\\"contact-block__phone\\"><span class=\\"contact-block__name\\">Телефон:</span> "\n    + escapeExpression(((helper = (helper = helpers.phone || (depth0 != null ? depth0.phone : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"phone","hash":{},"data":data}) : helper)))\n    + "</p>\\n        <p class=\\"contact-block__email\\"><span class=\\"contact-block__name\\">E-mail:</span> <a href=\\"mailto:"\n    + escapeExpression(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"email","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"email","hash":{},"data":data}) : helper)))\n    + "</a></p>\\n        <p class=\\"contact-block__adress\\"><span class=\\"contact-block__name\\">Адрес:</span> "\n    + escapeExpression(((helper = (helper = helpers.adress || (depth0 != null ? depth0.adress : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"adress","hash":{},"data":data}) : helper)))\n    + "</p>\\n    </div>\\n\\n</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-feedback', constructor: require('./catberry_components/page/page-feedback/index.js'), properties: {"name":"page-feedback","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<div class=\\"feedback-page\\">\\n    <h1 class=\\"h1 h1_style\\">Обратная связь</h1>\\n\\n    <div class=\\"feedback-block\\">\\n        <form class=\\"feedback-block__form\\" id=\\"feedback-form\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\">\\n            <label>\\n                <span>Ваше имя</span>\\n                <input type=\\"text\\" name=\\"feedback[name]\\" autofocus>\\n            </label>\\n\\n            <label>\\n                <span>Ваш e-mail</span>\\n                <input type=\\"text\\" name=\\"feedback[email]\\">\\n            </label>\\n\\n            <label>\\n                <span>Ваше сообщение</span>\\n                <textarea name=\\"feedback[text]\\"></textarea>\\n            </label>\\n\\n            <input class=\\"btn-accent\\" type=\\"submit\\" value=\\"Отправить\\">\\n        </form>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-login', constructor: require('./catberry_components/page/page-login/index.js'), properties: {"name":"page-login","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "<div class=\\"page-login\\">\\n    <h1 class=\\"h1 h1_style\\">Вход / регистрация</h1>\\n\\n    <form class=\\"login-form\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n        <input class=\\"login-form__input-text\\" type=\\"text\\" placeholder=\\"Эл. почта или телефон\\" name=\\"loginForm[login]\\">\\n        <input class=\\"login-form__input-text\\" type=\\"password\\" placeholder=\\"Пароль\\" name=\\"loginForm[password]\\">\\n        <label class=\\"login-form__label-checkbox\\"><input type=\\"checkbox\\" id=\\"remember-me\\"><span>Запомнить меня</span></label>\\n        <input class=\\"login-form__btn\\" type=\\"submit\\" value=\\"Войти\\">\\n\\n        <p class=\\"login-form__href-cont\\">\\n            <a class=\\"login-form__recovery\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers[\'recovery-url\'] || (depth0 != null ? depth0[\'recovery-url\'] : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"recovery-url","hash":{},"data":data}) : helper)))\n    + "\\">Забыли пароль?</a>\\n            <a class=\\"login-form__registration\\" href=\\"#\\" id=\\"reg-link\\">Регистрация</a>\\n            <br>\\n        </p>\\n    </form>\\n\\n    <form class=\\"registration-form\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n        <input class=\\"registration-form__input-text\\" type=\\"email\\" placeholder=\\"Эл. почта\\" name=\\"regForm[login]\\">\\n        <input class=\\"registration-form__input-text\\" type=\\"text\\" placeholder=\\"Имя Фамилия\\" name=\\"regForm[name]\\">\\n        <input class=\\"registration-form__input-text\\" type=\\"password\\" placeholder=\\"Пароль\\" name=\\"regForm[password]\\">\\n\\n        <div class=\\"registration-form__capcha registration-form__capcha_registration\\">\\n            <div class=\\"registration-form__code-img\\">\\n                <img src=\\"img/assets/recovery-password/captcha.png\\" alt=\\"capcha\\">\\n            </div>\\n            <a class=\\"registration-form__reload-link\\" href=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.capcha : depth0)) != null ? stack1[\'reload-url\'] : stack1), depth0))\n    + "\\">Получить новый код</a>\\n        </div>\\n\\n        <input class=\\"registration-form__input-text\\" type=\\"text\\" placeholder=\\"Код с картинки\\" name=\\"regForm[code]\\">\\n        <input class=\\"registration-form__btn registration-form__btn_long-text\\" type=\\"submit\\" value=\\"Зарегистрироваться\\">\\n        <p class=\\"registration-form__entry\\"><a href=\\"#\\" id=\\"entry-link\\">Войти</a></p>\\n    </form>\\n\\n    <form class=\\"recovery-pass-form\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n        <input class=\\"recovery-pass-form__input-text\\" type=\\"text\\" placeholder=\\"Эл. почта или телефон\\" name=\\"recovery-password[login]\\" autofocus>\\n\\n        <div class=\\"recovery-pass-form__capcha recovery-pass-form__capcha_registration\\">\\n            <div class=\\"recovery-pass-form__code-img\\">\\n                <img src=\\"img/assets/recovery-password/captcha.png\\" alt=\\"capcha\\">\\n            </div>\\n            <a class=\\"recovery-pass-form__reload-link\\" href=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.capcha : depth0)) != null ? stack1[\'reload-url\'] : stack1), depth0))\n    + "\\">Получить новый код</a>\\n        </div>\\n\\n        <input class=\\"recovery-pass-form__input-text\\" type=\\"text\\" placeholder=\\"Код с картинки\\" name=\\"recovery-password[code]\\">\\n        <input class=\\"recovery-pass-form__btn\\" type=\\"submit\\" value=\\"Восстановить\\">\\n    </form>\\n\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-main', constructor: require('./catberry_components/page/page-main/index.js'), properties: {"name":"page-main","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"main-page\\">\\n    <cat-main-function id=\\"main-function\\"></cat-main-function>\\n    <cat-dop-function id=\\"dop-function\\"></cat-dop-function>\\n</div>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-master-page', constructor: require('./catberry_components/page/page-master-page/index.js'), properties: {"name":"page-master-page","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<h1 class=\\"h1 h1_style\\">Страница Мастера</h1>\\n<cat-master-page id=\\"master-page\\" cat-store=\\"master/MasterItem\\"></cat-master-page>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-master-rubrika', constructor: require('./catberry_components/page/page-master-rubrika/index.js'), properties: {"name":"page-master-rubrika","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"container\\">\\n    <cat-master-rubrika id=\\"master-rubrika\\" cat-store=\\"Tag\\"></cat-master-rubrika>\\n</div>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-news', constructor: require('./catberry_components/page/page-news/index.js'), properties: {"name":"page-news","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"page_oth_news\\">\\n    <cat-common-h1 id=\\"common-h1\\" name=\\"Новости\\"></cat-common-h1>\\n\\n    <div class=\\"page_oth_news__list\\">\\n        <cat-other-news id=\\"other-news\\" cat-store=\\"other/News\\"></cat-other-news>\\n        <cat-common-paginator id=\\"common-paginator\\" cat-store=\\"Paginator\\" model=\\"other/News\\"></cat-common-paginator>\\n    </div>\\n</div>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-news-item', constructor: require('./catberry_components/page/page-news-item/index.js'), properties: {"name":"page-news-item","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"page_oth_news\\">\\n    <cat-other-news-item id=\\"other-news\\" cat-store=\\"other/NewsItem\\"></cat-other-news-item>\\n</div>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-oferta', constructor: require('./catberry_components/page/page-oferta/index.js'), properties: {"name":"page-oferta","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"oferta-page\\">\\n\\n    <h1 class=\\"h1 h1_style\\">ОФЕРТА от 01.03.2015 </h1>\\n\\n    <div class=\\"oferta\\">\\n        <p><strong>на пользование Услугами Сайта www.facemaster.ru</strong></p>\\n\\n        <p>ЗАО «ФейсМастер.ру», именуемое в дальнейшем «Компания», предоставляет любому лицу услуги по использованию\\n            сайта Компании в личных целях посредством предоставления сервисов сайта на приведенных ниже условиях.</p>\\n\\n        <p>Безусловным принятием (акцептом) условий настоящей оферты считается пользование Сайтом <strong>http://www.facemaster.ru</strong>,\\n            включая просмотр страниц Сайта, не зависимо от прохождения процедуры Регистрации.</p>\\n\\n        <p>Настоящая Оферта может быть изменена по усмотрению Компании в любое время без какого-либо специального\\n            уведомления об этом Пользователя. Новая редакция Оферты, изменения и дополнения к ней вступают в силу с\\n            момента их размещения на Сайте. Регулярное ознакомление с действующей редакцией Оферты является обязанностью\\n            Пользователя. Пользование Сайтом после вступления в силу новой редакции Оферты, дополнений и изменений к ней\\n            означает согласие Пользователя со всеми такими изменениями или дополнениями, новой редакцией Оферты.</p>\\n\\n        <br>\\n\\n        <p><strong>1. ТЕРМИНЫ и ОБОЗНАЧЕНИЯ</strong></p>\\n\\n        <p><strong>Компания</strong> – ЗАО «ФейсМастер.ру»: ОГРН 1136320020825 ИНН 6321323406, Юридический адрес:\\n            445056, г.Тольятти, ул.Автостроителей, 41А, корп.1<br>\\n            <br>\\n            <strong>Пользователь/Клиент</strong> – дееспособное, в возрасте от 18 лет, физическое лицо/правоспособное\\n            юридическое лицо, прошедшие Регистрацию на сайте Компании, имеющие все правовые полномочия в соответствии с\\n            действующим законодательством РФ на заключение Оферты и иных сопутствующих документов для использования\\n            возможностей Сайта Компании.<br>\\n            <br>\\n            <strong>Сайт</strong> – Интернет-сайт, размещенный в сети Интернет по адресу: www.facemaster.ru, включающий\\n            в себя комплекс элементов: программы для ЭВМ, базы данных, интерфейс (дизайн), как в совокупности, так и\\n            отдельные элементы дизайна, и др.<br>\\n            <br>\\n            <strong>Гость</strong> – любое лицо, не прошедшее Регистрацию, имеющее возможность просматривать страницы\\n            Сайта и Информацию, размещенную Пользователями для общего доступа.<br>\\n            <br>\\n            <strong>Регистрация</strong> – комплекс действий по принятию оферты, размещенной на Сайте, созданию Личного\\n            кабинета, путем ввода учетных данных и иных необходимых сведений, и получению права на пользование Услугами\\n            Интернет-сайта.<br>\\n            <br>\\n            <strong>Учетные данные </strong>— уникальный логин (номер телефона) и пароль, создаваемые в процессе\\n            Регистрации на Сайте, используемые для доступа Пользователя/Клиента в Личный кабинет путем Авторизации.<br>\\n            <br>\\n            <strong>Авторизация</strong> — идентификация Пользователя/Клиента посредством введения в соответствующие\\n            поля на Сайте Учетных данных.<br>\\n            <br>\\n            <strong>Личный кабинет </strong>— персональная страница Пользователя/Клиента, формируемая после Регистрации,\\n            доступ к которой предоставляется Пользователю/Клиенту в результате Авторизации.<br>\\n            <br>\\n            <strong>Оферта</strong> – настоящее предложение Компании, адресованное неопределенному кругу лиц, содержащее\\n            правила и условия пользования Услугами Сайта, а также права и обязанности Пользователей/Клиентов\\n            обязательные для исполнения при размещении Информации на Сайте для общего доступа.<br>\\n            <br>\\n            <strong>Услуги</strong> - возможности (права), предоставляемые Компанией и позволяющие\\n            Пользователю/Клиенту/Гостю размещать, осуществлять поиск и просмотр Информации, а также любые иные\\n            возможности и функции, доступные на Сайте. <strong>Бесплатные услуги</strong> – базовый набор услуг,\\n            предоставляемый без взимания платы. <strong>Платные услуги</strong> – набор дополнительных услуг, за\\n            использование которых взимается плата согласно тарифам Компании.</p>\\n\\n        <p><strong>Информация – </strong>услуги и предложения Пользователя/Клиента, сведения о которых он размещает на\\n            Сайте, адресованные и доступные неопределенному кругу лиц (Гостям и/или другим Пользователям).<br>\\n            <br>\\n            <strong>Договор</strong> – соглашение, формируемое при Регистрации Пользователя/Клиента и вступающее в силу\\n            в момент оплаты первого счета за Услуги.</p>\\n\\n        <br>\\n\\n        <p><strong>2. ОБЩИЕ ПОЛОЖЕНИЯ</strong></p>\\n\\n        <p>2.1 Компания предоставляет Пользователю/Клиенту/Гостю на условиях настоящей Оферты, Договора и Дополнительных\\n            соглашений, приложений право на пользование Услугами Сайта с возможностью размещать, осуществлять поиск и\\n            просмотр Информации других Пользователей\\\Клиентов.<br>\\n            2.2 Все сделки: «Пользователь/Клиент – Пользователь/Клиент» либо «Пользователь/Клиент – Гость» заключаются\\n            напрямую. При этом, Компания не является участником таких сделок, а предоставляет лишь коммуникационную\\n            платформу для Информации Пользователей/Клиентов.<br>\\n            2.3 Услуги не предоставляются и не должны использоваться лицами младше 18 лет, лицами признанными\\n            недееспособными, а также ограниченно дееспособными лицами. Лица, не достигшие 18 лет, или лица, признанные\\n            недееспособными или ограничено дееспособными, могут пользоваться Услугами только с согласия своих законных\\n            представителей.</p>\\n\\n        <br>\\n\\n        <p><strong>3. ПРАВИЛА ПОЛЬЗОВАНИЯ САЙТОМ</strong></p>\\n\\n        <p>3.1. Гость вправе просматривать Информацию Пользователей/Клиентов, находящуюся в открытом доступе, и\\n            воспользоваться услугами, содержащимися в Информации, без Регистрации на Сайте.<br>\\n            3.2. Пользователь/Клиент получает право воспользоваться Услугами Сайта по размещению Информации для доступа\\n            к ней неопределенного круга лиц, после прохождения процедуры Регистрации – для Бесплатных Услуг, а также,\\n            дополнительно, после оформления Договора, листа заказа и оплаты счета - для Платных Услуг.<br>\\n            3.3. При Регистрации, а также оформлении договора и листа заказа Пользователь/Клиент заполняет все\\n            необходимые поля специальных форм. Не заполнение хотя бы одного обязательного поля (в т.ч. ввод некорректных\\n            данных) влечет недействительность регистрации либо листа заказа.<br>\\n            3.4. После прохождения Регистрации Пользователь/Клиент получает на указанный им номер мобильного телефона\\n            ПАРОЛЬ, который в дальнейшем используется Пользователем/Клиентом для Авторизации и входа в Личный\\n            кабинет.<br>\\n            3.5. Пользователь/Клиент несет полную ответственность за все действия с использованием его Логина (номер\\n            мобильного телефона) и Пароля. Пользователь/Клиент имеет право пользоваться Услугами Сайта только при помощи\\n            собственного номера мобильного телефона и пароля.<br>\\n            3.6. При пользовании Сайтом <strong>ЗАПРЕЩЕНО:</strong><br>\\n            - использовать автоматические программы для получения доступа на Сайт;<br>\\n            - использовать компьютерные программы, позволяющие размещать на Сайте Информацию, минуя обычный порядок\\n            размещения (к примеру использование программ по автозагрузке Информации);<br>\\n            - предпринимать какие-либо действия, которые могут привести к непропорционально большой нагрузке на\\n            инфраструктуру Сайта;<br>\\n            - копировать, воспроизводить, изменять, распространять и представлять общественности любую информацию,\\n            содержащуюся на Сайте (кроме Сведений, предоставленных самим Пользователем/Клиентом) без предварительного\\n            письменного разрешения Компании;<br>\\n            - препятствовать работе Сайта, а также препятствовать действию автоматических систем или процессов, с целью\\n            воспрепятствовать или ограничить доступ на Сайт;<br>\\n            - использовать сведения, предоставленные другим Пользователем/Клиентом, без письменного разрешения\\n            Пользователя/Клиента, разместившего такие сведения, или без подтверждения каким-либо другим способом права\\n            использовать такие сведения. Все сведения, полученные Пользователем/Клиентом о других Пользователях в связи\\n            с использованием Сайта, могут быть использованы только для совершения и исполнения сделок в отношении услуг,\\n            содержащихся в Информации Пользователей/Клиентов. Таким образом, Пользователю/Клиенту не разрешается\\n            использовать электронный адрес, ровно, как и номер телефона другого Пользователя/Клиента для целей прямой\\n            рекламной рассылки или другой рассылки нежелательных электронных сообщений, а также для иных противоправных\\n            действий или действий, совершаемых без ведома и/или согласия другой стороны;<br>\\n            - нарушать информационную безопасность Сайта;<br>\\n            - внедрять исполняемый код на стороне Пользователя/Клиента, любые внедряемые объекты, использовать frame и\\n            iframe, каскадные таблицы стилей, html-код;<br>\\n            - представляться чужим именем или от чужого имени — зарегистрированного на Сайте Пользователя/Клиента,\\n            сотрудника Компании. Вводить в заблуждение других Пользователей\\\Клиентов и администрацию Сайта относительно\\n            своей идентификации любым иным способом<br>\\n            - размещать дублирующую Информацию одного Пользователя/Клиента с использованием разных E-mail и номеров\\n            мобильных телефонов;<br>\\n            - использовать Услуги Сайта для незаконной деятельности либо деятельности, которая может привести к\\n            нарушению Компанией и/или Пользователем/Клиентом действующего законодательства РФ.</p>\\n\\n        <br>\\n\\n        <p><strong>4. ПРАВА И ОБЯЗАННОСТИ ПОЛЬЗОВАТЕЛЯ/КЛИЕНТА</strong></p>\\n\\n        <p>4.1.&nbsp;&nbsp;&nbsp; Пользователь/Клиент обязуется:<br>\\n            4.1.1. Соблюдать требования, определенные в настоящей Оферте, Договоре, листе заказа и иных документах,\\n            определяющих пользование Сайтом.<br>\\n            4.1.2. При Регистрации на Сайте использовать только реальные данные о себе и размещаемой Информации.<br>\\n            4.1.3. Следить за сохранностью своего Пароля и не раскрывать его посторонним лицам.<br>\\n            4.1.4. Не передавать или продавать свои Учетные данные для Авторизации на Сайте третьим лицам.<br>\\n            4.1.5. При размещении Информации соблюдать требования действующего законодательства РФ, в т.ч. ФЗ «О\\n            рекламе» от 13.03.2006г. № 38-ФЗ.<br>\\n            4.1.6. Предоставить, по требованию Компании, документально подтверждённые сведения о соответствии Информации\\n            требованиям действующего законодательства РФ, в том числе надлежащим образом заверенные копии дипломов,\\n            лицензий, сертификатов, свидетельств о регистрации, в случае если услуги подлежат лицензированию,\\n            обязательной сертификации, государственной регистрации.<br>\\n            4.1.7. Не размещать Информацию, входящую в «Список запрещенной к размещению Информации».<br>\\n            4.1.8. Не уничтожать и/или не изменять любые материалы на Сайте, автором которых Пользователь/Клиент не\\n            является.<br>\\n            4.1.9. Заполнить все необходимые формы и предоставить только свое Фото (Пользователя)/Логотип (Клиента).\\n            Информация, содержащая лицензируемые виды деятельности, должна содержать номер лицензии. 4.1.10. Размещать\\n            Информацию, соответствующую по содержанию выбранной Рубрике/подрубрике.<br>\\n            4.1.11. Оплачивать Платные Услуги Компании в порядке и сроки, определенные Офертой, Договором и листом\\n            заказа.<br>\\n            4.2.  Пользователь/Клиент имеет право:<br>\\n            4.2.1 Получать право воспользоваться Платными Услугами Сайта после полной оплаты счета, выставленного при\\n            оформлении листа заказа на данные Услуги.<br>\\n            4.2.2. Воспользоваться услугами менеджеров Компании для оказания помощи при Регистрации, как по телефону: +7\\n            (8482) 74-44-19, так и непосредственно при встрече.<br>\\n            4.2.3. Размещать Информацию об услугах, которые Пользователь/Клиент может оказывать, имея соответствующие\\n            навыки, образование и разрешения. 4.2.4. Разрешить оплату счета за Платные Услуги третьему лицу\\n            (Плательщику) с учетом требований действующего законодательства и оформленного договора. 4.3. Компания\\n            обязуется:<br>\\n            4.3.1. Предоставить Пользователю/Клиенту право пользоваться Услугами Сайта в порядке и сроки, определенными\\n            в Оферте, Договоре и листе заказа.<br>\\n            4.3.2. Предоставить возможность Пользователям/Клиентам управлять доступом к своим персональным данным и\\n            размещенной Информации.<br>\\n            4.4.&nbsp;&nbsp;&nbsp;  Компания имеет право:<br>\\n            4.4.1. Удалить Информацию, заблокировать доступ/удалить Учетные данные Пользователей/Клиентов, нарушивших\\n            положения настоящей Оферты, Договора и листа заказа, без извещения Пользователя/Клиента.</p>\\n\\n        <br>\\n\\n        <p><strong>5. ИНФОРМАЦИЯ, ЗАПРЕЩЕННАЯ К РАЗМЕЩЕНИЮ</strong></p>\\n\\n        <p>5.1. Пользователю/Клиенту запрещено размещать, а в случае размещения, подлежит удалению Информация,\\n            содержащая:</p>\\n\\n        <ul>\\n            <li>\\n                <p>ложные, неточные или вводящие в заблуждение сведения;</p>\\n            </li>\\n            <li>\\n                <p>сведения, способствующие мошенничеству, обману или злоупотреблению доверием;</p>\\n            </li>\\n            <li>\\n                <p>оскорбления чьей-либо чести, достоинства или деловой репутации, нарушения частной жизни;</p>\\n            </li>\\n            <li>\\n                <p>клевету или угрозы кому бы то ни было;</p>\\n            </li>\\n            <li>\\n                <p>нарушения интеллектуальных прав третьих лиц, прав на изображение гражданина, и иные права третьих\\n                    лиц;</p>\\n            </li>\\n            <li>\\n                <p>призывы к совершению преступления и разжиганию межнациональной розни;</p>\\n            </li>\\n            <li>\\n                <p>сведения, способствующие, поддерживающие или призывающие к террористической и экстремистской\\n                    деятельности;</p>\\n            </li>\\n            <li>\\n                <p>сведения непристойные, либо носящие характер порнографии;</p>\\n            </li>\\n            <li>\\n                <p>компьютерные вирусы, а также иные компьютерные программы, направленные, в частности, на нанесение\\n                    вреда, неуполномоченное вторжение, тайный перехват либо присвоение данных любой системы либо самой\\n                    системы, либо ее части, либо личной информации или иных данных (включая данные Компании);</p>\\n            </li>\\n            <li>\\n                <p>Сведения, причиняющие вред Компании, став причиной полной либо частичной потери Компанией услуг\\n                    провайдеров сети интернет, либо услуг любых иных лиц;</p>\\n            </li>\\n            <li>\\n                <p>сведения, иным образом нарушающие действующее законодательство РФ.</p>\\n            </li>\\n        </ul>\\n\\n        <p>5.2. Удаление Информации производится Компанией в любое время без извещения Пользователя/Клиента.</p>\\n\\n        <br>\\n\\n        <p><strong>6. ОПЛАТА ПЛАТНЫХ УСЛУГ</strong></p>\\n\\n        <p>6.1. После оформления листа заказа на пользование Платными Услугами Сайта Пользователь/Клиент либо Плательщик\\n            (при наличии), получает счет и выбирает способ его оплаты из предложенного на Сайте списка. Счет необходимо\\n            оплатить в указанный в нем срок. 6.2. Срок пользования Платными Услугами начинается с даты оплаты счета.\\n            Если при Регистрации не были заполнены обязательные поля или поля были заполнены некорректно, не была\\n            загружена фотография или иным образом нарушены правила Регистрации, Информация не отражается на Сайте до\\n            момента внесения соответствующих исправлений, при этом срок начала пользования Платными Услугами не\\n            продляется на срок, в течение которого Информация не отображалась на Сайте по вине Пользователя/Клиента.\\n            6.3. Каждый способ оплаты сопровождается подробной инструкцией, размещенной на Сайте. При этом Компания не\\n            несет ответственность за действия Пользователя/Клиента/Плательшика при оплате счета, в следствие которых\\n            денежные средства не поступили на счет Компании, и эти суммы Компания не компенсирует и не возвращает.<br>\\n            6.4. Оплата Услуг сайта производится в порядке 100% предоплаты. Услуги считаются оплаченными в момент\\n            извещения Компании об оплате счета. Валютой расчетов является Российский рубль.<br>\\n            6.5. В случае отказа Пользователя/Клиента от оплаченных Услуг Сайта до окончания срока пользования денежные\\n            средства не возвращаются.</p>\\n\\n        <br>\\n\\n        <p><strong>7. ОГРАНИЧЕНИЯ ОТВЕТСТВЕННОСТИ</strong></p>\\n\\n        <p>7.1. В соответствии с требованиями Федерального закона от 27.07.2006 г. № 152-ФЗ «О персональных данных»: в\\n            процессе пользования Услугами Сайта (в том числе при Регистрации, взаимодействии с другими\\n            Пользователями/Клиентами через интерфейс Сайта, размещении Информации, просмотре страниц Сайта и т.п.),\\n            Пользователь самостоятельно добровольно принимает решение о предоставлении Компании персональных и иных\\n            данных о Пользователе (фамилия, имя, отчество, адрес электронной почты, номер мобильного телефона, а также\\n            любая иная информация, предоставленная Пользователем, информация о действиях Пользователя на Сайте и пр.)\\n            для целей исполнения Оферты, а также настоящим заявляет о своем согласии на обработку и хранение Компанией\\n            персональных и иных данных Пользователя, их передачу для обработки другим Пользователям и/или третьим лицам,\\n            действующим по поручению Компании, в том числе для целей: получения статистических и аналитических данных\\n            для улучшения функционирования Сайта и/или Услуг, расширения спектра оказываемых Услуг, получения\\n            информационных и/или рекламных сообщений Компании или третьих лиц, предупреждения или пресечения незаконных\\n            и/или несанкционированных действий Пользователей или третьих лиц, обеспечения соблюдения требований\\n            действующего законодательства Российской Федерации. Компания принимает все необходимые меры для защиты\\n            персональных данных Пользователя от несанкционированного доступа третьих лиц<br>\\n            7.2. Компания не отвечает за возможное нецелевое использование информации с Сайта Пользователями/Клиентами\\n            или иными лицами и/или организациями, которое произошло без уведомления Компании с нарушением или без\\n            информационной безопасности Сайта.<br>\\n            7.3. Компания прилагает все возможные усилия для того, чтобы избежать несанкционированного использования\\n            третьими лицами персональных данных Пользователей/Клиентов. Но Компания также не несет ответственности за\\n            возможное нецелевое использование персональных данных пользователей/Клиентов, произошедшее в случае:<br>\\n            - технических неполадок в программном обеспечении, серверах или компьютерных сетях, находящихся вне контроля\\n            Компании;<br>\\n            - перебоев в работе Сайта, связанных с намеренным или ненамеренным использованием Сайта не по назначению\\n            третьими лицами;<br>\\n            - передачи паролей или информации с Сайта Пользователями/Клиентами другим лицам, не являющимися\\n            зарегистрированными пользователями Сайта или другим пользователям, не имеющим доступа к данной информации в\\n            силу условий регистрации и заключенных договоров с Компанией.<br>\\n            7.4. Каждый Пользователь/Клиент отвечает за Информацию, размещаемую от его имени, и за последствия этого\\n            размещения.<br>\\n            7.5. Пользователь/Клиент самостоятельно, по своему усмотрению и вне контроля со стороны Компании размещает\\n            Информацию на Сайте, Пользователь/Клиент несет ответственность как рекламодатель и рекламораспространитель в\\n            отношении всей размещенной им Информации в соответствии с ФЗ \\"О рекламе\\" и КоАП РФ.<br>\\n            7.6. Пользователь/Клиент самостоятельно несет ответственность за достоверность размещаемой Информации и\\n            качество предоставляемых им услуг, которые содержатся в Информации, а также освобождает Компанию от всех\\n            требований, обязательств, компенсаций по возмещению ущерба, убытков, затрат и издержек, включая судебные и\\n            иные расходы, возникшие в результате или в связи с требованиями третьих лиц.</p>\\n\\n        <br>\\n\\n        <p><strong>8. ЗАКЛЮЧИТЕЛЬНЫЕ ПОЛОЖЕНИЯ</strong></p>\\n\\n        <p>8.1 Пользователь/Клиент предоставляет Компании право использовать сведения, содержащиеся в Информации\\n            Пользователя/Клиента, для целей оказания Услуг, путем передачи Компании не эксклюзивного, действующего\\n            повсеместно, бессрочного права относительно авторских прав, торговых марок, логотипов, публикаций и баз\\n            данных, которое имеет Пользователь/Клиент и предоставленных им на всех известных или не известных\\n            информационных носителях.<br>\\n            8.2. Настоящая Оферта начинает действовать и, считается, безусловно принятой\\n            Пользователем\\\Клиентом\\\Гостем\\\плательщиком с момента начала пользования Услугам Сайта, независимо от факта\\n            Регистрации, и действует бессрочно.<br>\\n            8.3. Пользователь/Клиент вправе отказаться от пользования Услугами Сайта, после чего размещение Информации\\n            на Сайте от данного Пользователя/Клиента невозможно.<br>\\n            8.4. Компания оставляет за собой право по собственному усмотрению прекратить доступ к Услугам\\n            Пользователя/Клиента, нарушающего Оферту, Договор либо лист заказа. Пользователь/Клиент, доступ которого к\\n            Услугам был прекращен, или Информация которого перестала быть действительной, не имеет права\\n            регистрироваться повторно без соответствующего согласия Компании, а также такой Пользователь/Клиент не имеет\\n            права использовать для доступа на Сайт Учетные данные другого Пользователя/Клиента.<br>\\n            8.5. Споры, возникающие в ходе пользования Сайтом, разрешаются с соблюдением обязательного претензионного\\n            порядка. Срок ответа на претензию 15 дней со дня получения претензии. В случае неудовлетворения претензии\\n            полностью или в какой-либо части, а также в случае неполучения ответа на претензию в установленный срок,\\n            заинтересованная сторона вправе обратиться за разрешением спора в суд с территориальной подсудностью\\n            Компании.<br>\\n            8.6. В случае признания судом отдельных положений настоящей Оферты недействительными, остальные условия\\n            Оферты продолжают действовать.\\n        </p>\\n        <br>\\n    </div>\\n</div>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-recommendation', constructor: require('./catberry_components/page/page-recommendation/index.js'), properties: {"name":"page-recommendation","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"page_oht_recommendation\\">\\n    <cat-common-h1 id=\\"common-h1\\" name=\\"Мастера о сайте\\"></cat-common-h1>\\n\\n    <div class=\\"page_oht_recommendation__list\\">\\n\\n        <cat-other-recommendation id=\\"other-recommendation\\" cat-store=\\"other/Recommendation\\"></cat-other-recommendation>\\n        <cat-common-paginator id=\\"common-paginator\\" cat-store=\\"Paginator\\" model=\\"other/Recommendation\\"></cat-common-paginator>\\n\\n    </div>\\n</div>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-registration', constructor: require('./catberry_components/page/page-registration/index.js'), properties: {"name":"page-registration","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<cat-registration-header id=\\"registration-header\\"></cat-registration-header>\\n<div id=\\"form1\\">\\n    <cat-registration-form id=\\"registration-form-1\\"></cat-registration-form>\\n</div>\\n<cat-registration-about id=\\"registration-about\\"></cat-registration-about>\\n<cat-registration-why-we id=\\"registration-why-we\\"></cat-registration-why-we>\\n<cat-registration-price id=\\"registration-price\\"></cat-registration-price>\\n<div id=\\"form2\\">\\n    <cat-registration-form id=\\"registration-form-2\\"></cat-registration-form>\\n</div>\\n<cat-registration-more-page id=\\"registration-more-page\\"></cat-registration-more-page>\\n<cat-registration-faq id=\\"registration-faq\\"></cat-registration-faq>\\n<div id=\\"form3\\">\\n    <cat-registration-form id=\\"registration-form-3\\"></cat-registration-form>\\n</div>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-request', constructor: require('./catberry_components/page/page-request/index.js'), properties: {"name":"page-request","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<div class=\\"callback_request\\">\\n<h1 class=\\"h1 h1_style\\">Заявка мастеру</h1>\\n\\n    <form class=\\"callback_request__form\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\" id=\\"callback-request-form\\">\\n        <p class=\\"callback_request__intro\\">Опишите вашу задачу</p>\\n\\n        <div class=\\"callback_request__input\\">\\n            <textarea class=\\"textarea\\" placeholder=\\"Я хочу (отремонтировать, организовать, установить, доставить)\\" name=\\"callbackRequestForm[text]\\"></textarea>\\n        </div>\\n        <p class=\\"callback_request__intro\\">\\n            Оставьте ваши контакты\\n        </p>\\n\\n        <div class=\\"callback_request__input\\">\\n            <input class=\\"input-text\\" type=\\"text\\" placeholder=\\"Ваше имя\\" name=\\"callbackRequestForm[name]\\">\\n        </div>\\n        <div class=\\"callback_request__input\\">\\n            <input class=\\"input-text\\" type=\\"text\\" placeholder=\\"Ваш телефон\\" name=\\"callbackRequestForm[phone]\\">\\n        </div>\\n        <div class=\\"callback_request__input\\">\\n            <input class=\\"input-text\\" type=\\"text\\" placeholder=\\"Ваш email\\" name=\\"callbackRequestForm[email]\\">\\n        </div>\\n        <div class=\\"callback_request__submit\\">\\n            <input class=\\"btn-accent\\" type=\\"submit\\" value=\\"отправить заявку\\">\\n        </div>\\n    </form>\\n    <div class=\\"success_response\\">Ваша заявка отправлена</div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-sale', constructor: require('./catberry_components/page/page-sale/index.js'), properties: {"name":"page-sale","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\nСкидки каталог";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-sovety', constructor: require('./catberry_components/page/page-sovety/index.js'), properties: {"name":"page-sovety","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\nСоветы каталог";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-vacancy', constructor: require('./catberry_components/page/page-vacancy/index.js'), properties: {"name":"page-vacancy","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"vacancy-page\\">\\n    <h1 class=\\"h1 h1_style\\">Наши вакансии</h1>\\n    <img class=\\"vacancy-page__img\\" src=\\"/img/other/vacancy.png\\" alt=\\"Наши вакансии\\">\\n\\n    <p class=\\"vacancy-page__text\\">\\n        Мы - молодой коллектив единомышленников, если у Вас есть желание работать в нашей компании, то присоединяйтесь к\\n        нам, участвуйте в создании нового интересного продукта. Вместе с нами вы сможете воплотить свои самые смелые\\n        идеи, раскрыть свой творческий потенциал и реализоваться в карьерном плане. Мы ищем целеустремленных и уверенных\\n        специалистов, которые верят в свои силы и успех.\\n    </p>\\n\\n    <cat-other-vacancy id=\\"other-vacancy\\" cat-store=\\"other/Vacancy\\"></cat-other-vacancy>\\n</div>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-vacancy-item', constructor: require('./catberry_components/page/page-vacancy-item/index.js'), properties: {"name":"page-vacancy-item","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<cat-other-vacancy-item id=\\"other-vacancy-item\\" cat-store=\\"other/VacancyItem\\"></cat-other-vacancy-item>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'page-video', constructor: require('./catberry_components/page/page-video/index.js'), properties: {"name":"page-video","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\nВидео каталог\\n\\n<cat-common-paginator id=\\"common-paginator\\" cat-store=\\"Paginator\\" model=\\"master/MasterVideo\\"></cat-common-paginator>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-about', constructor: require('./catberry_components/registration/registration-about/index.js'), properties: {"name":"registration-about","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<div class=\\"about-wr\\">\\n    <div class=\\"container\\">\\n        <div class=\\"row\\">\\n            <section class=\\"about\\">\\n                <ul class=\\"about__list row\\">\\n                    <li class=\\"about-list-item\\">\\n                        <p class=\\"about-list-item__text\\">\\n                            <span class=\\"about-list-item__text-ver-al\\">\\n                                ЗАРЕГИСТРИРУЙСЯ<br>НА САЙТЕ\\n                            </span>\\n                        </p>\\n\\n                        <div class=\\"about-list-item__icon-wr\\">\\n                            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "add-page", {"name":"icon","hash":{},"data":data})))\n    + "\\n                        </div>\\n\\n                        <div class=\\"about-list-item__arrow\\">\\n                            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "arrow", {"name":"icon","hash":{},"data":data})))\n    + "\\n                        </div>\\n                    </li>\\n                    <li class=\\"about-list-item\\">\\n                        <p class=\\"about-list-item__text\\">\\n                            <span class=\\"about-list-item__text-ver-al\\">\\n                                ОПУБЛИКУЙСЯ\\n                            </span>\\n                        </p>\\n\\n                        <div class=\\"about-list-item__icon-wr\\">\\n                            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "picture", {"name":"icon","hash":{},"data":data})))\n    + "\\n                        </div>\\n                        <div class=\\"about-list-item__arrow\\">\\n                            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "arrow", {"name":"icon","hash":{},"data":data})))\n    + "\\n                        </div>\\n                    </li>\\n                    <li class=\\"about-list-item\\">\\n                        <p class=\\"about-list-item__text\\">\\n                            <span class=\\"about-list-item__text-ver-al\\">\\n                                ПОЛУЧАЙ<br>КЛИЕНТОВ\\n                            </span>\\n                        </p>\\n\\n                        <div class=\\"about-list-item__icon-wr\\">\\n                            "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "people", {"name":"icon","hash":{},"data":data})))\n    + "\\n                        </div>\\n                    </li>\\n                </ul>\\n            </section>\\n        </div>\\n    </div>\\n</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-faq', constructor: require('./catberry_components/registration/registration-faq/index.js'), properties: {"name":"registration-faq","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n<div class=\\"container corner corner_bg\\">\\n    <div class=\\"row\\">\\n        <section class=\\"faq\\">\\n            <p class=\\"page-title page-title_landing\\">Частые вопросы:</p>\\n\\n            <div class=\\"faq__block\\">\\n                <div class=\\"faq__item\\">\\n                    <p class=\\"faq__item-title\\"><span class=\\"faq__item-title-inner\\">Как оплатить сервис?</span></p>\\n\\n                    <p class=\\"faq__item-text\\">На данный момент, чтобы совершить оплату,\\n                        вам нужно приехать в наш офис по адресу Автостроителей 41А к.1 с 9:00 до 17:00 (пн-пт).\\n                        Менеджер предоставит вам всю необходимую информацию по выбору\\n                        тарифного плана и проведению оплаты. Также мы работаем над системой\\n                        электронных платежей.\\n                    </p>\\n                </div>\\n                <div class=\\"faq__item\\">\\n                    <p class=\\"faq__item-title\\"><span class=\\"faq__item-title-inner\\">Что будет, когда закончится месяц?</span></p>\\n\\n                    <p class=\\"faq__item-text\\">Вы получите уведомление на ваш e-mail, зарегистрированный в системе, с предложением продлить действующий тарифный план или перейти на новый. Если в течение 30 дней вы ни разу не совершили вход в кабинет сайта FaceMaster, то ваш кабинет будет удалён.</p>\\n                </div>\\n            </div>\\n            <div class=\\"faq__block\\">\\n                <div class=\\"faq__item\\">\\n                    <p class=\\"faq__item-title\\"><span class=\\"faq__item-title-inner\\">Могу ли я изменить тарифный план?</span></p>\\n\\n                    <p class=\\"faq__item-text\\">Если вы пользуетесь бесплатной мини-страницей, то получить все возможности эффективного продвижения на сайте FaceMaster вы можете в любое время, выбрав тарифный план и оплатив его. Если вы уже совершили оплату и хотите поменять один тарифный план на другой, то вам нужно подождать, пока закончится первый.</p>\\n                </div>\\n                <div class=\\"faq__item\\">\\n                    <p class=\\"faq__item-title\\"><span class=\\"faq__item-title-inner\\">У меня есть вопрос!</span></p>\\n\\n                    <p class=\\"faq__item-text\\">Будем рады представить вам\\n                        дополнительную информацию о работе платформы и о ценах по телефону (8482) 74-44-19.</p>\\n                </div>\\n            </div>\\n        </section>\\n    </div>\\n</div>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-form', constructor: require('./catberry_components/registration/registration-form/index.js'), properties: {"name":"registration-form","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<div class=\\"section-reg\\">\\n    <div class=\\"container\\">\\n        <div class=\\"row\\">\\n            <section class=\\"form form_reg-master\\">\\n                <div class=\\"form__cont\\">\\n                    <h2 class=\\"form__title\\">Начать регистрацию</h2>\\n\\n                    <form class=\\"form__form\\" action=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\" method=\\""\n    + escapeExpression(((helper = (helper = helpers.method || (depth0 != null ? depth0.method : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"method","hash":{},"data":data}) : helper)))\n    + "\\" data-url-lk=\\""\n    + escapeExpression(((helper = (helper = helpers.urlLK || (depth0 != null ? depth0.urlLK : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"urlLK","hash":{},"data":data}) : helper)))\n    + "\\">\\n                        <div class=\\"form__row\\">\\n                            <input type=\\"text\\" placeholder=\\"Как Вас зовут?\\" name=\\"regmaster[name]\\">\\n                        </div>\\n                        <div class=\\"form__row row\\">\\n                            <div class=\\"form__row_half\\">\\n                                <input type=\\"text\\" placeholder=\\"Укажите Ваш телефон\\" name=\\"regmaster[phone]\\">\\n                            </div>\\n                            <div class=\\"form__row_half\\">\\n                                <input type=\\"password\\" placeholder=\\"Придумайте пароль\\" name=\\"regmaster[password]\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\"form__row\\">\\n                            <input class=\\"form__btn btn\\" type=\\"submit\\" value=\\"ЗАРАГИСТРИРОВАТЬСЯ\\">\\n                        </div>\\n                        <div class=\\"form__row\\">\\n                            <label><input type=\\"checkbox\\" checked value=\\"true\\">я согласен с <a href=\\"/oferta\\">условиями</a> </label>\\n                        </div>\\n                    </form>\\n                </div>\\n            </section>\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-header', constructor: require('./catberry_components/registration/registration-header/index.js'), properties: {"name":"registration-header","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"container\\">\\n    <div class=\\"row\\">\\n        <section class=\\"landing-header\\">\\n            <h1 class=\\"page-title page-title_landing\\">FaceMaster — сайт поиска специалистов\\n                в сфере услуг в Тольятти</h1>\\n        </section>\\n    </div>\\n</div>";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-more-page', constructor: require('./catberry_components/registration/registration-more-page/index.js'), properties: {"name":"registration-more-page","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "<div class=\\"more-page-wr\\">\\n    <div class=\\"container\\">\\n        <div class=\\"row\\">\\n            <section class=\\"more-page\\">\\n                <p class=\\"page-title page-title_landing\\">Подробнее о страницах:</p>\\n\\n                <div class=\\"more-page__item\\">\\n                    <div class=\\"more-page__pic\\">\\n                        <img class=\\"more-page__pic-img\\" alt=\\"страница и мини-страница\\" src=\\"/img/registration/1.png\\" width=\\"100%\\">\\n                    </div>\\n                    <div class=\\"more-page__text\\">\\n                        <div class=\\"more-page__text-title\\">\\n                            <div class=\\"more-page__text-title-count\\"></div>\\n                            <div class=\\"more-page__text-title-header more-page__text-title-header_no-valign\\">Каталог мастеров</div>\\n                            <div class=\\"more-page__text-title-sub-header\\">Мини-страница + личная страница</div>\\n                        </div>\\n                        <div class=\\"more-page__paragraph\\">\\n                            <p class=\\"more-page__paragraph-title\\">Личная страница</p>\\n\\n                            <p class=\\"more-page__paragraph-text\\">Личная страница – это ваше собственное информационное пространство для продвижения в Сети. Она может стать аналогом персонального сайта, либо, если у вас уже есть свой сайт, мы поможем расширить арсенал для привлечения на него клиентов. Личная страница даёт доступ к множеству сервисов, чтобы помочь специалисту и клиенту найти друг друга: написание статей, фотоальбомы, отзывы, продвижение в социальных сетях, видеокаталог, рубрика «Советы Мастеров», каталог фирм и многое другое.</p>\\n                        </div>\\n                        <div class=\\"more-page__paragraph\\">\\n                            <p class=\\"more-page__paragraph-title\\">Мини-страница</p>\\n\\n                            <p class=\\"more-page__paragraph-text\\">Мини-страница — это ваша визитка с контактной информацией. Зарегистрировавшись на нашем сайте бесплатно, вы получаете только место в общем каталоге Мастеров, где вашу визитку смогут увидеть посетители. Но вы всегда можете сделать из неё личную страницу и тем самым увеличить приток клиентов. Для этого вам нужно выбрать и оплатить один из тарифных планов.</p>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\"more-page__item\\">\\n                    <div class=\\"more-page__pic\\">\\n                        <img class=\\"more-page__pic-img more-page__pic-img_offset-1\\" alt=\\"страница и мини-страница\\" src=\\"/img/registration/2.png\\" width=\\"100%\\">\\n                    </div>\\n                    <div class=\\"more-page__text\\">\\n\\n                        <div class=\\"more-page__text-title\\">\\n                            <div class=\\"more-page__text-title-count\\"></div>\\n                            <div class=\\"more-page__text-title-header\\">Каталог скидок и подарков</div>\\n                        </div>\\n                        <div class=\\"more-page__paragraph\\">\\n                            <p class=\\"more-page__paragraph-text\\">Устраивайте акции и скидки, получая ещё больше клиентов! Многие посетители регулярно отслеживают выгодные предложения в нашем каталоге «Скидки и подарки». Поэтому если вы размещаете в нём информацию о скидке, то шансы, что клиент заинтересуется вашим предложением, возрастают вдвое! Кроме того, самые актуальные и интересные акции мы регулярно освещаем в социальных сетях.</p>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\"more-page__line\\"></div>\\n                <div class=\\"more-page__item\\">\\n                    <div class=\\"more-page__pic\\">\\n                        <img class=\\"more-page__pic-img more-page__pic-img_offset-1\\" alt=\\"страница и мини-страница\\" src=\\"/img/registration/3.png\\" width=\\"100%\\">\\n                    </div>\\n                    <div class=\\"more-page__text\\">\\n                        <div class=\\"more-page__text-title\\">\\n                            <div class=\\"more-page__text-title-count\\"></div>\\n                            <div class=\\"more-page__text-title-header\\">Каталог видео</div>\\n                        </div>\\n                        <div class=\\"more-page__paragraph\\">\\n                            <p class=\\"more-page__paragraph-text\\">В видеокаталоге уже собрана целая коллекция самых полезных роликов, найденных Мастерами на просторах Интернета. Многие специалисты не только отбирают лучшее, исходя из своих знаний и опыта, но и создают его! Вы можете заснять на видео себя, свою работу, довольных клиентов, показать, как что-то работает, или дать дельный совет из собственной практики. Видеоролики способны показать посетителю то, что порой сложно передать одними фотографиями, помогают сформировать интерес к какой-либо услуге или товару.</p>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\"more-page__line\\"></div>\\n                <div class=\\"more-page__item\\">\\n                    <div class=\\"more-page__pic\\">\\n                        <img class=\\"more-page__pic-img more-page__pic-img_offset-1\\" alt=\\"страница и мини-страница\\" src=\\"/img/registration/4.png\\" width=\\"100%\\">\\n                    </div>\\n                    <div class=\\"more-page__text\\">\\n\\n                        <div class=\\"more-page__text-title\\">\\n                            <div class=\\"more-page__text-title-count\\"></div>\\n                            <div class=\\"more-page__text-title-header\\">Каталог советов мастеров</div>\\n                        </div>\\n                        <div class=\\"more-page__paragraph\\">\\n                            <p class=\\"more-page__paragraph-text\\">Рубрика «Секреты Мастеров» – это сборник статей от наших специалистов для помощи посетителям в самых различных жизненных ситуациях. Чтобы попасть в каталог «Секретов», вам нужно написать на личной странице статью. Интересный и полезный материал демонстрирует клиенту ваш богатый опыт и высокий уровень профессионализма. Когда статья будет опубликована на вашей странице, модераторы проверят, подходит ли она для каталога советов. Главными критериями являются практичность и понятность для посетителя, отсутствие прямой рекламы.</p>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\"more-page__line\\"></div>\\n                <div class=\\"more-page__item\\">\\n                    <div class=\\"more-page__pic\\">\\n                        <img class=\\"more-page__pic-img more-page__pic-img_offset-1\\" alt=\\"страница и мини-страница\\" src=\\"/img/registration/5.png\\" width=\\"100%\\">\\n                    </div>\\n                    <div class=\\"more-page__text\\">\\n\\n                        <div class=\\"more-page__text-title\\">\\n                            <div class=\\"more-page__text-title-count\\"></div>\\n                            <div class=\\"more-page__text-title-header\\">Каталог фирм</div>\\n                        </div>\\n                        <div class=\\"more-page__paragraph\\">\\n                            <p class=\\"more-page__paragraph-text\\">Помимо перечня отдельных специалистов у нас также есть каталог компаний. На сегодняшний день в нём находится более 100 организаций, где работают наши Мастера. Все компании располагаются в соответствии с привычным рубрикатором в зависимости от того, в какой сфере посетитель ищет специалиста. Данный каталог помогает организовать эффективное продвижение не только для отдельного сотрудника, но и для целой компании. Каждая организация может иметь одного своего представителя на FaceMaster или больше. Также в каталоге фирм есть свой рейтинг рекомендаций. Он складывается из суммы «лайков», которые получили все Мастера из одной компании. Таким образом, чем популярнее сотрудники среди клиентов, тем выше рейтинг организации.</p>\\n                        </div>\\n                    </div>\\n                </div>\\n            </section>\\n        </div>\\n    </div>\\n</div>\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-price', constructor: require('./catberry_components/registration/registration-price/index.js'), properties: {"name":"registration-price","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "<div class=\\"price-wr corner corner_bg\\">\\n    <div class=\\"container\\">\\n        <div class=\\"row\\">\\n            <section class=\\"price\\">\\n                <p class=\\"page-title page-title_landing\\">Сколько стоит предложение?</p>\\n\\n                <p class=\\"sub-title sub-title_landing\\">Выберите нужную закладку:</p>\\n\\n                <!--<div id=\\"horizontalTab\\">-->\\n                    <!--<ul block=\\"price-tabs-list\\" mix=\\"block:resp-tabs-list hor_1\\">-->\\n                        <!--<li elem=\\"item\\">Условия для физических лиц</li>-->\\n                        <!--<li elem=\\"item\\">Условия для юридических лиц</li>-->\\n                    <!--</ul>-->\\n                    <div class=\\"price-tabs\\">\\n                        <div class=\\"tab-content tab-content_active\\">\\n                            <div class=\\"tab-content__name\\">\\n                                "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "strelka", {"name":"icon","hash":{},"data":data})))\n    + "\\n                                Условия для физических лиц\\n                            </div>\\n                            <div class=\\"ofers-block\\">\\n                                <div class=\\"ofers-block__item\\">\\n                                    <div class=\\"description-tarif\\">\\n                                        <div class=\\"description-tarif__part-1\\">\\n                                            <div class=\\"description-tarif__medals\\">\\n                                                <div class=\\"ofers-block-medals\\">\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <p class=\\"description-tarif__title\\">Старт</p>\\n\\n                                            <p class=\\"description-tarif__sub-title\\">Бесплатно</p>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-2\\">\\n                                            <div class=\\"ofers-block-plus ofers-block-plus_single\\">\\n                                                <div class=\\"ofers-block-plus__item ofers-block-plus__item_single\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "mini-page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Мини<br>страница</p>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-3\\">\\n                                            <div class=\\"description-tarif__btn\\">\\n                                                <a class=\\"btn btn_reg-plus js-scrollto\\" href=\\"#form2\\">Выбрать</a>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\"ofers-block__item\\">\\n                                    <div class=\\"description-tarif\\">\\n                                        <div class=\\"description-tarif__part-1\\">\\n                                            <div class=\\"description-tarif__medals\\">\\n                                                <div class=\\"ofers-block-medals\\">\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <p class=\\"description-tarif__title\\">Специалист</p>\\n\\n                                            <p class=\\"description-tarif__sub-title\\">8 руб. в день</p>\\n                                        </div>\\n\\n                                        <div class=\\"description-tarif__part-2\\">\\n                                            <div class=\\"ofers-block-plus\\">\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "mini-page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Мини<br>страница</p>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Личная страница</p>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-3\\">\\n                                            <div class=\\"description-tarif__btn\\">\\n                                                <a class=\\"btn btn_reg-plus js-scrollto\\" href=\\"#form2\\">Выбрать</a>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\"ofers-block__item\\">\\n                                    <div class=\\"description-tarif\\">\\n                                        <div class=\\"description-tarif__part-1\\">\\n                                            <div class=\\"description-tarif__medals\\">\\n                                                <div class=\\"ofers-block-medals\\">\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <p class=\\"description-tarif__title\\">Профессионал</p>\\n\\n                                            <p class=\\"description-tarif__sub-title\\">16 руб. в день</p>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-2\\">\\n                                            <div class=\\"ofers-block-plus ofers-block-plus_prof\\">\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "mini-page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Мини<br>страница</p>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Личная страница</p>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\"ofers-block-plus-dop\\">\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "video", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "gift", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "picture", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "dialog", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\"description-tarif__descr-text\\">\\n                                                Скидки + фото + видео + отзывы\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-3\\">\\n                                            <div class=\\"description-tarif__btn\\">\\n                                                <a class=\\"btn btn_reg-plus js-scrollto\\" href=\\"#form2\\">Выбрать</a>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <table class=\\"price-table\\">\\n                                <thead class=\\"price-table__head\\">\\n                                <th class=\\"price-table__empty price-table-first-column\\">&nbsp;</th>\\n                                <th class=\\"price-table__head-text price-table-second-column\\">Новичок</th>\\n                                <th class=\\"price-table__head-text price-table-third-column\\">Специалист</th>\\n                                <th class=\\"price-table__head-text price-table-forth-column\\">Профессионал</th>\\n                                </thead>\\n                                <tbody class=\\"price-table__body\\">\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">90 дней</td>\\n                                    <td class=\\"price-table__td\\">Бесплатно</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">1 500 руб.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">180 дней</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">1 450 руб.</td>\\n                                    <td class=\\"price-table__td\\">2 700 руб.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">360дней</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2 600 руб.</td>\\n                                    <td class=\\"price-table__td\\">4 800 руб.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Мини-страница</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Личная страница</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Ассортимент услуг</td>\\n                                    <td class=\\"price-table__td\\">5шт.</td>\\n                                    <td class=\\"price-table__td\\">8шт.</td>\\n                                    <td class=\\"price-table__td\\">8шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Скидки и подарки + размещение в каталоге \\"Скидки и подарки\\"</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Фотоальбом</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">3шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Видеоролик + размещение в каталоге Видео</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Статья + размещение в каталоге Советов Мастеров</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Лайки, отзывы, рекомендации</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">вкл.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">&nbsp;</td>\\n                                    <td class=\\"price-table__td\\"><a class=\\"price-table__btn js-scrollto\\" href=\\"#form2\\">Мне подходит!</a></td>\\n                                    <td class=\\"price-table__td\\"><a class=\\"price-table__btn js-scrollto\\" href=\\"#form2\\">Мне подходит!</a></td>\\n                                    <td class=\\"price-table__td\\"><a class=\\"price-table__btn js-scrollto\\" href=\\"#form2\\">Мне подходит!</a></td>\\n                                </tr>\\n                                </tbody>\\n                            </table>\\n                        </div>\\n                        <div class=\\"tab-content\\">\\n                            <div class=\\"tab-content__name\\">\\n                                "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "strelka", {"name":"icon","hash":{},"data":data})))\n    + "\\n                                Условия для юридических лиц\\n                            </div>\\n                            <div class=\\"ofers-block\\">\\n                                <div class=\\"ofers-block__item\\">\\n                                    <div class=\\"description-tarif description-tarif_long\\">\\n                                        <div class=\\"description-tarif__part-1\\">\\n                                            <div class=\\"description-tarif__medals\\">\\n                                                <div class=\\"ofers-block-medals\\">\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <p class=\\"description-tarif__title\\">Старт<br>Бизнес</p>\\n\\n                                            <p class=\\"description-tarif__sub-title\\">16 руб. в день</p>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-2\\">\\n                                            <div class=\\"ofers-block-plus ofers-block-plus_single\\">\\n                                                <div class=\\"ofers-block-plus__item ofers-block-plus__item_single\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "mini-page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Мини<br>страница</p>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-3\\">\\n                                            <div class=\\"description-tarif__btn\\">\\n                                                <a class=\\"btn btn_reg-plus js-scrollto\\" href=\\"#form2\\">Выбрать</a>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\"ofers-block__item\\">\\n                                    <div class=\\"description-tarif description-tarif_long\\">\\n                                        <div class=\\"description-tarif__part-1\\">\\n                                            <div class=\\"description-tarif__medals\\">\\n                                                <div class=\\"ofers-block-medals\\">\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <p class=\\"description-tarif__title\\">Специалист Бизнес</p>\\n\\n                                            <p class=\\"description-tarif__sub-title\\">25 руб. в день</p>\\n                                        </div>\\n\\n                                        <div class=\\"description-tarif__part-2\\">\\n                                            <div class=\\"ofers-block-plus\\">\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "mini-page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Мини<br>страница</p>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Личная страница</p>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-3\\">\\n                                            <div class=\\"description-tarif__btn\\">\\n                                                <a class=\\"btn btn_reg-plus js-scrollto\\" href=\\"#form2\\">Выбрать</a>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\"ofers-block__item\\">\\n                                    <div class=\\"description-tarif description-tarif_long\\">\\n                                        <div class=\\"description-tarif__part-1\\">\\n                                            <div class=\\"description-tarif__medals\\">\\n                                                <div class=\\"ofers-block-medals\\">\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                    <i class=\\"ofers-block-medals__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "medal_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <p class=\\"description-tarif__title\\">Профессионал Бизнес</p>\\n\\n                                            <p class=\\"description-tarif__sub-title\\">33 руб. в день</p>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-2\\">\\n                                            <div class=\\"ofers-block-plus ofers-block-plus_prof\\">\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "mini-page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Мини<br>страница</p>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus__item\\">\\n                                                    <i class=\\"ofers-block-plus__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "page_color", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n                                                    <p class=\\"ofers-block-plus__text\\">Личная страница</p>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\"ofers-block-plus-dop\\">\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "video", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "gift", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "picture", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                                <div class=\\"ofers-block-plus-dop__item\\">\\n                                                    <i class=\\"ofers-block-plus-dop__icon\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "dialog", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n                                                </div>\\n                                            </div>\\n                                            <div class=\\"description-tarif__descr-text\\">\\n                                                Скидки + фото + видео + отзывы\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\"description-tarif__part-3\\">\\n                                            <div class=\\"description-tarif__btn\\">\\n                                                <a class=\\"btn btn_reg-plus js-scrollto\\" href=\\"#form2\\">Выбрать</a>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <table class=\\"price-table\\">\\n                                <thead class=\\"price-table__head\\">\\n                                <th class=\\"price-table__empty price-table-first-column\\">&nbsp;</th>\\n                                <th class=\\"price-table__head-text price-table-second-column\\">Старт<br>Бизнес</th>\\n                                <th class=\\"price-table__head-text price-table-third-column\\">Специалист Бизнес</th>\\n                                <th class=\\"price-table__head-text price-table-forth-column\\">Профессионал Бизнес</th>\\n                                </thead>\\n                                <tbody class=\\"price-table__body\\">\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">90 дней</td>\\n                                    <td class=\\"price-table__td\\">1 500 руб.</td>\\n                                    <td class=\\"price-table__td\\">2 250 руб.</td>\\n                                    <td class=\\"price-table__td\\">3 000 руб.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">180 дней</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">4 050 руб.</td>\\n                                    <td class=\\"price-table__td\\">5 400 руб.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">360дней</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">7 200 руб.</td>\\n                                    <td class=\\"price-table__td\\">9 600 руб.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Мини-страница</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Личная страница</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Ассортимент услуг</td>\\n                                    <td class=\\"price-table__td\\">5шт.</td>\\n                                    <td class=\\"price-table__td\\">8шт.</td>\\n                                    <td class=\\"price-table__td\\">8шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Логотип компании + размещение в каталоге компаний</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_green\\">+</span></td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Скидки и подарки + размещение в каталоге \\"Скидки и подарки\\"</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Фотоальбом</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">3шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Видеоролик + размещение в каталоге Видео</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Статья + размещение в каталоге Советов Мастеров</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">2шт.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">Лайки, отзывы, рекомендации</td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\"><span class=\\"price-table__round price-table__round_grey\\">-</span></td>\\n                                    <td class=\\"price-table__td\\">вкл.</td>\\n                                </tr>\\n                                <tr class=\\"price-table__tr\\">\\n                                    <td class=\\"price-table__td\\">&nbsp;</td>\\n                                    <td class=\\"price-table__td\\"><a class=\\"price-table__btn js-scrollto\\" href=\\"#form2\\">Мне подходит!</a></td>\\n                                    <td class=\\"price-table__td\\"><a class=\\"price-table__btn js-scrollto\\" href=\\"#form2\\">Мне подходит!</a></td>\\n                                    <td class=\\"price-table__td\\"><a class=\\"price-table__btn js-scrollto\\" href=\\"#form2\\">Мне подходит!</a></td>\\n                                </tr>\\n                                </tbody>\\n                            </table>\\n                        </div>\\n                    </div>\\n                <!--</div>-->\\n            </section>\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'registration-why-we', constructor: require('./catberry_components/registration/registration-why-we/index.js'), properties: {"name":"registration-why-we","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, buffer = "<div class=\\"why-we-wr\\">\\n    <div class=\\"container\\">\\n        <div class=\\"row\\">\\n            <section class=\\"why-we\\">\\n                <p class=\\"page-title page-title_landing\\">Почему выбирают нас?</p>\\n                <div class=\\"why-we__list\\">\\n                    <div class=\\"row\\">\\n                        <div class=\\"our-plus\\">\\n                            <div class=\\"our-plus__round\\">\\n                                <p class=\\"our-plus__title\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.count : depth0)) != null ? stack1.master : stack1), depth0))\n    + "</p>\\n\\n                                <p class=\\"our-plus__text\\">";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.count : depth0)) != null ? stack1.masterName : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\"our-plus\\">\\n                            <div class=\\"our-plus__round\\">\\n                                <p class=\\"our-plus__title\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.count : depth0)) != null ? stack1.visits : stack1), depth0))\n    + "</p>\\n\\n                                <p class=\\"our-plus__text\\">посещений<br>в неделю</p>\\n                            </div>\\n                        </div>\\n                        <div class=\\"our-plus\\">\\n                            <div class=\\"our-plus__round\\">\\n                                <p class=\\"our-plus__title\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.count : depth0)) != null ? stack1.orders : stack1), depth0))\n    + "</p>\\n\\n                                <p class=\\"our-plus__text\\">поступивших<br>заявок</p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </section>\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'rubrikator-list', constructor: require('./catberry_components/rubrikator/rubrikator-list/index.js'), properties: {"name":"rubrikator-list","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data,depths) {\n  var stack1, helper, helperMissing=helpers.helperMissing, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType="function", buffer = "";\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (data && data.index), "==", 7, {"name":"is","hash":{},"fn":this.program(2, data, depths),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (data && data.index), "==", 15, {"name":"is","hash":{},"fn":this.program(2, data, depths),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n        <div class=\\"rubrika-list\\">\\n            <div class=\\"rubrika-list__title js-rubrika-list\\" style=\\"border-right-color: "\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.el : depth0)) != null ? stack1.color : stack1), depth0))\n    + "\\">\\n                <p class=\\"rubrika-list__name\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.el : depth0)) != null ? stack1.name : stack1), depth0))\n    + "</p>\\n\\n                <p class=\\"rubrika-list__count\\">"\n    + escapeExpression(((helper = (helper = helpers.count || (depth0 != null ? depth0.count : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"count","hash":{},"data":data}) : helper)))\n    + "</p>\\n            </div>\\n            <div class=\\"rubrika-list__list\\">\\n                <ul>\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.podrubriks : depth0), {"name":"each","hash":{},"fn":this.program(4, data, depths),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                </ul>\\n            </div>\\n        </div>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  return "        </div>\\n        <div class=\\"rubriks-column\\">\\n";\n  },"4":function(depth0,helpers,partials,data,depths) {\n  var stack1, helper, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType="function", helperMissing=helpers.helperMissing;\n  return "                        <li class=\\"rubrika-list__list-li\\"><a class=\\"rubrika-list__list-a\\" href=\\"/"\n    + escapeExpression(lambda(((stack1 = (depths[1] != null ? depths[1].el : depths[1])) != null ? stack1.unique : stack1), depth0))\n    + "/"\n    + escapeExpression(((helper = (helper = helpers.unique || (depth0 != null ? depth0.unique : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"unique","hash":{},"data":data}) : helper)))\n    + "\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\n                            <span class=\\"rubrika-list__list-count\\">"\n    + escapeExpression(((helper = (helper = helpers.masterCount || (depth0 != null ? depth0.masterCount : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"masterCount","hash":{},"data":data}) : helper)))\n    + "</span></a></li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data,depths) {\n  var stack1, buffer = "<div class=\\"rubriks-column\\">\\n    <div class=\\"rubrika-list rubrika-list_tool-collapsed js-rubrika-collapsed\\">\\n        <div class=\\"rubrika-list__title\\">\\n            <p class=\\"rubrika-list__name\\">Развернуть все рубрики</p>\\n            <i class=\\"rubrika-list__icon\\"></i>\\n        </div>\\n    </div>\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.rubrikator : depth0), {"name":"each","hash":{},"fn":this.program(1, data, depths),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div>\\n";\n},"useData":true,"useDepths":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-about', constructor: require('./catberry_components/master/master-block/master-block-about/index.js'), properties: {"name":"master-block-about","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, buffer = "        <p class=\\"about-md__text-caption\\">Образование:</p>\\n        <p class=\\"about-md__text\\">";\n  stack1 = ((helper = (helper = helpers.aboutEduc || (depth0 != null ? depth0.aboutEduc : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"aboutEduc","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</p>\\n";\n},"3":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, buffer = "        <p class=\\"about-md__text-caption\\">Опыт работы:</p>\\n        <p class=\\"about-md__text\\">";\n  stack1 = ((helper = (helper = helpers.aboutExp || (depth0 != null ? depth0.aboutExp : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"aboutExp","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</p>\\n";\n},"5":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, buffer = "        <p class=\\"about-md__text-caption\\">Дополнительная информация:</p>\\n        <p class=\\"about-md__text\\">";\n  stack1 = ((helper = (helper = helpers.aboutAddInfo || (depth0 != null ? depth0.aboutAddInfo : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"aboutAddInfo","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</p>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"about-md\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.aboutEduc : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.aboutExp : depth0), {"name":"if","hash":{},"fn":this.program(3, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.aboutAddInfo : depth0), {"name":"if","hash":{},"fn":this.program(5, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div><!-- about-md -->\\n\\n\\n\\n\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-article', constructor: require('./catberry_components/master/master-block/master-block-article/index.js'), properties: {"name":"master-block-article","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "        <div class=\\"article-cont-md__item-cont\\">\\n\\n            <div class=\\"article\\">\\n                <a class=\\"article__link js-open-article\\" href=\\"#"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\">\\n                    <div class=\\"article__pic\\">\\n                        <img class=\\"article__img\\" src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, (depth0 != null ? depth0.imgID : depth0), {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "\\">\\n                    </div>\\n                    <div class=\\"article__text\\">\\n                        <p>"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</p>\\n                    </div>\\n                    <p class=\\"article__author\\">"\n    + escapeExpression(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"author","hash":{},"data":data}) : helper)))\n    + "</p>\\n                </a>\\n            </div>\\n\\n        </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"article-cont-md\\">\\n\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.articles : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-link', constructor: require('./catberry_components/master/master-block/master-block-link/index.js'), properties: {"name":"master-block-link","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "ссылки\\n";\n  },"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-photo', constructor: require('./catberry_components/master/master-block/master-block-photo/index.js'), properties: {"name":"master-block-photo","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType="function";\n  return "        <div class=\\"photo-md__album-cover js-select-album\\">\\n            <a href=\\"/master-data-edit/json3.json\\">\\n                <img src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, ((stack1 = ((stack1 = (depth0 != null ? depth0.photos : depth0)) != null ? stack1[\'0\'] : stack1)) != null ? stack1.imgID : stack1), 200, {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\"><br>\\n                <span>"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</span>\\n            </a>\\n        </div>\\n";\n},"3":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "        <div class=\\"photo-md__album-cont\\">\\n            <p class=\\"photo-md__album-title\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</p>\\n\\n            <div class=\\"photo-md__wrapper\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.photos : depth0), {"name":"each","hash":{},"fn":this.program(4, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "            </div>\\n\\n        </div>\\n";\n},"4":function(depth0,helpers,partials,data) {\n  var helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType="function";\n  return "                    <a class=\\"photo-md__img-prev\\" href=\\"#\\">\\n                        <img src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, (depth0 != null ? depth0.imgID : depth0), 200, {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"description","hash":{},"data":data}) : helper)))\n    + "\\"><br>\\n                    </a>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"photo-md\\">\\n\\n    <!-- ERROR -->\\n    <p style=\\"color: red; font-weight: bold\\">------ ERROR! ------</p>\\n    !!!фото. API - недостаточно данных\\n    <br><br><br>\\n    <!-- ERROR -->\\n\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.albums : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.albums : depth0), {"name":"each","hash":{},"fn":this.program(3, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</div><!-- photo-md -->\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-review', constructor: require('./catberry_components/master/master-block/master-block-review/index.js'), properties: {"name":"master-block-review","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, buffer = "            <p class=\\"recommendations__total\\">Мастера рекомендуют <span class=\\"recommendations__total-count\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.vkLikes : depth0)) != null ? stack1.countLikes : stack1), depth0))\n    + " человек</span></p>\\n\\n            <div class=\\"recommendations__list\\">\\n";\n  stack1 = helpers.each.call(depth0, ((stack1 = (depth0 != null ? depth0.vkLikes : depth0)) != null ? stack1.data : stack1), {"name":"each","hash":{},"fn":this.program(2, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "            </div>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                    <a class=\\"recommendations__item\\" target=\\"_blank\\" href=\\"http://vk.com/id"\n    + escapeExpression(((helper = (helper = helpers.uid || (depth0 != null ? depth0.uid : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"uid","hash":{},"data":data}) : helper)))\n    + "\\">\\n                        <img src=\\""\n    + escapeExpression(((helper = (helper = helpers.photo_100 || (depth0 != null ? depth0.photo_100 : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"photo_100","hash":{},"data":data}) : helper)))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.first_name || (depth0 != null ? depth0.first_name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"first_name","hash":{},"data":data}) : helper)))\n    + " "\n    + escapeExpression(((helper = (helper = helpers.last_name || (depth0 != null ? depth0.last_name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"last_name","hash":{},"data":data}) : helper)))\n    + "\\">\\n                    </a>\\n";\n},"4":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "        <p class=\\"reviews-cont-md__title\\">Мои отзывы</p>\\n\\n        <div class=\\"reviews-cont-md__comments\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.comments : depth0), {"name":"each","hash":{},"fn":this.program(5, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "        </div>\\n";\n},"5":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                <div class=\\"reviews-cont-md__item-cont\\">\\n\\n                    <p class=\\"reviews-cont-md__name\\">"\n    + escapeExpression(((helper = (helper = helpers.authorName || (depth0 != null ? depth0.authorName : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"authorName","hash":{},"data":data}) : helper)))\n    + "<span class=\\"reviews-cont-md__date\\">"\n    + escapeExpression(((helpers.formatDate || (depth0 && depth0.formatDate) || helperMissing).call(depth0, (depth0 != null ? depth0.date : depth0), "%R | %d %Z %Y", {"name":"formatDate","hash":{},"data":data})))\n    + "</span></p>\\n\\n                    <p class=\\"reviews-cont-md__text\\">"\n    + escapeExpression(((helper = (helper = helpers.text || (depth0 != null ? depth0.text : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"text","hash":{},"data":data}) : helper)))\n    + "</p>\\n\\n                </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType="function", buffer = "<div class=\\"reviews-cont-md\\">\\n\\n    <div class=\\"recommendations\\">\\n";\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, ((stack1 = (depth0 != null ? depth0.vkLikes : depth0)) != null ? stack1.countLikes : stack1), ">", 0, {"name":"is","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n        <div class=\\"recommendations__buttons-block\\">\\n            <p class=\\"recommendations__buttons-block-title\\">Порекомендуйте мастера:</p>\\n\\n            <div></div>\\n        </div>\\n    </div>\\n\\n    <p class=\\"reviews-cont-md__title\\">Оставить отзыв</p>\\n\\n    <div class=\\"reviews-cont-md__row\\">\\n        <form class=\\"add-comment\\" method=\\"POST\\" action=\\"\\">\\n            <input class=\\"add-comment__text-input\\" type=\\"text\\" placeholder=\\"Ваше имя\\" name=\\"comment_form[name]\\">\\n            <input class=\\"add-comment__text-input\\" type=\\"text\\" placeholder=\\"Ваш номер телефона\\" name=\\"comment_form[phone]\\">\\n            <textarea class=\\"add-comment__textarea\\" placeholder=\\"Текст отзыва\\" name=\\"comment_form[comment_text]\\"></textarea>\\n            <input class=\\"add-comment__btn\\" type=\\"submit\\" value=\\"отправить\\">\\n\\n            <p class=\\"add-comment__success\\">\\n                Ваш отзыв успешно отправлен, спасибо!\\n            </p>\\n        </form>\\n\\n        <div class=\\"social-links\\">\\n            <div class=\\"social-links__wrapper\\">\\n                <p class=\\"social-links__title\\">Разместить ссылку на&nbsp;стра&shy;ницу Мастера в&nbsp;соц.&nbsp;сети:</p>\\n\\n                <div class=\\"social-links__master\\">\\n                    <div class=\\"social-links__photo-cont\\">\\n                        <img src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, (depth0 != null ? depth0.imgID : depth0), {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\">\\n                    </div>\\n\\n                    <p class=\\"social-links__name\\">"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</p>\\n                </div>\\n                <p class=\\"social-links__note\\">Порекомендуйте этого специалиста своим друзям в&nbsp;социальной сети</p>\\n\\n                <div class=\\"social-links__buttons\\">\\n                    <p style=\\"color:red\\">Ссылки! VK, OK, FB, TW</p>\\n                </div>\\n            </div>\\n        </div>\\n\\n    </div>\\n\\n\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.comments : depth0), {"name":"if","hash":{},"fn":this.program(4, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n</div><!--mde-reviews-->\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-sale', constructor: require('./catberry_components/master/master-block/master-block-sale/index.js'), properties: {"name":"master-block-sale","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "    <div class=\\"sale-cont-md__item-cont\\">\\n\\n        <div class=\\"sale\\">\\n            <a class=\\"sale__link js-open-sale\\" href=\\"#"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\">\\n                <p class=\\"sale__title\\">\\n";\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (depth0 != null ? depth0.type : depth0), "==", 1, {"name":"is","hash":{},"fn":this.program(2, data),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (depth0 != null ? depth0.type : depth0), "==", 2, {"name":"is","hash":{},"fn":this.program(4, data),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (depth0 != null ? depth0.type : depth0), "==", 3, {"name":"is","hash":{},"fn":this.program(6, data),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                </p>\\n                <div class=\\"sale__pic\\">\\n                    <img class=\\"sale__img\\" src=\\""\n    + escapeExpression(((helpers.imgSrc || (depth0 && depth0.imgSrc) || helperMissing).call(depth0, (depth0 != null ? depth0.imgID : depth0), {"name":"imgSrc","hash":{},"data":data})))\n    + "\\" alt=\\""\n    + escapeExpression(((helper = (helper = helpers.text || (depth0 != null ? depth0.text : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"text","hash":{},"data":data}) : helper)))\n    + "\\">\\n                </div>\\n                <div class=\\"sale__text\\">\\n                    <p>"\n    + escapeExpression(((helper = (helper = helpers.text || (depth0 != null ? depth0.text : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"text","hash":{},"data":data}) : helper)))\n    + "</p>\\n                </div>\\n            </a>\\n        </div>\\n\\n    </div>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  return "                        Подарок\\n";\n  },"4":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        Скидка "\n    + escapeExpression(((helper = (helper = helpers.discount || (depth0 != null ? depth0.discount : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"discount","hash":{},"data":data}) : helper)))\n    + "%\\n";\n},"6":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        -"\n    + escapeExpression(((helper = (helper = helpers.discount || (depth0 != null ? depth0.discount : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"discount","hash":{},"data":data}) : helper)))\n    + " руб.\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"sale-cont-md\\">\\n\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.sales : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-video', constructor: require('./catberry_components/master/master-block/master-block-video/index.js'), properties: {"name":"master-block-video","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda;\n  return "        <div class=\\"video-md__video-cont\\">\\n            <a class=\\"video-md__video-cover\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n                <span class=\\"video-md__title-prev\\">"\n    + escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper)))\n    + "</span><br>\\n                <span class=\\"video-md__img-cont\\"><img src=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.prev : depth0)) != null ? stack1.src : stack1), depth0))\n    + "\\" alt=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.prev : depth0)) != null ? stack1.alt : stack1), depth0))\n    + "\\"></span>\\n            </a>\\n        </div>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"video-md\\">\\n\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.videos : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n</div><!-- video-md -->\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-service', constructor: require('./catberry_components/master/master-block/master-block-service/index.js'), properties: {"name":"master-block-service","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return "            <li>"\n    + escapeExpression(lambda(depth0, depth0))\n    + "</li>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"service-md\\">\\n    <ul class=\\"service-md__list\\">\\n";\n  stack1 = helpers.each.call(depth0, ((stack1 = (depth0 != null ? depth0.services : depth0)) != null ? stack1.part1 : stack1), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "    </ul>\\n\\n    <ul class=\\"service-md__list\\">\\n";\n  stack1 = helpers.each.call(depth0, ((stack1 = (depth0 != null ? depth0.services : depth0)) != null ? stack1.part2 : stack1), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "    </ul>\\n\\n    <br class=\\"service-md__clear\\">\\n</div><!--mde-service-->\\n\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-block-work', constructor: require('./catberry_components/master/master-block/master-block-work/index.js'), properties: {"name":"master-block-work","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                <td>"\n    + escapeExpression(((helper = (helper = helpers.open || (depth0 != null ? depth0.open : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"open","hash":{},"data":data}) : helper)))\n    + "<br>"\n    + escapeExpression(((helper = (helper = helpers.close || (depth0 != null ? depth0.close : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"close","hash":{},"data":data}) : helper)))\n    + "</td>\\n";\n},"3":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, buffer = "";\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (depth0 != null ? depth0.type : depth0), "==", 1, {"name":"is","hash":{},"fn":this.program(4, data),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"4":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                        <li>"\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "</li>\\n";\n},"6":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, buffer = "";\n  stack1 = ((helpers.is || (depth0 && depth0.is) || helperMissing).call(depth0, (depth0 != null ? depth0.type : depth0), "==", 2, {"name":"is","hash":{},"fn":this.program(4, data),"inverse":this.noop,"data":data}));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, buffer = "<div class=\\"time-and-work-mp\\">\\n\\n    <table class=\\"time-and-work-mp__timetable\\">\\n        <thead>\\n        <tr>\\n            <td class=\\"time-and-work-mp__day\\">Пн</td>\\n            <td class=\\"time-and-work-mp__day\\">Вт</td>\\n            <td class=\\"time-and-work-mp__day\\">Ср</td>\\n            <td class=\\"time-and-work-mp__day time-and-work-mp__day_today\\">Чт</td>\\n            <td class=\\"time-and-work-mp__day\\">Пт</td>\\n            <td class=\\"time-and-work-mp__day\\">Сб</td>\\n            <td class=\\"time-and-work-mp__day\\">Вс</td>\\n        </tr>\\n        </thead>\\n        <tbody>\\n        <tr>\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.schedule : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "        </tr>\\n        </tbody>\\n    </table>\\n\\n    <p class=\\"time-and-work-mp__list-caption\\">Выезд на дом</p>\\n    <ul class=\\"time-and-work-mp__list\\">\\n        <li>Бесплатно по городу</li>\\n        <li>Выезд за город платно</li>\\n    </ul>\\n\\n\\n    <div class=\\"time-and-work-mp__list-big-cont\\">\\n        <p class=\\"time-and-work-mp__list-caption\\">Районы обслуживания</p>\\n\\n        <div class=\\"time-and-work-mp__list-cont\\">\\n            <p class=\\"time-and-work-mp__list-caption time-and-work-mp__list-caption_mini\\">Город</p>\\n            <ul class=\\"time-and-work-mp__list\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.district : depth0), {"name":"each","hash":{},"fn":this.program(3, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "            </ul>\\n        </div><!--list-cont-->\\n\\n        <div class=\\"time-and-work-mp__list-cont\\">\\n            <p class=\\"time-and-work-mp__list-caption time-and-work-mp__list-caption_mini\\">Пригород</p>\\n            <ul class=\\"time-and-work-mp__list\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.district : depth0), {"name":"each","hash":{},"fn":this.program(6, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "            </ul>\\n        </div><!--list-cont-->\\n\\n        <br class=\\"time-and-work-mp__clear\\">\\n    </div><!--list-big-cont-->\\n\\n\\n    <div class=\\"time-and-work-mp__list-big-cont\\">\\n        <p class=\\"time-and-work-mp__list-caption\\">Оплата</p>\\n\\n\\n        <div class=\\"time-and-work-mp__list-cont\\">\\n            <p class=\\"time-and-work-mp__list-caption time-and-work-mp__list-caption_mini\\">Форма сотрудни&shy;чества</p>\\n            <ul class=\\"time-and-work-mp__list\\">\\n                <li>Предоплата</li>\\n                <li>По факту выполненных работ</li>\\n                <li>Рассрочка платежа</li>\\n            </ul>\\n        </div><!--list-cont-->\\n\\n        <div class=\\"time-and-work-mp__list-cont\\">\\n            <p class=\\"time-and-work-mp__list-caption time-and-work-mp__list-caption_mini\\">Способы оплаты</p>\\n            <ul class=\\"time-and-work-mp__list\\">\\n                <li>Наличный</li>\\n                <li>Безналичный\\n                    <ul>\\n                        <li>Оплата через электронные платежные системы</li>\\n                        <li>Оплата по кредитной/дебетовой карте</li>\\n                        <li>Оплата через терминалы</li>\\n                        <li>Банковский перевод</li>\\n                        <li>Предоставление рассрочки</li>\\n                    </ul>\\n                </li>\\n            </ul>\\n        </div><!--list-cont-->\\n        <br class=\\"time-and-work-mp__clear\\">\\n    </div><!--list-cont-->\\n    <br class=\\"time-and-work-mp__clear\\">\\n\\n    <!-- ERROR -->\\n    <p style=\\"color: red; font-weight: bold\\">------ ERROR! (условия - выезд на дом, оплата) ------</p>\\n    !!переделает илья\\n    Условия оплаты: "\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.workCondition : depth0)) != null ? stack1.paymentForm : stack1), depth0))\n    + "\\n    Условия оплаты: "\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.workCondition : depth0)) != null ? stack1.coopForm : stack1), depth0))\n    + "\\n    Выезд на дом: "\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.workCondition : depth0)) != null ? stack1.comming : stack1), depth0))\n    + "\\n    <!-- ERROR -->\\n</div>";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-minicard', constructor: require('./catberry_components/master/master-minicard/master-minicard/index.js'), properties: {"name":"master-minicard","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  return "                <div block=\\"master_name-and-spec\\" mod=\\"half\\">\\n";\n  },"3":function(depth0,helpers,partials,data) {\n  return "                <div block=\\"master_name-and-spec\\" mod=\\"wide\\">\\n";\n  },"5":function(depth0,helpers,partials,data) {\n  var helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "                    <p elem=\\"spec\\">\\n                        "\n    + escapeExpression(((helper = (helper = helpers.spec || (depth0 != null ? depth0.spec : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"spec","hash":{},"data":data}) : helper)))\n    + "\\n                    </p>\\n";\n},"7":function(depth0,helpers,partials,data) {\n  return "                </div>\\n";\n  },"9":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return "                    <div block=\\"master_company\\">\\n                        <img elem=\\"logo\\" src=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.company : depth0)) != null ? stack1.logo : stack1), depth0))\n    + "\\" alt=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.company : depth0)) != null ? stack1.name : stack1), depth0))\n    + "\\">\\n\\n                        <p elem=\\"name\\">\\n                            "\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.company : depth0)) != null ? stack1.name : stack1), depth0))\n    + "\\n                        </p>\\n                    </div>\\n";\n},"11":function(depth0,helpers,partials,data) {\n  return "                <div block=\\"master_services\\" mod=\\"half\\" class=\\"format\\">\\n";\n  },"13":function(depth0,helpers,partials,data) {\n  return "                <div block=\\"master_services\\" mod=\\"wide\\" class=\\"format\\">\\n";\n  },"15":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, buffer = "                        <div block=\\"search-note\\">\\n                            <strong>Текст найден на странице Мастера:</strong>\\n                            ";\n  stack1 = ((helper = (helper = helpers[\'search-note\'] || (depth0 != null ? depth0[\'search-note\'] : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"search-note","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                        </div>\\n";\n},"17":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return "                        <li elem=\\"service\\">\\n                            "\n    + escapeExpression(lambda(depth0, depth0))\n    + "\\n                        </li>\\n";\n},"19":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.gift : depth0), {"name":"if","hash":{},"fn":this.program(20, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.photo : depth0), {"name":"if","hash":{},"fn":this.program(22, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.video : depth0), {"name":"if","hash":{},"fn":this.program(24, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.comments : depth0), {"name":"if","hash":{},"fn":this.program(26, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer;\n},"20":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, buffer = "                <div block=\\"master_have-content-widget\\" mod=\\"gift\\">\\n                    <div elem=\\"main\\">\\n                        <p class=\\"title\\">";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.gift : depth0)) != null ? stack1.title : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "</p>\\n                    </div>\\n                    <p elem=\\"desc\\">\\n                        ";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.gift : depth0)) != null ? stack1.desc : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                    </p>\\n                </div>\\n";\n},"22":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, buffer = "                <div block=\\"master_have-content-widget\\" mod=\\"photo\\">\\n                    <div elem=\\"main\\">\\n                        <p class=\\"title\\">\\n                            У Мастера:<br>\\n                            <span class=\\"count\\">";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.photo : depth0)) != null ? stack1.count : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "</span>\\n                        </p>\\n                    </div>\\n                    <p elem=\\"desc\\">\\n                        ";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.photo : depth0)) != null ? stack1.desc : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                    </p>\\n                </div>\\n";\n},"24":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, buffer = "                <div block=\\"master_have-content-widget\\" mod=\\"video\\">\\n                    <a href=\\"";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.video : depth0)) != null ? stack1.url : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\">\\n                        <div elem=\\"main\\">\\n                            <img src=\\"";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.video : depth0)) != null ? stack1.preview : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\">\\n                        </div>\\n                    </a>\\n\\n                    <p elem=\\"desc\\">\\n                        ";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.video : depth0)) != null ? stack1.desc : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                    </p>\\n                </div>\\n";\n},"26":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, buffer = "                <div block=\\"master_have-content-widget\\" mod=\\"comments\\">\\n                    <div elem=\\"main\\">\\n                        <p class=\\"title\\">У Мастера:<br>\\n                            <span class=\\"count\\">";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.comments : depth0)) != null ? stack1.recommendations : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "</span><br>\\n                            <span class=\\"count\\">";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.comments : depth0)) != null ? stack1.comments : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "</span>\\n                        </p>\\n                    </div>\\n                    <p elem=\\"desc\\">\\n                        ";\n  stack1 = lambda(((stack1 = (depth0 != null ? depth0.comments : depth0)) != null ? stack1.desc : stack1), depth0);\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                    </p>\\n                </div>\\n";\n},"28":function(depth0,helpers,partials,data) {\n  return "master-minicard_free";\n  },"30":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n  return "        <a class=\\"master-minicard__to-page\\" href=\\"/"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.number : stack1), depth0))\n    + "\\">На страницу мастера<i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "strelka", {"name":"icon","hash":{},"data":data})))\n    + "</i></a>\\n";\n},"32":function(depth0,helpers,partials,data) {\n  return "master-minicard__services_half";\n  },"34":function(depth0,helpers,partials,data) {\n  var lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return "            <li>"\n    + escapeExpression(lambda(depth0, depth0))\n    + "</li>\\n";\n},"36":function(depth0,helpers,partials,data) {\n  var helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n  return "    <ul class=\\"master-content-widget\\">\\n        <li class=\\"act master-content-widget__gift\\">\\n            <i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "gift", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n            <div>\\n                <p></p>\\n\\n                <p></p>\\n            </div>\\n        </li>\\n        <li class=\\"act master-content-widget__photo\\">\\n            <i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "picture", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n            <div>\\n                <p></p>\\n\\n                <p></p>\\n            </div>\\n        </li>\\n        <li class=\\"act master-content-widget__video\\">\\n            <i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "video", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n            <div>\\n                <p></p>\\n\\n                <p></p>\\n            </div>\\n        </li>\\n        <li class=\\"act master-content-widget__comment\\">\\n            <i>"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "dialog", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n\\n            <div>\\n                <p class=\\"master-content-widget__info\\"><span>У Мастера:<br><strong>1 рекомендация<br>5 отзывов</strong></span></p>\\n\\n                <p class=\\"master-content-widget__text\\">«Мы обратились к Сергею когда надо было доделать ремонт, объем работ оставался небольшой\\n                    и непросто было найти рабочих. ...»</p>\\n            </div>\\n        </li>\\n    </ul>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helper, lambda=this.lambda, escapeExpression=this.escapeExpression, functionType="function", helperMissing=helpers.helperMissing, buffer = "<!--<div block=\\"master_minicard\\" mod=\\"premium\\">\\n    <div class=\\"row\\">\\n        <div elem=\\"left-column\\">\\n            <div block=\\"master_photo-and-contacts\\">\\n                <div elem=\\"photo-wrap\\">\\n                    <img elem=\\"photo\\" src=\\"/img/assets/master_minicard/6461.jpg\\" alt=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0[\'master-photo\'] : depth0)) != null ? stack1.alt : stack1), depth0))\n    + "\\">\\n                </div>\\n                <div elem=\\"contact-wrap\\">\\n                    <cat-master-phone-btn id=\\"master-phone-btn-"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\"></cat-master-phone-btn>\\n\\n                    <div block=\\"tip\\" mix=\\"block:js-tip\\">\\n                        <p elem=\\"text\\">Пожалуйста скажите мастеру что нашли его на нашем сайте</p>\\n                        <i elem=\\"close\\" mix=\\"block:js-close-tip\\"></i>\\n                    </div>\\n\\n                    <a elem=\\"to-page\\" href=\\"/"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.number : stack1), depth0))\n    + "\\">На страницу мастера<i elem=\\"icon\\"></i></a>\\n                    <a elem=\\"show-services\\" href=\\"#\\" mix=\\"block:js-services-toggle\\">Показать услуги</a>\\n                </div>\\n            </div>\\n        </div>\\n        <div elem=\\"right-column\\">\\n\\n            <div class=\\"row\\">\\n\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.company : depth0), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.program(3, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                <p elem=\\"name\\">\\n                    "\n    + escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"name","hash":{},"data":data}) : helper)))\n    + "\\n                </p>\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.spec : depth0), {"name":"if","hash":{},"fn":this.program(5, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.company : depth0), {"name":"if","hash":{},"fn":this.program(7, data),"inverse":this.program(7, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.company : depth0), {"name":"if","hash":{},"fn":this.program(9, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0[\'have-content\'] : depth0), {"name":"if","hash":{},"fn":this.program(11, data),"inverse":this.program(13, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                <ul elem=\\"service-list\\" mix=\\"block:js-services-cut\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0[\'search-note\'] : depth0), {"name":"if","hash":{},"fn":this.program(15, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.services : depth0), {"name":"each","hash":{},"fn":this.program(17, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                </ul>\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0[\'have-content\'] : depth0), {"name":"if","hash":{},"fn":this.program(7, data),"inverse":this.program(7, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "            </div>\\n        </div>\\n    </div>\\n    <div block=\\"master_presentation\\">\\n        { {> master_have-content-icons/master_have-content-icons have-content-icons} }\\n\\n";\n  stack1 = helpers[\'with\'].call(depth0, (depth0 != null ? depth0[\'have-content\'] : depth0), {"name":"with","hash":{},"fn":this.program(19, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "    </div>\\n</div>-->\\n\\n<div class=\\"";\n  stack1 = helpers.unless.call(depth0, ((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.id : stack1), {"name":"unless","hash":{},"fn":this.program(28, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += " master-minicard\\">\\n\\n    <div class=\\"master-minicard__photo-cont\\">\\n        <img class=\\"master-minicard__photo\\" src=\\"/img/assets/master_minicard/6461.jpg\\" alt=\\"\\">\\n        <i class=\\"master-minicard__like\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "like", {"name":"icon","hash":{},"data":data})))\n    + " 29</i>\\n    </div>\\n\\n    <div class=\\"master-minicard__contact-wrap\\">\\n        <cat-master-phone-btn id=\\"master-phone-btn-"\n    + escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"id","hash":{},"data":data}) : helper)))\n    + "\\"></cat-master-phone-btn>\\n\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.number : stack1), {"name":"if","hash":{},"fn":this.program(30, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "        <a class=\\"master-minicard__show-services js-services-toggle\\" href=\\"#\\">Показать услуги</a>\\n    </div>\\n\\n    <p class=\\"master-minicard__company\\">\\n        <span><img class=\\"master-minicard__logo\\" src=\\"/img/assets/master_minicard/1022.png\\" alt=\\"\\"></span>\\n        <span>Компания Мера</span>\\n    </p>\\n\\n    <p class=\\"master-minicard__name\\">Хархавкина Евгения Длинноотчевствовая</p>\\n\\n    <p class=\\"master-minicard__spec\\">Продажа домов под ключ Продажа домов под ключ Продажа домов под ключ</p>\\n\\n    <ul class=\\"";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.isWidget : depth0), {"name":"if","hash":{},"fn":this.program(32, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += " master-minicard__services js-minicard-services-cut\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.services : depth0), {"name":"each","hash":{},"fn":this.program(34, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "    </ul>\\n\\n\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.id : stack1), {"name":"if","hash":{},"fn":this.program(36, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n</div>\\n\\n\\n<div class=\\"frame callback\\">\\n\\n</div>\\n\\n\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'master-phone-btn', constructor: require('./catberry_components/master/master-minicard/master-phone-btn/index.js'), properties: {"name":"master-phone-btn","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, lambda=this.lambda, escapeExpression=this.escapeExpression;\n  return "            <a class=\\"phone-btn__url\\" href=\\"/"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.number : stack1), depth0))\n    + "\\">еще контакты</a>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, lambda=this.lambda, buffer = "<div class=\\"phone-btn\\">\\n    <p class=\\"phone-btn__tip js-master-phone-tip\\">\\n        Пожалуйста скажите мастеру что нашли его на нашем сайте\\n        <i class=\\"js-close-tip\\">"\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "close", {"name":"icon","hash":{},"data":data})))\n    + "</i>\\n    </p>\\n    <button class=\\"phone-btn__button js-show-phone\\" data-id=\\""\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.ownerID : stack1), depth0))\n    + "\\">\\n        Показать телефон\\n    </button>\\n    <div class=\\"phone-btn__phone-details js-show-phone-details\\">\\n        <p class=\\"phone-btn__phone\\">"\n    + escapeExpression(lambda(((stack1 = (depth0 != null ? depth0.contacts : depth0)) != null ? stack1.phone : stack1), depth0))\n    + "</p>\\n";\n  stack1 = helpers[\'if\'].call(depth0, ((stack1 = (depth0 != null ? depth0.page : depth0)) != null ? stack1.number : stack1), {"name":"if","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'dop-function', constructor: require('./catberry_components/page/page-main/dop-function/index.js'), properties: {"name":"dop-function","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"1":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "                    <li class=\\"become-master__item\\">\\n";\n  stack1 = helpers[\'if\'].call(depth0, (depth0 != null ? depth0.icon : depth0), {"name":"if","hash":{},"fn":this.program(2, data),"inverse":this.program(4, data),"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                    </li>\\n";\n},"2":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "                        <a class=\\"become-master__item-link become-master__item-link_hover\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">\\n                            <span class=\\"become-master__icon\\"></span>\\n                            ";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "\\n                        </a>\\n";\n},"4":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "                        <a class=\\"become-master__item-link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</a>\\n";\n},"6":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "                    <li class=\\"about-company__item\\">\\n                        <a class=\\"about-company__item-link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</a>\\n                    </li>\\n";\n},"8":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "                    <li class=\\"bayda__item-cube\\">\\n";\n  stack1 = helpers.unless.call(depth0, (depth0 != null ? depth0.empty : depth0), {"name":"unless","hash":{},"fn":this.program(9, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                    </li>\\n";\n},"9":function(depth0,helpers,partials,data) {\n  var stack1, helper, functionType="function", helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, buffer = "                        <a class=\\"bayda__item-cube-link\\" href=\\""\n    + escapeExpression(((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"url","hash":{},"data":data}) : helper)))\n    + "\\">";\n  stack1 = ((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"title","hash":{},"data":data}) : helper));\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "</a>\\n";\n},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var stack1, buffer = "<div class=\\"dop-function\\">\\n    <div class=\\"dop-function__inner\\">\\n        <div class=\\"become-master\\">\\n            <div class=\\"become-master__inner\\">\\n                <div class=\\"become-master__title dop-function-block-js\\">Мастерам</div>\\n                <ul class=\\"become-master__menu\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.menuMaster : depth0), {"name":"each","hash":{},"fn":this.program(1, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                </ul>\\n            </div>\\n        </div>\\n        <div class=\\"about-company\\">\\n            <div class=\\"about-company__inner\\">\\n                <div class=\\"about-company__title dop-function-block-js\\">О компании</div>\\n                <ul class=\\"about-company__menu\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.menuAbout : depth0), {"name":"each","hash":{},"fn":this.program(6, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  buffer += "                </ul>\\n            </div>\\n        </div>\\n        <div class=\\"bayda\\">\\n            <div class=\\"bayda__inner\\">\\n                <div class=\\"bayda__title dop-function-block-js\\">Развлечения</div>\\n                <ul class=\\"bayda__menu-cube\\">\\n";\n  stack1 = helpers.each.call(depth0, (depth0 != null ? depth0.menuBayda : depth0), {"name":"each","hash":{},"fn":this.program(8, data),"inverse":this.noop,"data":data});\n  if (stack1 != null) { buffer += stack1; }\n  return buffer + "                </ul>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'},
{name: 'main-function', constructor: require('./catberry_components/page/page-main/main-function/index.js'), properties: {"name":"main-function","template":"./template.hbs","errorTemplate":"./error.hbs","logic":"index.js"}, templateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  var helper, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType="function";\n  return "<div class=\\"main-function\\">\\n    <div class=\\"main-function__inner\\">\\n        <cat-search id=\\"search\\"></cat-search>\\n        <div class=\\"or\\">или</div>\\n        <div class=\\"find-master js-find-master\\">\\n            <a class=\\"find-master__inner\\" href=\\"/catalog\\">\\n                <div class=\\"find-master__inner-rel\\">\\n                    <div class=\\"find-master__icon\\">\\n                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "man-in-sun", "icon_white", {"name":"icon","hash":{},"data":data})))\n    + "\\n                    </div>\\n\\n                    <p class=\\"find-master__title\\">Выбери Мастера</p>\\n                    <span class=\\"find-master__btn\\">У нас "\n    + escapeExpression(((helper = (helper = helpers.countMaster || (depth0 != null ? depth0.countMaster : depth0)) != null ? helper : helperMissing),(typeof helper === functionType ? helper.call(depth0, {"name":"countMaster","hash":{},"data":data}) : helper)))\n    + "</span>\\n                </div>\\n            </a>\\n        </div>\\n        <div class=\\"call-back\\">\\n            <a class=\\"call-back__inner\\" href=\\"/request\\">\\n                <div class=\\"call-back__inner-rel\\">\\n                    <div class=\\"call-back__icon\\">\\n                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "star-in-sun", {"name":"icon","hash":{},"data":data})))\n    + "\\n                        "\n    + escapeExpression(((helpers.icon || (depth0 && depth0.icon) || helperMissing).call(depth0, "star-line", {"name":"icon","hash":{},"data":data})))\n    + "\\n                    </div>\\n\\n                    <p class=\\"call-back__title\\">Закажи услугу</p>\\n\\n                    <p class=\\"call-back__text\\">Мы бесплатно отправим вашу заявку всем подходящим Мастерам</p>\\n                    <span class=\\"call-back__btn\\">Создать заявку</span>\\n                </div>\\n            </a>\\n        </div>\\n        <div class=\\"catalogs\\">\\n            <div class=\\"catalogs__inner\\">\\n                <div class=\\"catalogs__services\\">\\n                    <a class=\\"catalogs__services-link\\" href=\\"/catalog\\">Весь каталог услуг</a>\\n                </div>\\n                <div class=\\"catalogs__dop\\">\\n                    <cat-catalog-list id=\\"catalog-list\\" data-mod=\\"page_main\\"></cat-catalog-list>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n";\n},"useData":true}', errorTemplateSource: '{"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data) {\n  return "\\n";\n  },"useData":true}'}
];

var util = require('util'),
	routeDefinitions = require('./routes.js') || [],
	Catberry = require('./node_modules/catberry/browser/Catberry.js'),
	Logger = require('./node_modules/catberry/browser/Logger.js'),
	BootstrapperBase =
		require('./node_modules/catberry/lib/base/BootstrapperBase.js'),
	StoreDispatcher = require('./node_modules/catberry/lib/StoreDispatcher'),
	ModuleApiProvider =
		require('./node_modules/catberry/browser/providers/ModuleApiProvider'),
	CookieWrapper = require('./node_modules/catberry/browser/CookieWrapper');

var DEBUG_DOCUMENT_UPDATED = 'Document updated (%d store(s) changed)',
	DEBUG_COMPONENT_BOUND = 'Component "%s" is bound',
	DEBUG_COMPONENT_UNBOUND = 'Component "%s" is unbound';

util.inherits(Bootstrapper, BootstrapperBase);

/**
 * Creates new instance of the browser Catberry's bootstrapper.
 * @constructor
 * @extends BootstrapperBase
 */
function Bootstrapper() {
	BootstrapperBase.call(this, Catberry);
}

/**
 * Configures Catberry's service locator.
 * @param {Object} configObject Application config object.
 * @param {ServiceLocator} locator Service locator to configure.
 */
Bootstrapper.prototype.configure = function (configObject, locator) {
	BootstrapperBase.prototype.configure.call(this, configObject, locator);

	// if browser still does not have promises then add it.
	if (!('Promise' in window)) {
		window.Promise = locator.resolve('promise');
	}

	locator.register('storeDispatcher', StoreDispatcher, configObject, true);
	locator.register(
		'moduleApiProvider', ModuleApiProvider, configObject, true
	);
	locator.register('cookieWrapper', CookieWrapper, configObject, true);

	locator.registerInstance('window', window);

	var loggerConfig = configObject.logger || {},
		logger = new Logger(loggerConfig.levels);
	locator.registerInstance('logger', logger);
	window.onerror = function errorHandler(msg, uri, line) {
		logger.fatal(uri + ':' + line + ' ' + msg);
		return true;
	};
	var eventBus = locator.resolve('eventBus');
	this._wrapEventsWithLogger(configObject, eventBus, logger);

	routeDefinitions.forEach(function (routeDefinition) {
		locator.registerInstance('routeDefinition', routeDefinition);
	});

	stores.forEach(function (store) {
		locator.registerInstance('store', store);
	});

	components.forEach(function (component) {
		locator.registerInstance('component', component);
	});
};

/**
 * Wraps event bus with log messages.
 * @param {Object} config Application config.
 * @param {EventEmitter} eventBus Event emitter that implements event bus.
 * @param {Logger} logger Logger to write messages.
 * @protected
 */
Bootstrapper.prototype._wrapEventsWithLogger =
	function (config, eventBus, logger) {
		BootstrapperBase.prototype._wrapEventsWithLogger
			.call(this, config, eventBus, logger);

		var isRelease = Boolean(config.isRelease);
		if (isRelease) {
			return;
		}
		eventBus
			.on('documentUpdated', function (args) {
				logger.debug(util.format(DEBUG_DOCUMENT_UPDATED, args.length));
			})
			.on('componentBound', function (args) {
				logger.debug(util.format(
					DEBUG_COMPONENT_BOUND,
					args.element.tagName + (args.id ? '#' + args.id : '')
				));
			})
			.on('componentUnbound', function (args) {
				logger.debug(util.format(
					DEBUG_COMPONENT_UNBOUND,
					args.element.tagName + (args.id ? '#' + args.id : '')
				));
			});
	};

module.exports = new Bootstrapper();
},{"./catberry_components/_common/common-h1/index.js":3,"./catberry_components/_common/common-paginator/index.js":4,"./catberry_components/breadcrumps/index.js":5,"./catberry_components/catalog-list/index.js":6,"./catberry_components/document/index.js":7,"./catberry_components/head/index.js":8,"./catberry_components/loader/index.js":9,"./catberry_components/master/master-block/master-block-about/index.js":10,"./catberry_components/master/master-block/master-block-article/index.js":11,"./catberry_components/master/master-block/master-block-link/index.js":12,"./catberry_components/master/master-block/master-block-photo/index.js":13,"./catberry_components/master/master-block/master-block-review/index.js":14,"./catberry_components/master/master-block/master-block-sale/index.js":15,"./catberry_components/master/master-block/master-block-service/index.js":16,"./catberry_components/master/master-block/master-block-video/index.js":17,"./catberry_components/master/master-block/master-block-work/index.js":18,"./catberry_components/master/master-filter/index.js":19,"./catberry_components/master/master-list/index.js":20,"./catberry_components/master/master-minicard/master-minicard/index.js":21,"./catberry_components/master/master-minicard/master-phone-btn/index.js":22,"./catberry_components/master/master-page/index.js":23,"./catberry_components/master/master-recommended/index.js":24,"./catberry_components/master/master-rubrika/index.js":25,"./catberry_components/other/other-news-item/index.js":26,"./catberry_components/other/other-news/index.js":27,"./catberry_components/other/other-recommendation/index.js":28,"./catberry_components/other/other-vacancy-item/index.js":29,"./catberry_components/other/other-vacancy/index.js":30,"./catberry_components/page/page-catalog/index.js":31,"./catberry_components/page/page-contact/index.js":32,"./catberry_components/page/page-feedback/index.js":33,"./catberry_components/page/page-login/index.js":34,"./catberry_components/page/page-main/dop-function/index.js":35,"./catberry_components/page/page-main/index.js":36,"./catberry_components/page/page-main/main-function/index.js":37,"./catberry_components/page/page-master-page/index.js":38,"./catberry_components/page/page-master-rubrika/index.js":39,"./catberry_components/page/page-news-item/index.js":40,"./catberry_components/page/page-news/index.js":41,"./catberry_components/page/page-oferta/index.js":42,"./catberry_components/page/page-recommendation/index.js":43,"./catberry_components/page/page-registration/index.js":44,"./catberry_components/page/page-request/index.js":45,"./catberry_components/page/page-sale/index.js":46,"./catberry_components/page/page-sovety/index.js":47,"./catberry_components/page/page-vacancy-item/index.js":48,"./catberry_components/page/page-vacancy/index.js":49,"./catberry_components/page/page-video/index.js":50,"./catberry_components/pages/pages-content/index.js":51,"./catberry_components/pages/pages-footer/index.js":52,"./catberry_components/pages/pages-header/index.js":53,"./catberry_components/pages/pages-navigation/index.js":54,"./catberry_components/registration/registration-about/index.js":55,"./catberry_components/registration/registration-faq/index.js":56,"./catberry_components/registration/registration-form/index.js":57,"./catberry_components/registration/registration-header/index.js":58,"./catberry_components/registration/registration-more-page/index.js":59,"./catberry_components/registration/registration-price/index.js":60,"./catberry_components/registration/registration-why-we/index.js":61,"./catberry_components/rubrikator/rubrikator-list/index.js":62,"./catberry_components/search/index.js":63,"./catberry_components/service-request/index.js":64,"./catberry_components/social/index.js":65,"./catberry_stores/Breadcrumps.js":66,"./catberry_stores/Head.js":67,"./catberry_stores/Pages.js":68,"./catberry_stores/Paginator.js":69,"./catberry_stores/Tag.js":70,"./catberry_stores/master/MasterItem.js":71,"./catberry_stores/master/MasterList.js":72,"./catberry_stores/master/MasterSovety.js":73,"./catberry_stores/master/MasterVideo.js":74,"./catberry_stores/master/Recommended.js":75,"./catberry_stores/other/News.js":76,"./catberry_stores/other/NewsItem.js":77,"./catberry_stores/other/Recommendation.js":78,"./catberry_stores/other/Vacancy.js":79,"./catberry_stores/other/VacancyItem.js":80,"./catberry_stores/rubrika/Rubrika.js":81,"./catberry_stores/rubrika/Rubrikator.js":82,"./catberry_stores/rubrika/RubrikatorCompany.js":83,"./catberry_stores/rubrika/RubrikatorParent.js":84,"./node_modules/catberry/browser/Catberry.js":89,"./node_modules/catberry/browser/CookieWrapper":90,"./node_modules/catberry/browser/Logger.js":92,"./node_modules/catberry/browser/providers/ModuleApiProvider":97,"./node_modules/catberry/lib/StoreDispatcher":101,"./node_modules/catberry/lib/base/BootstrapperBase.js":102,"./routes.js":146,"util":118}],2:[function(require,module,exports){
'use strict';

var catberry = require('catberry'),
// this config will be replaced by `./config/browser.json` when building
// because of `browser` field in `package.json`
    config = require('./config/environment.json'),
    templateEngine = require('./special_modules/catberry-handlebars'),
    helpers = require('./special_modules/catberry-handlebars-helpers'),
    cat = catberry.create(config);

// register template provider to Catberry Service Locator
templateEngine.register(cat.locator);
helpers.register(cat.locator)

cat.startWhenReady();


},{"./config/environment.json":85,"./special_modules/catberry-handlebars":153,"./special_modules/catberry-handlebars-helpers":150,"catberry":98}],3:[function(require,module,exports){
'use strict';

module.exports = CommonH1;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "common-h1" component.
 * @constructor
 */
function CommonH1() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
CommonH1.prototype.render = function () {
    return this.$context.attributes;
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
CommonH1.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
CommonH1.prototype.unbind = function () {

};

},{}],4:[function(require,module,exports){
'use strict';

module.exports = CommonPaginator;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "common-paginator" component.
 * @constructor
 */
function CommonPaginator() {
}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
CommonPaginator.prototype.render = function () {
    var self = this;
    var model = this.$context.attributes.model;
    if (!model)
        return {
            "is-paginator": false
        };

    return this.$context.sendAction("setModel", model)
        .then(function () {
            return self.$context.getStoreData();
        });
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
CommonPaginator.prototype.bind = function () {
    return {
        click: {
            '.paginator__number': this._handleClick
        }
    }
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
CommonPaginator.prototype.unbind = function () {

};
CommonPaginator.prototype._handleClick = function(){
    window.scrollTo(0,0);
};
},{}],5:[function(require,module,exports){
'use strict';

module.exports = Breadcrumps;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "breadcrumps" component.
 * @constructor
 */
function Breadcrumps() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Breadcrumps.prototype.render = function () {
    return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Breadcrumps.prototype.bind = function () {
    return {
        click: {
            '.js-parent-rub': this._clickHandler,
        }
    }
};


Breadcrumps.prototype._clickHandler = function (obj) {
    //var el = obj.target;
    var pos = $('.js-parent-rub').position().left + $('.js-parent-rub').width();
    $('.js-breadcrumbs-list').css('left', pos).toggle();
    return false;
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Breadcrumps.prototype.unbind = function () {

};

},{}],6:[function(require,module,exports){
'use strict';

module.exports = DopCatalogs;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "dop-catalogs" component.
 * @constructor
 */
function DopCatalogs() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
DopCatalogs.prototype.render = function () {

    return {
        'data-mod': this.$context.attributes['data-mod'],
        catalogs: [
            {
                url: "/sale",
                ico: "gift",
                title: "Поиск по скидке"
            },
            {
                url: "/video",
                ico: "video",
                title: "Поиск по видео"
            },
            {
                url: "/sovety",
                ico: "qwestion",
                title: "Секреты Мастеров"
            },
            {
                url: "/company",
                ico: "case",
                title: "Каталог фирм"
            }
        ]
    };
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
DopCatalogs.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
DopCatalogs.prototype.unbind = function () {

};

},{}],7:[function(require,module,exports){
'use strict';

module.exports = Document;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "document" component.
 * @constructor
 */
function Document() { }

},{}],8:[function(require,module,exports){
'use strict';

module.exports = Head;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "head" component.
 * @constructor
 */
function Head() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Head.prototype.render = function () {
	return this.$context.getStoreData();
};


},{}],9:[function(require,module,exports){
'use strict';

module.exports = Loader;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "loader" component.
 * @constructor
 */
function Loader() { }


},{}],10:[function(require,module,exports){
'use strict';

module.exports = MasterBlockAbout;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-about" component.
 * @constructor
 */
function MasterBlockAbout() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockAbout.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                data.aboutEduc = data.aboutEduc.replace(/\n/g, "<br>");
                data.aboutExp = data.aboutExp.replace(/\n/g, "<br>");
                data.aboutAddInfo = data.aboutAddInfo.replace(/\n/g, "<br>");
                return {
                    aboutEduc: data.aboutEduc,
                    aboutExp: data.aboutExp,
                    aboutAddInfo: data.aboutAddInfo
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockAbout.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockAbout.prototype.unbind = function () {

};

},{}],11:[function(require,module,exports){
'use strict';

module.exports = MasterBlockArticle;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-article" component.
 * @constructor
 */
function MasterBlockArticle() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockArticle.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                data.articles.forEach(function (item) {
                    item.author = data.name; //добавляем автора для каждой статьи
                });
                //console.log(data.articles);
                return {
                    articles: data.articles
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockArticle.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockArticle.prototype.unbind = function () {

};

},{}],12:[function(require,module,exports){
'use strict';

module.exports = MasterBlockLink;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-link" component.
 * @constructor
 */
function MasterBlockLink() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockLink.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockLink.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockLink.prototype.unbind = function () {

};

},{}],13:[function(require,module,exports){
'use strict';

module.exports = MasterBlockPhoto;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-photo" component.
 * @constructor
 */
function MasterBlockPhoto() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockPhoto.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                //console.log(data.albums);
                return {
                    albums: [
                        {
                            "id": 1991,
                            "ownerType": 1,
                            "ownerID": 1019,
                            "name": "Альбом №1",
                            "status": 1,
                            "photos": [
                                {
                                    "id": 63853,
                                    "albumID": 1991,
                                    "imgID": "5693458623041",
                                    "description": null
                                },
                                {
                                    "id": 63854,
                                    "albumID": 1991,
                                    "imgID": "569345868bbb3",
                                    "description": null
                                },
                                {
                                    "id": 63855,
                                    "albumID": 1991,
                                    "imgID": "5693458701367",
                                    "description": null
                                },
                                {
                                    "id": 63856,
                                    "albumID": 1991,
                                    "imgID": "5693458771840",
                                    "description": null
                                },
                                {
                                    "id": 63857,
                                    "albumID": 1991,
                                    "imgID": "56934587d8e05",
                                    "description": null
                                },
                                {
                                    "id": 63858,
                                    "albumID": 1991,
                                    "imgID": "5693458845eb4",
                                    "description": null
                                },
                                {
                                    "id": 63859,
                                    "albumID": 1991,
                                    "imgID": "56934588af766",
                                    "description": null
                                }
                            ]
                        },
                        {
                            "id": 1993,
                            "ownerType": 1,
                            "ownerID": 1058,
                            "name": "Сертификаты",
                            "status": 1,
                            "photos": [
                                {
                                    "id": 64068,
                                    "albumID": 1993,
                                    "imgID": "569345ba20dc9",
                                    "description": null
                                },
                                {
                                    "id": 64069,
                                    "albumID": 1993,
                                    "imgID": "569345ba80f84",
                                    "description": null
                                },
                                {
                                    "id": 64070,
                                    "albumID": 1993,
                                    "imgID": "569345baeb4d9",
                                    "description": ""
                                },
                                {
                                    "id": 64071,
                                    "albumID": 1993,
                                    "imgID": "569345bb5f92a",
                                    "description": null
                                },
                                {
                                    "id": 64072,
                                    "albumID": 1993,
                                    "imgID": "569345bc6aee8",
                                    "description": null
                                },
                                {
                                    "id": 88332,
                                    "albumID": 1993,
                                    "imgID": "5693503e61284",
                                    "description": null
                                },
                                {
                                    "id": 88333,
                                    "albumID": 1993,
                                    "imgID": "5693503ec5377",
                                    "description": null
                                },
                                {
                                    "id": 119761,
                                    "albumID": 1993,
                                    "imgID": "56936e0849ae9",
                                    "description": null
                                }
                            ]
                        }
                    ]
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockPhoto.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockPhoto.prototype.unbind = function () {

};

},{}],14:[function(require,module,exports){
'use strict';

module.exports = MasterBlockReview;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-review" component.
 * @constructor
 */
function MasterBlockReview() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockReview.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                data.vkLikes.data = JSON.parse(data.vkLikes.data);
                data.vkLikes.data.length = 9; //укорачиваем массив до 9 элементов
                //console.log(data.comments);
                return {
                    comments: data.comments,
                    vkLikes: data.vkLikes,
                    name: data.name,
                    imgID: data.imgID
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockReview.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockReview.prototype.unbind = function () {

};

},{}],15:[function(require,module,exports){
'use strict';

module.exports = MasterBlockSale;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-sale" component.
 * @constructor
 */
function MasterBlockSale() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockSale.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                //console.log(data.sales);
                return {
                    sales: data.sales
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockSale.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockSale.prototype.unbind = function () {

};

},{}],16:[function(require,module,exports){
'use strict';

module.exports = MasterBlockService;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-service" component.
 * @constructor
 */
function MasterBlockService() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockService.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                //console.log(data);
                data.services = [
                    'Эксперт по развитию (комфортных, надежных, благополучных, доверительных) семейных отношений',
                    'Психологическое сопровождение семьи от ЗАГСа и по жизни',
                    'Психология семейных отношений',
                    'Психотерапия (индивидуальная и групповая)',
                    'Личные проблемы – беспокойства и страхи, неуверенность в себе, депрессия',
                    'Одиночество, не складывается личная жизнь',
                    'Проблемы в общении – сложности во взаимоотношениях, непонимание',
                    'Психосоматические расстройства у детей и взрослых',
                    'Зависимость (алкогольная, никотиновая, игровая и т.д.)',
                    'Повышенная конфликтность, конфликты на работе и не только',
                    'Психология детско-родительских отношений',
                    'Психодиагностика',
                    'Финансовое благополучие семьи – деньги и семейные конфликты, мои взаимоотношения с деньгами, развитие финансовой грамотности, финансовый диагноз',
                    'Организационная психология и бизнес-тренинги',
                    'Вопросы воспитания и развития',
                    'Психологическое консультирование',
                    'Индивидуальная психотерапия',
                    'Групповая психотерапия',
                    'Детско-родительские отношения',
                    'Проблемы семейных отношений',
                    'Проблемы взаимоотношений',
                    'Личностные проблемы',
                    'Психосоматические расстройства',
                    'Экзистенциальные вопросы',
                    'Работа со снами и мифами'
                ];
                var fieldsValSum = 0;
                var fieldsValHalfSum = 0;
                var part1 = [];
                var part2 = [];

                data.services.forEach(function (item, i, arr) {
                    //var fieldsValHalfSum = 0;
                    var fieldsValLength;

                    fieldsValLength = item.length;
                    if (fieldsValLength < 30) {
                        fieldsValLength = 30;
                    }
                    fieldsValSum += fieldsValLength;
                });
                data.services.forEach(function (item, i, arr) {
                    var fieldsValLength;

                    fieldsValLength = item.length;
                    if (fieldsValHalfSum < fieldsValSum / 2) {
                        part1.push(item);
                    } else {
                        part2.push(item);
                    }
                    fieldsValHalfSum += fieldsValLength;
                });
                data.services = [];
                data.services.part1 = part1;
                data.services.part2 = part2;
                //console.log(data.services);
                return {
                    services: data.services
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockService.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockService.prototype.unbind = function () {

};

},{}],17:[function(require,module,exports){
'use strict';

module.exports = MasterBlockVideo;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-video" component.
 * @constructor
 */
function MasterBlockVideo() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockVideo.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                //console.log(data.videos);
                return {
                    videos: data.videos
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockVideo.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockVideo.prototype.unbind = function () {

};

},{}],18:[function(require,module,exports){
'use strict';

module.exports = MasterBlockWork;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-block-work" component.
 * @constructor
 */
function MasterBlockWork() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterBlockWork.prototype.render = function () {
    if (this.$context.attributes['master-page']) {
        return this.$context.getStoreData()
            .then(function (data) {
                var tempArr = new Array(7);
                data.schedule.forEach(function (item) {
                    item.open = item.open.substr(0, 5);
                    item.close = item.close.substr(0, 5);
                    tempArr[item.day - 1] = item;
                });
                data.schedule = tempArr;
                return {
                    schedule: data.schedule,
                    district: data.districts,
                    workCondition: data.workCondition
                }
            });
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterBlockWork.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterBlockWork.prototype.unbind = function () {

};

},{}],19:[function(require,module,exports){
'use strict';
module.exports = MasterFilter;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-filter" component.
 * @constructor
 */
function MasterFilter() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterFilter.prototype.render = function () {
    var self = this;
    var path, currentTag;
    var result = [];

    return this.$context.getStoreData()
        .then(function (data) {
            path = '/' + data.rubrika.parent.unique + '/' + data.rubrika.unique;

            return self.$context.getStoreData('master/MasterList')
                .then(function (master) {
                    if (Object.keys(master).length > 0)
                        result.push({
                            url: path,
                            sectionName: "master",
                            title: "Мастера",
                            ico: "man"
                        });
                })
                .then(function () {
                    return self.$context.getStoreData('master/MasterVideo')
                })
                .then(function (video) {
                    //if (Object.keys(master).length > 0)
                    result.push({
                        url: path + '/video',
                        sectionName: "video",
                        title: "Видео Мастеров",
                        ico: "video"
                    });
                })
                .then(function () {
                    //return self.$context.getStoreData('master/MasterVideo')
                })
                .then(function (sales) {
                    //if (Object.keys(master).length > 0)
                    result.push({
                        url: path + '/sale',
                        sectionName: "sale",
                        title: "Скидки Мастеров",
                        ico: "gift"
                    });
                })
                .then(function () {
                    //return self.$context.getStoreData('master/MasterVideo')
                })
                .then(function (secrets) {
                    //if (Object.keys(master).length > 0)
                    result.push({
                        url: path + '/sovety',
                        sectionName: "sovety",
                        title: "Секреты Мастеров",
                        ico: "qwestion"
                    });
                })
                .then(function () {
                    //return self.$context.getStoreData('master/MasterVideo')
                })
                .then(function (company) {
                    //if (Object.keys(master).length > 0)
                    result.push({
                        url: path + '/company',
                        sectionName: "company",
                        title: "Каталог фирм",
                        ico: "case"
                    });
                })
                .then(function () {
                    self._decoreOpenSection(result, data);
                    return {filterSection: result};
                })
        });
};
/**
 * Декарирование открытой секции (добавление тегов, ортировки)
 * @param result массив для декорирования
 * @param rubrika рубрика из стора
 * @private
 */
MasterFilter.prototype._decoreOpenSection = function (result, data) {
    var currentSection = data.section;

    for (var i = 0; i < result.length; ++i) {
        if (result[i].sectionName == currentSection) {

            var tags = this._getTags(data);
            result[i].openSection = {tagsGroup: tags};
            if (currentSection == 'masters') {
                result[i].openSection.sortBy = {
                    "url": "",
                    "method": "get"
                };
            }
            return;
        }
    }
};

/**
 * Перестройка тегов
 * @param tagsJson тэги из json
 * @param path абсолютный родительский путь для ссылок в тегах
 * @param currentTag текущий тег для выделения
 * @returns {Array} теги разбитые по группам
 * @private
 */
MasterFilter.prototype._getTags = function (data) {
    var path = '/' + data.rubrika.parent.unique + '/' + data.rubrika.unique;
    var tagsJson = data.rubrika.tags;
    var currentTag = data.tag.unique ;
    var currentSection = data.section;
    var tags = [];

    Object.keys(tagsJson)
        .forEach(function (n) {
            var tag = tagsJson[n];
            tag.isActive = false;

            if (!tags[tag.group])
                tags[tag.group] = [];

            if (tag.unique == currentTag) {
                tag.isActive = true;
                tag.urlBack = path;
            }
            if (currentSection == 'master') {
                tag.path = path + '/' + tag.unique;
            } else {
                tag.path = path + '/' + tag.unique + '/' + currentSection;
            }

            tags[tag.group].push(tag);
        });

    //сортируем
    var tagsGroup = [];
    Object.keys(tags).sort().forEach(function (key) {
        tagsGroup.push({
            title: key,
            tags: tags[key]
        });
    });
    return tagsGroup;
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterFilter.prototype.bind = function () {
    return {
        click: {
            '.js-filter-toggle-btn.active': this._clickSection
        }
    }
};

MasterFilter.prototype._clickSection = function (obj) {
    var dom = obj.target;
    var el;
    if (!($(dom).hasClass('js-filter-toggle-btn') && $(dom).hasClass('active')))
        el = $(dom).parents('.js-filter-toggle-btn');
    else
        el = $(dom);
    el.parent().find('.js-filter-toggle-section').slideToggle();
    el.find('.filter-section__arrow-icon').toggleClass('down');
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterFilter.prototype.unbind = function () {

};

},{}],20:[function(require,module,exports){
'use strict';

module.exports = MasterList;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-list" component.
 * @constructor
 */
function MasterList() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterList.prototype.render = function () {
    //return this.$context.getStoreData();
    return [
        {
            "id": 1003,
            "userID": 20682,
            "rubrikaID": 11,
            "sort": 495,
            "name": "Коваленко Виталий",
            "imgID": null,
            "services": "[\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043c\u0438\u043a\u0440\u043e\u0432\u043e\u043b\u043d\u043e\u0432\u044b\u0445 \u043f\u0435\u0447\u0435\u0439\",\"\u0417\u0430\u043f\u0430\u0441\u043d\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u043d\u0430 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0438 \u043d\u0430 \u0437\u0430\u043a\u0430\u0437 ( \u043d\u0430\u0441\u043e\u0441\u044b, \u0422\u042d\u041d\u044b, \u043f\u043e\u0434\u0448\u0438\u043f\u043d\u0438\u043a\u0438, \u0440\u0435\u043c\u043d\u0438, \u0441\u0430\u043b\u044c\u043d\u0438\u043a\u0438, \u0440\u0443\u0447\u043a\u0438 \u043b\u044e\u043a\u0430 \u0438 \u0442.\u0434.)\",\"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0445\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u0432 \u0438 \u043c\u043e\u0440\u043e\u0437\u0438\u043b\u044c\u043d\u044b\u0445 \u043a\u0430\u043c\u0435\u0440\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043f\u044b\u043b\u0435\u0441\u043e\u0441\u043e\u0432, \u043e\u0431\u043e\u0433\u0440\u0435\u0432\u0430\u0442\u0435\u043b\u0435\u0439\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0447\u0430\u0439\u043d\u0438\u043a\u043e\u0432, \u0443\u0442\u044e\u0433\u043e\u0432, \u0444\u0435\u043d\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043a\u0443\u0445\u043e\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0431\u0430\u0439\u043d\u043e\u0432, \u0431\u043b\u0435\u043d\u0434\u0435\u0440\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0432\u0441\u0435\u0433\u043e, \u0447\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0440\u043e\u0437\u0435\u0442\u043a\u0443\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043f\u0443\u043b\u044c\u0442\u043e\u0432 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u0440\u0430\u0434\u0438\u043e\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u044d\u043b\u0435\u0442\u0440\u043e\u043f\u043b\u0438\u0442 \u0438 \u0434\u0443\u0445\u043e\u0432\u043e\u043a\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0448\u0432\u0435\u0439\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d \u0438 \u043e\u0432\u0435\u0440\u043b\u043e\u043a\u043e\u0432\",\"\u0418 \u0432\u0441\u0435\u0433\u043e, \u0447\u0442\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0440\u0435\u043c\u043e\u043d\u0442\u0430\"]",
            "spec": "Ремонт стиральных машин, холодильников и прочей бытовой техники",
            "aboutEduc": "Жигулёвский радиотехникум",
            "aboutExp": "25 лет в сфере ремонта бытовой техники",
            "aboutAddInfo": "",
            "publicStatus": 1,
            "publicDateEnd": "2016-07-26",
            "moderStatus": 3,
            "moderComment": "",
            "contacts": {
                "id": 562,
                "ownerType": 1,
                "ownerID": 1003,
                "phone": "9608500622",
                "workPhone": "74-29-70",
                "email": "kovalenko.6974@yandex.ru \t",
                "addr": "",
                "addrCoord": "",
                "skype": "",
                "icq": ""
            },
            "page": {
                "id": 4550,
                "masterID": 1003,
                "transactionID": 0,
                "dateStart": "2015-08-01",
                "dateEnd": "2016-07-26",
                "number": 1003,
                "sales": 1,
                "articles": 0,
                "albums": 1,
                "videos": 0,
                "comments": 1,
                "services": 8,
                "links": 0
            }
        },
        {
            "id": 1005,
            "userID": 20684,
            "rubrikaID": 8,
            "sort": 358,
            "name": "Звездилина Ирина",
            "imgID": null,
            "services": "[\"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0444\u0438\u0440\u043c\",\"\u041b\u0438\u043a\u0432\u0438\u0434\u0430\u0446\u0438\u044f \u0444\u0438\u0440\u043c\",\"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438\",\"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0446\u0438\u0438\",\"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043d\u0430\u043b\u043e\u0433\u0430 (\u0436\u0438\u043b\u044c\u0435, \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435, \u043b\u0435\u0447\u0435\u043d\u0438\u0435) \/ 3-\u041d\u0414\u0424\u041b\",\"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0443\u0441\u0442\u0430\u0432, \u0433\u043e\u0441. \u0440\u0435\u0435\u0441\u0442\u0440\",\"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0418\u041f\"]",
            "spec": "Бухгалтерские услуги. Регистрация ИП, ООО",
            "aboutEduc": "Высшее экономическое",
            "aboutExp": "4 года",
            "aboutAddInfo": "",
            "publicStatus": 1,
            "publicDateEnd": "2015-12-28",
            "moderStatus": 3,
            "moderComment": "",
            "contacts": {
                "id": 439,
                "ownerType": 1,
                "ownerID": 1005,
                "phone": "365151",
                "workPhone": "",
                "email": "avista-tlt@yandex.ru",
                "addr": "Степана Разина 4А, 3 этаж, оф. 4, Дон",
                "addrCoord": "",
                "skype": "",
                "icq": ""
            },
            "page": {
                "id": 4395,
                "masterID": 1005,
                "transactionID": 0,
                "dateStart": "2015-07-01",
                "dateEnd": "2015-12-28",
                "number": 1005,
                "sales": 0,
                "articles": 0,
                "albums": 0,
                "videos": 0,
                "comments": 1,
                "services": 8,
                "links": 0
            }
        },
        {
            "id": 1006,
            "userID": 20685,
            "rubrikaID": 11,
            "sort": 282,
            "name": "Степанов Вениамин",
            "imgID": null,
            "services": "[\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0445\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0445\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u0432\",\"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0443\u043f\u043b\u043e\u0442\u043d\u0438\u0442\u0435\u043b\u0435\u0439, \u0440\u0435\u0437\u0438\u043d\u044b\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\"]",
            "spec": "Ремонт холодильников и стиральных машин",
            "aboutEduc": "Среднее-специальное слесарь-электрик по ремонту электрооборудования, бытовых машин, приборов. 4 разряд",
            "aboutExp": "28 лет",
            "aboutAddInfo": "",
            "publicStatus": 1,
            "publicDateEnd": "2016-08-26",
            "moderStatus": 3,
            "moderComment": "",
            "contacts": {
                "id": 563,
                "ownerType": 1,
                "ownerID": 1006,
                "phone": "611346",
                "workPhone": "612491",
                "email": "",
                "addr": "ДБ Заря",
                "addrCoord": "",
                "skype": null,
                "icq": null
            },
            "page": {}
        }
    ];
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterList.prototype.bind = function () {
    var window = this.$context.locator.resolve('window');
    window.addEventListener('resize', this._allMinicardServicesCut);
};
MasterList.prototype._allMinicardServicesCut = function () {
    $('.master-minicard').each(function () {
        var minicardServices = $(this).find('.master-minicard__services');
        var servicesList = minicardServices.find('li');
        var maxHeight =
            $(this).height() - ($(this).find('.master-minicard__name').height() + $(this).find('.master-minicard__spec').height());
        var servicesCount = minicardServices.find('li').length;

        console.log('maxHeight = ' + maxHeight);
        if (minicardServices.height() > maxHeight) {
            while (minicardServices.height() > maxHeight && servicesCount >= 0) {
                $(servicesList[servicesCount - 1]).hide();
                servicesCount--;
            }
        } else if ((minicardServices.height() + 10) < maxHeight) {
            var i = 0;
            while (minicardServices.height() < maxHeight && i < servicesCount + 1) {
                $(servicesList[i]).show();
                i++;
            }
            if (minicardServices.height() > maxHeight) {
                $(servicesList[i - 1]).hide();
            }
        }
    });
};
/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterList.prototype.unbind = function () {
    var window = this.$context.locator.resolve('window');
    window.removeEventLister('resize');
};

},{}],21:[function(require,module,exports){
'use strict';

module.exports = MasterMinicard;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-minicard" component.
 * @constructor
 */
function MasterMinicard() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterMinicard.prototype.render = function () {
    var data = [
        {
            "id": 1003,
            "userID": 20682,
            "rubrikaID": 11,
            "sort": 495,
            "name": "Коваленко Виталий",
            "imgID": null,
            "services": "[\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043c\u0438\u043a\u0440\u043e\u0432\u043e\u043b\u043d\u043e\u0432\u044b\u0445 \u043f\u0435\u0447\u0435\u0439\",\"\u0417\u0430\u043f\u0430\u0441\u043d\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u043d\u0430 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0438 \u043d\u0430 \u0437\u0430\u043a\u0430\u0437 ( \u043d\u0430\u0441\u043e\u0441\u044b, \u0422\u042d\u041d\u044b, \u043f\u043e\u0434\u0448\u0438\u043f\u043d\u0438\u043a\u0438, \u0440\u0435\u043c\u043d\u0438, \u0441\u0430\u043b\u044c\u043d\u0438\u043a\u0438, \u0440\u0443\u0447\u043a\u0438 \u043b\u044e\u043a\u0430 \u0438 \u0442.\u0434.)\",\"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0445\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u0432 \u0438 \u043c\u043e\u0440\u043e\u0437\u0438\u043b\u044c\u043d\u044b\u0445 \u043a\u0430\u043c\u0435\u0440\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043f\u044b\u043b\u0435\u0441\u043e\u0441\u043e\u0432, \u043e\u0431\u043e\u0433\u0440\u0435\u0432\u0430\u0442\u0435\u043b\u0435\u0439\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0447\u0430\u0439\u043d\u0438\u043a\u043e\u0432, \u0443\u0442\u044e\u0433\u043e\u0432, \u0444\u0435\u043d\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043a\u0443\u0445\u043e\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0431\u0430\u0439\u043d\u043e\u0432, \u0431\u043b\u0435\u043d\u0434\u0435\u0440\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0432\u0441\u0435\u0433\u043e, \u0447\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0440\u043e\u0437\u0435\u0442\u043a\u0443\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043f\u0443\u043b\u044c\u0442\u043e\u0432 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u0440\u0430\u0434\u0438\u043e\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u044d\u043b\u0435\u0442\u0440\u043e\u043f\u043b\u0438\u0442 \u0438 \u0434\u0443\u0445\u043e\u0432\u043e\u043a\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0448\u0432\u0435\u0439\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d \u0438 \u043e\u0432\u0435\u0440\u043b\u043e\u043a\u043e\u0432\",\"\u0418 \u0432\u0441\u0435\u0433\u043e, \u0447\u0442\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0440\u0435\u043c\u043e\u043d\u0442\u0430\"]",
            "spec": "Ремонт стиральных машин, холодильников и прочей бытовой техники",
            "aboutEduc": "Жигулёвский радиотехникум",
            "aboutExp": "25 лет в сфере ремонта бытовой техники",
            "aboutAddInfo": "",
            "publicStatus": 1,
            "publicDateEnd": "2016-07-26",
            "moderStatus": 3,
            "moderComment": "",
            "contacts": {
                "id": 562,
                "ownerType": 1,
                "ownerID": 1003,
                "phone": "9608500622",
                "workPhone": "74-29-70",
                "email": "kovalenko.6974@yandex.ru \t",
                "addr": "",
                "addrCoord": "",
                "skype": "",
                "icq": ""
            },
            "page": {
                "id": 4550,
                "masterID": 1003,
                "transactionID": 0,
                "dateStart": "2015-08-01",
                "dateEnd": "2016-07-26",
                "number": 1003,
                "sales": 1,
                "articles": 0,
                "albums": 1,
                "videos": 0,
                "comments": 1,
                "services": 8,
                "links": 0
            }
        },
        {
            "id": 1005,
            "userID": 20684,
            "rubrikaID": 8,
            "sort": 358,
            "name": "Звездилина Ирина",
            "imgID": null,
            "services": "[\"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0444\u0438\u0440\u043c\",\"\u041b\u0438\u043a\u0432\u0438\u0434\u0430\u0446\u0438\u044f \u0444\u0438\u0440\u043c\",\"\u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438\",\"\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0435\u043a\u043b\u0430\u0440\u0430\u0446\u0438\u0438\",\"\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043d\u0430\u043b\u043e\u0433\u0430 (\u0436\u0438\u043b\u044c\u0435, \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435, \u043b\u0435\u0447\u0435\u043d\u0438\u0435) \/ 3-\u041d\u0414\u0424\u041b\",\"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0443\u0441\u0442\u0430\u0432, \u0433\u043e\u0441. \u0440\u0435\u0435\u0441\u0442\u0440\",\"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0418\u041f\"]",
            "spec": "Бухгалтерские услуги. Регистрация ИП, ООО",
            "aboutEduc": "Высшее экономическое",
            "aboutExp": "4 года",
            "aboutAddInfo": "",
            "publicStatus": 1,
            "publicDateEnd": "2015-12-28",
            "moderStatus": 3,
            "moderComment": "",
            "contacts": {
                "id": 439,
                "ownerType": 1,
                "ownerID": 1005,
                "phone": "365151",
                "workPhone": "",
                "email": "avista-tlt@yandex.ru",
                "addr": "Степана Разина 4А, 3 этаж, оф. 4, Дон",
                "addrCoord": "",
                "skype": "",
                "icq": ""
            },
            "page": {
                "id": 4395,
                "masterID": 1005,
                "transactionID": 0,
                "dateStart": "2015-07-01",
                "dateEnd": "2015-12-28",
                "number": 1005,
                "sales": 0,
                "articles": 0,
                "albums": 0,
                "videos": 0,
                "comments": 1,
                "services": 8,
                "links": 0
            }
        },
        {
            "id": 1006,
            "userID": 20685,
            "rubrikaID": 11,
            "sort": 282,
            "name": "Степанов Вениамин",
            "imgID": null,
            "services": "[\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0445\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u0432\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0445\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u0432\",\"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0443\u043f\u043b\u043e\u0442\u043d\u0438\u0442\u0435\u043b\u0435\u0439, \u0440\u0435\u0437\u0438\u043d\u044b\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u043e\u0442\u0435\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\",\"\u0420\u0435\u043c\u043e\u043d\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0441\u0442\u0438\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d\"]",
            "spec": "Ремонт холодильников и стиральных машин",
            "aboutEduc": "Среднее-специальное слесарь-электрик по ремонту электрооборудования, бытовых машин, приборов. 4 разряд",
            "aboutExp": "28 лет",
            "aboutAddInfo": "",
            "publicStatus": 1,
            "publicDateEnd": "2016-08-26",
            "moderStatus": 3,
            "moderComment": "",
            "contacts": {
                "id": 563,
                "ownerType": 1,
                "ownerID": 1006,
                "phone": "611346",
                "workPhone": "612491",
                "email": "",
                "addr": "ДБ Заря",
                "addrCoord": "",
                "skype": null,
                "icq": null
            },
            "page": {}
        }
    ];
    var master = data.filter(function (el) {
        return (el.id == this.$context.attributes['master-id']);
    }.bind(this));
    master[0]['services'] = JSON.parse(master[0]['services']);
    if (master[0].page.sales || master[0].page.albums || master[0].page.videos || master[0].page.comments) {
        master[0].isWidget = true;
    }
    return master[0];
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterMinicard.prototype.bind = function () {
    this._minicardServicesCut();
    return {};
};
MasterMinicard.prototype._minicardServicesCut = function () {
    var minicard = $('#' + this.$context.element.id);
    var minicardServices = minicard.find('.master-minicard__services');
    var maxHeight =
        minicard.find('.master-minicard').height() - (minicard.find('.master-minicard__name').height() + minicard.find('.master-minicard__spec').height());
    var servicesCount = minicardServices.find('li').length;

    while (minicardServices.height() > maxHeight) {
        $(minicardServices.find('li')[servicesCount]).hide();
        servicesCount--;
    }
    console.log(servicesCount);
};
/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterMinicard.prototype.unbind = function () {

};

},{}],22:[function(require,module,exports){
'use strict';

module.exports = MasterPhoneBtn;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-phone-btn" component.
 * @constructor
 */
function MasterPhoneBtn() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterPhoneBtn.prototype.render = function () {
    return {
        "contacts": {
            "id": 439,
            "ownerType": 1,
            "ownerID": 1005,
            "phone": "365151",
            "workPhone": "",
            "email": "avista-tlt@yandex.ru",
            "addr": "Степана Разина 4А, 3 этаж, оф. 4, Дон",
            "addrCoord": "",
            "skype": "",
            "icq": ""
        },
        "page": {
            "id": 4395,
            "masterID": 1005,
            "transactionID": 0,
            "dateStart": "2015-07-01",
            "dateEnd": "2015-12-28",
            "number": 1005,
            "sales": 0,
            "articles": 0,
            "albums": 0,
            "videos": 0,
            "comments": 1,
            "services": 8,
            "links": 0
        }
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterPhoneBtn.prototype.bind = function () {
    return {
        click: {
            '.js-show-phone': this._clickPhoneHandler,
            '.js-close-tip': this._clickCloseTipHandler
        }
    }
};

MasterPhoneBtn.prototype._clickPhoneHandler = function (obj) {
    var el = obj.target;
    $(el).hide();
    $(el).siblings('.js-show-phone-details').show();
    $(el).closest('.master-minicard').find('.js-master-phone-tip').fadeIn(400).delay(4000).fadeOut(500);
};
MasterPhoneBtn.prototype._clickCloseTipHandler = function (obj) {
    var el = obj.target;
    $(el).closest('.js-master-phone-tip').stop().fadeOut(500);
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterPhoneBtn.prototype.unbind = function () {

};

},{}],23:[function(require,module,exports){
'use strict';

module.exports = MasterPage;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-page" component.
 * @constructor
 */
function MasterPage() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterPage.prototype.render = function () {
    return this.$context.getStoreData().then(function (data) {
        console.log(data.company);
        return data;
    });
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterPage.prototype.bind = function () {
    var offset = $('.menu-mp').offset();
    $(window).bind('scroll', function () {
        if ($(window).scrollTop() + 30 > offset.top) {
            $('.menu-mp').addClass('fixed');
        } else {
            $('.menu-mp').removeClass('fixed');
        }
    });
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterPage.prototype.unbind = function () {
    $(window).unbind('scroll');
};

},{}],24:[function(require,module,exports){
'use strict';

module.exports = MasterRecommended;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-recommended" component.
 * @constructor
 */
function MasterRecommended() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterRecommended.prototype.render = function () {
    //return this.$context.getStoreData();
    return {
        "is-recommended-masters": true,
        "url-arrow-left": "404",
        "url-arrow-right": "404",
        "recommended-master": [
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/3720.jpg",
                "alt": "Князев А.Ю.",
                "master-name": "Князев А.Ю.",
                "recommendation-number": "27 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/4617.jpg",
                "alt": "Хальзов А.",
                "master-name": "Хальзов А.",
                "recommendation-number": "6 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/7428.jpg",
                "alt": "Булгаков В.А.",
                "master-name": "Булгаков В.А.",
                "recommendation-number": "5 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/3720.jpg",
                "alt": "Князев А.Ю.",
                "master-name": "Князев А.Ю.",
                "recommendation-number": "27 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/4617.jpg",
                "alt": "Хальзов А.",
                "master-name": "Хальзов А.",
                "recommendation-number": "6 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/7428.jpg",
                "alt": "Булгаков В.А.",
                "master-name": "Булгаков В.А.",
                "recommendation-number": "5 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/3720.jpg",
                "alt": "Князев А.Ю.",
                "master-name": "Князев А.Ю.",
                "recommendation-number": "27 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/4617.jpg",
                "alt": "Хальзов А.",
                "master-name": "Хальзов А.",
                "recommendation-number": "6 человек"
            },
            {
                "master-url": "404",
                "src": "/img/assets/master_recommended/7428.jpg",
                "alt": "Булгаков В.А.",
                "master-name": "Булгаков В.А.",
                "recommendation-number": "5 человек"
            }
        ]
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterRecommended.prototype.bind = function () {
    this.bindSlick();
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterRecommended.prototype.unbind = function () {
    this.unbindSlick();
};

MasterRecommended.prototype.bindSlick = function () {
    $('.master_recommended__slider').slick({
        dots: false,
        infinite: false,
        speed: 700,
        slidesToShow: 4,
        slidesToScroll: 3,
        prevArrow: '<div class="slick-prev">' +
        '<svg class="icon icon_strelka" title="icon_strelka" role="img">' +
        '<use xlink:href="/icon-svg/svg-symbols.svg#icon_strelka"/>' +
        '</svg>' +
        '</div>',
        nextArrow: '<div class="slick-next">' +
        '<svg class="icon icon_strelka" title="icon_strelka" role="img">' +
        '<use xlink:href="/icon-svg/svg-symbols.svg#icon_strelka"/>' +
        '</svg>' +
        '</div>'
    });
};
MasterRecommended.prototype.unbindSlick = function () {
    $('.master_recommended__slider').slick("unslick");
};
},{}],25:[function(require,module,exports){
'use strict';

module.exports = MasterRubrika;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "master-rubrika" component.
 * @constructor
 */
function MasterRubrika() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MasterRubrika.prototype.render = function () {
    return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MasterRubrika.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MasterRubrika.prototype.unbind = function () {

};

},{}],26:[function(require,module,exports){
'use strict';

module.exports = OtherNewsItem;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "other-news-item" component.
 * @constructor
 */
function OtherNewsItem() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
OtherNewsItem.prototype.render = function () {
    return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
OtherNewsItem.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
OtherNewsItem.prototype.unbind = function () {

};

},{}],27:[function(require,module,exports){
'use strict';

module.exports = OtherNews;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "other-news" component.
 * @constructor
 */
function OtherNews() {
}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
OtherNews.prototype.render = function () {
    return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
OtherNews.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
OtherNews.prototype.unbind = function () {

};

},{}],28:[function(require,module,exports){
'use strict';

module.exports = OtherRecommendation;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "other-recommendation" component.
 * @constructor
 */
function OtherRecommendation() {
}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
OtherRecommendation.prototype.render = function () {
    return this.$context.getStoreData()
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
OtherRecommendation.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
OtherRecommendation.prototype.unbind = function () {

};

},{}],29:[function(require,module,exports){
'use strict';

module.exports = OtherVacancyItem;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "other-vacancy-item" component.
 * @constructor
 */
function OtherVacancyItem() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
OtherVacancyItem.prototype.render = function () {
    return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
OtherVacancyItem.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
OtherVacancyItem.prototype.unbind = function () {

};

},{}],30:[function(require,module,exports){
'use strict';

module.exports = OtherVacancy;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "other-vacancy" component.
 * @constructor
 */
function OtherVacancy() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
OtherVacancy.prototype.render = function () {
    return this.$context.getStoreData()
        .then (function (res) {
        return {
            vacancy: res
        }
    });
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
OtherVacancy.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
OtherVacancy.prototype.unbind = function () {

};

},{}],31:[function(require,module,exports){
'use strict';

module.exports = Rubikator;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "rubikator" component.
 * @constructor
 */
function Rubikator() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Rubikator.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Rubikator.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Rubikator.prototype.unbind = function () {

};

},{}],32:[function(require,module,exports){
'use strict';

module.exports = PageContact;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-contact" component.
 * @constructor
 */
function PageContact() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageContact.prototype.render = function () {
    return {
        "phone": "(8482) 741-147",
        "email": "info@facemaster.ru",
        "adress": "г. Тольятти, ул. Автостроителей 41А-1"
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageContact.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageContact.prototype.unbind = function () {

};

},{}],33:[function(require,module,exports){
'use strict';

module.exports = PageFeedback;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-feedback" component.
 * @constructor
 */
function PageFeedback() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageFeedback.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageFeedback.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageFeedback.prototype.unbind = function () {

};

},{}],34:[function(require,module,exports){
'use strict';

module.exports = PageLogin;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-login" component.
 * @constructor
 */
function PageLogin() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageLogin.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageLogin.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageLogin.prototype.unbind = function () {

};

},{}],35:[function(require,module,exports){
'use strict';

module.exports = DopFunction;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "dop-function" component.
 * @constructor
 */
function DopFunction() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
DopFunction.prototype.render = function () {
    return {
        "menuMaster": [
            {
                "url": "/registration",
                "title": "Стать Мастером",
                "icon": true
            },
            {
                "url": "/recommendation",
                "title": "Мастера о сайте"
            }
        ],
        "menuAbout": [
            {
                "url": "/news",
                "title": "Новости"
            },
            {
                "url": "/vacancy",
                "title": "Вакансии"
            }
        ],
        "menuBayda": [
            {
                "url": "/404",
                "title": "Конкурсы газеты Презент"
            },
            {
                "url": "/404",
                "title": "Маршрутки Тольятти с 01.01.2015"
            },
            {
                "url": "/404",
                "title": "Дачные перевозки"
            },
            {
                "empty": true
            }
        ]
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
DopFunction.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
DopFunction.prototype.unbind = function () {

};

},{}],36:[function(require,module,exports){
'use strict';

module.exports = Main;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "main" component.
 * @constructor
 */
function Main() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Main.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Main.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Main.prototype.unbind = function () {

};

},{}],37:[function(require,module,exports){
'use strict';

module.exports = MainFunction;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "main-function" component.
 * @constructor
 */
function MainFunction() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
MainFunction.prototype.render = function () {
  return {
    countMaster: '1 234 Мастера'
  }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
MainFunction.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
MainFunction.prototype.unbind = function () {

};

},{}],38:[function(require,module,exports){
'use strict';

module.exports = PageMasterPage;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-master-page" component.
 * @constructor
 */
function PageMasterPage() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageMasterPage.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageMasterPage.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageMasterPage.prototype.unbind = function () {

};

},{}],39:[function(require,module,exports){
'use strict';

module.exports = PageMasterRubrika;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-master-rubrika" component.
 * @constructor
 */
function PageMasterRubrika() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageMasterRubrika.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageMasterRubrika.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageMasterRubrika.prototype.unbind = function () {

};

},{}],40:[function(require,module,exports){
'use strict';

module.exports = PageNewsItem;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-news-item" component.
 * @constructor
 */
function PageNewsItem() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageNewsItem.prototype.render = function () {
    return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageNewsItem.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageNewsItem.prototype.unbind = function () {

};

},{}],41:[function(require,module,exports){
'use strict';

module.exports = PageNews;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-news" component.
 * @constructor
 */
function PageNews() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageNews.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageNews.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageNews.prototype.unbind = function () {

};

},{}],42:[function(require,module,exports){
'use strict';

module.exports = PageOferta;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-oferta" component.
 * @constructor
 */
function PageOferta() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageOferta.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageOferta.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageOferta.prototype.unbind = function () {

};

},{}],43:[function(require,module,exports){
'use strict';

module.exports = PageRecommendation;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-recommendation" component.
 * @constructor
 */
function PageRecommendation() {
}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageRecommendation.prototype.render = function () {
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageRecommendation.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageRecommendation.prototype.unbind = function () {

};

},{}],44:[function(require,module,exports){
'use strict';

module.exports = PageRegistration;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-registration" component.
 * @constructor
 */
function PageRegistration() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageRegistration.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageRegistration.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageRegistration.prototype.unbind = function () {

};

},{}],45:[function(require,module,exports){
'use strict';

module.exports = PageRequest;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-request" component.
 * @constructor
 */
function PageRequest() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageRequest.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageRequest.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageRequest.prototype.unbind = function () {

};

},{}],46:[function(require,module,exports){
'use strict';

module.exports = PageSaleCatalog;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-sale-catalog" component.
 * @constructor
 */
function PageSaleCatalog() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageSaleCatalog.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageSaleCatalog.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageSaleCatalog.prototype.unbind = function () {

};

},{}],47:[function(require,module,exports){
'use strict';

module.exports = PageSovetyCatalog;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-sovety-catalog" component.
 * @constructor
 */
function PageSovetyCatalog() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageSovetyCatalog.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageSovetyCatalog.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageSovetyCatalog.prototype.unbind = function () {

};

},{}],48:[function(require,module,exports){
'use strict';

module.exports = PageVacancyItem;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-vacancy-item" component.
 * @constructor
 */
function PageVacancyItem() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageVacancyItem.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageVacancyItem.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageVacancyItem.prototype.unbind = function () {

};

},{}],49:[function(require,module,exports){
'use strict';

module.exports = PageVacancy;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-vacancy" component.
 * @constructor
 */
function PageVacancy() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageVacancy.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageVacancy.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageVacancy.prototype.unbind = function () {

};

},{}],50:[function(require,module,exports){
'use strict';

module.exports = PageVideoCatalog;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "page-video-catalog" component.
 * @constructor
 */
function PageVideoCatalog() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PageVideoCatalog.prototype.render = function () {
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PageVideoCatalog.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PageVideoCatalog.prototype.unbind = function () {

};

},{}],51:[function(require,module,exports){
'use strict';

module.exports = PagesContent;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "pages-content" component.
 * @constructor
 */
function PagesContent() { }

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PagesContent.prototype.render = function () {
	return this.$context.getStoreData();
};

/**
 * Returns event binding settings for the component.
 */
PagesContent.prototype.bind = function () {
	this.hideLoader();
};

/**
 * Hides loader in template.
 */
PagesContent.prototype.hideLoader = function () {
	var loaders = this.$context.element.getElementsByTagName('cat-loader');
	for (var i = 0; i < loaders.length; i++) {
		loaders[i].style.display = 'none';
	}
	window.scrollTo(0,0);
};

},{}],52:[function(require,module,exports){
'use strict';

module.exports = Footer;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "pages-footer" component.
 * @constructor
 */
function Footer() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Footer.prototype.render = function () {
    return {
        links: [
            {
                "url": "/oferta",
                "title": "Оферта"
            },
            {
                "url": "/contact",
                "title": "Контакты"
            },
            {
                "url": "/feedback",
                "title": "Обратная связь"
            }
        ]
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Footer.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Footer.prototype.unbind = function () {

};

},{}],53:[function(require,module,exports){
'use strict';

module.exports = PagesHeader;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "pages-header" component.
 * @constructor
 */
function PagesHeader() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PagesHeader.prototype.render = function () {
    return this.$context.getStoreData()
        .then(function (data) {
            return data.header;
        });
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
PagesHeader.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
PagesHeader.prototype.unbind = function () {

};

},{}],54:[function(require,module,exports){
'use strict';

var PAGES = require("../../../config/pages.json");

module.exports = PagesNavigation;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "pages-navigation" component.
 * @constructor
 */
function PagesNavigation() {
}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
PagesNavigation.prototype.render = function () {
    return {
        menu: [
            {
                link: '/catalog',
                name: PAGES.catalog.title
            },
            {
                link: '/request',
                name: PAGES.request.title
            },
            {
                link: '/registration',
                name: PAGES.registration.title
            }
        ]
    };
};

},{"../../../config/pages.json":86}],55:[function(require,module,exports){
'use strict';

module.exports = RegistrationAbout;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-about" component.
 * @constructor
 */
function RegistrationAbout() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationAbout.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationAbout.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationAbout.prototype.unbind = function () {

};

},{}],56:[function(require,module,exports){
'use strict';

module.exports = RegistrationFaq;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-faq" component.
 * @constructor
 */
function RegistrationFaq() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationFaq.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationFaq.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationFaq.prototype.unbind = function () {

};

},{}],57:[function(require,module,exports){
'use strict';

module.exports = RegistrationForm;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-form" component.
 * @constructor
 */
function RegistrationForm() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationForm.prototype.render = function () {
    return {
        url: "/reg-master/success.json",
        urlLK: "404",
        method: "get"
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationForm.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationForm.prototype.unbind = function () {

};

},{}],58:[function(require,module,exports){
'use strict';

module.exports = RegistrationHeader;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-header" component.
 * @constructor
 */
function RegistrationHeader() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationHeader.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationHeader.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationHeader.prototype.unbind = function () {

};

},{}],59:[function(require,module,exports){
'use strict';

module.exports = RegistrationMorePage;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-more-page" component.
 * @constructor
 */
function RegistrationMorePage() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationMorePage.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationMorePage.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationMorePage.prototype.unbind = function () {

};

},{}],60:[function(require,module,exports){
'use strict';

module.exports = RegistrationPrice;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-price" component.
 * @constructor
 */
function RegistrationPrice() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationPrice.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationPrice.prototype.bind = function () {
    return {
        click: {
            '.tab-content__name': this._clickHandle
        }
    }
};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationPrice.prototype.unbind = function () {

};

RegistrationPrice.prototype._clickHandle = function (obj) {
    var el = $(obj.target);
    if (!el.hasClass('tab-content__name'))
        el = el.parents('.tab-content__name');

    var parent = el.parents('.tab-content');
    if (parent.hasClass('tab-content_active'))
        return;
    $('.tab-content_active').removeClass('tab-content_active');
    parent.addClass('tab-content_active');
};

},{}],61:[function(require,module,exports){
'use strict';

module.exports = RegistrationWhyWe;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "registration-why-we" component.
 * @constructor
 */
function RegistrationWhyWe() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
RegistrationWhyWe.prototype.render = function () {
    return {
        count: {
            master: "1 000",
            masterName: "мастеров<br>на сайте",
            visits: "12 000",
            orders: "1 000"
        }
    }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
RegistrationWhyWe.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
RegistrationWhyWe.prototype.unbind = function () {

};

},{}],62:[function(require,module,exports){
'use strict';

module.exports = Catalog;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "catalog" component.
 * @constructor
 */
function Catalog() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Catalog.prototype.render = function () {
    return this.$context.getStoreData()
        .then(function (data) {
            return {
                rubrikator: data
            }
        });
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Catalog.prototype.bind = function () {
    return {
        click: {
            '.js-rubrika-list': this._clickHandler,
            '.js-rubrika-collapsed': this._clickAllHandler
        }
    }
};

Catalog.prototype._clickHandler = function (obj) {
    var el = obj.target;
    $(el).parents('.rubrika-list').find('.rubrika-list__list').toggle();
}

Catalog.prototype._clickAllHandler = function (obj) {
    var el = obj.target;
    var self = $(el).parents('.js-rubrika-collapsed');

    var cl = 'master-rubrikator-page';
    var cl_col = cl + '_collapsed';
    var el = $('.master-rubrikator-page');

    if (el.hasClass(cl_col)) {
        el.removeClass(cl_col);
        $('.rubrika-list__list').show();
        self.find('.rubrika-list__name').html('Свернуть все рубрики')
            .end().find('.rubrika-list__icon').addClass('rubrika-list__icon_rotate');
    } else {
        el.addClass(cl_col);
        $('.rubrika-list__list').hide();
        self.find('.rubrika-list__name').html('Развернуть все рубрики')
            .end().find('.rubrika-list__icon').removeClass('rubrika-list__icon_rotate');
    }
}
/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Catalog.prototype.unbind = function () {

};



},{}],63:[function(require,module,exports){
'use strict';

module.exports = Search;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "search" component.
 * @constructor
 */
function Search() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Search.prototype.render = function () {
  return {
    modificator: this.$context.attributes.modificator,
    url: '',
    method: ''
  }
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Search.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Search.prototype.unbind = function () {

};

},{}],64:[function(require,module,exports){
'use strict';

module.exports = ServiceRequest;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "service-request" component.
 * @constructor
 */
function ServiceRequest() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
ServiceRequest.prototype.render = function () {

};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
ServiceRequest.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
ServiceRequest.prototype.unbind = function () {

};

},{}],65:[function(require,module,exports){
'use strict';

module.exports = Social;

/*
 * This is a Catberry Cat-component file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#cat-components
 */

/**
 * Creates new instance of the "social" component.
 * @constructor
 */
function Social() {

}

/**
 * Gets data context for template engine.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Data context
 * for template engine.
 */
Social.prototype.render = function () {
  return [
    {
      url: 'http://vk.com/fm_mf',
      ico: 'vk'
    },
    {
      url: 'http://www.facebook.com/face.mast',
      ico: 'fb'
    },
    {
      url: 'http://www.odnoklassniki.ru/facemaster',
      ico: 'ok'
    },
    {
      url: 'http://twitter.com/FacemasterRu',
      ico: 'tw'
    }
  ];
};

/**
 * Returns event binding settings for the component.
 * This method is optional.
 * @returns {Promise<Object>|Object|null|undefined} Binding settings.
 */
Social.prototype.bind = function () {

};

/**
 * Does cleaning for everything that have NOT been set by .bind() method.
 * This method is optional.
 * @returns {Promise|undefined} Promise or nothing.
 */
Social.prototype.unbind = function () {

};

},{}],66:[function(require,module,exports){
'use strict';

var PAGES = require("../config/pages.json");

module.exports = Breadcrumps;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "breadcrumps" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Breadcrumps($uhr) {
    this._uhr = $uhr;
    this.$context.setDependency('Pages');
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Breadcrumps.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Breadcrumps.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Breadcrumps.prototype.load = function () {
    var self = this;
    var brcrmp = [];
    return this.$context.getStoreData('Pages')
        .then(function (page) {
            if (page.current == "master-rubrika")
                return self._loadForRubrika();

            if (page.current == "news-item")
                return self._loadForNewsItem();

            brcrmp.push({
                title: PAGES[page.current].title
            });
            return brcrmp;
        });
};

Breadcrumps.prototype._loadForRubrika = function () {
    var self = this;
    return this.$context.getStoreData('Tag')
        .then(function (data) {
            var links;
            if (data.tag.unique) {
                links = self._getForTag(data);
            } else {
                links = self._getForRubrika(data);
            }
            return links;
        });
};

Breadcrumps.prototype._getForTag = function (data) {
    var links = this._getForRubAndTag(data);
    links.push({
        title: data.rubrika.name,
        url: '/' + data.rubrika.parent.unique + '/' + data.rubrika.unique
    });
    links.push({
        title: data.tag.name
    });
    return links;
};

Breadcrumps.prototype._getForRubrika = function (data) {
    var links = this._getForRubAndTag(data);
    links.push({
        title: data.rubrika.name
    });
    return links;
};

Breadcrumps.prototype._getForRubAndTag = function (data) {
    var podrubriks = data.rubrika.nearby;
    var linksPodrubriks = [];
    var links = [];

    Object.keys(podrubriks)
        .forEach(function (num) {
            linksPodrubriks.push({
                title: podrubriks[num].name,
                url: '/' + data.rubrika.parent.unique + '/' + podrubriks[num].unique
            });
        });

    links.push({
        title: "Каталог услуг",
        url: "/catalog"
    });

    links.push({
        title: data.rubrika.parent.name,
        url: "/" + data.rubrika.parent.unique,
        links: linksPodrubriks
    });
    return links;
};

Breadcrumps.prototype._loadForNewsItem = function () {
    var self = this;
    return this.$context.getStoreData('other/NewsItem')
        .then(function (data) {
            var links = [];
            links.push({
                title: "Новости",
                url: "/news"
            });
            links.push({
                title: data.title
            });
            return links;
        });
};
/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Breadcrumps.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{"../config/pages.json":86}],67:[function(require,module,exports){
'use strict';

var PAGES = require("../config/pages.json");

module.exports = Head;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "head" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Head($uhr) {
    this._uhr = $uhr;
    this.currentPage = "main";
    this.$context.setDependency('Pages');
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Head.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Head.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Head.prototype.load = function () {
    var self = this;
    return this.$context.getStoreData('Pages')
        .then(function (page) {
            if (page.current == "master-rubrika")
                return self._loadForRubrika();
            if (page.current == "news-item")
                return self._loadForNewsItem();

            var data = PAGES[page.current];
            return {
                //title: data.title + '. FaceMaster.ru. Специалисты Тольятти',
                //description: data.description,
                //keywords: data.keywords
            }
        });
};

Head.prototype._loadForRubrika = function () {
    return this.$context.getStoreData('Tag')
        .then(function (data) {
            return {
                title: data.currentSeo.headTitle,
                description: data.currentSeo.description,
                keywords: data.currentSeo.keywords
            }
        });
};

Head.prototype._loadForNewsItem = function () {
    return this.$context.getStoreData('other/NewsItem')
        .then(function (data) {
            return {
                title: data.title,
                description: data.preview,
                keywords: 'новость, facemaster'
            }
        });
};
/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Head.prototype.handleSetCurrentPage = function (page) {
    this.currentPage = page;
    this.$context.changed();
};

},{"../config/pages.json":86}],68:[function(require,module,exports){
'use strict';

var PAGES = require("../config/pages.json");

module.exports = Pages;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "Pages" store.
 * @param {Object} $config Application config.
 * @constructor
 */
function Pages($config) {
    this._config = $config;
    this.$context.setDependency('Tag');
}

/**
 * Current application config.
 * @type {Object}
 * @private
 */
Pages.prototype._config = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Pages.prototype.$lifetime = 3600000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Pages.prototype.load = function () {
    var self = this;
    var currentPage = self.$context.state.page;

    return Promise.resolve(1)
        .then(function () {
            if (currentPage == "master-rubrika")
                return self.$context.getStoreData('Tag');
            if (currentPage == "master-page")
                return self.$context.getStoreData('master/MasterItem');
            if (currentPage == "news-item")
                return self.$context.getStoreData('other/NewsItem');
            if (currentPage == "vacancy-item")
                return self.$context.getStoreData('other/VacancyItem');
        })
        .then(function () {
            if (!currentPage) {
                return self.$context.redirect('/main');
            }

            if (!PAGES.hasOwnProperty(currentPage)) {
                self.$context.notFound();
            }

            var result = {
                current: currentPage,
                isActive: {},

                header: self.getHeaderData(),
                footer: self.getFooterData()
            };
            Object.keys(PAGES)
                .forEach(function (page) {
                    result.isActive[page] = (currentPage === page);
                });
            return result;
        });
};

Pages.prototype.getHeaderData = function () {
    return {
        visitCount: '12 323 посещений',
        isGuest: true
    };
};

Pages.prototype.getFooterData = function () {
    return {
        phone: '(8482) 74-44-19'
    };
};
},{"../config/pages.json":86}],69:[function(require,module,exports){
'use strict';

module.exports = Paginator;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "Paginator" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Paginator($uhr) {
    this._uhr = $uhr;
    this._model;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Paginator.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Paginator.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Paginator.prototype.load = function () {
    if (!this._model)
        return null;
    var self = this;
    var currentPage = this.$context.state.currentPage || 1;

    return Promise.resolve(1)
        .then(function () {
            return self.$context.getStoreData(self._model);
        })
        .then(function () {
            return self.$context.sendAction(self._model, "getPaginator")
        })
        .then(function (data) {
            if (data['is-paginator'] == false)
                return data;
            var start = data.current - 4 < 0 ? 1 : data.current - 4;
            var end = start + 9 < data.count ? start + 9 : data.count;
            var list = [];
            for (var i = start; i <= end; ++i) {
                list.push({
                    "is-selected": (data.current == i),
                    "url": data.url + i,
                    "number": i
                });
            }

            return {
                model: self._model,
                "is-paginator": true,
                start: {
                    url: data.url + 1
                },
                end: {
                    url: data.url + data.count
                },
                list: list
            }
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Paginator.prototype.handleSetModel = function (model) {
    this._model = model;
};
Paginator.prototype.handleGetCurrentPage = function () {
    return this.$context.state.currentPage || 1;
}

},{}],70:[function(require,module,exports){
'use strict';

module.exports = Tag;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "tag" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Tag($uhr) {
    this._uhr = $uhr;
    this.$context.setDependency('rubrika/Rubrika');
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Tag.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Tag.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Tag.prototype.load = function () {
    var self = this;
    var section = this.$context.state.section || 'master';
    var tag = this.$context.state.tag || '';
    var data = {};

    return this.$context.getStoreData("rubrika/Rubrika")
        .then(function (rubrika) {
            data.rubrika = rubrika;
        })
        .then(function () {
            if (tag) {
                var path = 'http://api-fm.present-tlt.ru/tag';
                var option = {
                    data: {
                        filter: '[["=", "unique", "' + tag + '"]]',
                        expand: 'seo'
                    }
                };
                return self._uhr.get(path, option)
                    .then(function (result) {
                        if (result.status.code >= 400 && result.status.code < 600) {
                            throw new Error(result.status.text);
                        }
                        return result.content[0];
                    });
            }

            return {};
        })
        .then(function (tagData) {
            if (tag && tagData == {})
                self.$context.notFound();

            data.tag = tagData;
            data.section = section;
            data.currentSeo = tag ? self._getCurrentSeo(data.tag, data.section) : self._getCurrentSeo(data.rubrika, data.section);
            return data;
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Tag.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

Tag.prototype._getCurrentSeo = function (data, section) {
    var result;
    var seo = data.seo;

    Object.keys(seo)
        .forEach(function (key) {
            if (section == seo[key].section)
                result = seo[key];
        });
    if (!result)
        return {
            headTitle: data.name,
            pageTitle: data.name
        };
    return result;
};
},{}],71:[function(require,module,exports){
'use strict';

var dateFormat = require('../../lib/util/DateFormat');

module.exports = MasterItem;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "master/MasterItem" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function MasterItem($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
MasterItem.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
MasterItem.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
MasterItem.prototype.load = function () {
    var self = this;
    var id = this.$context.state.item;
    if (!id)
        return;

    var now = Date.now();
    now = dateFormat(now, "yyyy-mm-dd");
    var path = 'http://api-fm.present-tlt.ru/master-page';
    var options = {
        data: {
            filter: '["and", ["=","number", "' + id + '"],["<=", "dateStart", "' + now + '"],[">=", "dateEnd", "' + now + '"]]'
        }
    };
    return this._uhr.get(path, options)
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            if (result.content.length == 0)
                self.$context.notFound();

            return result.content[0];
        })
        .then(function (page) {
            var pathM = 'http://api-fm.present-tlt.ru/master';
            var optionM = {
                data: {
                    filter: '["and", ["=", "id", "' + page.masterID + '"],["=","publicStatus", "1"]]',
                    expand: 'contacts,articles,comments,districts,albums,sales,schedule,videos,workCondition,callbacks,vkLikes,rubrika,tags,company'
                }
            };
            return self._uhr.get(pathM, optionM)
                .then(function (result) {
                    if (result.status.code >= 400 && result.status.code < 600) {
                        throw new Error(result.status.text);
                    }
                    if (result.content.length == 0)
                        self.$context.notFound();

                    var data = result.content[0];
                    data.services = JSON.parse(data.services);
                    data.isBlock = {
                        service: {
                            access: page.services,
                            name: "Услуги",
                            active: true
                        },
                        work: {
                            access: true,
                            name: "Условия работы",
                            active: true
                        },
                        sale: {
                            access: page.sales,
                            name: "Скидки и подарки",
                            active: (data.sales.length > 0)
                        },
                        about: {
                            access: true,
                            name: "О себе",
                            active: data.aboutEduc || data.aboutExp ||data.aboutAddInfo
                        },
                        article: {
                            access: page.articles,
                            name: "Полезно почитать",
                            active: (data.articles.length > 0)
                        },
                        photo: {
                            access: page.albums,
                            name: "Фото",
                            active: (data.albums.length > 0)
                        },
                        video: {
                            access: page.videos,
                            name: "Видео",
                            active: (data.videos.length > 0)
                        },
                        link: {
                            access: page.links,
                            name: "Ссылки",
                            active: (data.links)
                        },
                        review: {
                            access: page.comments,
                            name: "Отзывы и рекомендации",
                            active: true
                        }
                    };
                    data.page = page;
                    return data;
                });
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
MasterItem.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{"../../lib/util/DateFormat":88}],72:[function(require,module,exports){
'use strict';

module.exports = MasterList;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "master/masterList" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function MasterList($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
MasterList.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
MasterList.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
MasterList.prototype.load = function () {
    var podrubrika = this.$context.state.podrubrika;
    if (!podrubrika) {
        return;
    }
    return this._uhr.get(
            'http://localhost:3000/data-json/master.json'
        )
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            result.content.podrubrika = podrubrika;

            return result.content;
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
MasterList.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{}],73:[function(require,module,exports){
'use strict';

module.exports = MasterSovety;

var util = require('util'),
		StorePaginator = require('../../lib/StorePaginator');

util.inherits(MasterSovety, StorePaginator);

function MasterSovety() {
	StorePaginator.call(this);
	this._path = 'http://api-fm.present-tlt.ru/article/active';
	this._options = {
		data: {
			order: 'id DESC'
		}
	};
	this._url = "/sovety/page/";
	this._catalog = this.$context.state.catalog;
	if (this._catalog) {
		this._options.data.filter = '[["=","rubrikaID","' + this._catalog + '"]]';
		this._url = "/sovety/catalog/" + this._catalog + "/page/";
	}
}
},{"../../lib/StorePaginator":87,"util":118}],74:[function(require,module,exports){
'use strict';

module.exports = MasterVideo;

var util = require('util'),
    StorePaginator = require('../../lib/StorePaginator');

util.inherits(MasterVideo, StorePaginator);

function MasterVideo() {
    StorePaginator.call(this);
    this._path = 'http://api-fm.present-tlt.ru/video/active';
    this._options = {
        data: {
            order: 'id DESC'
        }
    };
    this._url = "/video/page/";
    this._catalog = this.$context.state.catalog;
    if (this._catalog) {
        this._options.data.filter = '[["=","rubrikaID","' + this._catalog + '"]]';
        this._url = "/video/catalog/" + this._catalog + "/page/";
    }
}
},{"../../lib/StorePaginator":87,"util":118}],75:[function(require,module,exports){
'use strict';

module.exports = Recommended;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "master/Recommended" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Recommended($uhr) {
	this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Recommended.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Recommended.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Recommended.prototype.load = function () {
	// Here you can do any HTTP requests using this._uhr.
	// Please read details here https://github.com/catberry/catberry-uhr.
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Recommended.prototype.handleSomeAction = function () {
	// Here you can call this.$context.changed() if you know
	// that remote data source has been changed.
	// Also you can have many handle methods for other actions.
};

},{}],76:[function(require,module,exports){
'use strict';

module.exports = News;

var util = require('util'),
    StorePaginator = require('../../lib/StorePaginator');

util.inherits(News, StorePaginator);

function News() {
    StorePaginator.call(this);
    this._path = 'http://api-fm.present-tlt.ru/about-news';
    this._options = {
        data: {
            filter: '[["=","status","1"]]',
            order: 'date DESC'
        }
    };
    this._url = "/news/page/";
}
},{"../../lib/StorePaginator":87,"util":118}],77:[function(require,module,exports){
'use strict';

module.exports = NewsItem;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "other/NewsItem" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function NewsItem($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
NewsItem.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
NewsItem.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
NewsItem.prototype.load = function () {
    var self = this;
    var item = this.$context.state.item;
    var path = 'http://api-fm.present-tlt.ru/about-news';
    if (!item)
        return;

    var option = {
        data: {
            filter: '[["=","id","' + item + '"],["=", "status", "1"]]'
        }
    };
    return this._uhr.get(path, option)
        .then(function (result) {
            console.log(result);
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            if (result.content.length == 0)
                self.$context.notFound();

            return result.content[0];
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
NewsItem.prototype.handleSomeAction = function () {

    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{}],78:[function(require,module,exports){
'use strict';

module.exports = Recommendation;

var util = require('util'),
    StorePaginator = require('../../lib/StorePaginator');

util.inherits(Recommendation, StorePaginator);

function Recommendation() {
    StorePaginator.call(this);
    this._path = 'http://api-fm.present-tlt.ru/about-comment';
    this._url = "/recommendation/page/";
}
},{"../../lib/StorePaginator":87,"util":118}],79:[function(require,module,exports){
'use strict';
var dateFormat = require('../../lib/util/DateFormat');

module.exports = Vacancy;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "other/vacancy" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Vacancy($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Vacancy.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Vacancy.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Vacancy.prototype.load = function () {
    var path = 'http://api-fm.present-tlt.ru/about-vacancy';
    var now = Date.now();
    now = dateFormat(now, "yyyy-mm-dd");
    now = "2014-03-20"; //для теста - убрать!

    var option = {
        data: {
            filter: '["and",["<=","createDate","' + now + '"],[">=", "endDate", "' + now + '"],["=", "status", "1"]]'
        }
    };
    return this._uhr.get(path, option)
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }

            return result.content;
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Vacancy.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{"../../lib/util/DateFormat":88}],80:[function(require,module,exports){
'use strict';

var dateFormat = require('../../lib/util/DateFormat');

module.exports = VacancyItem;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "other/vacancyItem" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function VacancyItem($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
VacancyItem.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
VacancyItem.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
VacancyItem.prototype.load = function () {
    var self = this;
    var id = this.$context.state.item;
    if (!id)
        return;
    var path = 'http://api-fm.present-tlt.ru/about-vacancy';
    var now = Date.now();
    now = dateFormat(now, "yyyy-mm-dd");
    now = "2014-03-20"; //для теста - убрать!

    var option = {
        data: {
            filter: '["and",["=", "id", "' + id + '"],["<=","createDate","' + now + '"],[">=", "endDate", "' + now + '"],["=", "status", "1"]]'
        }
    };
    return this._uhr.get(path, option)
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            if (result.content.length == 0)
                self.$context.notFound();
            console.log(result.content[0]);
            return result.content[0];
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
VacancyItem.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{"../../lib/util/DateFormat":88}],81:[function(require,module,exports){
'use strict';

module.exports = Rubrika;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "rubrika/Rubrika" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Rubrika($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Rubrika.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Rubrika.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
Rubrika.prototype.load = function () {
    var self = this;
    var rubrika = this.$context.state.rubrika;
    var podrubrika = this.$context.state.podrubrika;

    if (!podrubrika) {
        self.$context.notFound();
    }

    var url = 'http://api-fm.present-tlt.ru/rubrika';
    var options = {
        data: {
            filter: '[["=", "unique", "' + podrubrika + '"]]',
            expand: "tags,parent,nearby,seo"
        }
    };
    return this._uhr.get(url, options)
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            if (result.content.length == 0)
                self.$context.notFound();

            var data = result.content[0];

            if (data.parentID == 0)
                self.$context.notFound();

            if (rubrika != data.parent.unique)
                self.$context.notFound();

            data.podrubrika = podrubrika;
            data.rubrika = rubrika;
            return data;
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
},{}],82:[function(require,module,exports){
'use strict';

module.exports = Rubrikator;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "rubrika/Rubrikator" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function Rubrikator($uhr) {
    this._uhr = $uhr;
    this._path = 'http://api-fm.present-tlt.ru/rubrika';
    this._options = {
        data: {
            filter: '[["=", "status", "1"]]',
            expand: 'masterCount',
            order: 'sort',
            limit: 200
        }
    };
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
Rubrikator.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
Rubrikator.prototype.$lifetime = 600000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */

Rubrikator.prototype.load = function () {
    return this._uhr.get(this._path, this._options)
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            var data = result.content;
            var podrubriksTree = {};
            var rootTree = {};
            var rootTreeCount = {};

            Object.keys(data)
                .forEach(function (key) {
                    var el = data[key];
                    if (el.parentID == 0) {
                        rootTree[el.sort] = {el: el};
                    } else {
                        if (!podrubriksTree[el.parentID])
                            podrubriksTree[el.parentID] = [];
                        podrubriksTree[el.parentID].push(el);
                        rootTreeCount[el.parentID] = +el.masterCount + (rootTreeCount[el.parentID] ? rootTreeCount[el.parentID] :  0);
                    }
                });

            Object.keys(rootTree)
                .forEach(function (key) {
                    podrubriksTree[rootTree[key].el.id].sort(function (a, b) {
                        return a.name > b.name;
                    });
                    rootTree[key].podrubriks = podrubriksTree[rootTree[key].el.id];
                    rootTree[key].count = rootTreeCount[rootTree[key].el.id];
                });
            return rootTree;
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
Rubrikator.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{}],83:[function(require,module,exports){
'use strict';

module.exports = RubrikatorCompany;

var util = require('util'),
		Rubrikator = require('./Rubrikator');

util.inherits(RubrikatorCompany, Rubrikator);

function RubrikatorCompany() {
	Rubrikator.call(this);
	this._path = 'http://api-fm.present-tlt.ru/rubrika-company';
	this._options = {
		data: {
			filter: '[["=", "status", "1"]]',
			order: 'sort',
			limit: 200
		}
	};
}
},{"./Rubrikator":82,"util":118}],84:[function(require,module,exports){
'use strict';

module.exports = RubrikatorParent;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * Creates new instance of the "rubrika/RubrikatorParent" store.
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function RubrikatorParent($uhr) {
    this._uhr = $uhr;
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
RubrikatorParent.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
RubrikatorParent.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
RubrikatorParent.prototype.load = function () {
    var path = 'http://api-fm.present-tlt.ru/rubrika';
    var options = {
        data: {
            filter: '[["=", "parentID", "0"]]',
            order: 'name',
            limit: 200
        }
    };
    return this._uhr.get(path, options)
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }
            return result.content;
        });
};

/**
 * Handles action named "some-action" from any component.
 * @returns {Promise<Object>|Object|null|undefined} Response to component.
 */
RubrikatorParent.prototype.handleSomeAction = function () {
    // Here you can call this.$context.changed() if you know
    // that remote data source has been changed.
    // Also you can have many handle methods for other actions.
};

},{}],85:[function(require,module,exports){
module.exports={
	"title": "FaceMaster.ru",
	"isRelease": true
}

},{}],86:[function(require,module,exports){
module.exports={
  "main": {
    "title": "Поиск Мастеров в сфере услуг",
    "description": "Поиск Мастеров в сфере услуг",
    "keywords": "поиск услуг, мастера, специалисты Тольятти"
  },
  "catalog": {
    "title": "Каталог услуг",
    "description": "",
    "keywords": ""
  },
  "request": {
    "title": "Заказать услугу",
    "description": "",
    "keywords": ""
  },
  "registration": {
    "title": "Стать Мастером",
    "description": "",
    "keywords": ""
  },
  "login": {
    "title": "Вход для Мастеров",
    "description": "",
    "keywords": ""
  },
  "sale": {
    "title": " Каталог скидки и подарки",
    "description": "",
    "keywords": ""
  },
  "video": {
    "title": "Видео Мастеров",
    "description": "",
    "keywords": ""
  },
  "sovety": {
    "title": "Секреты мастеров",
    "description": "",
    "keywords": ""
  },
  "company": {
    "title": "Каталог компаний",
    "description": "",
    "keywords": ""
  },
  "recommendation": {
    "title": "Рекомендации Мастеров",
    "description": "Рекомендации Мастеров",
    "keywords": "отзывы, рекомендации"
  },
  "news": {
    "title": "Новости",
    "description": "",
    "keywords": ""
  },
  "vacancy": {
    "title": "Вакансии",
    "description": "",
    "keywords": ""
  },
  "oferta": {
    "title": "Оферта",
    "description": "",
    "keywords": ""
  },
  "contact": {
    "title": "Контакты",
    "description": "",
    "keywords": ""
  },
  "feedback": {
    "title": "Обратная связь",
    "description": "",
    "keywords": ""
  },
  "master-rubrika": {},
  "master-page": {},
  "news-item": {},
  "vacancy-item": {},
  "konkurs-item": {}
}
},{}],87:[function(require,module,exports){
'use strict';

module.exports = StorePaginator;

/*
 * This is a Catberry Store file.
 * More details can be found here
 * https://github.com/catberry/catberry/blob/master/docs/index.md#stores
 */

/**
 * @param {UHR} $uhr Universal HTTP request.
 * @constructor
 */
function StorePaginator() {
    this._uhr = this.$context.locator.resolve('uhr');
    this._pageCount = 1;
    this._currentPage = 1;
    this._path = '';
    this._options = {data: {}};
    this._url = '';

    this.$context.setDependency("Paginator");
}

/**
 * Current universal HTTP request to do it in isomorphic way.
 * @type {UHR}
 * @private
 */
StorePaginator.prototype._uhr = null;

/**
 * Current lifetime of data (in milliseconds) that is returned by this store.
 * @type {number} Lifetime in milliseconds.
 */
StorePaginator.prototype.$lifetime = 60000;

/**
 * Loads data from remote source.
 * @returns {Promise<Object>|Object|null|undefined} Loaded data.
 */
StorePaginator.prototype.load = function () {
    var self = this;
    var path = this._path;

    return Promise.resolve(1)
        .then(function () {
            return self.$context.sendAction("Paginator", "getCurrentPage");
        })
        .then(function (page) {
            self._currentPage = page;
            self._options.data.page = page;
            return self._uhr.get(path, self._options)
        })
        .then(function (result) {
            if (result.status.code >= 400 && result.status.code < 600) {
                throw new Error(result.status.text);
            }

            self._pageCount = result.status.headers['x-pagination-page-count'];
            return {
                currentPage: self._currentPage,
                data: result.content
            };
        });
};


StorePaginator.prototype.handleGetPaginator = function () {
    if (!this._pageCount || this._pageCount == 1) {
        return {
            "is-paginator": false
        }
    }
    return {
        "is-paginator": true,
        "url": this._url,
        "count": this._pageCount,
        "current": this._currentPage
    };
};
},{}],88:[function(require,module,exports){
/*
 * Date Format 1.2.3
 * (c) 2007-2009 Steven Levithan <stevenlevithan.com>
 * MIT license
 *
 * Includes enhancements by Scott Trenda <scott.trenda.net>
 * and Kris Kowal <cixar.com/~kris.kowal/>
 *
 * Accepts a date, a mask, or a date and a mask.
 * Returns a formatted version of the given date.
 * The date defaults to the current date/time.
 * The mask defaults to dateFormat.masks.default.
 */

var dateFormat = function () {
    var	token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
        timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
        timezoneClip = /[^-+\dA-Z]/g,
        pad = function (val, len) {
            val = String(val);
            len = len || 2;
            while (val.length < len) val = "0" + val;
            return val;
        };

    // Regexes and supporting functions are cached through closure
    return function (date, mask, utc) {
        var dF = dateFormat;

        // You can't provide utc if you skip other args (use the "UTC:" mask prefix)
        if (arguments.length == 1 && Object.prototype.toString.call(date) == "[object String]" && !/\d/.test(date)) {
            mask = date;
            date = undefined;
        }

        // Passing date through Date applies Date.parse, if necessary
        date = date ? new Date(date) : new Date;
        if (isNaN(date)) throw SyntaxError("invalid date");

        mask = String(dF.masks[mask] || mask || dF.masks["default"]);

        // Allow setting the utc argument via the mask
        if (mask.slice(0, 4) == "UTC:") {
            mask = mask.slice(4);
            utc = true;
        }

        var	_ = utc ? "getUTC" : "get",
            d = date[_ + "Date"](),
            D = date[_ + "Day"](),
            m = date[_ + "Month"](),
            y = date[_ + "FullYear"](),
            H = date[_ + "Hours"](),
            M = date[_ + "Minutes"](),
            s = date[_ + "Seconds"](),
            L = date[_ + "Milliseconds"](),
            o = utc ? 0 : date.getTimezoneOffset(),
            flags = {
                d:    d,
                dd:   pad(d),
                ddd:  dF.i18n.dayNames[D],
                dddd: dF.i18n.dayNames[D + 7],
                m:    m + 1,
                mm:   pad(m + 1),
                mmm:  dF.i18n.monthNames[m],
                mmmm: dF.i18n.monthNames[m + 12],
                yy:   String(y).slice(2),
                yyyy: y,
                h:    H % 12 || 12,
                hh:   pad(H % 12 || 12),
                H:    H,
                HH:   pad(H),
                M:    M,
                MM:   pad(M),
                s:    s,
                ss:   pad(s),
                l:    pad(L, 3),
                L:    pad(L > 99 ? Math.round(L / 10) : L),
                t:    H < 12 ? "a"  : "p",
                tt:   H < 12 ? "am" : "pm",
                T:    H < 12 ? "A"  : "P",
                TT:   H < 12 ? "AM" : "PM",
                Z:    utc ? "UTC" : (String(date).match(timezone) || [""]).pop().replace(timezoneClip, ""),
                o:    (o > 0 ? "-" : "+") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),
                S:    ["th", "st", "nd", "rd"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]
            };

        return mask.replace(token, function ($0) {
            return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);
        });
    };
}();

// Some common format strings
dateFormat.masks = {
    "default":      "ddd mmm dd yyyy HH:MM:ss",
    shortDate:      "m/d/yy",
    mediumDate:     "mmm d, yyyy",
    longDate:       "mmmm d, yyyy",
    fullDate:       "dddd, mmmm d, yyyy",
    shortTime:      "h:MM TT",
    mediumTime:     "h:MM:ss TT",
    longTime:       "h:MM:ss TT Z",
    isoDate:        "yyyy-mm-dd",
    isoTime:        "HH:MM:ss",
    isoDateTime:    "yyyy-mm-dd'T'HH:MM:ss",
    isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
};

// Internationalization strings
dateFormat.i18n = {
    dayNames: [
        "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat",
        "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"
    ],
    monthNames: [
        "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec",
        "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
    ]
};



module.exports = dateFormat;
},{}],89:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = Catberry;

var util = require('util'),
	CatberryBase = require('../lib/base/CatberryBase');

util.inherits(Catberry, CatberryBase);

/**
 * Creates new instance of the browser version of Catberry.
 * @constructor
 * @extends CatberryBase
 */
function Catberry() {
	CatberryBase.call(this);
}

/**
 * Current request router.
 * @type {RequestRouter}
 * @private
 */
Catberry.prototype._router = null;

/**
 * Wraps current HTML document with Catberry event handlers.
 */
Catberry.prototype.wrapDocument = function () {
	this._router = this.locator.resolve('requestRouter');
};

/**
 * Starts Catberry application when DOM is ready.
 * @returns {Promise} Promise for nothing.
 */
Catberry.prototype.startWhenReady = function () {
	if (window.catberry) {
		return Promise.resolve();
	}
	var self = this;

	return new Promise(function (fulfill) {
		window.document.addEventListener('DOMContentLoaded', function () {
			self.wrapDocument();
			window.catberry = self;
			fulfill();
		});
	});
};
},{"../lib/base/CatberryBase":103,"util":118}],90:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = CookieWrapper;

var util = require('util'),
	CookieWrapperBase = require('../lib/base/CookieWrapperBase');

util.inherits(CookieWrapper, CookieWrapperBase);

/**
 * Creates new instance of the browser cookie wrapper.
 * @param {Window} $window Window object.
 * @constructor
 */
function CookieWrapper($window) {
	CookieWrapperBase.call(this);
	this._window = $window;
}

/**
 * Current browser window.
 * @type {Window}
 * @private
 */
CookieWrapper.prototype._window = null;

/**
 * Gets current cookie string.
 * @returns {string} Cookie string.
 */
CookieWrapper.prototype.getCookieString = function () {
	return this._window.document.cookie ?
		this._window.document.cookie.toString() :
		'';
};

/**
 * Sets cookie to this wrapper.
 * @param {Object} cookieSetup Cookie setup object.
 * @param {string} cookieSetup.key Cookie key.
 * @param {string} cookieSetup.value Cookie value.
 * @param {number?} cookieSetup.maxAge Max cookie age in seconds.
 * @param {Date?} cookieSetup.expires Expire date.
 * @param {string?} cookieSetup.path URI path for cookie.
 * @param {string?} cookieSetup.domain Cookie domain.
 * @param {boolean?} cookieSetup.secure Is cookie secured.
 * @param {boolean?} cookieSetup.httpOnly Is cookie HTTP only.
 * @returns {string} Cookie setup string.
 */
CookieWrapper.prototype.set = function (cookieSetup) {
	var cookie = this._convertToCookieSetup(cookieSetup);
	this._window.document.cookie = cookie;
	return cookie;
};
},{"../lib/base/CookieWrapperBase":104,"util":118}],91:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = DocumentRenderer;

var util = require('util'),
	morphdom = require('morphdom'),
	errorHelper = require('../lib/helpers/errorHelper'),
	moduleHelper = require('../lib/helpers/moduleHelper'),
	hrTimeHelper = require('../lib/helpers/hrTimeHelper'),
	DocumentRendererBase = require('../lib/base/DocumentRendererBase');

util.inherits(DocumentRenderer, DocumentRendererBase);

var WARN_ID_NOT_SPECIFIED = 'Component "%s" does not have an ID, skipping...',
	WARN_SAME_ID =
		'The duplicated ID "%s" has been found, skipping component "%s"...';

var SPECIAL_IDS = {
		$$head: '$$head',
		$$document: '$$document'
	},
	TAG_NAMES = {
		TITLE: 'TITLE',
		HTML: 'HTML',
		HEAD: 'HEAD',
		BASE: 'BASE',
		STYLE: 'STYLE',
		SCRIPT: 'SCRIPT',
		NOSCRIPT: 'NOSCRIPT',
		META: 'META',
		LINK: 'LINK'
	},
	NODE_TYPES = {
		ELEMENT_NODE: 1,
		TEXT_NODE: 3,
		PROCESSING_INSTRUCTION_NODE: 7,
		COMMENT_NODE: 8
	},
	ERROR_CREATE_WRONG_ARGUMENTS = 'Tag name should be a string ' +
		'and attributes should be an object',
	ERROR_CREATE_WRONG_NAME = 'Component for tag "%s" not found',
	ERROR_CREATE_WRONG_ID = 'The ID is not specified or already used',
	// http://www.w3.org/TR/2015/WD-uievents-20150319/#event-types-list
	NON_BUBBLING_EVENTS = {
		abort: true,
		blur: true,
		error: true,
		focus: true,
		load: true,
		mouseenter: true,
		mouseleave: true,
		resize: true,
		unload: true
	};

/**
 * Creates new instance of the document renderer.
 * @param {ServiceLocator} $serviceLocator Locator to resolve dependencies.
 * @constructor
 * @extends DocumentRendererBase
 */
function DocumentRenderer($serviceLocator) {
	DocumentRendererBase.call(this, $serviceLocator);
	this._componentInstances = Object.create(null);
	this._componentElements = Object.create(null);
	this._componentBindings = Object.create(null);
	this._currentChangedStores = Object.create(null);
	this._window = $serviceLocator.resolve('window');
	this._logger = $serviceLocator.resolve('logger');
	this._config = $serviceLocator.resolve('config');
	this._storeDispatcher = $serviceLocator.resolve('storeDispatcher');

	var self = this;

	this._eventBus.on('storeChanged', function (storeName) {
		self._currentChangedStores[storeName] = true;
		if (self._isStateChanging) {
			return;
		}
		self._updateStoreComponents();
	});
}

/**
 * Current application config.
 * @type {Object}
 * @private
 */
DocumentRenderer.prototype._config = null;

/**
 * Current logger.
 * @type {Logger}
 * @private
 */
DocumentRenderer.prototype._logger = null;

/**
 * Current store dispatcher.
 * @type {StoreDispatcher}
 * @protected
 */
DocumentRenderer.prototype._storeDispatcher = null;

/**
 * Current set of component instances by unique keys.
 * @type {Object}
 * @private
 */
DocumentRenderer.prototype._componentInstances = null;

/**
 * Current set of component elements by unique keys.
 * @type {Object}
 * @private
 */
DocumentRenderer.prototype._componentElements = null;

/**
 * Current set of component bindings by unique keys.
 * @type {Object}
 * @private
 */
DocumentRenderer.prototype._componentBindings = null;

/**
 * Current routing context.
 * @type {Object}
 * @private
 */
DocumentRenderer.prototype._currentRoutingContext = null;

/**
 * Current set of changed stores.
 * @type {Object}
 * @private
 */
DocumentRenderer.prototype._currentChangedStores = null;

/**
 * Current promise for rendered page.
 * @type {Promise}
 * @private
 */
DocumentRenderer.prototype._renderedPromise = null;

/**
 * Current state of updating components.
 * @type {boolean}
 * @private
 */
DocumentRenderer.prototype._isUpdating = false;

/**
 * Current awaiting routing.
 * @type {{state: Object, routingContext: Object}}
 * @private
 */
DocumentRenderer.prototype._awaitingRouting = null;

/**
 * Sets the initial state of the application.
 * @param {Object} state New state of application.
 * @param {Object} routingContext Routing context.
 * @returns {Promise} Promise for nothing.
 */
DocumentRenderer.prototype.initWithState = function (state, routingContext) {
	var self = this;
	return self._getPromiseForReadyState()
		.then(function () {
			self._currentRoutingContext = routingContext;
			return self._storeDispatcher.setState(state, routingContext);
		})
		.then(function () {
			var components = self._componentLoader.getComponentsByNames(),
				elements = self._findComponents(
					self._window.document.body, components, true
				);
			elements.unshift(self._window.document.head);
			elements.unshift(self._window.document.documentElement);
			return self._initialWrap(components, elements);
		});
};

/**
 * Renders new state of application.
 * @param {Object} state New state of application.
 * @param {Object} routingContext Routing context.
 * @returns {Promise} Promise for nothing.
 */
DocumentRenderer.prototype.render = function (state, routingContext) {
	this._awaitingRouting = {
		state: state,
		routingContext: routingContext
	};
	if (this._isStateChanging) {
		return this._renderedPromise;
	}

	// we should set this flag to avoid "storeChanged"
	// event handling for now
	this._isStateChanging = true;

	var self = this;
	self._renderedPromise = this._getPromiseForReadyState()
		.then(function () {
			// and then we update all components of these stores in a batch.
			return self._updateStoreComponents();
		})
		.catch(function (reason) {
			self._eventBus.emit('error', reason);
		})
		.then(function () {
			self._isStateChanging = false;
		});

	return this._renderedPromise;
};

/**
 * Renders component into HTML element.
 * @param {Element} element HTML element of component
 * @param {Object?} renderingContext Rendering context for group rendering.
 */
DocumentRenderer.prototype.renderComponent =
	function (element, renderingContext) {
		var self = this;
		return this._getPromiseForReadyState()
			.then(function () {
				var id = self._getId(element);
				if (!id) {
					self._logger.warn(
						util.format(WARN_ID_NOT_SPECIFIED, componentName)
					);
					return;
				}

				if (!renderingContext) {
					renderingContext = self._createRenderingContext([]);
					renderingContext.rootIds[id] = true;
				}

				var componentName = moduleHelper.getOriginalComponentName(
						element.tagName
					),
					hadChildren = element.hasChildNodes(),
					component = renderingContext.components[componentName],
					instance = self._componentInstances[id];

				if (!component) {
					return;
				}

				if (id in renderingContext.renderedIds) {
					self._logger.warn(
						util.format(WARN_SAME_ID, id, componentName)
					);
					return;
				}

				renderingContext.renderedIds[id] = true;

				if (!instance) {
					component.constructor.prototype.$context =
						self._getComponentContext(component, element);
					instance = self._serviceLocator.resolveInstance(
						component.constructor, renderingContext.config
					);
					instance.$context = component.constructor.prototype.$context;
					self._componentInstances[id] = instance;
				}

				var eventArgs = {
					name: componentName,
					context: instance.$context
				};

				self._componentElements[id] = element;

				var startTime = hrTimeHelper.get();
				self._eventBus.emit('componentRender', eventArgs);

				return Promise.resolve()
					.then(function () {
						// we need unbind the whole hierarchy only at
						// the beginning and not for new elements
						if (!(id in renderingContext.rootIds) ||
							!hadChildren) {
							return;
						}

						return self._unbindAll(element, renderingContext);
					})
					.catch(function (reason) {
						self._eventBus.emit('error', reason);
					})
					.then(function () {
						if (instance.$context.element !== element) {
							instance.$context = self._getComponentContext(
								component, element
							);
						}
						var renderMethod = moduleHelper.getMethodToInvoke(
							instance, 'render'
						);
						return moduleHelper.getSafePromise(renderMethod);
					})
					.then(function (dataContext) {
						return component.template.render(dataContext);
					})
					.catch(function (reason) {
						return self._handleRenderError(
							element, component, reason
						);
					})
					.then(function (html) {
						var isHead = element.tagName === TAG_NAMES.HEAD;
						if (html === '' && isHead) {
							return;
						}
						var tmpElement = self._createTemporaryElement(element);
						tmpElement.innerHTML = html;

						if (isHead) {
							self._mergeHead(element, tmpElement);
							return;
						}

						morphdom(element, tmpElement, {
							onBeforeMorphElChildren: function (foundElement) {
								return foundElement === element ||
									!self._isComponent(
										renderingContext.components,
										foundElement
									);
							}
						});

						var promises = self._findComponents(
							element, renderingContext.components, false
						)
							.map(function (innerComponent) {
								return self.renderComponent(
									innerComponent, renderingContext
								);
							});
						return Promise.all(promises);
					})
					.then(function () {
						eventArgs.hrTime = hrTimeHelper.get(startTime);
						eventArgs.time = hrTimeHelper.toMilliseconds(
							eventArgs.hrTime
						);
						self._eventBus.emit('componentRendered', eventArgs);
						return self._bindComponent(element);
					})
					.then(function () {
						// collecting garbage only when
						// the entire rendering is finished
						if (!(id in renderingContext.rootIds) ||
							!hadChildren) {
							return;
						}
						self._collectRenderingGarbage(renderingContext);
					})
					.catch(function (reason) {
						self._eventBus.emit('error', reason);
					});
			});
	};

/**
 * Gets component instance by ID.
 * @param {string} id Component ID.
 * @returns {Object|null} Component instance.
 */
DocumentRenderer.prototype.getComponentById = function (id) {
	return this._componentInstances[id] || null;
};

/**
 * Gets component instance by a DOM element.
 * @param {Element} element Component's Element.
 * @returns {Object|null} Component instance.
 */
DocumentRenderer.prototype.getComponentByElement = function (element) {
	if (!element) {
		return null;
	}
	var id = element.getAttribute(moduleHelper.ATTRIBUTE_ID);
	return this.getComponentById(id);
};

/**
 * Checks that every instance of component has element on the page and
 * removes all references to components removed from DOM.
 * @returns {Promise} Promise for nothing.
 */
DocumentRenderer.prototype.collectGarbage = function () {
	var self = this;
	return this._getPromiseForReadyState()
		.then(function () {
			var promises = [];
			Object.keys(self._componentElements)
				.forEach(function (id) {
					if (SPECIAL_IDS.hasOwnProperty(id)) {
						return;
					}
					var element = self._window.document.getElementById(id);
					if (element) {
						return;
					}

					var promise = self._unbindComponent(self._componentElements[id])
						.then(function () {
							self._removeComponent(id);
						});
					promises.push(promise);
				});
			return Promise.all(promises);
		});
};

/**
 * Creates and renders component element.
 * @param {string} tagName Name of HTML tag.
 * @param {Object} attributes Element attributes.
 * @returns {Promise<Element>} Promise for HTML element with rendered component.
 */
DocumentRenderer.prototype.createComponent = function (tagName, attributes) {
	if (typeof (tagName) !== 'string' || !attributes ||
		typeof (attributes) !== 'object') {
		return Promise.reject(
			new Error(ERROR_CREATE_WRONG_ARGUMENTS)
		);
	}

	var self = this;
	return this._getPromiseForReadyState()
		.then(function () {
			var components = self._componentLoader.getComponentsByNames(),
				componentName = moduleHelper.getOriginalComponentName(tagName);

			if (moduleHelper.isHeadComponent(componentName) ||
				moduleHelper.isDocumentComponent(componentName) ||
				!(componentName in components)) {
				return Promise.reject(
					new Error(util.format(ERROR_CREATE_WRONG_NAME, tagName))
				);
			}

			var safeTagName = moduleHelper.getTagNameForComponentName(componentName);

			var id = attributes[moduleHelper.ATTRIBUTE_ID];
			if (!id || id in self._componentInstances) {
				return Promise.reject(new Error(ERROR_CREATE_WRONG_ID));
			}

			var element = self._window.document.createElement(safeTagName);
			Object.keys(attributes)
				.forEach(function (attributeName) {
					element.setAttribute(attributeName, attributes[attributeName]);
				});

			return self.renderComponent(element)
				.then(function () {
					return element;
				});
		});
};

/**
 * Clears all references to removed components during rendering process.
 * @param {Object} renderingContext Context of rendering.
 * @private
 */
DocumentRenderer.prototype._collectRenderingGarbage =
	function (renderingContext) {
		var self = this;
		Object.keys(renderingContext.unboundIds)
			.forEach(function (id) {
				// this component has been rendered again and we do not need to
				// remove it.
				if (id in renderingContext.renderedIds) {
					return;
				}

				// if someone added an element with the same ID during the
				// rendering process
				if (self._window.document.getElementById(id) !== null) {
					return;
				}

				self._removeComponent(id);
			});
	};

/**
 * Unbinds all event handlers from specified component and all it's descendants.
 * @param {Element} element Component HTML element.
 * @param {Object} renderingContext Context of rendering.
 * @returns {Promise} Promise for nothing.
 * @private
 */
DocumentRenderer.prototype._unbindAll = function (element, renderingContext) {
	var self = this,
		rootId = this._getId(element),
		promises = [];

	self._findComponents(element, renderingContext.components, true)
		.forEach(function (innerElement) {
			var id = self._getId(innerElement);
			renderingContext.unboundIds[id] = true;
			promises.push(self._unbindComponent(innerElement));
		});

	renderingContext.unboundIds[rootId] = true;
	promises.push(this._unbindComponent(element));

	return Promise.all(promises);
};

/**
 * Unbinds all event handlers from specified component.
 * @param {Element} element Component HTML element.
 * @returns {Promise} Promise for nothing.
 * @private
 */
DocumentRenderer.prototype._unbindComponent = function (element) {
	var id = this._getId(element),
		self = this,
		instance = this._componentInstances[id];
	if (!instance) {
		return Promise.resolve();
	}
	if (id in this._componentBindings) {
		Object.keys(this._componentBindings[id])
			.forEach(function (eventName) {
				element.removeEventListener(
					eventName,
					self._componentBindings[id][eventName].handler,
					NON_BUBBLING_EVENTS.hasOwnProperty(eventName)
				);
			});
		delete this._componentBindings[id];
	}
	var unbindMethod = moduleHelper.getMethodToInvoke(instance, 'unbind');
	return moduleHelper.getSafePromise(unbindMethod)
		.then(function () {
			self._eventBus.emit('componentUnbound', {
				element: element,
				id: !SPECIAL_IDS.hasOwnProperty(id) ? id : null
			});
		})
		.catch(function (reason) {
			self._eventBus.emit('error', reason);
		});
};

/**
 * Removes component from the list.
 * @param {string} id Component's ID
 * @private
 */
DocumentRenderer.prototype._removeComponent = function (id) {
	delete this._componentElements[id];
	delete this._componentInstances[id];
	delete this._componentBindings[id];
};

/**
 * Binds all required event handlers to component.
 * @param {Element} element Component HTML element.
 * @returns {Promise} Promise for nothing.
 * @private
 */
DocumentRenderer.prototype._bindComponent = function (element) {
	var id = this._getId(element),
		self = this,
		instance = this._componentInstances[id];
	if (!instance) {
		return Promise.resolve();
	}

	var bindMethod = moduleHelper.getMethodToInvoke(instance, 'bind');
	return moduleHelper.getSafePromise(bindMethod)
		.then(function (bindings) {
			if (!bindings || typeof (bindings) !== 'object') {
				self._eventBus.emit('componentBound', {
					element: element,
					id: !SPECIAL_IDS.hasOwnProperty(id) ? id : null
				});
				return;
			}
			self._componentBindings[id] = Object.create(null);
			Object.keys(bindings)
				.forEach(function (eventName) {
					eventName = eventName.toLowerCase();
					if (eventName in self._componentBindings[id]) {
						return;
					}
					var selectorHandlers = Object.create(null);
					Object.keys(bindings[eventName])
						.forEach(function (selector) {
							var handler = bindings[eventName][selector];
							if (typeof (handler) !== 'function') {
								return;
							}
							selectorHandlers[selector] = handler.bind(instance);
						});
					self._componentBindings[id][eventName] = {
						handler: self._createBindingHandler(
							element, selectorHandlers
						),
						selectorHandlers: selectorHandlers
					};
					element.addEventListener(
						eventName,
						self._componentBindings[id][eventName].handler,
						NON_BUBBLING_EVENTS.hasOwnProperty(eventName)
					);
				});
			self._eventBus.emit('componentBound', {
				element: element,
				id: id
			});
		});
};

/**
 * Creates universal event handler for delegated events.
 * @param {Element} componentRoot Root element of component.
 * @param {Object} selectorHandlers Map of event handlers by CSS selectors.
 * @returns {Function} Universal event handler for delegated events.
 * @private
 */
DocumentRenderer.prototype._createBindingHandler =
	function (componentRoot, selectorHandlers) {
		var selectors = Object.keys(selectorHandlers);
		return function (event) {
			var dispatchedEvent = createCustomEvent(event, function () {
					return element;
				}),
				element = event.target,
				targetMatches = getMatchesMethod(element),
				isHandled = selectors.some(function (selector) {
					if (targetMatches(selector)) {
						selectorHandlers[selector](dispatchedEvent);
						return true;
					}
					return false;
				});
			if (isHandled || !event.bubbles) {
				return;
			}

			while (element.parentElement && element !== componentRoot) {
				element = element.parentElement;
				targetMatches = getMatchesMethod(element);
				for (var i = 0; i < selectors.length; i++) {
					if (!targetMatches(selectors[i])) {
						continue;
					}
					isHandled = true;
					selectorHandlers[selectors[i]](dispatchedEvent);
					break;
				}

				if (isHandled) {
					break;
				}
			}
		};
	};

/**
 * Checks if the element is a component.
 * @param {Object} components Current components.
 * @param {Element} element DOM element.
 * @private
 */
DocumentRenderer.prototype._isComponent = function (components, element) {
	var currentNodeName = element.nodeName;
	return moduleHelper.COMPONENT_PREFIX_REGEXP.test(currentNodeName) &&
		(moduleHelper.getOriginalComponentName(currentNodeName) in components);
};

/**
 * Finds all descendant components of specified component element.
 * @param {Element} element Root component HTML element to begin search with.
 * @param {Object} components Map of components by names.
 * @param {boolean} goInComponents Go inside nested components.
 * @private
 */
DocumentRenderer.prototype._findComponents =
	function (element, components, goInComponents) {
		var elements = [],
			queue = [element],
			currentChildren, i;

		while (queue.length > 0) {
			currentChildren = queue.shift().childNodes;
			for (i = 0; i < currentChildren.length; i++) {
				// we need only Element nodes
				if (currentChildren[i].nodeType !== 1) {
					continue;
				}

				// and they should be components
				if (!this._isComponent(components, currentChildren[i])) {
					queue.push(currentChildren[i]);
					continue;
				}

				if (goInComponents) {
					queue.push(currentChildren[i]);
				}
				elements.push(currentChildren[i]);
			}
		}

		return elements;
	};

/**
 * Handles error while rendering.
 * @param {Element} element Component HTML element.
 * @param {Object} component Component instance.
 * @param {Error} error Error to handle.
 * @returns {Promise<string>} Promise for HTML string.
 * @private
 */
DocumentRenderer.prototype._handleRenderError =
	function (element, component, error) {
		this._eventBus.emit('error', error);

		// do not corrupt existed HEAD when error occurs
		if (element.tagName === TAG_NAMES.HEAD) {
			return Promise.resolve('');
		}

		if (!this._config.isRelease && error instanceof Error) {
			return Promise.resolve(errorHelper.prettyPrint(
				error, this._window.navigator.userAgent
			));
		} else if (component.errorTemplate) {
			return component.errorTemplate.render(error);
		}

		return Promise.resolve('');
	};

/**
 * Updates all components that depend on current set of changed stores.
 * @returns {Promise} Promise for nothing.
 * @private
 */
DocumentRenderer.prototype._updateStoreComponents = function () {
	if (this._isUpdating) {
		return Promise.resolve();
	}

	var self = this;

	// if document component is changed we should reload the page
	var documentStore = this._window.document.documentElement.getAttribute(
		moduleHelper.ATTRIBUTE_STORE
	);
	if (documentStore in this._currentChangedStores) {
		var newLocation = this._currentRoutingContext.location.toString();
		if (newLocation === this._window.location.toString()) {
			this._window.location.reload();
			return Promise.resolve();
		}
		this._window.location.assign(newLocation);
		return Promise.resolve();
	}

	this._isUpdating = true;

	// if we have awaiting routing we should apply state to the stores
	if (this._awaitingRouting) {
		var components = this._componentLoader.getComponentsByNames(),
			changedByState = this._storeDispatcher.setState(
				this._awaitingRouting.state,
				this._awaitingRouting.routingContext
			);

		changedByState.forEach(function (name) {
			self._currentChangedStores[name] = true;
		});

		// we should update contexts of the stores with the new routing context
		this._currentRoutingContext = this._awaitingRouting.routingContext;
		Object.keys(this._componentInstances)
			.forEach(function (id) {
				var instance = self._componentInstances[id];
				instance.$context = self._getComponentContext(
					components[instance.$context.name],
					instance.$context.element
				);
			});
		this._awaitingRouting = null;
	}

	var changedStores = Object.keys(this._currentChangedStores);
	if (changedStores.length === 0) {
		this._isUpdating = false;
		return Promise.resolve();
	}

	this._currentChangedStores = Object.create(null);

	var renderingContext = this._createRenderingContext(changedStores),
		promises = renderingContext.roots.map(function (root) {
			renderingContext.rootIds[self._getId(root)] = true;
			return self.renderComponent(root, renderingContext);
		});

	return Promise.all(promises)
		.catch(function (reason) {
			self._eventBus.emit('error', reason);
		})
		.then(function () {
			self._isUpdating = false;
			self._eventBus.emit('documentUpdated', changedStores);
			return self._updateStoreComponents();
		});
};

/**
 * Merges new and existed head elements and change only difference.
 * @param {Element} head HEAD DOM element.
 * @param {Element} newHead New head element.
 * @private
 */
/*jshint maxcomplexity:false */
DocumentRenderer.prototype._mergeHead = function (head, newHead) {
	if (!newHead) {
		return;
	}
	var self = this;

	var map = this._getHeadMap(head.childNodes),
		current, i, key, oldKey, oldItem,
		sameMetaElements = Object.create(null);

	for (i = 0; i < newHead.childNodes.length; i++) {
		current = newHead.childNodes[i];

		if (!(current.nodeName in map)) {
			map[current.nodeName] = Object.create(null);
		}

		switch (current.nodeName) {
			// these elements can be only replaced
			case TAG_NAMES.TITLE:
			case TAG_NAMES.BASE:
			case TAG_NAMES.NOSCRIPT:
				key = this._getNodeKey(current);
				oldItem = head.getElementsByTagName(current.nodeName)[0];
				if (oldItem) {
					oldKey = this._getNodeKey(oldItem);
					head.replaceChild(current, oldItem);
				} else {
					head.appendChild(current);
				}
				// when we do replace or append current is removed from newHead
				// therefore we need to decrement index
				i--;
				break;

			// these elements can not be deleted from head
			// therefore we just add new elements that differs from existed
			case TAG_NAMES.STYLE:
			case TAG_NAMES.LINK:
			case TAG_NAMES.SCRIPT:
				key = self._getNodeKey(current);
				if (!(key in map[current.nodeName])) {
					head.appendChild(current);
					i--;
				}
				break;
			// meta and other elements can be deleted
			// but we should not delete and append same elements
			default:
				key = self._getNodeKey(current);
				if (key in map[current.nodeName]) {
					sameMetaElements[key] = true;
				} else {
					head.appendChild(current);
					i--;
				}
				break;
		}
	}

	if (TAG_NAMES.META in map) {
		// remove meta tags which a not in a new head state
		Object.keys(map[TAG_NAMES.META])
			.forEach(function (metaKey) {
				if (metaKey in sameMetaElements) {
					return;
				}

				head.removeChild(map[TAG_NAMES.META][metaKey]);
			});
	}
};

/**
 * Gets map of all HEAD's elements.
 * @param {NodeList} headChildren Head children DOM nodes.
 * @returns {Object} Map of HEAD elements.
 * @private
 */
DocumentRenderer.prototype._getHeadMap = function (headChildren) {
	// Create map of <meta>, <link>, <style> and <script> tags
	// by unique keys that contain attributes and content
	var map = Object.create(null),
		i, current,
		self = this;

	for (i = 0; i < headChildren.length; i++) {
		current = headChildren[i];
		if (!(current.nodeName in map)) {
			map[current.nodeName] = Object.create(null);
		}
		map[current.nodeName][self._getNodeKey(current)] = current;
	}
	return map;
};

/**
 * Gets unique element key using element's attributes and its content.
 * @param {Node} node HTML element.
 * @returns {string} Unique key for element.
 * @private
 */
DocumentRenderer.prototype._getNodeKey = function (node) {
	var current, i,
		attributes = [];

	if (node.nodeType !== NODE_TYPES.ELEMENT_NODE) {
		return node.nodeValue || '';
	}

	if (node.hasAttributes()) {
		for (i = 0; i < node.attributes.length; i++) {
			current = node.attributes[i];
			attributes.push(current.name + '=' + current.value);
		}
	}

	return attributes
			.sort()
			.join('|') + '>' + node.textContent;
};

/**
 * Does initial wrapping for every component on the page.
 * @param {Array} components Current components list.
 * @param {Array} element Elements list.
 * @private
 */
DocumentRenderer.prototype._initialWrap = function (components, elements) {
	var self = this,
		current = elements.pop();

	return Promise.resolve()
		.then(function () {
			var id = self._getId(current);
			if (!id) {
				return;
			}

			var componentName = moduleHelper.getOriginalComponentName(
					current.nodeName
				);
			if (!(componentName in components)) {
				return;
			}
			var constructor = components[componentName].constructor;
			constructor.prototype.$context = self._getComponentContext(
				components[componentName], current
			);

			var instance = self._serviceLocator.resolveInstance(
				constructor, self._config
			);
			instance.$context = constructor.prototype.$context;
			self._componentElements[id] = current;
			self._componentInstances[id] = instance;
			// initialize the store of the component
			self._storeDispatcher.getStore(
				current.getAttribute(moduleHelper.ATTRIBUTE_STORE)
			);
			self._eventBus.emit('componentRendered', {
				name: componentName,
				attributes: instance.$context.attributes,
				context: instance.$context
			});
			return self._bindComponent(current);
		})
		.then(function () {
			if (elements.length > 0) {
				return self._initialWrap(components, elements);
			}

			self._eventBus.emit(
				'documentRendered', self._currentRoutingContext
			);
		});
};

/**
 * Gets component context using basic context.
 * @param {Object} component Component details.
 * @param {Element} element DOM element of component.
 * @returns {Object} Component context.
 * @private
 */
DocumentRenderer.prototype._getComponentContext =
	function (component, element) {
		var self = this,
			storeName = element.getAttribute(moduleHelper.ATTRIBUTE_STORE),
			componentContext = Object.create(this._currentRoutingContext);

		// initialize the store of the component
		this._storeDispatcher.getStore(storeName);

		Object.defineProperties(componentContext, {
			name: {
				get: function () {
					return component.name;
				},
				enumerable: true
			},
			attributes: {
				get: function () {
					return attributesToObject(element.attributes);
				},
				enumerable: true
			}
		});

		componentContext.element = element;
		componentContext.getComponentById = function (id) {
			return self.getComponentById(id);
		};
		componentContext.getComponentByElement = function (element) {
			return self.getComponentByElement(element);
		};
		componentContext.createComponent = function (tagName, attributes) {
			return self.createComponent(tagName, attributes);
		};
		componentContext.collectGarbage = function () {
			return self.collectGarbage();
		};
		componentContext.getStoreData = function () {
			var currentStoreName = element
				.getAttribute(moduleHelper.ATTRIBUTE_STORE);
			return self._storeDispatcher
				.getStoreData(currentStoreName);
		};
		componentContext.sendAction = function (name, args) {
			var currentStoreName = element
				.getAttribute(moduleHelper.ATTRIBUTE_STORE);
			return self._storeDispatcher
				.sendAction(currentStoreName, name, args);
		};
		componentContext.sendBroadcastAction = function (name, args) {
			return self._storeDispatcher
				.sendBroadcastAction(name, args);
		};

		return Object.freeze(componentContext);
	};

/**
 * Finds all rendering roots on page for all changed stores.
 * @param {Array} changedStoreNames List of store names which has been changed.
 * @returns {Array<Element>} HTML elements that are rendering roots.
 * @private
 */
DocumentRenderer.prototype._findRenderingRoots = function (changedStoreNames) {
	var self = this,
		headStore = this._window.document.head.getAttribute(
			moduleHelper.ATTRIBUTE_STORE
		),
		components = this._componentLoader.getComponentsByNames(),
		componentsElements = Object.create(null),
		storeNamesSet = Object.create(null),
		rootsSet = Object.create(null),
		roots = [];

	// we should find all components and then looking for roots
	changedStoreNames
		.forEach(function (storeName) {
			storeNamesSet[storeName] = true;
			componentsElements[storeName] = self._window.document
				.querySelectorAll(
					'[' +
					moduleHelper.ATTRIBUTE_ID +
					']' +
					'[' +
					moduleHelper.ATTRIBUTE_STORE +
					'="' +
					storeName +
					'"]'
				);
		});

	if (moduleHelper.HEAD_COMPONENT_NAME in components &&
		headStore in storeNamesSet) {
		rootsSet[this._getId(this._window.document.head)] = true;
		roots.push(this._window.document.head);
	}

	changedStoreNames
		.forEach(function (storeName) {
			var current, currentId,
				lastRoot, lastRootId,
				currentStore, currentComponentName;

			for (var i = 0; i < componentsElements[storeName].length; i++) {
				current = componentsElements[storeName][i];
				currentId = componentsElements[storeName][i]
					.getAttribute(moduleHelper.ATTRIBUTE_ID);
				lastRoot = current;
				lastRootId = currentId;
				currentComponentName = moduleHelper.getOriginalComponentName(
					current.tagName
				);

				while (current.parentElement) {
					current = current.parentElement;
					currentId = self._getId(current);
					currentStore = current.getAttribute(
						moduleHelper.ATTRIBUTE_STORE
					);

					// store did not change state
					if (!currentStore || !(currentStore in storeNamesSet)) {
						continue;
					}

					// is not an active component
					if (!(currentComponentName in components)) {
						continue;
					}

					lastRoot = current;
					lastRootId = currentId;
				}
				if (lastRootId in rootsSet) {
					continue;
				}
				rootsSet[lastRootId] = true;
				roots.push(lastRoot);
			}
		});

	return roots;
};

/**
 * Creates rendering context.
 * @param {Array?} changedStores Names of changed stores.
 * @returns {{
 *   config: Object,
 *   renderedIds: {},
 *   unboundIds: {},
 *   isHeadRendered: boolean,
 *   bindMethods: Array,
 *   routingContext: Object,
 *   components: Object,
 *   roots: Array.<Element>
 * }} The context object.
 * @private
 */
DocumentRenderer.prototype._createRenderingContext = function (changedStores) {
	var components = this._componentLoader.getComponentsByNames();

	return {
		config: this._config,
		renderedIds: Object.create(null),
		unboundIds: Object.create(null),
		isHeadRendered: false,
		bindMethods: [],
		routingContext: this._currentRoutingContext,
		components: components,
		rootIds: Object.create(null),
		roots: changedStores ? this._findRenderingRoots(changedStores) : []
	};
};

/**
 * Gets ID of the element.
 * @param {Element} element HTML element of component.
 * @returns {string} ID.
 */
DocumentRenderer.prototype._getId = function (element) {
	if (element === this._window.document.documentElement) {
		return SPECIAL_IDS.$$document;
	}
	if (element === this._window.document.head) {
		return SPECIAL_IDS.$$head;
	}
	return element.getAttribute(moduleHelper.ATTRIBUTE_ID);
};

/**
 * Creates temporary clone of the element.
 * @param {Element} element DOM element.
 * @returns {Element} clone.
 * @private
 */
DocumentRenderer.prototype._createTemporaryElement = function (element) {
	var tmp = this._window.document.createElement(element.tagName),
		attributes = element.attributes;
	for (var i = 0; i < attributes.length; i++) {
		tmp.setAttribute(attributes[i].name, attributes[i].value);
	}
	return tmp;
};

/**
 * Converts NamedNodeMap of Attr items to key-value object map.
 * @param {NamedNodeMap} attributes List of Element attributes.
 * @returns {Object} Map of attribute values by names.
 */
function attributesToObject(attributes) {
	var result = Object.create(null);
	for (var i = 0; i < attributes.length; i++) {
		result[attributes[i].name] = attributes[i].value;
	}
	return result;
}

/**
 * Gets cross-browser "matches" method for the element.
 * @param {Element} element HTML element.
 * @returns {Function} "matches" method.
 */
function getMatchesMethod(element) {
	var method = (element.matches ||
		element.webkitMatchesSelector ||
		element.mozMatchesSelector ||
		element.oMatchesSelector ||
		element.msMatchesSelector);

	return method.bind(element);
}

/**
 * Creates imitation of original Event object but with specified currentTarget.
 * @param {Event} event Original event object.
 * @param {Function} currentTargetGetter Getter for currentTarget.
 * @returns {Event} Wrapped event.
 */
function createCustomEvent(event, currentTargetGetter) {
	var catEvent = Object.create(event),
		keys = [],
		properties = {};
	for (var key in event) {
		keys.push(key);
	}
	keys.forEach(function (key) {
		if (typeof (event[key]) === 'function') {
			properties[key] = {
				get: function () {
					return event[key].bind(event);
				}
			};
			return;
		}

		properties[key] = {
			get: function () {
				return event[key];
			},
			set: function (value) {
				event[key] = value;
			}
		};
	});

	properties.currentTarget = {
		get: currentTargetGetter
	};
	Object.defineProperties(catEvent, properties);
	Object.seal(catEvent);
	Object.freeze(catEvent);
	return catEvent;
}
},{"../lib/base/DocumentRendererBase":105,"../lib/helpers/errorHelper":108,"../lib/helpers/hrTimeHelper":94,"../lib/helpers/moduleHelper":109,"morphdom":130,"util":118}],92:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = Logger;

var LEVELS = {
	DEBUG: 'debug',
	TRACE: 'trace',
	INFO: 'info',
	WARN: 'warn',
	ERROR: 'error',
	FATAL: 'fatal'
};

/**
 * Creates browser logger.
 * @param {Object|string} levels Levels to log.
 * @constructor
 */
function Logger(levels) {
	if (typeof (levels) === 'object') {
		this._levels = levels;
	}

	if (typeof (levels) === 'string') {
		this._levels = {};
		Object.keys(LEVELS)
			.forEach(function (level) {
				this._levels[LEVELS[level]] =
					(levels.search(LEVELS[level]) !== -1);
			}, this);
	}

	this.debug = this.debug.bind(this);
	this.trace = this.trace.bind(this);
	this.info = this.info.bind(this);
	this.warn = this.warn.bind(this);
	this.error = this.error.bind(this);
	this.fatal = this.fatal.bind(this);
}

/**
 * Current levels of logging.
 * @type {Object}
 * @private
 */
Logger.prototype._levels = {
	debug: true,
	trace: true,
	info: true,
	warn: true,
	error: true,
	fatal: true
};

/**
 * Logs trace message.
 * @param {string} message Trace message.
 */
Logger.prototype.trace = function (message) {
	if (!this._levels.trace) {
		return;
	}

	if (console.log) {
		console.log(message);
	}
};

/**
 * Logs trace message.
 * @param {string} message Trace message.
 */
Logger.prototype.debug = function (message) {
	if (!this._levels.debug) {
		return;
	}

	if (console.log) {
		console.log(message);
	}
};

/**
 * Logs info message.
 * @param {string} message Information message.
 */
Logger.prototype.info = function (message) {
	if (!this._levels.info) {
		return;
	}

	if (console.info) {
		console.info(message);
	}
};

/**
 * Logs warn message.
 * @param {string} message Warning message.
 */
Logger.prototype.warn = function (message) {
	if (!this._levels.warn) {
		return;
	}

	if (console.warn) {
		console.warn(message);
	}
};
/**
 * Logs error message.
 * @param {string|Error} error Error object or message.
 */
Logger.prototype.error = function (error) {
	if (!this._levels.error) {
		return;
	}

	writeError(error);
};

/**
 * Logs error message.
 * @param {string|Error} error Error object or message.
 */
Logger.prototype.fatal = function (error) {
	if (!this._levels.fatal) {
		return;
	}
	writeError(error);
};

/**
 * Writes error to console.
 * @param {Error|string} error Error to write.
 */
function writeError(error) {
	try {
		if (!(error instanceof Error)) {
			error = typeof (error) === 'string' ? new Error(error) : new Error();
		}
		if (console.error) {
			console.error(error);
		}
	} catch (e) {
		writeError(e);
	}
}
},{}],93:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = RequestRouter;

var util = require('util'),
	URI = require('catberry-uri').URI;

var MOUSE_PRIMARY_KEY = 0,
	HREF_ATTRIBUTE_NAME = 'href',
	TARGET_ATTRIBUTE_NAME = 'target',
	A_TAG_NAME = 'A',
	BODY_TAG_NAME = 'BODY';

/**
 * Creates new instance of the browser request router.
 * @param {ServiceLocator} $serviceLocator Service locator to resolve services.
 * @constructor
 */
function RequestRouter($serviceLocator) {
	this._eventBus = $serviceLocator.resolve('eventBus');
	this._window = $serviceLocator.resolve('window');
	this._documentRenderer = $serviceLocator.resolve('documentRenderer');
	this._stateProvider = $serviceLocator.resolve('stateProvider');
	this._contextFactory = $serviceLocator.resolve('contextFactory');

	this._isHistorySupported = this._window.history &&
		this._window.history.pushState instanceof Function;
	var self = this;

	// add event handlers
	self._wrapDocument();

	// set initial state from current URI
	this._changeState(new URI(this._window.location.toString()))
		.catch(function (reason) {
			self._handleError(reason);
		});
}

/**
 * Current initialization flag.
 * @type {boolean}
 * @private
 */
RequestRouter.prototype._isStateInitialized = false;

/**
 * Current referrer.
 * @type {URI}
 * @private
 */
RequestRouter.prototype._referrer = '';

/**
 * Current location.
 * @type {URI}
 * @private
 */
RequestRouter.prototype._location = null;

/**
 * Current event bus.
 * @type {EventEmitter}
 * @private
 */
RequestRouter.prototype._eventBus = null;

/**
 * Current context factory.
 * @type {ContextFactory}
 * @private
 */
RequestRouter.prototype._contextFactory = null;

/**
 * Current state provider.
 * @type {StateProvider}
 * @private
 */
RequestRouter.prototype._stateProvider = null;

/**
 * Current document renderer.
 * @type {DocumentRenderer}
 * @private
 */
RequestRouter.prototype._documentRenderer = null;

/**
 * Current browser window.
 * @type {Window}
 * @private
 */
RequestRouter.prototype._window = null;

/**
 * True if current browser supports history API.
 * @type {boolean}
 * @private
 */
RequestRouter.prototype._isHistorySupported = false;

/**
 * Routes browser render request.
 * @returns {Promise} Promise for nothing.
 */
RequestRouter.prototype.route = function () {
	var self = this;
	// because now location was not change yet and
	// different browsers handle `popstate` differently
	// we need to do route in next iteration of event loop
	return Promise.resolve()
		.then(function () {
			var newLocation = new URI(self._window.location.toString()),
				newAuthority = newLocation.authority ?
					newLocation.authority.toString() : null,
				currentAuthority = self._location.authority ?
					self._location.authority.toString() : null;

			if (newLocation.scheme !== self._location.scheme ||
				newAuthority !== currentAuthority) {
				return;
			}

			// if only URI fragment is changed
			var newQuery = newLocation.query ?
					newLocation.query.toString() : null,
				currentQuery = self._location.query ?
					self._location.query.toString() : null;
			if (newLocation.path === self._location.path &&
				newQuery === currentQuery) {
				self._location = newLocation;
				return;
			}
			return self._changeState(newLocation);
		});
};

/**
 * Sets application state to specified URI.
 * @param {string} locationString URI to go.
 * @returns {Promise} Promise for nothing.
 */
RequestRouter.prototype.go = function (locationString) {
	var self = this;
	return Promise.resolve()
		.then(function () {
			var location = new URI(locationString);
			location = location.resolveRelative(self._location);
			locationString = location.toString();

			var currentAuthority = self._location.authority ?
					self._location.authority.toString() : null,
				newAuthority = location.authority ?
					location.authority.toString() : null;

			// we must check if this is an external link before map URI
			// to internal application state
			if (!self._isHistorySupported ||
				location.scheme !== self._location.scheme ||
				newAuthority !== currentAuthority) {
				self._window.location.assign(locationString);
				return;
			}

			var state = self._stateProvider.getStateByUri(location);
			if (!state) {
				self._window.location.assign(locationString);
				return;
			}

			self._window.history.pushState(state, '', locationString);
			return self.route();
		});
};

/**
 * Changes current application state with new location.
 * @param {URI} newLocation New location.
 * @returns {Promise} Promise for nothing.
 * @private
 */
RequestRouter.prototype._changeState = function (newLocation) {
	var self = this;
	return Promise.resolve()
		.then(function () {
			self._location = newLocation;
			var state = self._stateProvider.getStateByUri(newLocation),
				routingContext = self._contextFactory.create({
					referrer: self._referrer || self._window.document.referrer,
					location: self._location,
					userAgent: self._window.navigator.userAgent
				});

			if (!self._isStateInitialized) {
				self._isStateInitialized = true;
				return self._documentRenderer.initWithState(
					state, routingContext
				);
			}

			if (state === null) {
				window.location.reload();
				return;
			}

			return self._documentRenderer
				.render(state, routingContext);
		})
		.then(function () {
			self._referrer = self._location;
		});
};

/**
 * Wraps document with required events to route requests.
 * @private
 */
RequestRouter.prototype._wrapDocument = function () {
	var self = this;

	if (!this._isHistorySupported) {
		return;
	}

	this._window.addEventListener('popstate', function () {
		self.route().catch(self._handleError.bind(self));
	});

	this._window.document.body.addEventListener('click', function (event) {
		if (event.defaultPrevented) {
			return;
		}
		if (event.target.tagName === A_TAG_NAME) {
			self._linkClickHandler(event, event.target);
		} else {
			var link = closestLink(event.target);
			if (!link) {
				return;
			}
			self._linkClickHandler(event, link);
		}
	});
};

/**
 * Handles link click on the page.
 * @param {Event} event Event-related object.
 * @param {Element} element Link element.
 * @private
 */
RequestRouter.prototype._linkClickHandler = function (event, element) {
	var targetAttribute = element.getAttribute(TARGET_ATTRIBUTE_NAME);
	if (targetAttribute) {
		return;
	}

	// if middle mouse button was clicked
	if (event.button !== MOUSE_PRIMARY_KEY ||
		event.ctrlKey || event.altKey || event.shiftKey) {
		return;
	}

	var locationString = element.getAttribute(HREF_ATTRIBUTE_NAME);
	if (!locationString) {
		return;
	}
	if (locationString[0] === '#') {
		return;
	}

	event.preventDefault();
	this.go(locationString)
		.catch(this._handleError.bind(this));
};

/**
 * Handles all errors.
 * @param {Error} error Error to handle.
 * @private
 */
RequestRouter.prototype._handleError = function (error) {
	this._eventBus.emit('error', error);
};

/**
 * Finds the closest ascending "A" element node.
 * @param {Node} element DOM element.
 * @returns {Node|null} The closest "A" element or null.
 */
function closestLink(element) {
	while (element && element.nodeName !== A_TAG_NAME &&
		element.nodeName !== BODY_TAG_NAME) {
		element = element.parentNode;
	}
	return element && element.nodeName === A_TAG_NAME ? element : null;
}
},{"catberry-uri":124,"util":118}],94:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = {
	/**
	 * Gets the high resolution time or the difference between
	 * previous and current time.
	 * @param {Array?} Previous high resolution timestamp.
	 * @returns {Array} The high resolution time.
	 */
	get: require('browser-process-hrtime'),
	/**
	 * Converts the high resolution timestamp to text message.
	 * @param {Array}
	 * @returns {string} Time message.
	 */
	toMessage: require('pretty-hrtime'),
	/**
	 * Converts high resolution time to milliseconds number.
	 * @param {Array} hrTime High resolution time tuple.
	 */
	toMilliseconds: function (hrTime) {
		return hrTime[0] * 1e3 + Math.round(hrTime[1] / 1e6);
	}
};
},{"browser-process-hrtime":113,"pretty-hrtime":131}],95:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = ComponentLoader;

var moduleHelper = require('../../lib/helpers/moduleHelper'),
	util = require('util'),
	LoaderBase = require('../../lib/base/LoaderBase');

util.inherits(ComponentLoader, LoaderBase);

/**
 * Creates new instance of the component loader.
 * @param {ServiceLocator} $serviceLocator Locator to resolve dependencies.
 * @constructor
 * @extends LoaderBase
 */
function ComponentLoader($serviceLocator) {
	this._serviceLocator = $serviceLocator;
	this._eventBus = $serviceLocator.resolve('eventBus');
	this._templateProvider = $serviceLocator.resolve('templateProvider');
	LoaderBase.call(this, $serviceLocator.resolveAll('componentTransform'));
}

/**
 * Current event bus.
 * @type {EventEmitter}
 * @private
 */
ComponentLoader.prototype._eventBus = null;

/**
 * Current service locator.
 * @type {ServiceLocator}
 * @private
 */
ComponentLoader.prototype._serviceLocator = null;

/**
 * Current template provider.
 * @type {TemplateProvider}
 * @private
 */
ComponentLoader.prototype._templateProvider = null;

/**
 * Current map of loaded components by names.
 * @type {Object} Map of components by names.
 * @private
 */
ComponentLoader.prototype._loadedComponents = null;

/**
 * Loads components when it is in a browser.
 * @returns {Promise} Promise for nothing.
 */
ComponentLoader.prototype.load = function () {
	if (this._loadedComponents) {
		return Promise.resolve(this._loadedComponents);
	}

	this._loadedComponents = Object.create(null);

	var self = this;
	return Promise.resolve()
		.then(function () {
			var components = self._serviceLocator.resolveAll('component'),
				componentPromises = [];

			// the list is a stack, we should reverse it
			components.forEach(function (component) {
				componentPromises.unshift(
					self._processComponent(component)
				);
			});
			return Promise.all(componentPromises);
		})
		.then(function (components) {
			components.forEach(function (component) {
				if (!component || typeof (component) !== 'object') {
					return;
				}
				self._loadedComponents[component.name] = component;
			});
			self._eventBus.emit('allComponentsLoaded', components);
			return self._loadedComponents;
		});
};

/**
 * Processes component and apply required operations.
 * @param {Object} componentDetails Loaded component details.
 * @returns {Object} Component object.
 * @private
 */
ComponentLoader.prototype._processComponent = function (componentDetails) {
	var self = this,
		component = Object.create(componentDetails);

	return this._applyTransforms(component)
		.then(function (transformed) {
			component = transformed;
			self._templateProvider.registerCompiled(
				component.name, component.templateSource
			);
			component.template = {
				render: function (dataContext) {
					return self._templateProvider.render(
						component.name, dataContext
					);
				}
			};
			if (typeof (component.errorTemplateSource) === 'string') {
				var errorTemplateName = moduleHelper.getNameForErrorTemplate(
					component.name
				);
				self._templateProvider.registerCompiled(
					errorTemplateName, component.errorTemplateSource
				);
				component.errorTemplate = {
					render: function (dataContext) {
						return self._templateProvider.render(
							errorTemplateName, dataContext
						);
					}
				};
			}
			self._eventBus.emit('componentLoaded', component);
			return component;
		})
		.catch(function (reason) {
			self._eventBus.emit('error', reason);
			return null;
		});
};

/**
 * Gets map of components by names.
 * @returns {Object} Map of components by names.
 */
ComponentLoader.prototype.getComponentsByNames = function () {
	return this._loadedComponents || Object.create(null);
};
},{"../../lib/base/LoaderBase":106,"../../lib/helpers/moduleHelper":109,"util":118}],96:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = StoreLoader;

var util = require('util'),
	LoaderBase = require('../../lib/base/LoaderBase');

util.inherits(StoreLoader, LoaderBase);

/**
 * Creates instance of the store loader.
 * @param {ServiceLocator} $serviceLocator Locator to resolve stores.
 * @constructor
 * @extends LoaderBase
 */
function StoreLoader($serviceLocator) {
	this._serviceLocator = $serviceLocator;
	this._eventBus = $serviceLocator.resolve('eventBus');
	LoaderBase.call(this, $serviceLocator.resolveAll('storeTransform'));
}

/**
 * Current event bus.
 * @type {EventEmitter}
 * @private
 */
StoreLoader.prototype._eventBus = null;

/**
 * Current service locator.
 * @type {ServiceLocator}
 * @private
 */
StoreLoader.prototype._serviceLocator = null;

/**
 * Current set of loaded stores.
 * @type {Object}
 * @private
 */
StoreLoader.prototype._loadedStores = null;

/**
 * Loads all stores when it is in a browser.
 * @returns {Promise} Promise for nothing.
 */
StoreLoader.prototype.load = function () {
	if (this._loadedStores) {
		return Promise.resolve(this._loadedStores);
	}

	this._loadedStores = Object.create(null);
	var self = this;

	return Promise.resolve()
		.then(function () {
			var stores = self._serviceLocator.resolveAll('store'),
				storePromises = [];

			// the list is a stack, we should reverse it
			stores.forEach(function (store) {
				storePromises.unshift(
					self._getStore(store)
				);
			});

			return Promise.all(storePromises);
		})
		.then(function (stores) {
			stores.forEach(function (store) {
				if (!store || typeof (store) !== 'object') {
					return;
				}
				self._loadedStores[store.name] = store;
			});
			self._eventBus.emit('allStoresLoaded', self._loadedStores);
			return Promise.resolve(self._loadedStores);
		});
};

/**
 * Gets the store from store details.
 * @param {Object} storeDetails Store details.
 * @returns {Promise<Object>} Promise for store.
 * @private
 */
StoreLoader.prototype._getStore = function (storeDetails) {
	var self = this;
	return this._applyTransforms(storeDetails)
		.then(function (transformed) {
			self._eventBus.emit('storeLoaded', transformed);
			return transformed;
		})
		.catch(function (reason) {
			self._eventBus.emit('error', reason);
			return null;
		});
};

/**
 * Gets stores map by names.
 * @returns {Object} Map of stores by names.
 */
StoreLoader.prototype.getStoresByNames = function () {
	return this._loadedStores || Object.create(null);
};
},{"../../lib/base/LoaderBase":106,"util":118}],97:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = ModuleApiProvider;

var util = require('util'),
	propertyHelper = require('../../lib/helpers/propertyHelper'),
	ModuleApiProviderBase = require('../../lib/base/ModuleApiProviderBase');

util.inherits(ModuleApiProvider, ModuleApiProviderBase);

/**
 * Creates new instance of the module API provider.
 * @param {ServiceLocator} $serviceLocator Service locator
 * to resolve dependencies.
 * @constructor
 * @extends ModuleApiProviderBase
 */
function ModuleApiProvider($serviceLocator) {
	ModuleApiProviderBase.call(this, $serviceLocator);
	propertyHelper.defineReadOnly(this, 'isBrowser', true);
	propertyHelper.defineReadOnly(this, 'isServer', false);
}

/**
 * Reloads the page for handling "not found" error.
 * @returns {Promise} Promise for nothing.
 */
ModuleApiProvider.prototype.notFound = function () {
	var window = this.locator.resolve('window');
	window.location.reload();
	return Promise.resolve();
};

/**
 * Redirects current page to specified URI.
 * @param {string} uriString URI to redirect.
 * @returns {Promise} Promise for nothing.
 */
ModuleApiProvider.prototype.redirect = function (uriString) {
	var requestRouter = this.locator.resolve('requestRouter');
	return requestRouter.go(uriString);
};

/**
 * Clears current location URI's fragment.
 * @returns {Promise} Promise for nothing.
 */
ModuleApiProvider.prototype.clearFragment = function () {
	var window = this.locator.resolve('window'),
		position = window.document.body.scrollTop;
	window.location.hash = '';
	window.document.body.scrollTop = position;
	return Promise.resolve();
};
},{"../../lib/base/ModuleApiProviderBase":107,"../../lib/helpers/propertyHelper":110,"util":118}],98:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = require('./lib/Bootstrapper');

},{"./lib/Bootstrapper":1}],99:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = ContextFactory;

var propertyHelper = require('./helpers/propertyHelper');

/**
 * Creates new instance of the context factory.
 * @param {ServiceLocator} $serviceLocator Locator to resolve dependencies.
 * @constructor
 */
function ContextFactory($serviceLocator) {
	this._serviceLocator = $serviceLocator;
}

/**
 * Current service locator.
 * @type {ServiceLocator}
 * @private
 */
ContextFactory.prototype._serviceLocator = null;

/**
 * Creates new context for modules.
 * @param {Object} additional Additional parameters.
 * @param {URI} additional.referrer Current referrer.
 * @param {URI} additional.location Current location.
 * @param {string} additional.userAgent Current user agent.
 */
ContextFactory.prototype.create = function (additional) {
	var apiProvider = this._serviceLocator.resolve('moduleApiProvider'),
		context = Object.create(apiProvider);
	Object.keys(additional)
		.forEach(function (key) {
			propertyHelper.defineReadOnly(context, key, additional[key]);
		});
	return context;
};
},{"./helpers/propertyHelper":110}],100:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = SerialWrapper;

var events = require('events');

var ERROR_NO_SUCH_METHOD = 'There is no such registered method';

/**
 * Creates new instance of the serial wrapper for promises.
 * @constructor
 */
function SerialWrapper() {
	this._emitter = new events.EventEmitter();
	this._emitter.setMaxListeners(0);
	this._toInvoke = Object.create(null);
	this._inProgress = Object.create(null);
}

/**
 * Current event emitter.
 * @type {EventEmitter}
 * @private
 */
SerialWrapper.prototype._emitter = null;

/**
 * Current set of named methods to invoke.
 * @type {Object}
 * @private
 */
SerialWrapper.prototype._toInvoke = null;

/**
 * Current set of flags if the method is in progress.
 * @type {Object}
 * @private
 */
SerialWrapper.prototype._inProgress = null;

/**
 * Adds method to the set.
 * @param {string} name Method name.
 * @param {Function} toInvoke Function that returns promise.
 */
SerialWrapper.prototype.add = function (name, toInvoke) {
	this._toInvoke[name] = toInvoke;
};

/**
 * Returns true if method with such name was registered to the set.
 * @param {string} name Name of method.
 * @returns {boolean} True if method name is registered.
 */
SerialWrapper.prototype.isRegistered = function (name) {
	return typeof (this._toInvoke[name]) === 'function';
};

/**
 * Invokes method without concurrency.
 * @param {string} name Method name.
 * @returns {Promise<Object>} Promise for result.
 */
SerialWrapper.prototype.invoke = function (name) {
	var self = this;

	if (!this.isRegistered(name)) {
		return Promise.reject(new Error(ERROR_NO_SUCH_METHOD));
	}

	if (this._inProgress[name]) {
		return new Promise(function (fulfill, reject) {
			self._emitter.once(name, fulfill);
			self._emitter.once(name + '--error', reject);
		});
	}

	this._inProgress[name] = true;
	this._toInvoke[name]()
		.then(function (result) {
			self._emitter.emit(name, result);
			self._inProgress[name] = null;
		})
		.catch(function (reason) {
			self._emitter.emit(name + '--error', reason);
			self._inProgress[name] = null;
		});

	return this.invoke(name);
};
},{"events":114}],101:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = StoreDispatcher;

var util = require('util'),
	SerialWrapper = require('./SerialWrapper'),
	moduleHelper = require('./helpers/moduleHelper');

var ERROR_STORE_NOT_FOUND = 'Store "%s" not found',
	ERROR_STATE = 'State should be set before any request',
	DEFAULT_LIFETIME = 60000;

/**
 * Creates new instance of store dispatcher.
 * @param {ServiceLocator} $serviceLocator Locator to resolve dependencies.
 * @param {StoreLoader} $storeLoader Store loader to load stores.
 * @param {EventEmitter} $eventBus Event bus to emit events.
 * @constructor
 */
function StoreDispatcher($serviceLocator, $storeLoader, $eventBus) {
	this._serviceLocator = $serviceLocator;
	this._storeLoader = $storeLoader;
	this._eventBus = $eventBus;
	this._storeInstances = Object.create(null);
	this._lastData = Object.create(null);
	this._dependants = Object.create(null);
	this._serialWrapper = new SerialWrapper();
}

/**
 * Current service locator.
 * @type {ServiceLocator}
 * @private
 */
StoreDispatcher.prototype._serviceLocator = null;

/**
 * Current event bus.
 * @type {EventEmitter}
 * @private
 */
StoreDispatcher.prototype._eventBus = null;

/**
 * Current store loader.
 * @type {StoreLoader}
 * @private
 */
StoreDispatcher.prototype._storeLoader = null;

/**
 * Current map of all store instances.
 * @type {null}
 * @private
 */
StoreDispatcher.prototype._storeInstances = null;

/**
 * Current map of last data for each store.
 * @type {Object}
 * @private
 */
StoreDispatcher.prototype._lastData = null;

/**
 * Current map of last state of store dispatcher.
 * @type {Object}
 * @private
 */
StoreDispatcher.prototype._lastState = null;

/**
 * Current serial wrapper.
 * @type {SerialWrapper}
 * @private
 */
StoreDispatcher.prototype._serialWrapper = null;

/**
 * Current basic context for all store contexts.
 * @type {Object}
 * @private
 */
StoreDispatcher.prototype._currentBasicContext = null;

/**
 * Current set of store dependency graph.
 * @type {Object}
 * @private
 */
StoreDispatcher.prototype._dependants = null;

/**
 * Gets store data and creates store instance if required.
 * @param {string} storeName Name of store.
 * @returns {Object} Store's data.
 */
StoreDispatcher.prototype.getStoreData = function (storeName) {
	if (!this._lastState) {
		return Promise.reject(new Error(ERROR_STATE));
	}
	if (typeof (storeName) !== 'string') {
		return Promise.resolve(null);
	}
	if (storeName in this._lastData) {
		var existTime = Date.now() - this._lastData[storeName].createdAt;
		if (existTime <= this._lastData[storeName].lifetime) {
			return Promise.resolve(this._lastData[storeName].data);
		}
		delete this._lastData[storeName];
	}
	var self = this,
		lifetime = DEFAULT_LIFETIME;
	self._eventBus.emit('storeDataLoad', {
		name: storeName
	});
	var store = this.getStore(storeName);
	if (!store) {
		return Promise.reject(new Error(
				util.format(ERROR_STORE_NOT_FOUND, storeName))
		);
	}
	if (typeof (store.$lifetime) === 'number') {
		lifetime = store.$lifetime;
	}
	return self._serialWrapper.invoke(storeName)
		.then(function (data) {
			self._lastData[storeName] = {
				data: data,
				lifetime: lifetime,
				createdAt: Date.now()
			};
			self._eventBus.emit('storeDataLoaded', {
				name: storeName,
				data: data,
				lifetime: lifetime
			});
			return data;
		});
};

/**
 * Sends action to specified store and resolves promises in serial mode.
 * @param {string} storeName Name of the store.
 * @param {string} actionName Name of the action.
 * @param {Object} args Action arguments.
 * @returns {Promise<*>} Promise for action handling result.
 */
StoreDispatcher.prototype.sendAction = function (storeName, actionName, args) {
	if (!this._lastState) {
		return Promise.reject(new Error(ERROR_STATE));
	}
	var self = this,
		actionDetails = {
			storeName: storeName,
			actionName: actionName,
			args: args
		};
	this._eventBus.emit('actionSend', actionDetails);
	var store = this.getStore(storeName);
	if (!store) {
		return Promise.reject(new Error(
			util.format(ERROR_STORE_NOT_FOUND, storeName))
		);
	}
	var handleMethod = moduleHelper.getMethodToInvoke(
		store, 'handle', actionName
	);
	return moduleHelper.getSafePromise(function () {
		return handleMethod(args);
	})
		.then(function (result) {
			self._eventBus.emit('actionSent', actionDetails);
			return result;
		});
};

/**
 * Sends action to every store that has handle method for such action.
 * @param {string} actionName Name of the action.
 * @param {Object} arg Action arguments.
 * @returns {Promise<Array<*>>} Promise for the action handling result.
 */
StoreDispatcher.prototype.sendBroadcastAction = function (actionName, arg) {
	var promises = [],
		self = this,
		storesByNames = this._storeLoader.getStoresByNames(),
		methodName = moduleHelper.getCamelCaseName('handle', actionName);
	Object.keys(storesByNames)
		.forEach(function (storeName) {
			var store = storesByNames[storeName],
				protoMethod = store.constructor.prototype[methodName];
			if (typeof (protoMethod) !== 'function') {
				return;
			}
			var sendActionPromise = self.sendAction(
				store.name, actionName, arg
			);
			promises.push(sendActionPromise);
		});
	return Promise.all(promises);
};

/**
 * Sets new state to store dispatcher and invokes "changed" method for all
 * stores which state have been changed.
 * @param {Object} parameters Map of new parameters.
 * @param {Object} basicContext Basic context for all stores.
 * @returns {Array<string>} Names of stores that have been changed.
 */
StoreDispatcher.prototype.setState = function (parameters, basicContext) {
	parameters = parameters || Object.create(null);
	if (!this._lastState) {
		this._currentBasicContext = basicContext;
		this._lastState = parameters;
		return [];
	}

	// some store's parameters can be removed since last time
	var self = this,
		changed = Object.create(null);

	Object.keys(this._lastState)
		.filter(function (storeName) {
			return !(storeName in parameters);
		})
		.forEach(function (name) {
			changed[name] = true;
		});

	Object.keys(parameters)
		.forEach(function (storeName) {
			// new parameters were set for store
			if (!(storeName in self._lastState)) {
				changed[storeName] = true;
				return;
			}

			// new and last parameters has different values
			var lastParameterNames =
					Object.keys(self._lastState[storeName]),
				currentParameterNames =
					Object.keys(parameters[storeName]);

			if (currentParameterNames.length !==
				lastParameterNames.length) {
				changed[storeName] = true;
				return;
			}

			currentParameterNames.every(function (parameterName) {
				if (parameters[storeName][parameterName] !==
					self._lastState[storeName][parameterName]) {
					changed[storeName] = true;
					return false;
				}
				return true;
			});
		});

	this._lastState = parameters;
	if (this._currentBasicContext !== basicContext) {
		this._currentBasicContext = basicContext;
		Object.keys(this._storeInstances)
			.forEach(function (storeName) {
				self._storeInstances[storeName].$context =
					self._getStoreContext(storeName);
			});
	}

	var changedStoreNames = Object.create(null);
	Object.keys(changed)
		.forEach(function (storeName) {
			var store = self.getStore(storeName);
			if (!store) {
				return;
			}
			store.$context.changed()
				.forEach(function (name) {
					changedStoreNames[name] = true;
				});
		});

	this._eventBus.emit('stateChanged', {
		oldState: this._lastState,
		newState: parameters
	});
	return Object.keys(changedStoreNames);
};

/**
 * Gets context for store using component's context as a prototype.
 * @param {string} storeName Name of store.
 * @returns {Object} Store context.
 * @private
 */
StoreDispatcher.prototype._getStoreContext = function (storeName) {
	var self = this,
		storeContext = Object.create(this._currentBasicContext);
	storeContext.name = storeName;
	storeContext.state = this._lastState[storeName] || Object.create(null);
	storeContext.changed = function () {
		var walked = Object.create(null),
			current,
			toChange = [storeName];

		while (toChange.length > 0) {
			current = toChange.shift();
			if (current in walked) {
				continue;
			}
			walked[current] = true;
			if (current in self._dependants) {
				toChange = toChange.concat(
					Object.keys(self._dependants[current])
				);
			}
			delete self._lastData[current];
			self._eventBus.emit('storeChanged', current);
		}
		return Object.keys(walked);
	};
	storeContext.getStoreData = function (sourceStoreName) {
		if (sourceStoreName === storeName) {
			return Promise.resolve(null);
		}
		return self.getStoreData(sourceStoreName);
	};
	storeContext.setDependency = function (name) {
		if (!(name in self._dependants)) {
			self._dependants[name] = Object.create(null);
		}
		self._dependants[name][storeName] = true;
	};
	storeContext.unsetDependency = function (name) {
		if (!(name in self._dependants)) {
			return;
		}
		delete self._dependants[name][storeName];
	};
	storeContext.sendAction = function (storeName, name, args) {
		return self.sendAction(storeName, name, args);
	};
	storeContext.sendBroadcastAction = function (name, args) {
		return self.sendBroadcastAction(name, args);
	};

	return storeContext;
};

/**
 * Gets store instance and creates it if required.
 * @param {string} storeName Name of store.
 * @returns {Promise<Object>} Promise for store.
 */
StoreDispatcher.prototype.getStore = function (storeName) {
	if (!storeName) {
		return null;
	}
	var store = this._storeInstances[storeName];
	if (store) {
		return store;
	}
	var self = this;

	var stores = self._storeLoader.getStoresByNames(),
		config = self._serviceLocator.resolve('config');
	if (!(storeName in stores)) {
		return null;
	}

	var constructor = stores[storeName].constructor;
	constructor.prototype.$context = self._getStoreContext(storeName);
	self._storeInstances[storeName] = self._serviceLocator
		.resolveInstance(constructor, config);
	self._storeInstances[storeName].$context = constructor.prototype.$context;

	self._serialWrapper.add(storeName, function () {
		var loadMethod = moduleHelper.getMethodToInvoke(
			self._storeInstances[storeName], 'load'
		);
		return moduleHelper.getSafePromise(loadMethod);
	});
	return self._storeInstances[storeName];
};
},{"./SerialWrapper":100,"./helpers/moduleHelper":109,"util":118}],102:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = BootstrapperBase;

var util = require('util'),
	moduleHelper = require('../helpers/moduleHelper'),
	hrTimeHelper = require('../helpers/hrTimeHelper'),
	uhr = require('catberry-uhr'),
	Promise = require('promise'),
	StateProvider = require('../providers/StateProvider'),
	StoreLoader = require('../loaders/StoreLoader'),
	ComponentLoader = require('../loaders/ComponentLoader'),
	DocumentRenderer = require('../DocumentRenderer'),
	RequestRouter = require('../RequestRouter'),
	ModuleApiProviderBase = require('../base/ModuleApiProviderBase'),
	ContextFactory = require('../ContextFactory'),
	EventEmitter = require('events').EventEmitter;

var INFO_COMPONENT_LOADED = 'Component "%s" loaded',
	INFO_STORE_LOADED = 'Store "%s" loaded',
	INFO_ALL_STORES_LOADED = 'All stores loaded',
	INFO_ALL_COMPONENTS_LOADED = 'All components loaded',
	DEBUG_DOCUMENT_RENDERED = 'Document rendered for URI %s',
	DEBUG_RENDER_COMPONENT = 'Component "%s%s" is being rendered...',
	DEBUG_COMPONENT_RENDERED = 'Component "%s%s" rendered%s';

/**
 * Creates new instance of base Catberry bootstrapper.
 * @param {Function} catberryConstructor Constructor
 * of the Catberry's main module.
 * @constructor
 */
function BootstrapperBase(catberryConstructor) {
	this._catberryConstructor = catberryConstructor;
}

/**
 * Current constructor of the Catberry's main module.
 * @type {Function}
 * @private
 */
BootstrapperBase.prototype._catberryConstructor = null;

/**
 * Creates new full-configured instance of the Catberry application.
 * @param {Object?} configObject Configuration object.
 * @returns {Catberry} Catberry application instance.
 */
BootstrapperBase.prototype.create = function (configObject) {
	var currentConfig = configObject || {},
		catberry = new this._catberryConstructor();

	this.configure(currentConfig, catberry.locator);
	catberry.events = catberry.locator.resolveInstance(ModuleApiProviderBase);
	return catberry;
};

/**
 * Configures locator with all required type registrations.
 * @param {Object} configObject Configuration object.
 * @param {ServiceLocator} locator Service locator to configure.
 */
BootstrapperBase.prototype.configure = function (configObject, locator) {
	var eventBus = new EventEmitter();
	eventBus.setMaxListeners(0);
	locator.registerInstance('promise', Promise);
	locator.registerInstance('eventBus', eventBus);
	locator.registerInstance('config', configObject);
	locator.register('stateProvider', StateProvider, configObject, true);
	locator.register('contextFactory', ContextFactory, configObject, true);
	locator.register('storeLoader', StoreLoader, configObject, true);
	locator.register('componentLoader', ComponentLoader, configObject, true);
	locator.register('documentRenderer', DocumentRenderer, configObject, true);
	locator.register('requestRouter', RequestRouter, configObject, true);

	uhr.register(locator);
};

/**
 * Wraps event bus with log messages.
 * @param {Object} config Application config.
 * @param {EventEmitter} eventBus Event emitter that implements event bus.
 * @param {Logger} logger Logger to write messages.
 * @protected
 */
BootstrapperBase.prototype._wrapEventsWithLogger =
	function (config, eventBus, logger) {
		var isRelease = Boolean(config.isRelease);
		eventBus
			.on('componentLoaded', function (args) {
				logger.info(util.format(INFO_COMPONENT_LOADED, args.name));
			})
			.on('storeLoaded', function (args) {
				logger.info(util.format(INFO_STORE_LOADED, args.name));
			})
			.on('allStoresLoaded', function () {
				logger.info(INFO_ALL_STORES_LOADED);
			})
			.on('allComponentsLoaded', function () {
				logger.info(INFO_ALL_COMPONENTS_LOADED);
			})
			.on('error', function (error) {
				logger.error(error);
			});

		if (isRelease) {
			return;
		}
		eventBus
			.on('componentRender', function (args) {
				var id = args.context.attributes[moduleHelper.ATTRIBUTE_ID];
				logger.debug(util.format(DEBUG_RENDER_COMPONENT,
					moduleHelper.getTagNameForComponentName(args.name),
					id ? '#' + id : ''
				));
			})
			.on('componentRendered', function (args) {
				var id = args.context.attributes[moduleHelper.ATTRIBUTE_ID];
				logger.debug(util.format(
					DEBUG_COMPONENT_RENDERED,
					moduleHelper.getTagNameForComponentName(args.name),
					id ? '#' + id : '',
					util.isArray(args.hrTime) ?
						' (' + hrTimeHelper.toMessage(args.hrTime) + ')' : ''
				));
			})
			.on('documentRendered', function (args) {
				logger.debug(util.format(
					DEBUG_DOCUMENT_RENDERED, args.location.toString()
				));
			});
	};
},{"../ContextFactory":99,"../DocumentRenderer":91,"../RequestRouter":93,"../base/ModuleApiProviderBase":107,"../helpers/hrTimeHelper":94,"../helpers/moduleHelper":109,"../loaders/ComponentLoader":95,"../loaders/StoreLoader":96,"../providers/StateProvider":112,"catberry-uhr":122,"events":114,"promise":132,"util":118}],103:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = CatberryBase;

var ServiceLocator = require('catberry-locator');

/**
 * Creates new instance of the basic Catberry application module.
 * @constructor
 */
function CatberryBase() {
	this.locator = new ServiceLocator();
	this.locator.registerInstance('serviceLocator', this.locator);
	this.locator.registerInstance('catberry', this);
}

/**
 * Current version of catberry.
 */
CatberryBase.prototype.version = '7.0.3';

/**
 * Current object with events.
 * @type {ModuleApiProvider}
 */
CatberryBase.prototype.events = null;

/**
 * Current service locator.
 * @type {ServiceLocator}
 */
CatberryBase.prototype.locator = null;
},{"catberry-locator":120}],104:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = CookieWrapperBase;

var util = require('util');

/**
 * Creates new instance of the basic cookie wrapper.
 * @constructor
 */
function CookieWrapperBase() {
}

/**
 * Gets map of cookie values by name.
 * @returns {Object} Cookies map by names.
 */
CookieWrapperBase.prototype.getAll = function () {
	var string = this.getCookieString();
	return this._parseCookieString(string);
};

/**
 * Gets cookie value by name.
 * @param {string} name Cookie name.
 * @returns {string} Cookie value.
 */
CookieWrapperBase.prototype.get = function (name) {
	if (typeof (name) !== 'string') {
		return '';
	}

	return this.getAll()[name] || '';
};

/**
 * Parses cookie string into map of cookie key/value pairs.
 * @param {string} string Cookie string.
 * @returns {Object} Object with cookie values by keys.
 * @protected
 */
CookieWrapperBase.prototype._parseCookieString = function (string) {
	var cookie = Object.create(null);

	if (typeof (string) !== 'string') {
		return cookie;
	}
	string
		.split(/; */)
		.forEach(function (cookiePair) {
			var equalsIndex = cookiePair.indexOf('=');
			if (equalsIndex < 0) {
				return;
			}

			var key = cookiePair.substr(0, equalsIndex).trim(),
				value = cookiePair.substr(
					equalsIndex + 1, cookiePair.length
				).trim();

			value = value.replace(/^"|"$/g, '');
			cookie[key] = value;
		});

	return cookie;
};

/**
 * Converts cookie setup object to cookie string.
 * @param {Object} cookieSetup Cookie setup object.
 * @param {string} cookieSetup.key Cookie key.
 * @param {string} cookieSetup.value Cookie value.
 * @param {number?} cookieSetup.maxAge Max cookie age in seconds.
 * @param {Date?} cookieSetup.expires Expire date.
 * @param {string?} cookieSetup.path URI path for cookie.
 * @param {string?} cookieSetup.domain Cookie domain.
 * @param {boolean?} cookieSetup.secure Is cookie secured.
 * @param {boolean?} cookieSetup.httpOnly Is cookie HTTP only.
 * @returns {string} Cookie string.
 * @protected
 */
CookieWrapperBase.prototype._convertToCookieSetup = function (cookieSetup) {
	if (typeof (cookieSetup.key) !== 'string' ||
		typeof (cookieSetup.value) !== 'string') {
		throw new Error('Wrong key or value');
	}

	var cookie = cookieSetup.key + '=' + cookieSetup.value;

	// http://tools.ietf.org/html/rfc6265#section-4.1.1
	if (typeof (cookieSetup.maxAge) === 'number') {
		cookie += '; Max-Age=' + cookieSetup.maxAge.toFixed();
		if (!cookieSetup.expires) {
			// by default expire date = current date + max-age in seconds
			cookieSetup.expires = new Date(Date.now() +
				cookieSetup.maxAge * 1000);
		}
	}
	if (cookieSetup.expires instanceof Date) {
		cookie += '; Expires=' + cookieSetup.expires.toUTCString();
	}
	if (typeof (cookieSetup.path) === 'string') {
		cookie += '; Path=' + cookieSetup.path;
	}
	if (typeof (cookieSetup.domain) === 'string') {
		cookie += '; Domain=' + cookieSetup.domain;
	}
	if (typeof (cookieSetup.secure) === 'boolean' &&
		cookieSetup.secure) {
		cookie += '; Secure';
	}
	if (typeof (cookieSetup.httpOnly) === 'boolean' &&
		cookieSetup.httpOnly) {
		cookie += '; HttpOnly';
	}

	return cookie;
};
},{"util":118}],105:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = DocumentRendererBase;

/**
 * Creates new instance of the basic document renderer.
 * @param {ServiceLocator} $serviceLocator Locator to resolve dependencies.
 * @constructor
 */
function DocumentRendererBase($serviceLocator) {
	var self = this;
	this._serviceLocator = $serviceLocator;
	this._contextFactory = $serviceLocator.resolve('contextFactory');
	this._componentLoader = $serviceLocator.resolve('componentLoader');
	this._eventBus = $serviceLocator.resolve('eventBus');

	var storeLoader = $serviceLocator.resolve('storeLoader');
	this._loading = Promise.all([
		this._componentLoader.load(),
		storeLoader.load()
	])
		.then(function () {
			self._loading = null;
			self._eventBus.emit('ready');
		})
		.catch(function (reason) {
			self._eventBus.emit('error', reason);
		});
}

/**
 * Current service locator.
 * @type {ServiceLocator}
 * @protected
 */
DocumentRendererBase.prototype._serviceLocator = null;

/**
 * Current component loader.
 * @type {ComponentLoader}
 * @protected
 */
DocumentRendererBase.prototype._componentLoader = null;

/**
 * Current module loading promise.
 * @type {Promise}
 * @protected
 */
DocumentRendererBase.prototype._loading = null;

/**
 * Current context factory.
 * @type {ContextFactory}
 * @protected
 */
DocumentRendererBase.prototype._contextFactory = null;

/**
 * Gets promise for ready state when it will be able handle requests.
 * @returns {Promise} Promise for nothing.
 * @protected
 */
DocumentRendererBase.prototype._getPromiseForReadyState = function () {
	return this._loading ?
		this._loading :
		Promise.resolve();
};
},{}],106:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = LoaderBase;

/**
 * Create basic implementation of a module loader.
 * @param {Array} transforms Array of module transformations.
 * @constructor
 */
function LoaderBase(transforms) {
	this._transforms = transforms;
}

/**
 * Current list of component transforms.
 * @type {Array}
 * @private
 */
LoaderBase.prototype._transforms = null;

/**
 * Applies all transformations registered in Service Locator.
 * @param {Object} module Loaded module.
 * @param {number?} index Transformation index in a list.
 * @returns {Promise<Object>} Transformed module.
 * @protected
 */
LoaderBase.prototype._applyTransforms = function (module, index) {
	if (index === undefined) {
		// the list is a stack, we should reverse it
		index = this._transforms.length - 1;
	}

	if (index < 0) {
		return Promise.resolve(module);
	}

	var self = this,
		transformation = this._transforms[index];

	return Promise.resolve()
		.then(function () {
			return transformation.transform(module);
		})
		.then(function (transformedModule) {
			return self._applyTransforms(transformedModule, index - 1);
		});
};
},{}],107:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = ModuleApiProviderBase;

var ERROR_EVENT_NAME = 'Event name should be a string',
	ERROR_EVENT_HANDLER = 'Event handler should be a function';

/**
 * Creates new instance of the basic API provider.
 * @param {ServiceLocator} $serviceLocator Service locator
 * to resolve dependencies.
 * @constructor
 */
function ModuleApiProviderBase($serviceLocator) {
	this.locator = $serviceLocator;
	this.cookie = $serviceLocator.resolve('cookieWrapper');
	this._eventBus = $serviceLocator.resolve('eventBus');
}

/**
 * Current cookie provider.
 * @type {CookieWrapper}
 */
ModuleApiProviderBase.prototype.cookie = null;

/**
 * Current service locator.
 * @type {ServiceLocator}
 * @protected
 */
ModuleApiProviderBase.prototype.locator = null;

/**
 * Current event bus.
 * @type {EventEmitter}
 * @private
 */
ModuleApiProviderBase.prototype._eventBus = null;

/**
 * Subscribes on the specified event in Catberry.
 * @param {string} eventName Name of the event.
 * @param {Function} handler Event handler.
 * @returns {ModuleApiProviderBase} This object for chaining.
 */
ModuleApiProviderBase.prototype.on = function (eventName, handler) {
	checkEventNameAndHandler(eventName, handler);
	this._eventBus.on(eventName, handler);
	return this;
};

/**
 * Subscribes on the specified event in Catberry to handle once.
 * @param {string} eventName Name of the event.
 * @param {Function} handler Event handler.
 * @returns {ModuleApiProviderBase} This object for chaining.
 */
ModuleApiProviderBase.prototype.once = function (eventName, handler) {
	checkEventNameAndHandler(eventName, handler);
	this._eventBus.once(eventName, handler);
	return this;
};

/**
 * Removes the specified handler from the specified event.
 * @param {string} eventName Name of the event.
 * @param {Function} handler Event handler.
 * @returns {ModuleApiProviderBase} This object for chaining.
 */
ModuleApiProviderBase.prototype.removeListener = function (eventName, handler) {
	checkEventNameAndHandler(eventName, handler);
	this._eventBus.removeListener(eventName, handler);
	return this;
};

/**
 * Removes all handlers from the specified event in Catberry.
 * @param {string} eventName Name of the event.
 * @returns {ModuleApiProviderBase} This object for chaining.
 */
ModuleApiProviderBase.prototype.removeAllListeners = function (eventName) {
	checkEventNameAndHandler(eventName, dummy);
	this._eventBus.removeAllListeners(eventName);
	return this;
};

/**
 * Checks if event name is a string and handler is a function.
 * @param {*} eventName Name of the event to check.
 * @param {*} handler The event handler to check.
 */
function checkEventNameAndHandler(eventName, handler) {
	if (typeof (eventName) !== 'string') {
		throw new Error(ERROR_EVENT_NAME);
	}

	if (typeof (handler) !== 'function') {
		throw new Error(ERROR_EVENT_HANDLER);
	}
}

/**
 * Does nothing. It is used as a default callback.
 */
function dummy() {}

},{}],108:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

var util = require('util');

var TITLE = 'Catberry@7.0.3 (' +
		'<a href="https://github.com/catberry/catberry/issues" ' +
		'target="_blank">' +
		'report an issue' +
		'</a>' +
		')',
	AMP = /&/g,
	LT = /</g,
	GT = />/g,
	QUOT = /\"/g,
	SINGLE_QUOT = /\'/g,
	ERROR_MESSAGE_REGEXP = /^(?:[\w$]+): (?:.+)\r?\n/i,
	ERROR_MESSAGE_FORMAT = '<span ' +
		'style="color: red; font-size: 16pt; font-weight: bold;">' +
		'%s%s' +
		'</span>',
	NEW_LINE = /\r?\n/g;

module.exports = {
	/**
	 * Prints error with pretty formatting.
	 * @param {Error} error Error to print.
	 * @param {string} userAgent User agent information.
	 * @returns {string} HTML with all information about error.
	 */
	prettyPrint: function (error, userAgent) {
		if (!error || typeof (error) !== 'object') {
			return '';
		}
		var dateString = (new Date()).toUTCString() + ';<br/>',
			userAgentString = (userAgent ? (userAgent + ';<br/>') : ''),
			name = (typeof (error.name) === 'string' ? error.name + ': ' : ''),
			message = String(error.message || ''),
			stack = String(error.stack || '').replace(ERROR_MESSAGE_REGEXP, ''),
			fullMessage = util.format(
				ERROR_MESSAGE_FORMAT, escape(name), escape(message)
			);

		return '<div style="background-color: white; font-size: 12pt;">' +
			dateString +
			userAgentString +
			TITLE + '<br/><br/>' +
			fullMessage + '<br/><br/>' +
			escape(stack) +
			'</div>';
	}
};

/**
 * Escapes error text.
 * @param {string} value Error text.
 * @returns {string} escaped and formatted string.
 */
function escape(value) {
	return value
		.replace(AMP, '&amp;')
		.replace(LT, '&lt;')
		.replace(GT, '&gt;')
		.replace(QUOT, '&quot;')
		.replace(SINGLE_QUOT, '&#39;')
		.replace(NEW_LINE, '<br/>');
}
},{"util":118}],109:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

var helper = {
	COMPONENT_PREFIX: 'cat-',
	COMPONENT_PREFIX_REGEXP: /^cat-/i,
	COMPONENT_ERROR_TEMPLATE_POSTFIX: '--error',
	DOCUMENT_COMPONENT_NAME: 'document',
	DOCUMENT_ELEMENT_NAME: 'html',
	HEAD_COMPONENT_NAME: 'head',
	ATTRIBUTE_ID: 'id',
	ATTRIBUTE_STORE: 'cat-store',
	DEFAULT_LOGIC_FILENAME: 'index.js',

	/**
	 * Creates name for error template of component.
	 * @param {string} componentName name of component.
	 * @returns {string} Name of error template of the component.
	 */
	getNameForErrorTemplate: function (componentName) {
		if (typeof (componentName) !== 'string') {
			return '';
		}
		return componentName + helper.COMPONENT_ERROR_TEMPLATE_POSTFIX;
	},

	/**
	 * Determines if specified component name is the "document" component name.
	 * @param {string} componentName Name of the component.
	 * @returns {boolean} True if specified component is the "document" component.
	 */
	isDocumentComponent: function (componentName) {
		return componentName.toLowerCase() === helper.DOCUMENT_COMPONENT_NAME;
	},
	/**
	 * Determines if specified component name is the "head" component name.
	 * @param {string} componentName Name of the component.
	 * @returns {boolean} True if specified component is the "head" component.
	 */
	isHeadComponent: function (componentName) {
		return componentName.toLowerCase() === helper.HEAD_COMPONENT_NAME;
	},

	/**
	 * Gets the original component name without prefix.
	 * @param {string} fullComponentName Full component name (tag name).
	 * @returns {string} The original component name without prefix.
	 */
	getOriginalComponentName: function (fullComponentName) {
		if (typeof (fullComponentName) !== 'string') {
			return '';
		}
		fullComponentName = fullComponentName.toLowerCase();
		if (fullComponentName === helper.HEAD_COMPONENT_NAME) {
			return fullComponentName;
		}
		if (fullComponentName === helper.DOCUMENT_COMPONENT_NAME ||
			fullComponentName === helper.DOCUMENT_ELEMENT_NAME) {
			return helper.DOCUMENT_COMPONENT_NAME;
		}
		return fullComponentName.replace(helper.COMPONENT_PREFIX_REGEXP, '');
	},

	/**
	 * Gets valid tag name for component.
	 * @param {string} componentName Name of the component.
	 * @returns {string} Name of the tag.
	 */
	getTagNameForComponentName: function (componentName) {
		if (typeof (componentName) !== 'string') {
			return '';
		}
		var upperComponentName = componentName.toUpperCase();
		if (componentName === helper.HEAD_COMPONENT_NAME) {
			return upperComponentName;
		}
		if (componentName === helper.DOCUMENT_COMPONENT_NAME) {
			return helper.DOCUMENT_ELEMENT_NAME.toUpperCase();
		}
		return helper.COMPONENT_PREFIX.toUpperCase() + upperComponentName;
	},

	/**
	 * Gets method of the module that can be invoked.
	 * @param {Object} module Module implementation.
	 * @param {string} prefix Method prefix (i.e. handle).
	 * @param {string?} name Name of the entity to invoke method for
	 * (will be converted to camel casing).
	 * @returns {Function} Method to invoke.
	 */
	getMethodToInvoke: function (module, prefix, name) {
		if (!module || typeof (module) !== 'object') {
			return defaultPromiseMethod;
		}
		var methodName = helper.getCamelCaseName(prefix, name);
		if (typeof (module[methodName]) === 'function') {
			return module[methodName].bind(module);
		}
		if (typeof (module[prefix]) === 'function') {
			return module[prefix].bind(module, name);
		}

		return defaultPromiseMethod;
	},

	/**
	 * Gets name in camel casing for everything.
	 * @param {string} prefix Prefix for the name.
	 * @param {string} name Name to convert.
	 */
	getCamelCaseName: function (prefix, name) {
		if (!name) {
			return '';
		}
		var parts = name.split(/[^a-z0-9]/i),
			camelCaseName = String(prefix || '');

		parts.forEach(function (part) {
			if (!part) {
				return;
			}

			// first character in method name must be in lowercase
			camelCaseName += camelCaseName ?
				part[0].toUpperCase() :
				part[0].toLowerCase();
			camelCaseName += part.substring(1);
		});

		return camelCaseName;
	},

	/**
	 * Gets safe promise resolved from action.
	 * @param {Function} action Action to wrap with safe promise.
	 * @returns {Promise} Promise for done action.
	 */
	getSafePromise: function (action) {
		var result;
		try {
			result = action();
		} catch (e) {
			return Promise.reject(e);
		}
		return Promise.resolve(result);
	}
};

module.exports = helper;

/**
 * Just returns resolved promise.
 * @returns {Promise} Promise for nothing.
 */
function defaultPromiseMethod() {
	return Promise.resolve();
}
},{}],110:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = {
	/**
	 * Defines read-only property.
	 * @param {Object} object Object to define property in.
	 * @param {string} name Name of the property.
	 * @param {*} value Property value.
	 */
	defineReadOnly: function (object, name, value) {
		Object.defineProperty(object, name, {
			enumerable: false,
			configurable: false,
			writable: false,
			value: value
		});
	}
};
},{}],111:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

var util = require('util'),
	URI = require('catberry-uri').URI;

var URI_PATH_REPLACEMENT_REG_EXP_SOURCE = '([^\\/\\\\]*)',
	URI_QUERY_REPLACEMENT_REG_EXP_SOURCE = '([^&?=]*)';

var PATH_END_SLASH_REG_EXP = /(.+)\/($|\?|#)/,
	EXPRESSION_ESCAPE_REG_EXP = /[\-\[\]\{\}\(\)\*\+\?\.\\\^\$\|]/g,
	IDENTIFIER_REG_EXP_SOURCE = '[$A-Z_][\\dA-Z_$]*',
	STORE_LIST_REG_EXP_SOURCE = '(?:(?:\\\\[[ ]*' +
		'[^\\[\\],]+' +
		'([ ]*,[ ]*' +
		'[^\\[\\],]+' +
		')*[ ]*\\\\])|(?:\\\\[[ ]*\\\\]))?',
	PARAMETER_REG_EXP = new RegExp(
			':' +
			IDENTIFIER_REG_EXP_SOURCE +
			STORE_LIST_REG_EXP_SOURCE, 'gi'),
	SLASHED_BRACKETS_REG_EXP = /\\\[|\\\]/,
	STORE_LIST_SEPARATOR = ',';

module.exports = {
	/**
	 * Removes slash from the end of URI path.
	 * @param {string} uriPath URI path to process.
	 * @returns {string} URI without end slash.
	 */
	removeEndSlash: function (uriPath) {
		if (!uriPath || typeof (uriPath) !== 'string') {
			return '';
		}
		if (uriPath === '/') {
			return uriPath;
		}
		return uriPath.replace(PATH_END_SLASH_REG_EXP, '$1$2');
	},
	/**
	 * Gets URI mapper from the route expression like
	 * /some/:id[store1, store2, store3]/details?filter=:filter[store3].
	 * @param {URI} routeUri Expression that defines route.
	 * @returns {{expression: RegExp, map: Function}?} URI mapper object.
	 * URI mapper object.
	 */
	compileRoute: function (routeUri) {
		if (!routeUri) {
			return null;
		}

		// escape regular expression characters
		var escaped = routeUri.path.replace(
			EXPRESSION_ESCAPE_REG_EXP, '\\$&'
		);

		// get all occurrences of routing parameters in URI path
		var regExpSource = '^' + escaped.replace(
					PARAMETER_REG_EXP,
					URI_PATH_REPLACEMENT_REG_EXP_SOURCE) + '$',
			expression = new RegExp(regExpSource, 'i'),
			queryMapper,
			pathMapper,
			pathParameterMatches = escaped.match(
				PARAMETER_REG_EXP
			),
			pathParameters = pathParameterMatches ?
				pathParameterMatches.map(getParameterDescriptor) : null;

		if (pathParameters) {
			pathMapper = createUriPathMapper(expression, pathParameters);
		}

		if (routeUri.query) {
			var queryParameters = Object.create(null);
			Object.keys(routeUri.query.values)
				.forEach(function (name) {
					// arrays in routing definitions are not supported
					if (util.isArray(routeUri.query.values[name])) {
						return;
					}

					// escape regular expression characters
					var escaped = routeUri.query.values[name].replace(
						EXPRESSION_ESCAPE_REG_EXP, '\\$&'
					);

					// get all occurrences of routing parameters in URI path
					var regExpSource = '^' + escaped.replace(
							PARAMETER_REG_EXP,
							URI_QUERY_REPLACEMENT_REG_EXP_SOURCE) + '$';
					var queryParameterMatches = escaped.match(
							PARAMETER_REG_EXP
						);
					if (!queryParameterMatches ||
						queryParameterMatches.length === 0) {
						return;
					}

					var parameter = getParameterDescriptor(
						queryParameterMatches[queryParameterMatches.length - 1]
					);
					var expression = new RegExp(regExpSource, 'i');
					parameter.map = createUriQueryValueMapper(expression);
					queryParameters[name] = parameter;
				});
			queryMapper = createUriQueryMapper(queryParameters);
		}

		return {
			expression: expression,
			map: function (uri) {
				var state = Object.create(null);
				if (pathMapper) {
					pathMapper(uri.path, state);
				}

				if (queryMapper && uri.query) {
					queryMapper(uri.query.values, state);
				}

				return state;
			}
		};
	}
};

/**
 * Creates new URI path-to-state object mapper.
 * @param {RegExp} expression Regular expression to match URI path.
 * @param {Array} parameters List of parameter descriptors.
 * @returns {Function} URI mapper function.
 */
function createUriPathMapper(expression, parameters) {
	return function (uriPath, state) {
		var matches = uriPath.match(expression);
		if (!matches || matches.length < 2) {
			return state;
		}

		// start with second match because first match is always
		// the whole URI path
		matches = matches.splice(1);

		parameters.forEach(function (parameter, index) {
			var value = matches[index];
			try {
				value = decodeURIComponent(value);
			} catch (e) {
				// nothing to do
			}
			parameter.storeNames.forEach(function (storeName) {
				if (!state[storeName]) {
					state[storeName] = Object.create(null);
				}
				state[storeName][parameter.name] = value;
			});
		});
	};
}

/**
 * Creates new URI query-to-state object mapper.
 * @param {Object} parameters List of possible query parameter descriptors by
 * query parameter names.
 * @returns {Function} URI mapper function.
 */
function createUriQueryMapper(parameters) {
	return function (queryValues, state) {
		queryValues = queryValues || Object.create(null);

		Object.keys(queryValues)
			.forEach(function (queryKey) {
				var parameter = parameters[queryKey];
				if (!parameter) {
					return;
				}

				var value = util.isArray(queryValues[queryKey]) ?
						queryValues[queryKey]
							.map(parameter.map)
							.filter(function (value) {
								return value !== null;
							}) :
						parameter.map(queryValues[queryKey]);

				if (value === null) {
					return;
				}
				parameter.storeNames.forEach(function (storeName) {
					if (!state[storeName]) {
						state[storeName] = Object.create(null);
					}
					state[storeName][parameter.name] = value;
				});
			});
	};
}

/**
 * Maps query parameter value using the parameters expression.
 * @param {RegExp} expression Regular expression to get parameter value.
 * @returns {Function} URI query string parameter value mapper function.
 */
function createUriQueryValueMapper(expression) {
	return function (value) {
		value = value
			.toString()
			// we have to temporary encode these characters for not breaking
			// expression parsing, because it's terminated by query separator
			.replace(/=/g, '%3D')
			.replace(/\?/g, '%3F')
			.replace(/&/g, '%26');
		var matches = value.match(expression);
		if (!matches || matches.length === 0) {
			return null;
		}

		// the value is the second item, the first is a whole string
		var mappedValue = matches[matches.length - 1];
		try {
			mappedValue = decodeURIComponent(mappedValue);
		} catch (e) {
			// nothing to do
		}

		return mappedValue;
	};
}

/**
 * Gets description of parameters from its expression.
 * @param {string} parameter Parameter expression.
 * @returns {{name: string, storeNames: Array}} Parameter descriptor.
 */
function getParameterDescriptor(parameter) {
	var parts = parameter.split(SLASHED_BRACKETS_REG_EXP);

	return {
		name: parts[0]
			.trim()
			.substring(1),
		storeNames: (parts[1] ? parts[1] : '')
			.split(STORE_LIST_SEPARATOR)
			.map(function (storeName) {
				return storeName.trim();
			})
			.filter(function (storeName) {
				return storeName.length > 0;
			})
	};
}
},{"catberry-uri":124,"util":118}],112:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = StateProvider;

var routeHelper = require('./../helpers/routeHelper'),
	catberryUri = require('catberry-uri'),
	URI = catberryUri.URI;

/**
 * Create new instance of the state provider.
 * @param {ServiceLocator} $serviceLocator Service locator
 * to resolve URI mappers.
 * @constructor
 */
function StateProvider($serviceLocator) {
	this._uriMappers = getUriMappers($serviceLocator);
}

/**
 * Current list of URI mappers.
 * @type {Array}
 * @private
 */
StateProvider.prototype._uriMappers = null;

/**
 * Gets state by specified location URI.
 * @param {URI} location URI location.
 * @returns {Object?} State object.
 */
StateProvider.prototype.getStateByUri = function (location) {
	if (this._uriMappers.length === 0) {
		return null;
	}

	location = location.clone();

	location.path = routeHelper.removeEndSlash(location.path);
	var state = getState(this._uriMappers, location);

	if (!state) {
		return null;
	}

	// make state object immutable
	Object.keys(state)
		.forEach(function (storeName) {
			Object.freeze(state[storeName]);
		});
	Object.freeze(state);

	return state;
};

/**
 * Gets list of URI mappers.
 * @param {ServiceLocator} serviceLocator Service locator to get route
 * definitions.
 * @returns {Array} List of URI mappers.
 */
function getUriMappers(serviceLocator) {
	var uriMappers = [];

	serviceLocator.resolveAll('routeDefinition')
		.forEach(function (route) {
			// just colon-parametrized string
			if (typeof (route) === 'string') {
				var routeUri = new URI(route);
				routeUri.path = routeHelper.removeEndSlash(routeUri.path);
				uriMappers.push(routeHelper.compileRoute(routeUri));
				return;
			}

			// extended colon-parametrized mapper
			if (typeof (route) === 'object' &&
				(typeof (route.expression) === 'string') &&
				(route.map instanceof Function)) {
				var mapperUri = new URI(route.expression);
				mapperUri.path = routeHelper.removeEndSlash(mapperUri.path);
				var mapper = routeHelper.compileRoute(mapperUri);
				uriMappers.push({
					expression: mapper.expression,
					map: function (uri) {
						var state = mapper.map(uri);
						return route.map(state);
					}
				});
				return;
			}

			// regular expression mapper
			if (typeof (route) === 'object' &&
				(route.expression instanceof RegExp) &&
				(route.map instanceof Function)) {
				uriMappers.push(route);
			}
		});
	return uriMappers;
}

/**
 * Gets state.
 * @param {Array} uriMappers List of URI mappers.
 * @param {URI} location URI that describes the state.
 * @returns {Object|null} The state from URI.
 */
function getState(uriMappers, location) {
	var state = null;

	uriMappers.some(function (mapper) {
		if (mapper.expression.test(location.path)) {
			state = mapper.map(location) || Object.create(null);
			return true;
		}
		return false;
	});

	return state;
}
},{"./../helpers/routeHelper":111,"catberry-uri":124}],113:[function(require,module,exports){
(function (process,global){
module.exports = process.hrtime || hrtime

// polyfil for window.performance.now
var performance = global.performance || {}
var performanceNow =
  performance.now        ||
  performance.mozNow     ||
  performance.msNow      ||
  performance.oNow       ||
  performance.webkitNow  ||
  function(){ return (new Date()).getTime() }

// generate timestamp or delta
// see http://nodejs.org/api/process.html#process_process_hrtime
function hrtime(previousTimestamp){
  var clocktime = performanceNow.call(performance)*1e-3
  var seconds = Math.floor(clocktime)
  var nanoseconds = Math.floor((clocktime%1)*1e9)
  if (previousTimestamp) {
    seconds = seconds - previousTimestamp[0]
    nanoseconds = nanoseconds - previousTimestamp[1]
    if (nanoseconds<0) {
      seconds--
      nanoseconds += 1e9
    }
  }
  return [seconds,nanoseconds]
}
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":116}],114:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      }
      throw TypeError('Uncaught, unspecified "error" event.');
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    args = Array.prototype.slice.call(arguments, 1);
    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else if (listeners) {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.prototype.listenerCount = function(type) {
  if (this._events) {
    var evlistener = this._events[type];

    if (isFunction(evlistener))
      return 1;
    else if (evlistener)
      return evlistener.length;
  }
  return 0;
};

EventEmitter.listenerCount = function(emitter, type) {
  return emitter.listenerCount(type);
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],115:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],116:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],117:[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],118:[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":117,"_process":116,"inherits":115}],119:[function(require,module,exports){
/*
 * catberry-locator
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-locator's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry-locator that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = ConstructorTokenizer;

var STATES = {
	ILLEGAL: -1,
	NO: 0,
	IDENTIFIER: 1,
	FUNCTION: 2,
	PARENTHESES_OPEN: 3,
	PARENTHESES_CLOSE: 4,
	COMMA: 5,
	END: 6
};
ConstructorTokenizer.STATES = STATES;

var KEYWORDS = {
	FUNCTION: 'function'
};

var WHITESPACE_TEST = /^\s$/,
	IDENTIFIER_TEST = /^[\$\w]$/;

function ConstructorTokenizer(constructorSource) {
	this._source = String(constructorSource || '');
}

/**
 * Current source code of constructor.
 * @type {string}
 * @private
 */
ConstructorTokenizer.prototype._source = '';

/**
 * Current index in source code.
 * @type {number}
 * @private
 */
ConstructorTokenizer.prototype._currentIndex = 0;

/**
 * Current index in source code.
 * @type {number}
 * @private
 */
ConstructorTokenizer.prototype._currentEnd = 0;

/**
 * Current state.
 * @type {number}
 * @private
 */
ConstructorTokenizer.prototype._currentState = STATES.NO;

/**
 * Gets next token in source.
 * @returns {{state: (number), start: number, end: number}} Token descriptor.
 */
ConstructorTokenizer.prototype.next = function () {
	if (this._currentState === STATES.ILLEGAL ||
		this._currentState === STATES.END) {
		return {
			state: this._currentState,
			start: this._currentIndex,
			end: this._currentIndex + 1
		};
	}

	var start = this._currentIndex,
		state = this._currentState;

	switch (this._currentState) {
		case STATES.PARENTHESES_OPEN:
			this.parenthesesOpenState();
			break;
		case STATES.PARENTHESES_CLOSE:
			this.parenthesesCloseState();
			break;
		case STATES.IDENTIFIER:
			this.identifierState();
			break;
		case STATES.COMMA:
			this.commaState();
			break;
		case STATES.FUNCTION:
			this.functionState();
			break;
		default:
			this.skipWhitespace();
			var expected = this._source.substr(
				this._currentIndex, KEYWORDS.FUNCTION.length
			);
			if (expected === KEYWORDS.FUNCTION) {
				this._currentState = STATES.FUNCTION;
				return this.next();
			}

			state = STATES.ILLEGAL;
	}

	return {
		state: state,
		start: start,
		end: this._currentEnd
	};
};

/**
 * Skips all whitespace characters.
 */
ConstructorTokenizer.prototype.skipWhitespace = function () {
	while (
		this._currentIndex < this._source.length &&
		WHITESPACE_TEST.test(this._source[this._currentIndex])) {
		this._currentIndex++;
	}
};

/**
 * Describes PARENTHESES_OPEN state of machine.
 */
ConstructorTokenizer.prototype.parenthesesOpenState = function () {
	this._currentIndex++;
	this._currentEnd = this._currentIndex;

	this.skipWhitespace();
	if (IDENTIFIER_TEST.test(this._source[this._currentIndex])) {
		this._currentState = STATES.IDENTIFIER;
	} else if (this._source[this._currentIndex] === ')') {
		this._currentState = STATES.PARENTHESES_CLOSE;
	} else {
		this._currentState = STATES.ILLEGAL;
	}
};

/**
 * Describes PARENTHESES_CLOSE state of machine.
 */
ConstructorTokenizer.prototype.parenthesesCloseState = function () {
	this._currentIndex++;
	this._currentEnd = this._currentIndex;
	this._currentState = STATES.END;
};

/**
 * Describes FUNCTION state of machine.
 */
ConstructorTokenizer.prototype.functionState = function () {
	this._currentIndex += KEYWORDS.FUNCTION.length;
	this._currentEnd = this._currentIndex;

	this.skipWhitespace();

	if (this._source[this._currentIndex] === '(') {
		this._currentState = STATES.PARENTHESES_OPEN;
	} else if (IDENTIFIER_TEST.test(this._source[this._currentIndex])) {
		this._currentState = STATES.IDENTIFIER;
	} else {
		this._currentState = STATES.ILLEGAL;
	}
};

/**
 * Describes IDENTIFIER state of machine.
 */
ConstructorTokenizer.prototype.identifierState = function () {
	while (
		this._currentIndex < this._source.length &&
		IDENTIFIER_TEST.test(this._source[this._currentIndex])) {
		this._currentIndex++;
	}

	this._currentEnd = this._currentIndex;

	this.skipWhitespace();
	if (this._source[this._currentIndex] === '(') {
		this._currentState = STATES.PARENTHESES_OPEN;
	} else if (this._source[this._currentIndex] === ')') {
		this._currentState = STATES.PARENTHESES_CLOSE;
	} else if (this._source[this._currentIndex] === ',') {
		this._currentState = STATES.COMMA;
	} else {
		this._currentState = STATES.ILLEGAL;
	}
};

/**
 * Describes COMMA state of machine.
 */
ConstructorTokenizer.prototype.commaState = function () {
	this._currentIndex++;
	this._currentEnd = this._currentIndex;

	this.skipWhitespace();
	if (IDENTIFIER_TEST.test(this._source[this._currentIndex])) {
		this._currentState = STATES.IDENTIFIER;
		return;
	}
	this._currentState = STATES.ILLEGAL;
};
},{}],120:[function(require,module,exports){
/*
 * catberry-locator
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-locator's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry-locator that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = ServiceLocator;

var util = require('util'),
	ConstructorTokenizer = require('./ConstructorTokenizer');

var DEPENDENCY_REGEXP = /^\$\w+/,
	ERROR_CONSTRUCTOR_SHOULD_BE_FUNCTION = 'Constructor should be a function',
	ERROR_TYPE_NOT_REGISTERED = 'Type "%s" not registered',
	ERROR_TYPE_SHOULD_BE_STRING = 'Type name "%s" should be a string';

/**
 * Creates new instance of service locator.
 * @constructor
 */
function ServiceLocator() {
	this._registrations = Object.create(null);
}

/**
 * Current type registrations.
 * @type {Object}
 * @protected
 */
ServiceLocator.prototype._registrations = null;

/**
 * Registers new type in service locator.
 * @param {string} type Type name, which will be alias in other constructors.
 * @param {Function} constructor Constructor which
 * initializes instance of specified type.
 * @param {Object?} parameters Set of named parameters
 * which will be also injected.
 * @param {boolean?} isSingleton If true every resolve will return
 * the same instance.
 */
ServiceLocator.prototype.register =
	function (type, constructor, parameters, isSingleton) {
		throwIfNotFunction(constructor);
		throwIfNotString(type);

		initializeRegistration(type, this);
		var parameterNames = getParameterNames(constructor);

		this._registrations[type].unshift({
			constructor: constructor,
			parameters: parameters || {},
			parameterNames: parameterNames,
			isSingleton: Boolean(isSingleton),
			singleInstance: null
		});
	};

/**
 * Registers single instance for specified type.
 * @param {string} type Type name.
 * @param {Object} instance Instance to register.
 */
ServiceLocator.prototype.registerInstance = function (type, instance) {
	throwIfNotString(type);
	initializeRegistration(type, this);

	this._registrations[type].unshift({
		constructor: instance.constructor,
		parameters: {},
		parameterNames: [],
		isSingleton: true,
		singleInstance: instance
	});
};

/**
 * Resolves last registered implementation by type name
 * including all its dependencies recursively.
 * @param {string} type Type name.
 * @returns {Object} Instance of specified type.
 */
ServiceLocator.prototype.resolve = function (type) {
	throwIfNotString(type);
	throwIfNoType(this._registrations, type);
	var firstRegistration = this._registrations[type][0];
	return createInstance(firstRegistration, this);
};

/**
 * Resolves all registered implementations by type name
 * including all dependencies recursively.
 * @param {string} type Type name.
 * @returns {Array} Array of instances specified type.
 */
ServiceLocator.prototype.resolveAll = function (type) {
	throwIfNotString(type);
	try {
		throwIfNoType(this._registrations, type);
	} catch (e) {
		return [];
	}
	return this._registrations[type].map(function (registration) {
		return createInstance(registration, this);
	}, this);
};

/**
 * Resolves instance of specified constructor including dependencies.
 * @param {Function} constructor Constructor for instance creation.
 * @param {Object?} parameters Set of its parameters values.
 * @returns {Object} Instance of specified constructor.
 */
ServiceLocator.prototype.resolveInstance = function (constructor, parameters) {
	return createInstance({
		constructor: constructor,
		parameters: parameters || {},
		parameterNames: getParameterNames(constructor),
		isSingleton: false,
		singleInstance: null
	}, this);
};

/**
 * Unregisters all registrations of specified type.
 * @param {string} type Type name.
 */
ServiceLocator.prototype.unregister = function (type) {
	throwIfNotString(type);
	delete this._registrations[type];
};

/**
 * Initializes registration array for specified type.
 * @param {string} type Type name.
 * @param {ServiceLocator} context Context of execution.
 */
function initializeRegistration(type, context) {
	if (!(type in context._registrations)) {
		context._registrations[type] = [];
	}
}

/**
 * Throws error if specified registration is not found.
 * @param {Object} registrations Current registrations set.
 * @param {string} type Type to check.
 */
function throwIfNoType(registrations, type) {
	if (!(type in registrations) || registrations[type].length === 0) {
		throw new Error(util.format(ERROR_TYPE_NOT_REGISTERED, type));
	}
}

/**
 * Throws error if specified constructor is not a function.
 * @param {Function} constructor Constructor to check.
 */
function throwIfNotFunction(constructor) {
	if (constructor instanceof Function) {
		return;
	}

	throw new Error(ERROR_CONSTRUCTOR_SHOULD_BE_FUNCTION);
}

/**
 * Throws error if specified type name is not a string.
 * @param {string} type Type name to check.
 */
function throwIfNotString(type) {
	if (typeof (type) === 'string') {
		return;
	}

	throw new Error(util.format(ERROR_TYPE_SHOULD_BE_STRING, type));
}

/**
 * Creates instance of type specified and parameters in registration.
 * @param {Object} registration Specified registration of type.
 * @param {ServiceLocator} context Context of execution.
 * @returns {Object} Instance of type specified in registration.
 */
function createInstance(registration, context) {
	if (registration.isSingleton && registration.singleInstance !== null) {
		return registration.singleInstance;
	}

	var instanceParameters = getParameters(registration, context),
		instance = Object.create(registration.constructor.prototype);
	registration.constructor.apply(instance, instanceParameters);

	if (registration.isSingleton) {
		registration.singleInstance = instance;
	}

	return instance;
}

/**
 * Gets constructor parameters specified in type constructor.
 * @param {Object} registration Type registration.
 * @param {ServiceLocator} context Context of execution.
 * @returns {Array} Array of resolved dependencies to inject.
 */
function getParameters(registration, context) {
	return registration.parameterNames.map(function (parameterName) {
		var dependencyName = getDependencyName(parameterName);
		return dependencyName === null ?
			registration.parameters[parameterName] :
			this.resolve(dependencyName);
	}, context);
}

/**
 * Gets name of dependency type.
 * @param {string} parameterName Name of constructor parameter.
 * @returns {string|null} Name of dependency type.
 */
function getDependencyName(parameterName) {
	if (!DEPENDENCY_REGEXP.test(parameterName)) {
		return null;
	}

	return parameterName.substr(1, parameterName.length - 1);
}

/**
 * Gets all parameter names used in constructor function.
 * @param {Function} constructor Constructor function.
 * @returns {Array<string>} Array of parameter names.
 */
function getParameterNames(constructor) {
	var source = constructor.toString(),
		tokenizer = new ConstructorTokenizer(source),
		result = [],
		token = {
			state: ConstructorTokenizer.STATES.NO,
			start: 0,
			end: 0
		},
		areParametersStarted = false;

	while (
		token.state !== ConstructorTokenizer.STATES.END &&
		token.state !== ConstructorTokenizer.STATES.ILLEGAL) {
		token = tokenizer.next();
		if (token.state === ConstructorTokenizer.STATES.PARENTHESES_OPEN) {
			areParametersStarted = true;
		}

		if (areParametersStarted &&
			token.state === ConstructorTokenizer.STATES.IDENTIFIER) {
			result.push(source.substring(token.start, token.end));
		}
	}
	return result;
}
},{"./ConstructorTokenizer":119,"util":118}],121:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = UHR;

var UHRBase = require('../lib/UHRBase'),
	Promise = require('promise'),
	URI = require('catberry-uri').URI,
	util = require('util');

// if browser still does not have promises then add it.
if (!('Promise' in window)) {
	window.Promise = Promise;
}

util.inherits(UHR, UHRBase);

var NON_SAFE_HEADERS = {
	cookie: true,
	'accept-charset': true
};

var ERROR_CONNECTION = 'Connection error',
	ERROR_TIMEOUT = 'Request timeout',
	ERROR_ABORTED = 'Request aborted';

/**
 * Creates new instance of client-side HTTP(S) request implementation.
 * @param {Window} $window Current window object.
 * @constructor
 */
function UHR($window) {
	UHRBase.call(this);
	this.window = $window;
}

/**
 * Current instance of window.
 * @type {Window}
 */
UHR.prototype.window = null;

/**
 * Does request with specified parameters using protocol implementation.
 * @param {Object} parameters Request parameters.
 * @param {string} parameters.method HTTP method.
 * @param {string} parameters.url URL for request.
 * @param {URI} parameters.uri URI object.
 * @param {Object} parameters.headers HTTP headers to send.
 * @param {string|Object} parameters.data Data to send.
 * @param {number} parameters.timeout Request timeout.
 * @param {boolean} parameters.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 * @protected
 */
UHR.prototype._doRequest = function (parameters) {
	var self = this;

	Object.keys(parameters.headers)
		.forEach(function (name) {
			if (NON_SAFE_HEADERS.hasOwnProperty(name.toLowerCase())) {
				delete parameters.headers[name];
			}
		});

	return new Promise(function (fulfill, reject) {
		var requestError = null,
			xhr = new self.window.XMLHttpRequest();

		xhr.onabort = function () {
			requestError = new Error(ERROR_ABORTED);
			reject(requestError);
		};
		xhr.ontimeout = function () {
			requestError = new Error(ERROR_TIMEOUT);
			reject(requestError);
		};
		xhr.onerror = function () {
			requestError = new Error(xhr.statusText || ERROR_CONNECTION);
			reject(requestError);
		};
		xhr.onreadystatechange = function () {
			if (xhr.readyState !== 4) {
				return;
			}
			if (requestError) {
				return;
			}
			var statusObject = getStatusObject(xhr),
				content = self.convertResponse(
					statusObject.headers,
					xhr.responseText
				);
			fulfill({
				status: statusObject,
				content: content
			});
		};

		var user = parameters.uri.authority.userInfo ?
				parameters.uri.authority.userInfo.user : null,
			password = parameters.uri.authority.userInfo ?
				parameters.uri.authority.userInfo.password : null;
		xhr.open(
			parameters.method, parameters.uri.toString(), true,
			user || undefined, password || undefined
		);
		xhr.timeout = parameters.timeout;

		if (parameters.withCredentials) {
			xhr.withCredentials = true;
		}

		Object.keys(parameters.headers)
			.forEach(function (headerName) {
				xhr.setRequestHeader(
					headerName, parameters.headers[headerName]
				);
			});

		xhr.send(parameters.data);
	});
};

/**
 * Gets state object for specified jQuery XHR object.
 * @param {Object?} xhr XHR object.
 * @returns {{code: number, text: string, headers: Object}} Status object.
 */
function getStatusObject(xhr) {
	var headers = {};

	if (!xhr) {
		return {
			code: 0,
			text: '',
			headers: headers
		};
	}

	xhr
		.getAllResponseHeaders()
		.split('\n')
		.forEach(function (header) {
			var delimiterIndex = header.indexOf(':');
			if (delimiterIndex <= 0) {
				return;
			}
			var headerName = header
				.substring(0, delimiterIndex)
				.trim()
				.toLowerCase();
			headers[headerName] = header
				.substring(delimiterIndex + 1)
				.trim();
		});

	return {
		// handle IE9 bug: http://goo.gl/idspSr
		code: xhr.status === 1223 ? 204 : xhr.status,
		text: xhr.status === 1223 ? 'No Content' : xhr.statusText,
		headers: headers
	};
}
},{"../lib/UHRBase":123,"catberry-uri":124,"promise":132,"util":118}],122:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

var UHR = require('./lib/UHR');

module.exports = {
	/**
	 * Registers UHR in server-side service locator.
	 * @param {ServiceLocator} locator Catberry's service locator.
	 */
	register: function (locator) {
		var config = locator.resolve('config');
		locator.register('uhr', UHR, config, true);
	},
	UHR: UHR
};
},{"./lib/UHR":121}],123:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = UHRBase;

var catberryUri = require('catberry-uri'),
	Query = catberryUri.Query,
	URI = catberryUri.URI;

var ERROR_UNSUPPORTED_PROTOCOL = 'Protocol is unsupported',
	ERROR_PARAMETERS_SHOULD_BE_OBJECT = 'Request parameters should be object',
	ERROR_URL_IS_REQUIRED = 'URL is required parameter',
	ERROR_METHOD_IS_REQUIRED = 'Request method is required parameter',
	ERROR_HOST_IS_REQUIRED = 'Host in URL is required',
	ERROR_SCHEME_IS_REQUIRED = 'Scheme in URL is required',
	ERROR_TIMEOUT_SHOULD_BE_NUMBER = 'Timeout should be a number',
	DEFAULT_TIMEOUT = 30000,
	HTTP_PROTOCOL_REGEXP = /^(http)s?$/i;

var METHODS = {
	GET: 'GET',
	HEAD: 'HEAD',
	POST: 'POST',
	PUT: 'PUT',
	PATCH: 'PATCH',
	DELETE: 'DELETE',
	OPTIONS: 'OPTIONS',
	TRACE: 'TRACE',
	CONNECT: 'CONNECT'
};

UHRBase.TYPES = {
	URL_ENCODED: 'application/x-www-form-urlencoded',
	JSON: 'application/json',
	PLAIN_TEXT: 'text/plain',
	HTML: 'text/html'
};

UHRBase.CHARSET = 'UTF-8';

UHRBase.DEFAULT_GENERAL_HEADERS = {
	Accept: UHRBase.TYPES.JSON + '; q=0.7, ' +
		UHRBase.TYPES.HTML + '; q=0.2, ' +
		UHRBase.TYPES.PLAIN_TEXT + '; q=0.1',
	'Accept-Charset': UHRBase.CHARSET + '; q=1'
};

UHRBase.CHARSET_PARAMETER = '; charset=' + UHRBase.CHARSET;
UHRBase.URL_ENCODED_ENTITY_CONTENT_TYPE = UHRBase.TYPES.URL_ENCODED +
	UHRBase.CHARSET_PARAMETER;

UHRBase.JSON_ENTITY_CONTENT_TYPE = UHRBase.TYPES.JSON +
	UHRBase.CHARSET_PARAMETER;

UHRBase.PLAIN_TEXT_ENTITY_CONTENT_TYPE = UHRBase.TYPES.PLAIN_TEXT +
	UHRBase.CHARSET_PARAMETER;

// This module were developed using HTTP/1.1v2 RFC 2616
// (http://www.w3.org/Protocols/rfc2616/)
/**
 * Creates new instance of Basic Universal HTTP(S) Request implementation.
 * @constructor
 */
function UHRBase() { }

/**
 * Does GET request to HTTP server.
 * @param {string} url URL to request.
 * @param {Object?} options Request parameters.
 * @param {Object?} options.headers HTTP headers to send.
 * @param {(string|Object)?} options.data Data to send.
 * @param {number?} options.timeout Request timeout.
 * @param {boolean?} options.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 */
UHRBase.prototype.get = function (url, options) {
	options = options || {};
	var parameters = Object.create(options);
	parameters.method = METHODS.GET;
	parameters.url = url;
	return this.request(parameters);
};

/**
 * Does POST request to HTTP server.
 * @param {string} url URL to request.
 * @param {Object?} options Request parameters.
 * @param {Object?} options.headers HTTP headers to send.
 * @param {(string|Object)?} options.data Data to send.
 * @param {number?} options.timeout Request timeout.
 * @param {boolean?} options.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 */
UHRBase.prototype.post = function (url, options) {
	options = options || {};
	var parameters = Object.create(options);
	parameters.method = METHODS.POST;
	parameters.url = url;
	return this.request(parameters);
};

/**
 * Does PUT request to HTTP server.
 * @param {string} url URL to request.
 * @param {Object?} options Request parameters.
 * @param {Object?} options.headers HTTP headers to send.
 * @param {(string|Object)?} options.data Data to send.
 * @param {number?} options.timeout Request timeout.
 * @param {boolean?} options.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 */
UHRBase.prototype.put = function (url, options) {
	options = options || {};
	var parameters = Object.create(options);
	parameters.method = METHODS.PUT;
	parameters.url = url;
	return this.request(parameters);
};

/**
 * Does PATCH request to HTTP server.
 * @param {string} url URL to request.
 * @param {Object?} options Request parameters.
 * @param {Object?} options.headers HTTP headers to send.
 * @param {(string|Object)?} options.data Data to send.
 * @param {number?} options.timeout Request timeout.
 * @param {boolean?} options.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 */
UHRBase.prototype.patch = function (url, options) {
	options = options || {};
	var parameters = Object.create(options);
	parameters.method = METHODS.PATCH;
	parameters.url = url;
	return this.request(parameters);
};

/**
 * Does DELETE request to HTTP server.
 * @param {string} url URL to request.
 * @param {Object?} options Request parameters.
 * @param {Object?} options.headers HTTP headers to send.
 * @param {(string|Object)?} options.data Data to send.
 * @param {number?} options.timeout Request timeout.
 * @param {boolean?} options.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 */
UHRBase.prototype.delete = function (url, options) {
	var parameters = Object.create(options);
	parameters.method = METHODS.DELETE;
	parameters.url = url;
	return this.request(parameters);
};

/**
 * Does request with specified parameters.
 * @param {Object} parameters Request parameters.
 * @param {string} parameters.method HTTP method.
 * @param {string} parameters.url URL for request.
 * @param {Object?} parameters.headers HTTP headers to send.
 * @param {(string|Object)?} parameters.data Data to send.
 * @param {number?} parameters.timeout Request timeout.
 * @param {boolean?} parameters.unsafeHTTPS If true then requests
 * to servers with invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 */
UHRBase.prototype.request = function (parameters) {
	var self = this;
	return this._validateRequest(parameters)
		.then(function (validated) {
			return self._doRequest(validated);
		});
};

/**
 * Validates UHR parameters.
 * @param {Object} parameters Request parameters.
 * @param {string} parameters.method HTTP method.
 * @param {string} parameters.url URL for request.
 * @param {Object?} parameters.headers HTTP headers to send.
 * @param {(string|Object)?} parameters.data Data to send.
 * @param {number?} parameters.timeout Request timeout.
 * @param {boolean?} parameters.unsafeHTTPS If true then requests
 * to servers with invalid HTTPS certificates are allowed.
 * @returns {Promise} Promise for nothing.
 * @private
 */
/*jshint maxcomplexity:false */
UHRBase.prototype._validateRequest = function (parameters) {
	if (!parameters || typeof (parameters) !== 'object') {
		return Promise.reject(new Error(ERROR_PARAMETERS_SHOULD_BE_OBJECT));
	}

	var validated = Object.create(parameters);

	if (typeof (parameters.url) !== 'string') {
		return Promise.reject(new Error(ERROR_URL_IS_REQUIRED));
	}
	validated.uri = new URI(validated.url);
	if (!validated.uri.scheme) {
		return Promise.reject(new Error(ERROR_SCHEME_IS_REQUIRED));
	}
	if (!HTTP_PROTOCOL_REGEXP.test(validated.uri.scheme)) {
		return Promise.reject(new Error(ERROR_UNSUPPORTED_PROTOCOL));
	}
	if (!validated.uri.authority || !validated.uri.authority.host) {
		return Promise.reject(new Error(ERROR_HOST_IS_REQUIRED));
	}
	if (typeof (validated.method) !== 'string' ||
		!(validated.method in METHODS)) {
		return Promise.reject(new Error(ERROR_METHOD_IS_REQUIRED));
	}

	validated.timeout = validated.timeout || DEFAULT_TIMEOUT;
	if (typeof (validated.timeout) !== 'number') {
		return Promise.reject(new Error(ERROR_TIMEOUT_SHOULD_BE_NUMBER));
	}

	validated.headers = this._createHeaders(validated.headers);

	if (!this._isUpstreamRequest(parameters.method) &&
		validated.data && typeof (validated.data) === 'object') {

		var dataKeys = Object.keys(validated.data);

		if (dataKeys.length > 0 && !validated.uri.query) {
			validated.uri.query = new Query('');
		}

		dataKeys.forEach(function (key) {
			validated.uri.query.values[key] = validated.data[key];
		});
		validated.data = null;
	} else {
		var dataAndHeaders = this._getDataToSend(
			validated.headers, validated.data
		);
		validated.headers = dataAndHeaders.headers;
		validated.data = dataAndHeaders.data;
	}

	return Promise.resolve(validated);
};

/**
 * Gets data for sending via HTTP request using Content Type HTTP header.
 * @param {Object} headers HTTP headers.
 * @param {Object|string} data Data to send.
 * @returns {{headers: Object, data: Object|string}} Data and headers to send.
 * @private
 */
UHRBase.prototype._getDataToSend = function (headers, data) {
	var found = findContentType(headers),
		contentTypeHeader = found.name,
		contentType = found.type;

	if (!data || typeof (data) !== 'object') {
		data = data ? String(data) : '';
		if (!contentType) {
			headers[contentTypeHeader] = UHRBase.PLAIN_TEXT_ENTITY_CONTENT_TYPE;
		}
		return {
			headers: headers,
			data: data
		};
	}

	if (contentType === UHRBase.TYPES.JSON) {
		return {
			headers: headers,
			data: JSON.stringify(data)
		};
	}

	// otherwise object will be sent with
	// application/x-www-form-urlencoded
	headers[contentTypeHeader] = UHRBase.URL_ENCODED_ENTITY_CONTENT_TYPE;

	var query = new Query();
	query.values = data;
	return {
		headers: headers,
		data: query.toString()
			.replace(/\+/g, '%2B')
			.replace(/%20/g, '+')
	};
};

/**
 * Creates HTTP headers for request using defaults and current parameters.
 * @param {Object} parameterHeaders HTTP headers of UHR.
 * @protected
 */
UHRBase.prototype._createHeaders = function (parameterHeaders) {
	if (!parameterHeaders || typeof (parameterHeaders) !== 'object') {
		parameterHeaders = {};
	}
	var headers = {};

	Object.keys(UHRBase.DEFAULT_GENERAL_HEADERS)
		.forEach(function (headerName) {
			headers[headerName] = UHRBase.DEFAULT_GENERAL_HEADERS[headerName];
		});

	Object.keys(parameterHeaders)
		.forEach(function (headerName) {
			if (parameterHeaders[headerName] === null ||
				parameterHeaders[headerName] === undefined) {
				delete headers[headerName];
				return;
			}
			headers[headerName] = parameterHeaders[headerName];
		});

	return headers;
};

/**
 * Does request with specified parameters using protocol implementation.
 * @param {Object} parameters Request parameters.
 * @param {string} parameters.method HTTP method.
 * @param {string} parameters.url URL for request.
 * @param {URI} parameters.uri URI object.
 * @param {Object} parameters.headers HTTP headers to send.
 * @param {string|Object} parameters.data Data to send.
 * @param {number} parameters.timeout Request timeout.
 * @param {boolean} parameters.unsafeHTTPS If true then requests to servers with
 * invalid HTTPS certificates are allowed.
 * @returns {Promise<Object>} Promise for result with status object and content.
 * @protected
 * @abstract
 */
// jscs:disable disallowUnusedParams
UHRBase.prototype._doRequest = function (parameters) { };

/**
 * Converts response data according content type.
 * @param {Object} headers HTTP headers.
 * @param {string} responseData Data from response.
 * @returns {string|Object} Converted data.
 */
UHRBase.prototype.convertResponse = function (headers, responseData) {
	if (typeof (responseData) !== 'string') {
		responseData = '';
	}
	var found = findContentType(headers),
		contentType = found.type || UHRBase.TYPES.PLAIN_TEXT;

	switch (contentType) {
		case UHRBase.TYPES.JSON:
			var json;
			try {
				json = JSON.parse(responseData);
			} catch (e) {
				// nothing to do
			}
			return json || {};
		case UHRBase.TYPES.URL_ENCODED:
			var object;
			try {
				var query = new Query(responseData.replace('+', '%20'));
				object = query.values;
			} catch (e) {
				// nothing to do
			}
			return object || {};
		default:
			return responseData;
	}
};

/**
 * Determines is current query needs to use upstream.
 * @param {string} method HTTP method.
 * @returns {boolean} Is current HTTP method means upstream usage.
 * @protected
 */
UHRBase.prototype._isUpstreamRequest = function (method) {
	return (
		method === METHODS.POST ||
		method === METHODS.PUT ||
		method === METHODS.PATCH
		);
};

/**
 * Finds content type header in headers object.
 * @param {Object} headers HTTP headers.
 * @returns {{name: string, type: string}} Name of header and content type.
 */
function findContentType(headers) {
	var contentTypeString = '',
		contentTypeHeader = 'Content-Type';

	Object.keys(headers)
		.forEach(function (key) {
			if (key.toLowerCase() !== 'content-type') {
				return;
			}
			contentTypeHeader = key;
			contentTypeString = headers[key];
		});

	var typeAndParameters = contentTypeString.split(';'),
		contentType = typeAndParameters[0].toLowerCase();
	return {
		name: contentTypeHeader,
		type: contentType
	};
}

},{"catberry-uri":124}],124:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = {
	URI: require('./lib/URI'),
	Authority: require('./lib/Authority'),
	UserInfo: require('./lib/UserInfo'),
	Query: require('./lib/Query')
};
},{"./lib/Authority":125,"./lib/Query":126,"./lib/URI":127,"./lib/UserInfo":128}],125:[function(require,module,exports){
/*
 * catberry-uri
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-uri's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry-uri that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = Authority;

var UserInfo = require('./UserInfo'),
	percentEncodingHelper = require('./percentEncodingHelper');

var PORT_REGEXP = /^\d+$/,
	ERROR_PORT = 'URI authority port must satisfy expression ' +
		PORT_REGEXP.toString();

/**
 * Creates new instance of URI authority component parser.
 * https://tools.ietf.org/html/rfc3986#section-3.2
 * @param {string?} authorityString URI authority component string.
 * @constructor
 */
function Authority(authorityString) {
	if (typeof (authorityString) === 'string' && authorityString.length > 0) {
		var firstAtIndex = authorityString.indexOf('@');
		if (firstAtIndex !== -1) {
			var userInfoString = authorityString.substring(0, firstAtIndex);
			this.userInfo = new UserInfo(userInfoString);
			authorityString = authorityString.substring(firstAtIndex + 1);
		}

		var lastColonIndex = authorityString.lastIndexOf(':');
		if (lastColonIndex !== -1) {
			var portString = authorityString.substring(lastColonIndex + 1);
			if (lastColonIndex === authorityString.length - 1) {
				this.port = '';
				authorityString = authorityString.substring(0, lastColonIndex);
			} else if (PORT_REGEXP.test(portString)) {
				this.port = portString;
				authorityString = authorityString.substring(0, lastColonIndex);
			}
		}

		this.host = percentEncodingHelper.decode(authorityString);
	}
}

/**
 * Current user information.
 * https://tools.ietf.org/html/rfc3986#section-3.2.1
 * @type {UserInfo}
 */
Authority.prototype.userInfo = null;

/**
 * Current host.
 * https://tools.ietf.org/html/rfc3986#section-3.2.2
 * @type {string}
 */
Authority.prototype.host = null;

/**
 * Current port.
 * https://tools.ietf.org/html/rfc3986#section-3.2.3
 * @type {string}
 */
Authority.prototype.port = null;

/**
 * Clones current authority.
 * @returns {Authority} New clone of current object.
 */
Authority.prototype.clone = function () {
	var authority = new Authority();
	if (this.userInfo) {
		authority.userInfo = this.userInfo.clone();
	}
	if (typeof (this.host) === 'string') {
		authority.host = this.host;
	}
	if (typeof (this.port) === 'string') {
		authority.port = this.port;
	}
	return authority;
};

/**
 * Recombine all authority components into authority string.
 * @returns {string} Authority component string.
 */
Authority.prototype.toString = function () {
	var result = '';
	if (this.userInfo) {
		result += this.userInfo.toString() + '@';
	}
	if (this.host !== undefined && this.host !== null) {
		var host = String(this.host);
		result += percentEncodingHelper.encodeHost(host);
	}
	if (this.port !== undefined && this.port !== null) {
		var port = String(this.port);
		if (port.length > 0 && !PORT_REGEXP.test(port)) {
			throw new Error(ERROR_PORT);
		}
		result += ':' + port;
	}
	return result;
};
},{"./UserInfo":128,"./percentEncodingHelper":129}],126:[function(require,module,exports){
/*
 * catberry-uri
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-uri's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry-uri that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = Query;

var percentEncodingHelper = require('./percentEncodingHelper');

/**
 * Creates new instance of URI query component parser.
 * https://tools.ietf.org/html/rfc3986#section-3.4
 * @param {string?} queryString URI query component string.
 * @constructor
 */
function Query(queryString) {
	if (typeof (queryString) === 'string') {
		this.values = {};

		queryString
			.split('&')
			.forEach(function (pair) {
				var parts = pair.split('='),
					key = percentEncodingHelper.decode(parts[0]);
				if (!key) {
					return;
				}
				if (key in this.values &&
					!(this.values[key] instanceof Array)) {
					this.values[key] = [this.values[key]];
				}

				var value = typeof (parts[1]) === 'string' ?
					percentEncodingHelper.decode(parts[1]) : null;

				if (this.values[key] instanceof Array) {
					this.values[key].push(value);
				} else {
					this.values[key] = value;
				}
			}, this);
	}
}

/**
 * Current set of values of query.
 * @type {Object}
 */
Query.prototype.values = null;

/**
 * Clones current query to a new object.
 * @returns {Query} New clone of current object.
 */
Query.prototype.clone = function () {
	var query = new Query();
	if (this.values) {
		query.values = {};
		Object.keys(this.values)
			.forEach(function (key) {
				query.values[key] = this.values[key];
			}, this);
	}
	return query;
};

/**
 * Converts current set of query values to string.
 * @returns {string} Query component string.
 */
Query.prototype.toString = function () {
	if (!this.values) {
		return '';
	}

	var queryString = '';
	Object.keys(this.values)
		.forEach(function (key) {
			var values = this.values[key] instanceof Array ?
				this.values[key] : [this.values[key]];

			values.forEach(function (value) {
				queryString += '&' + percentEncodingHelper
					.encodeQuerySubComponent(key);
				if (value === undefined || value === null) {
					return;
				}
				value = String(value);
				queryString += '=' +
					percentEncodingHelper.encodeQuerySubComponent(value);
			});
		}, this);

	return queryString.replace(/^&/, '');
};
},{"./percentEncodingHelper":129}],127:[function(require,module,exports){
/*
 * catberry
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = URI;

var Authority = require('./Authority'),
	percentEncodingHelper = require('./percentEncodingHelper'),
	Query = require('./Query');

// https://tools.ietf.org/html/rfc3986#appendix-B
var URI_PARSE_REGEXP = new RegExp(
		'^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?'
	),
	// https://tools.ietf.org/html/rfc3986#section-3.1
	SCHEME_REGEXP = /^[a-z]+[a-z\d\+\.-]*$/i,
	ERROR_SCHEME = 'URI scheme must satisfy expression ' +
		SCHEME_REGEXP.toString(),
	ERROR_BASE_SCHEME = 'Scheme component is required to be present ' +
		'in a base URI';

/**
 * Creates new instance of URI according to RFC 3986.
 * @param {string?} uriString URI string to parse components.
 * @constructor
 */
function URI(uriString) {
	if (typeof (uriString) !== 'string') {
		uriString = '';
	}

	// https://tools.ietf.org/html/rfc3986#appendix-B
	var matches = uriString.match(URI_PARSE_REGEXP);

	if (matches) {
		if (typeof (matches[2]) === 'string') {
			this.scheme = percentEncodingHelper.decode(matches[2]);
		}
		if (typeof (matches[4]) === 'string') {
			this.authority = new Authority(matches[4]);
		}
		if (typeof (matches[5]) === 'string') {
			this.path = percentEncodingHelper.decodePath(matches[5]);
		}
		if (typeof (matches[7]) === 'string') {
			this.query = new Query(matches[7]);
		}
		if (typeof (matches[9]) === 'string') {
			this.fragment = percentEncodingHelper.decode(matches[9]);
		}
	}
}

/**
 * Current URI scheme.
 * https://tools.ietf.org/html/rfc3986#section-3.1
 * @type {string}
 */
URI.prototype.scheme = null;

/**
 * Current URI authority.
 * https://tools.ietf.org/html/rfc3986#section-3.2
 * @type {Authority}
 */
URI.prototype.authority = null;

/**
 * Current URI path.
 * https://tools.ietf.org/html/rfc3986#section-3.3
 * @type {string}
 */
URI.prototype.path = null;

/**
 * Current URI query.
 * https://tools.ietf.org/html/rfc3986#section-3.4
 * @type {Query}
 */
URI.prototype.query = null;

/**
 * Current URI fragment.
 * https://tools.ietf.org/html/rfc3986#section-3.5
 * @type {string}
 */
URI.prototype.fragment = null;

/**
 * Converts a URI reference that might be relative to a given base URI
 * into the reference's target URI.
 * https://tools.ietf.org/html/rfc3986#section-5.2
 * @param {URI} baseUri Base URI.
 * @returns {URI} Resolved URI.
 */
URI.prototype.resolveRelative = function (baseUri) {
	if (!baseUri.scheme) {
		throw new Error(ERROR_BASE_SCHEME);
	}

	return transformReference(baseUri, this);
};

/**
 * Clones current URI to a new object.
 * @returns {URI} New clone of current object.
 */
URI.prototype.clone = function () {
	var uri = new URI();

	if (typeof (this.scheme) === 'string') {
		uri.scheme = this.scheme;
	}

	if (this.authority) {
		uri.authority = this.authority.clone();
	}

	if (typeof (this.path) === 'string') {
		uri.path = this.path;
	}

	if (this.query) {
		uri.query = this.query.clone();
	}

	if (typeof (this.fragment) === 'string') {
		uri.fragment = this.fragment;
	}

	return uri;
};

/**
 * Recomposes URI components to URI string,
 * https://tools.ietf.org/html/rfc3986#section-5.3
 * @returns {string} URI string.
 */
URI.prototype.toString = function () {
	var result = '';

	if (this.scheme !== undefined && this.scheme !== null) {
		var scheme = String(this.scheme);
		if (!SCHEME_REGEXP.test(scheme)) {
			throw new Error(ERROR_SCHEME);
		}
		result += scheme + ':';
	}

	if (this.authority) {
		result += '//' + this.authority.toString();
	}

	var path = this.path === undefined || this.path === null ?
		'' : String(this.path);
	result += percentEncodingHelper.encodePath(path);

	if (this.query) {
		result += '?' + this.query.toString();
	}

	if (this.fragment !== undefined && this.fragment !== null) {
		var fragment = String(this.fragment);
		result += '#' + percentEncodingHelper.encodeFragment(fragment);
	}

	return result;
};

/**
 * Transforms reference for relative resolution.
 * Whole algorithm has been taken from
 * https://tools.ietf.org/html/rfc3986#section-5.2.2
 * @param {URI} baseUri Base URI for resolution.
 * @param {URI} referenceUri Reference URI to resolve.
 * @returns {URI} Components of target URI.
 */
/*jshint maxdepth:false */
/*jshint maxcomplexity:false */
function transformReference(baseUri, referenceUri) {
	var targetUri = new URI('');

	if (referenceUri.scheme) {
		targetUri.scheme = referenceUri.scheme;
		targetUri.authority = referenceUri.authority ?
			referenceUri.authority.clone() : referenceUri.authority;
		targetUri.path = removeDotSegments(referenceUri.path);
		targetUri.query = referenceUri.query ?
			referenceUri.query.clone() : referenceUri.query;
	} else {
		if (referenceUri.authority) {
			targetUri.authority = referenceUri.authority ?
				referenceUri.authority.clone() : referenceUri.authority;
			targetUri.path = removeDotSegments(referenceUri.path);
			targetUri.query = referenceUri.query ?
				referenceUri.query.clone() : referenceUri.query;
		} else {
			if (referenceUri.path === '') {
				targetUri.path = baseUri.path;
				if (referenceUri.query) {
					targetUri.query = referenceUri.query.clone();
				} else {
					targetUri.query = baseUri.query ?
						baseUri.query.clone() : baseUri.query;
				}
			} else {
				if (referenceUri.path[0] === '/') {
					targetUri.path =
						removeDotSegments(referenceUri.path);
				} else {
					targetUri.path =
						merge(baseUri, referenceUri);
					targetUri.path =
						removeDotSegments(targetUri.path);
				}
				targetUri.query = referenceUri.query ?
					referenceUri.query.clone() : referenceUri.query;
			}
			targetUri.authority = baseUri.authority ?
				baseUri.authority.clone() : baseUri.authority;
		}
		targetUri.scheme = baseUri.scheme;
	}

	targetUri.fragment = referenceUri.fragment;
	return targetUri;
}

/**
 * Merges a relative-path reference with the path of the base URI.
 * https://tools.ietf.org/html/rfc3986#section-5.2.3
 * @param {URI} baseUri Components of base URI.
 * @param {URI} referenceUri Components of reference URI.
 * @returns {string} Merged path.
 */
function merge(baseUri, referenceUri) {
	if (baseUri.authority && baseUri.path === '') {
		return '/' + referenceUri.path;
	}

	var segmentsString = baseUri.path.indexOf('/') !== -1 ?
		baseUri.path.replace(/\/[^\/]+$/, '/') : '';

	return segmentsString + referenceUri.path;
}

/**
 * Removes dots segments from URI path.
 * https://tools.ietf.org/html/rfc3986#section-5.2.4
 * @param {string} uriPath URI path with possible dot segments.
 * @returns {string} URI path without dot segments.
 */
function removeDotSegments(uriPath) {
	if (!uriPath) {
		return '';
	}

	var inputBuffer = uriPath,
		newBuffer = '',
		nextSegment = '',
		outputBuffer = '';

	while (inputBuffer.length !== 0) {

		// If the input buffer begins with a prefix of "../" or "./",
		// then remove that prefix from the input buffer
		newBuffer = inputBuffer.replace(/^\.?\.\//, '');
		if (newBuffer !== inputBuffer) {
			inputBuffer = newBuffer;
			continue;
		}

		// if the input buffer begins with a prefix of "/./" or "/.",
		// where "." is a complete path segment, then replace that
		// prefix with "/" in the input buffer
		newBuffer = inputBuffer.replace(/^((\/\.\/)|(\/\.$))/, '/');
		if (newBuffer !== inputBuffer) {
			inputBuffer = newBuffer;
			continue;
		}

		// if the input buffer begins with a prefix of "/../" or "/..",
		// where ".." is a complete path segment, then replace that
		// prefix with "/" in the input buffer and remove the last
		// segment and its preceding "/" (if any) from the output
		// buffer
		newBuffer = inputBuffer.replace(/^((\/\.\.\/)|(\/\.\.$))/, '/');
		if (newBuffer !== inputBuffer) {
			outputBuffer = outputBuffer.replace(/\/[^\/]+$/, '');
			inputBuffer = newBuffer;
			continue;
		}

		// if the input buffer consists only of "." or "..", then remove
		// that from the input buffer
		if (inputBuffer === '.' || inputBuffer === '..') {
			break;
		}

		// move the first path segment in the input buffer to the end of
		// the output buffer, including the initial "/" character (if
		// any) and any subsequent characters up to, but not including,
		// the next "/" character or the end of the input buffer
		nextSegment = /^\/?[^\/]*(\/|$)/.exec(inputBuffer)[0];
		nextSegment = nextSegment.replace(/([^\/])(\/$)/, '$1');
		inputBuffer = inputBuffer.substring(nextSegment.length);
		outputBuffer += nextSegment;
	}

	return outputBuffer;
}
},{"./Authority":125,"./Query":126,"./percentEncodingHelper":129}],128:[function(require,module,exports){
/*
 * catberry-uri
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-uri's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry-uri that are not externally
 * maintained libraries.
 */

'use strict';

module.exports = UserInfo;

var percentEncodingHelper = require('./percentEncodingHelper');

/**
 * Creates new instance of user information component parser.
 * https://tools.ietf.org/html/rfc3986#section-3.2.1
 * @param {string?} userInfoString User information component string.
 * @constructor
 */
function UserInfo(userInfoString) {
	if (typeof (userInfoString) === 'string' && userInfoString.length > 0) {
		var parts = userInfoString.split(':');
		if (typeof (parts[0]) === 'string') {
			this.user = percentEncodingHelper.decode(parts[0]);
		}
		if (typeof (parts[1]) === 'string') {
			this.password = percentEncodingHelper.decode(parts[1]);
		}
	}
}

/**
 * Current user component.
 * @type {string}
 */
UserInfo.prototype.user = null;

/**
 * Current password.
 * @type {string}
 */
UserInfo.prototype.password = null;

/**
 * Clones current user information.
 * @returns {UserInfo} New clone of current object.
 */
UserInfo.prototype.clone = function () {
	var userInfo = new UserInfo();
	if (typeof (this.user) === 'string') {
		userInfo.user = this.user;
	}
	if (typeof (this.password) === 'string') {
		userInfo.password = this.password;
	}
	return userInfo;
};

/**
 * Recombines user information components to userInfo string.
 * @returns {string} User information component string.
 */
UserInfo.prototype.toString = function () {
	var result = '';
	if (this.user !== undefined && this.user !== null) {
		var user = String(this.user);
		result += percentEncodingHelper
			.encodeUserInfoSubComponent(user);
	}
	if (this.password !== undefined && this.password !== null) {
		var password = String(this.password);
		result += ':' + percentEncodingHelper
			.encodeUserInfoSubComponent(password);
	}

	return result;
};
},{"./percentEncodingHelper":129}],129:[function(require,module,exports){
/*
 * catberry-uri
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-uri's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry-uri that are not externally
 * maintained libraries.
 */

'use strict';

// https://tools.ietf.org/html/rfc3986#section-2.1

module.exports = {
	// \uD800-\uDBFF \uDC00-\uDFFF
	// surrogates pairs like emoji we should ignore
	/**
	 * Encodes authority user information sub-component according to RFC 3986.
	 * @param {string} string Component to encode.
	 * @returns {string} Encoded component.
	 */
	encodeUserInfoSubComponent: function (string) {
		return string.replace(
			// https://tools.ietf.org/html/rfc3986#section-3.2.1
			/[^\w\.~\-!\$&'\(\)\*\+,;=\uD800-\uDBFF\uDC00-\uDFFF]/g,
			encodeURIComponent
		);
	},
	/**
	 * Encodes authority host component according to RFC 3986.
	 * @param {string} string Component to encode.
	 * @returns {string} Encoded component.
	 */
	encodeHost: function (string) {
		return string.replace(
			// https://tools.ietf.org/html/rfc3986#section-3.2.2
			/[^\w\.~\-!\$&'\(\)\*\+,;=:\[\]\uD800-\uDBFF\uDC00-\uDFFF]/g,
			encodeURIComponent
		);
	},
	/**
	 * Encodes URI path component according to RFC 3986.
	 * @param {string} string Component to encode.
	 * @returns {string} Encoded component.
	 */
	encodePath: function (string) {
		return string.split(/%2f/i)
			.map(function (part) {
				return part.replace(
					// https://tools.ietf.org/html/rfc3986#section-3.3
					/[^\w\.~\-!\$&'\(\)\*\+,;=:@\/\uD800-\uDBFF\uDC00-\uDFFF]/g,
					encodeURIComponent
				);
			})
			.reduce(function (prev, current) {
				if (!prev) {
					return current;
				}
				if (!current) {
					return prev;
				}
				return prev + '%2F' + current;
			}, '');
	},
	/**
	 * Encodes query sub-component according to RFC 3986.
	 * @param {string} string Component to encode.
	 * @returns {string} Encoded component.
	 */
	encodeQuerySubComponent: function (string) {
		return string.replace(
			// https://tools.ietf.org/html/rfc3986#section-3.4
			/[^\w\.~\-!\$'\(\)\*\+,;:@\/\?\uD800-\uDBFF\uDC00-\uDFFF]/g,
			encodeURIComponent
		);
	},

	/**
	 * Encodes URI fragment component according to RFC 3986.
	 * @param {string} string Component to encode.
	 * @returns {string} Encoded component.
	 */
	encodeFragment: function (string) {
		return string.replace(
			// https://tools.ietf.org/html/rfc3986#section-3.5
			/[^\w\.~\-!\$&'\(\)\*\+,;=:@\/\?\uD800-\uDBFF\uDC00-\uDFFF]/g,
			encodeURIComponent
		);
	},

	/**
	 * Decodes percent encoded component.
	 * @param {string} string Component to decode.
	 * @returns {string} Decoded component.
	 */
	decode: function (string) {
		return decodeURIComponent(string);
	},

	/**
	 * Decodes percent encoded path component.
	 * @param {string} string Component to decode.
	 * @returns {string} Decoded path component.
	 */
	decodePath: function (string) {
		return string.split(/%2f/i)
			.map(decodeURIComponent)
			.reduce(function (prev, current) {
				if (!prev) {
					return current;
				}
				if (!current) {
					return prev;
				}
				return prev + '%2F' + current;
			}, '');
	}
};
},{}],130:[function(require,module,exports){
// Create a range object for efficently rendering strings to elements.
var range;

function empty(o) {
    for (var k in o) {
        if (o.hasOwnProperty(k)) {
            return false;
        }
    }

    return true;
}
function toElement(str) {
    if (!range) {
        range = document.createRange();
        range.selectNode(document.body);
    }

    var fragment;
    if (range.createContextualFragment) {
        fragment = range.createContextualFragment(str);
    } else {
        fragment = document.createElement('body');
        fragment.innerHTML = str;
    }
    return fragment.childNodes[0];
}

var specialElHandlers = {
    /**
     * Needed for IE. Apparently IE doesn't think
     * that "selected" is an attribute when reading
     * over the attributes using selectEl.attributes
     */
    OPTION: function(fromEl, toEl) {
        if ((fromEl.selected = toEl.selected)) {
            fromEl.setAttribute('selected', '');
        } else {
            fromEl.removeAttribute('selected', '');
        }
    },
    /**
     * The "value" attribute is special for the <input> element
     * since it sets the initial value. Changing the "value"
     * attribute without changing the "value" property will have
     * no effect since it is only used to the set the initial value.
     * Similar for the "checked" attribute.
     */
    INPUT: function(fromEl, toEl) {
        fromEl.checked = toEl.checked;

        if (fromEl.value != toEl.value) {
            fromEl.value = toEl.value;
        }

        if (!toEl.hasAttribute('checked')) {
            fromEl.removeAttribute('checked');
        }

        if (!toEl.hasAttribute('value')) {
            fromEl.removeAttribute('value');
        }
    },

    TEXTAREA: function(fromEl, toEl) {
        var newValue = toEl.value;
        if (fromEl.value != newValue) {
            fromEl.value = newValue;
        }

        if (fromEl.firstChild) {
            fromEl.firstChild.nodeValue = newValue;
        }
    }
};

function noop() {}

/**
 * Loop over all of the attributes on the target node and make sure the
 * original DOM node has the same attributes. If an attribute
 * found on the original node is not on the new node then remove it from
 * the original node
 * @param  {HTMLElement} fromNode
 * @param  {HTMLElement} toNode
 */
function morphAttrs(fromNode, toNode) {
    var attrs = toNode.attributes;
    var i;
    var attr;
    var attrName;
    var attrValue;
    var foundAttrs = {};

    for (i=attrs.length-1; i>=0; i--) {
        attr = attrs[i];
        if (attr.specified !== false) {
            attrName = attr.name;
            attrValue = attr.value;
            foundAttrs[attrName] = true;

            if (fromNode.getAttribute(attrName) !== attrValue) {
                fromNode.setAttribute(attrName, attrValue);
            }
        }
    }

    // Delete any extra attributes found on the original DOM element that weren't
    // found on the target element.
    attrs = fromNode.attributes;

    for (i=attrs.length-1; i>=0; i--) {
        attr = attrs[i];
        if (attr.specified !== false) {
            attrName = attr.name;
            if (!foundAttrs.hasOwnProperty(attrName)) {
                fromNode.removeAttribute(attrName);
            }
        }
    }
}

/**
 * Copies the children of one DOM element to another DOM element
 */
function moveChildren(fromEl, toEl) {
    var curChild = fromEl.firstChild;
    while(curChild) {
        var nextChild = curChild.nextSibling;
        toEl.appendChild(curChild);
        curChild = nextChild;
    }
    return toEl;
}

function defaultGetNodeKey(node) {
    return node.id;
}

function morphdom(fromNode, toNode, options) {
    if (!options) {
        options = {};
    }

    if (typeof toNode === 'string') {
        toNode = toElement(toNode);
    }

    var savedEls = {}; // Used to save off DOM elements with IDs
    var unmatchedEls = {};
    var getNodeKey = options.getNodeKey || defaultGetNodeKey;
    var onNodeDiscarded = options.onNodeDiscarded || noop;
    var onBeforeMorphEl = options.onBeforeMorphEl || noop;
    var onBeforeMorphElChildren = options.onBeforeMorphElChildren || noop;
    var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;
    var childrenOnly = options.childrenOnly === true;
    var movedEls = [];

    function removeNodeHelper(node, nestedInSavedEl) {
        var id = getNodeKey(node);
        // If the node has an ID then save it off since we will want
        // to reuse it in case the target DOM tree has a DOM element
        // with the same ID
        if (id) {
            savedEls[id] = node;
        } else if (!nestedInSavedEl) {
            // If we are not nested in a saved element then we know that this node has been
            // completely discarded and will not exist in the final DOM.
            onNodeDiscarded(node);
        }

        if (node.nodeType === 1) {
            var curChild = node.firstChild;
            while(curChild) {
                removeNodeHelper(curChild, nestedInSavedEl || id);
                curChild = curChild.nextSibling;
            }
        }
    }

    function walkDiscardedChildNodes(node) {
        if (node.nodeType === 1) {
            var curChild = node.firstChild;
            while(curChild) {


                if (!getNodeKey(curChild)) {
                    // We only want to handle nodes that don't have an ID to avoid double
                    // walking the same saved element.

                    onNodeDiscarded(curChild);

                    // Walk recursively
                    walkDiscardedChildNodes(curChild);
                }

                curChild = curChild.nextSibling;
            }
        }
    }

    function removeNode(node, parentNode, alreadyVisited) {
        if (onBeforeNodeDiscarded(node) === false) {
            return;
        }

        parentNode.removeChild(node);
        if (alreadyVisited) {
            if (!getNodeKey(node)) {
                onNodeDiscarded(node);
                walkDiscardedChildNodes(node);
            }
        } else {
            removeNodeHelper(node);
        }
    }

    function morphEl(fromEl, toEl, alreadyVisited, childrenOnly) {
        var toElKey = getNodeKey(toEl);
        if (toElKey) {
            // If an element with an ID is being morphed then it is will be in the final
            // DOM so clear it out of the saved elements collection
            delete savedEls[toElKey];
        }

        if (!childrenOnly) {
            if (onBeforeMorphEl(fromEl, toEl) === false) {
                return;
            }

            morphAttrs(fromEl, toEl);

            if (onBeforeMorphElChildren(fromEl, toEl) === false) {
                return;
            }
        }

        if (fromEl.tagName != 'TEXTAREA') {
            var curToNodeChild = toEl.firstChild;
            var curFromNodeChild = fromEl.firstChild;
            var curToNodeId;

            var fromNextSibling;
            var toNextSibling;
            var savedEl;
            var unmatchedEl;

            outer: while(curToNodeChild) {
                toNextSibling = curToNodeChild.nextSibling;
                curToNodeId = getNodeKey(curToNodeChild);

                while(curFromNodeChild) {
                    var curFromNodeId = getNodeKey(curFromNodeChild);
                    fromNextSibling = curFromNodeChild.nextSibling;

                    if (!alreadyVisited) {
                        if (curFromNodeId && (unmatchedEl = unmatchedEls[curFromNodeId])) {
                            unmatchedEl.parentNode.replaceChild(curFromNodeChild, unmatchedEl);
                            morphEl(curFromNodeChild, unmatchedEl, alreadyVisited);
                            curFromNodeChild = fromNextSibling;
                            continue;
                        }
                    }

                    var curFromNodeType = curFromNodeChild.nodeType;

                    if (curFromNodeType === curToNodeChild.nodeType) {
                        var isCompatible = false;

                        if (curFromNodeType === 1) { // Both nodes being compared are Element nodes
                            if (curFromNodeChild.tagName === curToNodeChild.tagName) {
                                // We have compatible DOM elements
                                if (curFromNodeId || curToNodeId) {
                                    // If either DOM element has an ID then we handle
                                    // those differently since we want to match up
                                    // by ID
                                    if (curToNodeId === curFromNodeId) {
                                        isCompatible = true;
                                    }
                                } else {
                                    isCompatible = true;
                                }
                            }

                            if (isCompatible) {
                                // We found compatible DOM elements so transform the current "from" node
                                // to match the current target DOM node.
                                morphEl(curFromNodeChild, curToNodeChild, alreadyVisited);
                            }
                        } else if (curFromNodeType === 3) { // Both nodes being compared are Text nodes
                            isCompatible = true;
                            // Simply update nodeValue on the original node to change the text value
                            curFromNodeChild.nodeValue = curToNodeChild.nodeValue;
                        }

                        if (isCompatible) {
                            curToNodeChild = toNextSibling;
                            curFromNodeChild = fromNextSibling;
                            continue outer;
                        }
                    }

                    // No compatible match so remove the old node from the DOM and continue trying
                    // to find a match in the original DOM
                    removeNode(curFromNodeChild, fromEl, alreadyVisited);
                    curFromNodeChild = fromNextSibling;
                }

                if (curToNodeId) {
                    if ((savedEl = savedEls[curToNodeId])) {
                        morphEl(savedEl, curToNodeChild, true);
                        curToNodeChild = savedEl; // We want to append the saved element instead
                    } else {
                        // The current DOM element in the target tree has an ID
                        // but we did not find a match in any of the corresponding
                        // siblings. We just put the target element in the old DOM tree
                        // but if we later find an element in the old DOM tree that has
                        // a matching ID then we will replace the target element
                        // with the corresponding old element and morph the old element
                        unmatchedEls[curToNodeId] = curToNodeChild;
                    }
                }

                // If we got this far then we did not find a candidate match for our "to node"
                // and we exhausted all of the children "from" nodes. Therefore, we will just
                // append the current "to node" to the end
                fromEl.appendChild(curToNodeChild);

                if (curToNodeChild.nodeType === 1 && (curToNodeId || curToNodeChild.firstChild)) {
                    // The element that was just added to the original DOM may have
                    // some nested elements with a key/ID that needs to be matched up
                    // with other elements. We'll add the element to a list so that we
                    // can later process the nested elements if there are any unmatched
                    // keyed elements that were discarded
                    movedEls.push(curToNodeChild);
                }

                curToNodeChild = toNextSibling;
                curFromNodeChild = fromNextSibling;
            }

            // We have processed all of the "to nodes". If curFromNodeChild is non-null then
            // we still have some from nodes left over that need to be removed
            while(curFromNodeChild) {
                fromNextSibling = curFromNodeChild.nextSibling;
                removeNode(curFromNodeChild, fromEl, alreadyVisited);
                curFromNodeChild = fromNextSibling;
            }
        }

        var specialElHandler = specialElHandlers[fromEl.tagName];
        if (specialElHandler) {
            specialElHandler(fromEl, toEl);
        }
    } // END: morphEl(...)

    var morphedNode = fromNode;
    var morphedNodeType = morphedNode.nodeType;
    var toNodeType = toNode.nodeType;

    if (!childrenOnly) {
        // Handle the case where we are given two DOM nodes that are not
        // compatible (e.g. <div> --> <span> or <div> --> TEXT)
        if (morphedNodeType === 1) {
            if (toNodeType === 1) {
                if (fromNode.tagName !== toNode.tagName) {
                    onNodeDiscarded(fromNode);
                    morphedNode = moveChildren(fromNode, document.createElement(toNode.tagName));
                }
            } else {
                // Going from an element node to a text node
                morphedNode = toNode;
            }
        } else if (morphedNodeType === 3) { // Text node
            if (toNodeType === 3) {
                morphedNode.nodeValue = toNode.nodeValue;
                return morphedNode;
            } else {
                // Text node to something else
                morphedNode = toNode;
            }
        }
    }

    if (morphedNode === toNode) {
        // The "to node" was not compatible with the "from node"
        // so we had to toss out the "from node" and use the "to node"
        onNodeDiscarded(fromNode);
    } else {
        morphEl(morphedNode, toNode, false, childrenOnly);

        /**
         * What we will do here is walk the tree for the DOM element
         * that was moved from the target DOM tree to the original
         * DOM tree and we will look for keyed elements that could
         * be matched to keyed elements that were earlier discarded.
         * If we find a match then we will move the saved element
         * into the final DOM tree
         */
        var handleMovedEl = function(el) {
            var curChild = el.firstChild;
            while(curChild) {
                var nextSibling = curChild.nextSibling;

                var key = getNodeKey(curChild);
                if (key) {
                    var savedEl = savedEls[key];
                    if (savedEl && (curChild.tagName === savedEl.tagName)) {
                        curChild.parentNode.replaceChild(savedEl, curChild);
                        morphEl(savedEl, curChild, true /* already visited the saved el tree */);
                        curChild = nextSibling;
                        if (empty(savedEls)) {
                            return false;
                        }
                        continue;
                    }
                }

                if (curChild.nodeType === 1) {
                    handleMovedEl(curChild);
                }

                curChild = nextSibling;
            }
        };

        // The loop below is used to possibly match up any discarded
        // elements in the original DOM tree with elemenets from the
        // target tree that were moved over without visiting their
        // children
        if (!empty(savedEls)) {
            handleMovedElsLoop:
            while (movedEls.length) {
                var movedElsTemp = movedEls;
                movedEls = [];
                for (var i=0; i<movedElsTemp.length; i++) {
                    if (handleMovedEl(movedElsTemp[i]) === false) {
                        // There are no more unmatched elements so completely end
                        // the loop
                        break handleMovedElsLoop;
                    }
                }
            }
        }

        // Fire the "onNodeDiscarded" event for any saved elements
        // that never found a new home in the morphed DOM
        for (var savedElId in savedEls) {
            if (savedEls.hasOwnProperty(savedElId)) {
                var savedEl = savedEls[savedElId];
                onNodeDiscarded(savedEl);
                walkDiscardedChildNodes(savedEl);
            }
        }
    }

    if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {
        // If we had to swap out the from node with a new node because the old
        // node was not compatible with the target node then we need to
        // replace the old DOM node in the original DOM tree. This is only
        // possible if the original DOM node was part of a DOM tree which
        // we know is the case if it has a parent node.
        fromNode.parentNode.replaceChild(morphedNode, fromNode);
    }

    return morphedNode;
}

module.exports = morphdom;

},{}],131:[function(require,module,exports){
/*jshint node:true */

"use strict";

var minimalDesc = ['h', 'min', 's', 'ms', 'μs', 'ns'];
var verboseDesc = ['hour', 'minute', 'second', 'millisecond', 'microsecond', 'nanosecond'];
var convert = [60*60, 60, 1, 1e6, 1e3, 1];

module.exports = function (source, opts) {
	var verbose, precise, i, spot, sourceAtStep, valAtStep, decimals, strAtStep, results;

	verbose = false;
	precise = false;
	if (opts) {
		verbose = opts.verbose || false;
		precise = opts.precise || false;
	}

	if (!Array.isArray(source) || source.length !== 2) {
		return '';
	}
	if (typeof source[0] !== 'number' || typeof source[1] !== 'number') {
		return '';
	}

	results = '';

	// foreach unit
	for (i = 0; i < 6; i++) {
		spot = i < 3 ? 0 : 1; // grabbing first or second spot in source array
		sourceAtStep = source[spot];
		if (i !== 3 && i !== 0) {
			sourceAtStep = sourceAtStep % convert[i-1]; // trim off previous portions
		}
		if (i === 2) {
			sourceAtStep += source[1]/1e9; // get partial seconds from other portion of the array
		}
		valAtStep = sourceAtStep / convert[i]; // val at this unit
		if (valAtStep >= 1) {
			if (verbose) {
				valAtStep = Math.floor(valAtStep); // deal in whole units, subsequent laps will get the decimal portion
			}
			if (!precise) {
				// don't fling too many decimals
				decimals = valAtStep >= 10 ? 0 : 2;
				strAtStep = valAtStep.toFixed(decimals);
			} else {
				strAtStep = valAtStep.toString();
			}
			if (strAtStep.indexOf('.') > -1 && strAtStep[strAtStep.length-1] === '0') {
				strAtStep = strAtStep.replace(/\.?0+$/,''); // remove trailing zeros
			}
			if (results) {
				results += ' '; // append space if we have a previous value
			}
			results += strAtStep; // append the value
			// append units
			if (verbose) {
				results += ' '+verboseDesc[i];
				if (strAtStep !== '1') {
					results += 's';
				}
			} else {
				results += ' '+minimalDesc[i];
			}
			if (!verbose) {
				break; // verbose gets as many groups as necessary, the rest get only one
			}
		}
	}

	return results;
};

},{}],132:[function(require,module,exports){
'use strict';

module.exports = require('./lib')

},{"./lib":137}],133:[function(require,module,exports){
'use strict';

var asap = require('asap/raw');

function noop() {}

// States:
//
// 0 - pending
// 1 - fulfilled with _value
// 2 - rejected with _value
// 3 - adopted the state of another promise, _value
//
// once the state is no longer pending (0) it is immutable

// All `_` prefixed properties will be reduced to `_{random number}`
// at build time to obfuscate them and discourage their use.
// We don't use symbols or Object.defineProperty to fully hide them
// because the performance isn't good enough.


// to avoid using try/catch inside critical functions, we
// extract them to here.
var LAST_ERROR = null;
var IS_ERROR = {};
function getThen(obj) {
  try {
    return obj.then;
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}

function tryCallOne(fn, a) {
  try {
    return fn(a);
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}
function tryCallTwo(fn, a, b) {
  try {
    fn(a, b);
  } catch (ex) {
    LAST_ERROR = ex;
    return IS_ERROR;
  }
}

module.exports = Promise;

function Promise(fn) {
  if (typeof this !== 'object') {
    throw new TypeError('Promises must be constructed via new');
  }
  if (typeof fn !== 'function') {
    throw new TypeError('not a function');
  }
  this._45 = 0;
  this._81 = 0;
  this._65 = null;
  this._54 = null;
  if (fn === noop) return;
  doResolve(fn, this);
}
Promise._10 = null;
Promise._97 = null;
Promise._61 = noop;

Promise.prototype.then = function(onFulfilled, onRejected) {
  if (this.constructor !== Promise) {
    return safeThen(this, onFulfilled, onRejected);
  }
  var res = new Promise(noop);
  handle(this, new Handler(onFulfilled, onRejected, res));
  return res;
};

function safeThen(self, onFulfilled, onRejected) {
  return new self.constructor(function (resolve, reject) {
    var res = new Promise(noop);
    res.then(resolve, reject);
    handle(self, new Handler(onFulfilled, onRejected, res));
  });
};
function handle(self, deferred) {
  while (self._81 === 3) {
    self = self._65;
  }
  if (Promise._10) {
    Promise._10(self);
  }
  if (self._81 === 0) {
    if (self._45 === 0) {
      self._45 = 1;
      self._54 = deferred;
      return;
    }
    if (self._45 === 1) {
      self._45 = 2;
      self._54 = [self._54, deferred];
      return;
    }
    self._54.push(deferred);
    return;
  }
  handleResolved(self, deferred);
}

function handleResolved(self, deferred) {
  asap(function() {
    var cb = self._81 === 1 ? deferred.onFulfilled : deferred.onRejected;
    if (cb === null) {
      if (self._81 === 1) {
        resolve(deferred.promise, self._65);
      } else {
        reject(deferred.promise, self._65);
      }
      return;
    }
    var ret = tryCallOne(cb, self._65);
    if (ret === IS_ERROR) {
      reject(deferred.promise, LAST_ERROR);
    } else {
      resolve(deferred.promise, ret);
    }
  });
}
function resolve(self, newValue) {
  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
  if (newValue === self) {
    return reject(
      self,
      new TypeError('A promise cannot be resolved with itself.')
    );
  }
  if (
    newValue &&
    (typeof newValue === 'object' || typeof newValue === 'function')
  ) {
    var then = getThen(newValue);
    if (then === IS_ERROR) {
      return reject(self, LAST_ERROR);
    }
    if (
      then === self.then &&
      newValue instanceof Promise
    ) {
      self._81 = 3;
      self._65 = newValue;
      finale(self);
      return;
    } else if (typeof then === 'function') {
      doResolve(then.bind(newValue), self);
      return;
    }
  }
  self._81 = 1;
  self._65 = newValue;
  finale(self);
}

function reject(self, newValue) {
  self._81 = 2;
  self._65 = newValue;
  if (Promise._97) {
    Promise._97(self, newValue);
  }
  finale(self);
}
function finale(self) {
  if (self._45 === 1) {
    handle(self, self._54);
    self._54 = null;
  }
  if (self._45 === 2) {
    for (var i = 0; i < self._54.length; i++) {
      handle(self, self._54[i]);
    }
    self._54 = null;
  }
}

function Handler(onFulfilled, onRejected, promise){
  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
  this.onRejected = typeof onRejected === 'function' ? onRejected : null;
  this.promise = promise;
}

/**
 * Take a potentially misbehaving resolver function and make sure
 * onFulfilled and onRejected are only called once.
 *
 * Makes no guarantees about asynchrony.
 */
function doResolve(fn, promise) {
  var done = false;
  var res = tryCallTwo(fn, function (value) {
    if (done) return;
    done = true;
    resolve(promise, value);
  }, function (reason) {
    if (done) return;
    done = true;
    reject(promise, reason);
  })
  if (!done && res === IS_ERROR) {
    done = true;
    reject(promise, LAST_ERROR);
  }
}

},{"asap/raw":141}],134:[function(require,module,exports){
'use strict';

var Promise = require('./core.js');

module.exports = Promise;
Promise.prototype.done = function (onFulfilled, onRejected) {
  var self = arguments.length ? this.then.apply(this, arguments) : this;
  self.then(null, function (err) {
    setTimeout(function () {
      throw err;
    }, 0);
  });
};

},{"./core.js":133}],135:[function(require,module,exports){
'use strict';

//This file contains the ES6 extensions to the core Promises/A+ API

var Promise = require('./core.js');

module.exports = Promise;

/* Static Functions */

var TRUE = valuePromise(true);
var FALSE = valuePromise(false);
var NULL = valuePromise(null);
var UNDEFINED = valuePromise(undefined);
var ZERO = valuePromise(0);
var EMPTYSTRING = valuePromise('');

function valuePromise(value) {
  var p = new Promise(Promise._61);
  p._81 = 1;
  p._65 = value;
  return p;
}
Promise.resolve = function (value) {
  if (value instanceof Promise) return value;

  if (value === null) return NULL;
  if (value === undefined) return UNDEFINED;
  if (value === true) return TRUE;
  if (value === false) return FALSE;
  if (value === 0) return ZERO;
  if (value === '') return EMPTYSTRING;

  if (typeof value === 'object' || typeof value === 'function') {
    try {
      var then = value.then;
      if (typeof then === 'function') {
        return new Promise(then.bind(value));
      }
    } catch (ex) {
      return new Promise(function (resolve, reject) {
        reject(ex);
      });
    }
  }
  return valuePromise(value);
};

Promise.all = function (arr) {
  var args = Array.prototype.slice.call(arr);

  return new Promise(function (resolve, reject) {
    if (args.length === 0) return resolve([]);
    var remaining = args.length;
    function res(i, val) {
      if (val && (typeof val === 'object' || typeof val === 'function')) {
        if (val instanceof Promise && val.then === Promise.prototype.then) {
          while (val._81 === 3) {
            val = val._65;
          }
          if (val._81 === 1) return res(i, val._65);
          if (val._81 === 2) reject(val._65);
          val.then(function (val) {
            res(i, val);
          }, reject);
          return;
        } else {
          var then = val.then;
          if (typeof then === 'function') {
            var p = new Promise(then.bind(val));
            p.then(function (val) {
              res(i, val);
            }, reject);
            return;
          }
        }
      }
      args[i] = val;
      if (--remaining === 0) {
        resolve(args);
      }
    }
    for (var i = 0; i < args.length; i++) {
      res(i, args[i]);
    }
  });
};

Promise.reject = function (value) {
  return new Promise(function (resolve, reject) {
    reject(value);
  });
};

Promise.race = function (values) {
  return new Promise(function (resolve, reject) {
    values.forEach(function(value){
      Promise.resolve(value).then(resolve, reject);
    });
  });
};

/* Prototype Methods */

Promise.prototype['catch'] = function (onRejected) {
  return this.then(null, onRejected);
};

},{"./core.js":133}],136:[function(require,module,exports){
'use strict';

var Promise = require('./core.js');

module.exports = Promise;
Promise.prototype['finally'] = function (f) {
  return this.then(function (value) {
    return Promise.resolve(f()).then(function () {
      return value;
    });
  }, function (err) {
    return Promise.resolve(f()).then(function () {
      throw err;
    });
  });
};

},{"./core.js":133}],137:[function(require,module,exports){
'use strict';

module.exports = require('./core.js');
require('./done.js');
require('./finally.js');
require('./es6-extensions.js');
require('./node-extensions.js');
require('./synchronous.js');

},{"./core.js":133,"./done.js":134,"./es6-extensions.js":135,"./finally.js":136,"./node-extensions.js":138,"./synchronous.js":139}],138:[function(require,module,exports){
'use strict';

// This file contains then/promise specific extensions that are only useful
// for node.js interop

var Promise = require('./core.js');
var asap = require('asap');

module.exports = Promise;

/* Static Functions */

Promise.denodeify = function (fn, argumentCount) {
  if (
    typeof argumentCount === 'number' && argumentCount !== Infinity
  ) {
    return denodeifyWithCount(fn, argumentCount);
  } else {
    return denodeifyWithoutCount(fn);
  }
}

var callbackFn = (
  'function (err, res) {' +
  'if (err) { rj(err); } else { rs(res); }' +
  '}'
);
function denodeifyWithCount(fn, argumentCount) {
  var args = [];
  for (var i = 0; i < argumentCount; i++) {
    args.push('a' + i);
  }
  var body = [
    'return function (' + args.join(',') + ') {',
    'var self = this;',
    'return new Promise(function (rs, rj) {',
    'var res = fn.call(',
    ['self'].concat(args).concat([callbackFn]).join(','),
    ');',
    'if (res &&',
    '(typeof res === "object" || typeof res === "function") &&',
    'typeof res.then === "function"',
    ') {rs(res);}',
    '});',
    '};'
  ].join('');
  return Function(['Promise', 'fn'], body)(Promise, fn);
}
function denodeifyWithoutCount(fn) {
  var fnLength = Math.max(fn.length - 1, 3);
  var args = [];
  for (var i = 0; i < fnLength; i++) {
    args.push('a' + i);
  }
  var body = [
    'return function (' + args.join(',') + ') {',
    'var self = this;',
    'var args;',
    'var argLength = arguments.length;',
    'if (arguments.length > ' + fnLength + ') {',
    'args = new Array(arguments.length + 1);',
    'for (var i = 0; i < arguments.length; i++) {',
    'args[i] = arguments[i];',
    '}',
    '}',
    'return new Promise(function (rs, rj) {',
    'var cb = ' + callbackFn + ';',
    'var res;',
    'switch (argLength) {',
    args.concat(['extra']).map(function (_, index) {
      return (
        'case ' + (index) + ':' +
        'res = fn.call(' + ['self'].concat(args.slice(0, index)).concat('cb').join(',') + ');' +
        'break;'
      );
    }).join(''),
    'default:',
    'args[argLength] = cb;',
    'res = fn.apply(self, args);',
    '}',
    
    'if (res &&',
    '(typeof res === "object" || typeof res === "function") &&',
    'typeof res.then === "function"',
    ') {rs(res);}',
    '});',
    '};'
  ].join('');

  return Function(
    ['Promise', 'fn'],
    body
  )(Promise, fn);
}

Promise.nodeify = function (fn) {
  return function () {
    var args = Array.prototype.slice.call(arguments);
    var callback =
      typeof args[args.length - 1] === 'function' ? args.pop() : null;
    var ctx = this;
    try {
      return fn.apply(this, arguments).nodeify(callback, ctx);
    } catch (ex) {
      if (callback === null || typeof callback == 'undefined') {
        return new Promise(function (resolve, reject) {
          reject(ex);
        });
      } else {
        asap(function () {
          callback.call(ctx, ex);
        })
      }
    }
  }
}

Promise.prototype.nodeify = function (callback, ctx) {
  if (typeof callback != 'function') return this;

  this.then(function (value) {
    asap(function () {
      callback.call(ctx, null, value);
    });
  }, function (err) {
    asap(function () {
      callback.call(ctx, err);
    });
  });
}

},{"./core.js":133,"asap":140}],139:[function(require,module,exports){
'use strict';

var Promise = require('./core.js');

module.exports = Promise;
Promise.enableSynchronous = function () {
  Promise.prototype.isPending = function() {
    return this.getState() == 0;
  };

  Promise.prototype.isFulfilled = function() {
    return this.getState() == 1;
  };

  Promise.prototype.isRejected = function() {
    return this.getState() == 2;
  };

  Promise.prototype.getValue = function () {
    if (this._81 === 3) {
      return this._65.getValue();
    }

    if (!this.isFulfilled()) {
      throw new Error('Cannot get a value of an unfulfilled promise.');
    }

    return this._65;
  };

  Promise.prototype.getReason = function () {
    if (this._81 === 3) {
      return this._65.getReason();
    }

    if (!this.isRejected()) {
      throw new Error('Cannot get a rejection reason of a non-rejected promise.');
    }

    return this._65;
  };

  Promise.prototype.getState = function () {
    if (this._81 === 3) {
      return this._65.getState();
    }
    if (this._81 === -1 || this._81 === -2) {
      return 0;
    }

    return this._81;
  };
};

Promise.disableSynchronous = function() {
  Promise.prototype.isPending = undefined;
  Promise.prototype.isFulfilled = undefined;
  Promise.prototype.isRejected = undefined;
  Promise.prototype.getValue = undefined;
  Promise.prototype.getReason = undefined;
  Promise.prototype.getState = undefined;
};

},{"./core.js":133}],140:[function(require,module,exports){
"use strict";

// rawAsap provides everything we need except exception management.
var rawAsap = require("./raw");
// RawTasks are recycled to reduce GC churn.
var freeTasks = [];
// We queue errors to ensure they are thrown in right order (FIFO).
// Array-as-queue is good enough here, since we are just dealing with exceptions.
var pendingErrors = [];
var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);

function throwFirstError() {
    if (pendingErrors.length) {
        throw pendingErrors.shift();
    }
}

/**
 * Calls a task as soon as possible after returning, in its own event, with priority
 * over other events like animation, reflow, and repaint. An error thrown from an
 * event will not interrupt, nor even substantially slow down the processing of
 * other events, but will be rather postponed to a lower priority event.
 * @param {{call}} task A callable object, typically a function that takes no
 * arguments.
 */
module.exports = asap;
function asap(task) {
    var rawTask;
    if (freeTasks.length) {
        rawTask = freeTasks.pop();
    } else {
        rawTask = new RawTask();
    }
    rawTask.task = task;
    rawAsap(rawTask);
}

// We wrap tasks with recyclable task objects.  A task object implements
// `call`, just like a function.
function RawTask() {
    this.task = null;
}

// The sole purpose of wrapping the task is to catch the exception and recycle
// the task object after its single use.
RawTask.prototype.call = function () {
    try {
        this.task.call();
    } catch (error) {
        if (asap.onerror) {
            // This hook exists purely for testing purposes.
            // Its name will be periodically randomized to break any code that
            // depends on its existence.
            asap.onerror(error);
        } else {
            // In a web browser, exceptions are not fatal. However, to avoid
            // slowing down the queue of pending tasks, we rethrow the error in a
            // lower priority turn.
            pendingErrors.push(error);
            requestErrorThrow();
        }
    } finally {
        this.task = null;
        freeTasks[freeTasks.length] = this;
    }
};

},{"./raw":141}],141:[function(require,module,exports){
(function (global){
"use strict";

// Use the fastest means possible to execute a task in its own turn, with
// priority over other events including IO, animation, reflow, and redraw
// events in browsers.
//
// An exception thrown by a task will permanently interrupt the processing of
// subsequent tasks. The higher level `asap` function ensures that if an
// exception is thrown by a task, that the task queue will continue flushing as
// soon as possible, but if you use `rawAsap` directly, you are responsible to
// either ensure that no exceptions are thrown from your task, or to manually
// call `rawAsap.requestFlush` if an exception is thrown.
module.exports = rawAsap;
function rawAsap(task) {
    if (!queue.length) {
        requestFlush();
        flushing = true;
    }
    // Equivalent to push, but avoids a function call.
    queue[queue.length] = task;
}

var queue = [];
// Once a flush has been requested, no further calls to `requestFlush` are
// necessary until the next `flush` completes.
var flushing = false;
// `requestFlush` is an implementation-specific method that attempts to kick
// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
// the event queue before yielding to the browser's own event loop.
var requestFlush;
// The position of the next task to execute in the task queue. This is
// preserved between calls to `flush` so that it can be resumed if
// a task throws an exception.
var index = 0;
// If a task schedules additional tasks recursively, the task queue can grow
// unbounded. To prevent memory exhaustion, the task queue will periodically
// truncate already-completed tasks.
var capacity = 1024;

// The flush function processes all tasks that have been scheduled with
// `rawAsap` unless and until one of those tasks throws an exception.
// If a task throws an exception, `flush` ensures that its state will remain
// consistent and will resume where it left off when called again.
// However, `flush` does not make any arrangements to be called again if an
// exception is thrown.
function flush() {
    while (index < queue.length) {
        var currentIndex = index;
        // Advance the index before calling the task. This ensures that we will
        // begin flushing on the next task the task throws an error.
        index = index + 1;
        queue[currentIndex].call();
        // Prevent leaking memory for long chains of recursive calls to `asap`.
        // If we call `asap` within tasks scheduled by `asap`, the queue will
        // grow, but to avoid an O(n) walk for every task we execute, we don't
        // shift tasks off the queue after they have been executed.
        // Instead, we periodically shift 1024 tasks off the queue.
        if (index > capacity) {
            // Manually shift all values starting at the index back to the
            // beginning of the queue.
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
                queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
        }
    }
    queue.length = 0;
    index = 0;
    flushing = false;
}

// `requestFlush` is implemented using a strategy based on data collected from
// every available SauceLabs Selenium web driver worker at time of writing.
// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593

// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
// have WebKitMutationObserver but not un-prefixed MutationObserver.
// Must use `global` instead of `window` to work in both frames and web
// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.
var BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;

// MutationObservers are desirable because they have high priority and work
// reliably everywhere they are implemented.
// They are implemented in all modern browsers.
//
// - Android 4-4.3
// - Chrome 26-34
// - Firefox 14-29
// - Internet Explorer 11
// - iPad Safari 6-7.1
// - iPhone Safari 7-7.1
// - Safari 6-7
if (typeof BrowserMutationObserver === "function") {
    requestFlush = makeRequestCallFromMutationObserver(flush);

// MessageChannels are desirable because they give direct access to the HTML
// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
// 11-12, and in web workers in many engines.
// Although message channels yield to any queued rendering and IO tasks, they
// would be better than imposing the 4ms delay of timers.
// However, they do not work reliably in Internet Explorer or Safari.

// Internet Explorer 10 is the only browser that has setImmediate but does
// not have MutationObservers.
// Although setImmediate yields to the browser's renderer, it would be
// preferrable to falling back to setTimeout since it does not have
// the minimum 4ms penalty.
// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
// Desktop to a lesser extent) that renders both setImmediate and
// MessageChannel useless for the purposes of ASAP.
// https://github.com/kriskowal/q/issues/396

// Timers are implemented universally.
// We fall back to timers in workers in most engines, and in foreground
// contexts in the following browsers.
// However, note that even this simple case requires nuances to operate in a
// broad spectrum of browsers.
//
// - Firefox 3-13
// - Internet Explorer 6-9
// - iPad Safari 4.3
// - Lynx 2.8.7
} else {
    requestFlush = makeRequestCallFromTimer(flush);
}

// `requestFlush` requests that the high priority event queue be flushed as
// soon as possible.
// This is useful to prevent an error thrown in a task from stalling the event
// queue if the exception handled by Node.js’s
// `process.on("uncaughtException")` or by a domain.
rawAsap.requestFlush = requestFlush;

// To request a high priority event, we induce a mutation observer by toggling
// the text of a text node between "1" and "-1".
function makeRequestCallFromMutationObserver(callback) {
    var toggle = 1;
    var observer = new BrowserMutationObserver(callback);
    var node = document.createTextNode("");
    observer.observe(node, {characterData: true});
    return function requestCall() {
        toggle = -toggle;
        node.data = toggle;
    };
}

// The message channel technique was discovered by Malte Ubl and was the
// original foundation for this library.
// http://www.nonblocking.io/2011/06/windownexttick.html

// Safari 6.0.5 (at least) intermittently fails to create message ports on a
// page's first load. Thankfully, this version of Safari supports
// MutationObservers, so we don't need to fall back in that case.

// function makeRequestCallFromMessageChannel(callback) {
//     var channel = new MessageChannel();
//     channel.port1.onmessage = callback;
//     return function requestCall() {
//         channel.port2.postMessage(0);
//     };
// }

// For reasons explained above, we are also unable to use `setImmediate`
// under any circumstances.
// Even if we were, there is another bug in Internet Explorer 10.
// It is not sufficient to assign `setImmediate` to `requestFlush` because
// `setImmediate` must be called *by name* and therefore must be wrapped in a
// closure.
// Never forget.

// function makeRequestCallFromSetImmediate(callback) {
//     return function requestCall() {
//         setImmediate(callback);
//     };
// }

// Safari 6.0 has a problem where timers will get lost while the user is
// scrolling. This problem does not impact ASAP because Safari 6.0 supports
// mutation observers, so that implementation is used instead.
// However, if we ever elect to use timers in Safari, the prevalent work-around
// is to add a scroll event listener that calls for a flush.

// `setTimeout` does not call the passed callback if the delay is less than
// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
// even then.

function makeRequestCallFromTimer(callback) {
    return function requestCall() {
        // We dispatch a timeout with a specified delay of 0 for engines that
        // can reliably accommodate that request. This will usually be snapped
        // to a 4 milisecond delay, but once we're flushing, there's no delay
        // between events.
        var timeoutHandle = setTimeout(handleTimer, 0);
        // However, since this timer gets frequently dropped in Firefox
        // workers, we enlist an interval handle that will try to fire
        // an event 20 times per second until it succeeds.
        var intervalHandle = setInterval(handleTimer, 50);

        function handleTimer() {
            // Whichever timer succeeds will cancel both timers and
            // execute the callback.
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
        }
    };
}

// This is for `asap.js` only.
// Its name will be periodically randomized to break any code that depends on
// its existence.
rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;

// ASAP was originally a nextTick shim included in Q. This was factored out
// into this ASAP package. It was later adapted to RSVP which made further
// amendments. These decisions, particularly to marginalize MessageChannel and
// to capture the MutationObserver implementation in a closure, were integrated
// back into ASAP proper.
// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],142:[function(require,module,exports){
/**
 * digits <https://github.com/jonschlinkert/digits>
 *
 * Copyright (c) 2013-2015 Jon Schlinkert
 * Licensed under the MIT License (MIT)
 */

'use strict';

var pad = require('pad-left');
var longest = require('longest');

/**
 * Expose `digits`
 */

module.exports = digits;

/**
 * Left pad the given `value` with the specified `number` of zeros
 * or alternate `character`.
 *
 * ```js
 * digits('abc', 10);
 * //=> '0000000000abc'
 *
 * digits('abc', 10, '~');
 * //=> '~~~~~~~~~~abc'
 * ```
 *
 * @param {String} `value`
 * @param {String} `number`
 * @return {String} `character`
 * @api public
 */

function digits(val, num, ch) {
  return pad(val, num - val.length, ch);
}

/**
 * Pad left pad each value in the given `array` to align with the
 * longest item/number in the array. Zeros are used by default, but
 * a custom `character` can be passed as the second argument.
 *
 * **Example**
 *
 * ```js
 * digits.each([1, 100, 1000])
 * //=> ['0001', '0100', '1000']
 *
 * digits.each([a, bb, ccc], ' ')
 * //=> ['  a', ' bb', 'ccc']
 * ```
 *
 * @param {Number} `arr` The array of values to pad.
 * @param {Number} `len` Amount to pad the number.
 * @return {String} Padded number
 * @api public
 */

digits.each = function(arr, ch) {
  var len = longest(arr).length;

  return arr.map(function(ele) {
    return digits(ele, len, ch);
  });
};

/**
 * Strip leading digits from a string
 *
 * ```js
 * digits.stripleft('010foo.md');
 * // => "foo.md"
 * ```
 *
 * @param  {String} `str`
 * @return {String}
 */

digits.stripleft = function(str) {
  return str.replace(/^\d+\-?/g, '');
};

/**
 * Strip trailing digits from a string
 *
 * ```js
 * digits.stripright('bar010.md');
 * // => "bar.md"
 * ```
 * @param  {String} `str`
 * @return {String}
 */

digits.stripright = function(str) {
  return str.replace(/\-?\d+$/g, '');
};

/**
 * Count digits on the left side of a string
 *
 * ```js
 * digits.countleft('001-foo.md');
 * //=> 3
 * ```
 *
 * @param  {String} `str`
 * @return {String}
 */

digits.countleft = function(str) {
  return String(str.match(/^\d+/g)).length;
};

/**
 * Count digits on the right side of a string
 *
 * ```js
 * digits.countleft('foo-001.md');
 * //=> 3
 * ```
 * @param  {String} `str`
 * @return {String}
 */

digits.countright = function(str) {
  return String(str.match(/\d+$/g)).length;
};

},{"longest":143,"pad-left":144}],143:[function(require,module,exports){
/**
 * longest item in an array
 * Copyright (c) 2014 Jon Schlinkert, contributors.
 * Licensed under the MIT license.
 */

'use strict';

module.exports = function(arr) {
  var c = 0,
    len = 0,
    l = 0,
    idx = arr.length;
  if (idx) {
    while (idx--) {
      len = arr[idx].length;
      if (len > c) {
        l = idx;
        c = len;
      }
    }
  }
  return arr[l];
};
},{}],144:[function(require,module,exports){
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014 Jon Schlinkert, contributors.
 * Licensed under the MIT license.
 */

'use strict';

var repeat = require('repeat-string');

module.exports = function padLeft(val, num, str) {
  return repeat(str || '0', num) + val;
};

},{"repeat-string":145}],145:[function(require,module,exports){
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */

'use strict';

module.exports = function repeat(str, count) {
  if (typeof str !== 'string') {
    throw new TypeError('repeat-string expects a string.');
  }

  if (count < 1) {
    return '';
  }

  var result = '';
  while (count > 0) {
    if (count & 1) {
      result += str;
    }
    count >>= 1;
    str += str;
  }
  return result;
};

},{}],146:[function(require,module,exports){
'use strict';

// jscs:disable maximumLineLength
// This file contains definitions of rules how location URLs are translated
// to "render" methods of catberry's modules.
//
// Format:
// /some/:parameter[module1,module2,module3]
//
// More details here:
// https://github.com/catberry/catberry/blob/master/docs/index.md#url-route-definition

module.exports = [
    '/:page[Pages]',
    //id мастера
    {
        expression: /\/([\/\d]+)$/i,
        map: function (urlPath) {
            var matches = urlPath.path.match(/\/([\/\d]+)$/i);
            return {
                'master/MasterItem': {
                    item: matches[1]
                },
                Pages: {
                    page: "master-page"
                }
            }
        }
    },
    //статья мастера
    {
        expression: '/\/([\/\d]+)\/article\/([\/\d]+)$/i',
        map: function (urlPath) {
            return {
                Pages: {
                    page: "master-article"
                }
            }
        }
    },
    // путь: рубрика/подрубрика
    // путь: рубрика/подрубрика/тег
    // путь: рубрика/подрубрика/секция
    // путь: рубрика/подрубрика/тег/секция
    {
        expression: /^\/([^\/\d]+)\/([^\/\d]+)\/?((?!video|sale|sovety|company)[^\/\d]+)?\/?(video|sale|sovety|company)?$/i,
        map: function (urlPath) {
            var matches = urlPath.path.match(/^\/([^\/\d]+)\/([^\/\d]+)\/?((?!video|sale|sovety|company)[^\/\d]+)?\/?(video|sale|sovety|company)?$/i);
            return {
                'rubrika/Rubrika': {
                    rubrika: matches[1],
                    podrubrika: matches[2]
                },
                Tag: {
                    tag: matches[3],
                    section: matches[4]
                },
                Pages: {
                    page: "master-rubrika"
                }
            }
        }
    },
    // путь: /__/page/:id
    {
        expression: /^\/([^\/\d]+)\/page\/(\d+)/i,
        map: function (urlPath) {
            var matches = urlPath.path.match(/^\/([^\/\d]+)\/page\/(\d+)/i);
            return {
                Pages: {
                    page: matches[1]
                },
                Paginator: {
                    currentPage: matches[2]
                }
            };
        }
    },
    // путь: /sale
    // путь: /sovety
    // путь: /video
    // путь: /__/page/:id
    // путь: /__/category/:id
    // путь: /__/category/:id/page/:id
    {
        expression: /^\/(sale|sovety|video)(\/catalog\/(\d+))?(\/page\/(\d+))?$/i,
        map: function (urlPath) {
            var matches = urlPath.path.match(/^\/(sale|sovety|video)(\/catalog\/(\d+))?(\/page\/(\d+))?$/i);
            var nameCapitalizeFirstLetter = matches[1].charAt(0).toUpperCase() + matches[1].slice(1);
            var state = {};

            state.Pages = {
                page: matches[1]
            };
            state['master/Master' + nameCapitalizeFirstLetter] = {
                catalog: matches[3]
            };
            state.Paginator = {
                currentPage: matches[5]
            };

            return state;
        }
    },
    // путь: /news/item/:id
    // путь: /vacancy/item/:id
    // путь: /konkurs/item/:id
    {
        expression: /^\/(news|vacancy|konkurs)\/item\/(\d+)$/i,
        map: function (urlPath) {
            var matches = urlPath.path.match(/^\/(news|vacancy|konkurs)\/item\/(\d+)$/i);
            var state = {};

            var string = matches[1];

            state.Pages = {
                page: string + "-item"
            };
            state['other/' + string.charAt(0).toUpperCase() + string.slice(1) + "Item"] = {
                item: matches[2]
            };
            return state;
        }
    }
];

},{}],147:[function(require,module,exports){
'use strict';

var digits = require('digits');

var Dates = require('./utils/dates');
var Utils = require('./utils/utils');

module.exports = function (Handlebars) {

    return {
        /**
         * Repeat  helper
         * @param  {Number} n       number of iterations
         * @param  {[type]} options [description]
         * @return {[type]}         [description]
         */
        repeat: function (n, options) {
            options = options || {};
            var _data = {},
                content = '',
                count = n - 1;

            if (options._data) {
                _data = Handlebars.createFrame(options._data);
            }

            for (var i = 0; i <= count; i++) {
                _data = {
                    index: digits.pad((i + 1), {auto: n})
                };
                content += options.fn(this, {data: _data});
            }
            return new Handlebars.SafeString(content);
        },

        /**
         * If helper with params
         * @param  {[type]} a        [description]
         * @param  {[type]} b        [description]
         * @param  {String} options  operation
         * @return {[type]}          [description]
         */
        is: function (leftOperand, operation, rightOperand, options) {
            var a = leftOperand || false,
                b = rightOperand || false;

            if (operation && typeof operation === 'string') {
                switch (operation) {

                    // Not strictly equal
                    case '==':
                        if (a == b) {
                            return options.fn(this);
                        } else {
                            return options.inverse(this);
                        }
                        break;

                    // Strictly equal
                    case '===':
                        if (a === b) {
                            return options.fn(this);
                        } else {
                            return options.inverse(this);
                        }
                        break;

                    // a > b checking
                    case '>':
                        if (a > b) {
                            return options.fn(this);
                        } else {
                            return options.inverse(this);
                        }
                        break;

                    // a >= b checking
                    case '>=':
                        if (a >= b) {
                            return options.fn(this);
                        } else {
                            return options.inverse(this);
                        }
                        break;

                    // a < b checking
                    case '<':
                        if (a < b) {
                            return options.fn(this);
                        } else {
                            return options.inverse(this);
                        }
                        break;

                    // a <= b checking
                    case '<=':
                        if (a <= b) {
                            return options.fn(this);
                        } else {
                            return options.inverse(this);
                        }
                        break;

                    // Action, if operation is unknown
                    default:
                        throw new Error(
                            'Operation is unknown!\n"is" helper supports only:\n' +
                            '"==",\n' +
                            '"===",\n' +
                            '">",\n' +
                            '">=",\n' +
                            '"<",\n' +
                            '"<=",\n'
                        );
                }
            } else {
                throw new Error('Operation have to be recived and have to be a string');
            }

        },

        /**
         * Str to lower case
         * @param  {String} str [description]
         * @return {[type]}     [description]
         */
        toLowerCase: function (str) {
            if (typeof str != 'string') {
                str.toString();
            }

            return str.toLowerCase();
        },

        /**
         * Str to upper case
         * @param  {String} str [description]
         * @return {[type]}     [description]
         */
        toUpperCase: function (str) {
            if (typeof str != 'string') {
                str.toString();
            }

            return str.toUpperCase();
        },

        /**
         * Capitalize first symbol of str
         * @param  {String} str [description]
         * @return {[type]}     [description]
         */
        capitalizeFirst: function (str) {
            if (typeof str != 'string') {
                str.toString();
            }

            return str.charAt(0).toUpperCase() + str.slice(1);
        },

        /**
         * Remove whitespaces from recived data to helper
         * @param  {[type]} options [description]
         * @return {[type]}         [description]
         */
        strip: function (options) {
            options = options || {};

            var _data = {},
                content = '';

            if (options._data) {
                _data = Handlebars.createFrame(options._data);
            }

            content = options.fn(this, {data: _data}).replace(/>(\s+)</g, '><');

            return new Handlebars.SafeString(content);
        },

        stripTags: function (str) {
            str = str.replace(/<!--[^]*-->/g, '');
            return str.replace(/<\/?[^>]+>/gi, '');
        },

        stripStyle: function (str) {
            return str.replace(/ style="[^"]*"/g, '')
        },

        /**
         * {{formatData}}
         * Port of formatDate-js library (http://bit.ly/18eo2xw)
         * @param  {[type]} date   [description]
         * @param  {[type]} format [description]
         * @return {[type]}        [description]
         */
        formatDate: function (date, format) {
            date = new Date(date);
            return Dates.format(date, format);
        },

        /**
         * {{now}}
         * @param  {[type]} format [description]
         * @return {[type]}        [description]
         */
        now: function (format) {
            var date = new Date();
            if (Utils.isUndefined(format)) {
                return date;
            } else {
                return Dates.format(date, format);
            }
        },

        /**
         * {{i18n}}
         * @author: Laurent Goderre <https://github.com/LaurentGoderrre>
         * @param  {String} context
         * @param  {Object} options
         * @return {String}
         * @example: <https://github.com/assemble/buttons> (See the "button-i18n" example)
         */
        i18n: function (context, options) {
            var language = void 0;

            if (typeof context !== 'string') {
                throw 'Key must be of type \'string\'';
            }

            language = (typeof options.hash.language === 'string' ? options.hash.language : this.language);

            if (typeof language === 'undefined') {
                throw 'The \'language\' parameter is not defined';
            }

            if (typeof this[language] === "undefined") {
                throw 'No strings found for language \'" + language + "\'';
            }

            if (typeof this[language][context] === "undefined") {
                throw 'No string for key \'" + context + "\' for language \'" + language + "\'';
            }

            return this[language][context];
        },
        icon: function (name, selector, sys) {
            var cl = 'icon icon_' + name;

            if (typeof selector == "string") {
                cl += " " + selector;
            }

            return new Handlebars.SafeString(
                '<svg role="img" title="icon_' + name + '" class="' + cl + '">' +
                '<use xlink:href="/icon-svg/svg-symbols.svg#icon_' + name + '"/>' +
                '</svg>'
            );
        },
        imgSrc: function (imgId, width, height) {
            var imgSrc = 'http://api-fm.present-tlt.ru/files?key=' + imgId;

            if (typeof(width) != "undefined" && typeof(width) == "number") {
                imgSrc = imgSrc + '&width=' + width;
            }
            if (typeof(height) != "undefined" && typeof(height) == "number") {
                imgSrc = imgSrc + '&height=' + height;
            }
            //console.log(imgSrc);
            return new Handlebars.SafeString(imgSrc);
        }
    };
};
},{"./utils/dates":148,"./utils/utils":149,"digits":142}],148:[function(require,module,exports){
/**
 * Handlebars Helpers Utils
 * http://github.com/assemble/handlebars-helpers
 * Copyright (c) 2013 Jon Schlinkert, Brian Woodward, contributors
 * Licensed under the MIT License (MIT).
 */
'use strict';

var Dates = module.exports = {};

Dates.padNumber = function (num, count, padCharacter) {

    if (typeof padCharacter === 'undefined') {
        padCharacter = '0';
    }

    var lenDiff = count - String(num).length;
    var padding = '';

    if (lenDiff > 0) {
        while (lenDiff--) {
            padding += padCharacter;
        }
    }
    return padding + num;
};

Dates.dayOfYear = function (date) {
    var oneJan = new Date(date.getFullYear(), 0, 1);

    return Math.ceil((date - oneJan) / 86400000);
};

Dates.weekOfYear = function (date) {
    var oneJan = new Date(date.getFullYear(), 0, 1);
    return Math.ceil((((date - oneJan) / 86400000) + oneJan.getDay() + 1) / 7);
};

Dates.isoWeekOfYear = function (date) {
    var target = new Date(date.valueOf());
    var dayNr = (date.getDay() + 6) % 7;
    target.setDate(target.getDate() - dayNr + 3);
    var jan4 = new Date(target.getFullYear(), 0, 4);
    var dayDiff = (target - jan4) / 86400000;

    return 1 + Math.ceil(dayDiff / 7);
};

Dates.tweleveHour = function (date) {
    if (date.getHours() > 12) {
        return date.getHours() - 12;
    }

    return date.getHours();
};

Dates.timeZoneOffset = function (date) {
    var hoursDiff = -date.getTimezoneOffset() / 60;
    var result = Dates.padNumber(Math.abs(hoursDiff), 4);

    return (hoursDiff > 0 ? '+' : '-') + result;
};

Dates.format = function (date, format) {
    var match = null;
    return format.replace(Dates.formats, function (m, p) {
        switch (p) {
            case 'a':
                return Dates.abbreviatedWeekdays[date.getDay()];
            case 'A':
                return Dates.fullWeekdays[date.getDay()];
            case 'b':
                return Dates.abbreviatedMonths[date.getMonth()];
            case 'B':
                return Dates.getFullMounth(date.getMonth(), "Ru");
            case 'c':
                return date.toLocaleString();
            case 'C':
                return Math.round(date.getFullYear() / 100);
            case 'd':
                return Dates.padNumber(date.getDate(), 2);
            case 'D':
                return Dates.format(date, '%m/%d/%y');
            case 'e':
                return Dates.padNumber(date.getDate(), 2, ' ');
            case 'F':
                return Dates.format(date, '%Y-%m-%d');
            case 'h':
                return Dates.format(date, '%b');
            case 'H':
                return Dates.padNumber(date.getHours(), 2);
            case 'I':
                return Dates.padNumber(Dates.tweleveHour(date), 2);
            case 'j':
                return Dates.padNumber(Dates.dayOfYear(date), 3);
            case 'k':
                return Dates.padNumber(date.getHours(), 2, ' ');
            case 'l':
                return Dates.padNumber(Dates.tweleveHour(date), 2, ' ');
            case 'L':
                return Dates.padNumber(date.getMilliseconds(), 3);
            case 'm':
                return Dates.padNumber(date.getMonth() + 1, 2);
            case 'M':
                return Dates.padNumber(date.getMinutes(), 2);
            case 'n':
                return '\n';
            case 'p':
                if (date.getHours() > 11) {
                    return 'PM';
                } else {
                    return 'AM';
                }
                break;
            case 'P':
                return Dates.format(date, '%p').toLowerCase();
            case 'r':
                return Dates.format(date, '%I:%M:%S %p');
            case 'R':
                return Dates.format(date, '%H:%M');
            case 's':
                return date.getTime() / 1000;
            case 'S':
                return Dates.padNumber(date.getSeconds(), 2);
            case 't':
                return '\t';
            case 'T':
                return Dates.format(date, '%H:%M:%S');
            case 'u':
                if (date.getDay() === 0) {
                    return 7;
                } else {
                    return date.getDay();
                }
                break;
            case 'U':
                return Dates.padNumber(Dates.weekOfYear(date), 2);
            case 'v':
                return Dates.format(date, '%e-%b-%Y');
            case 'V':
                return Dates.padNumber(Dates.isoWeekOfYear(date), 2);
            case 'W':
                return Dates.padNumber(Dates.weekOfYear(date), 2);
            case 'w':
                return Dates.padNumber(date.getDay(), 2);
            case 'x':
                return date.toLocaleDateString();
            case 'X':
                return date.toLocaleTimeString();
            case 'y':
                return String(date.getFullYear()).substring(2);
            case 'Y':
                return date.getFullYear();
            case 'z':
                return Dates.timeZoneOffset(date);
            case 'Z':
                return Dates.fullMonthsRuP[date.getMonth()];
            default:
                return match;
        }
    });
};

Dates.formats = /%(a|A|b|B|c|C|d|D|e|E|F|h|H|I|j|k|l|L|m|M|n|p|P|r|R|s|S|t|T|u|U|v|V|W|w|x|X|y|Y|z|Z)/g;

Dates.abbreviatedWeekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat'];
Dates.fullWeekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
Dates.abbreviatedMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
Dates.fullMonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

Dates.fullMonthsRuP = ['Января', 'Февраля', 'Марта', 'Апреля', 'Мая', 'Июня', 'Июля', 'Августа', 'Сентября', 'Октября', 'Ноября', 'Декабря'];
Dates.fullMonthsRu = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];

Dates.getFullMounth = function (num, lang) {
    if (lang == "Ru")
        return Dates.fullMonthsRu;
    return Dates.fullMonths;
}


},{}],149:[function(require,module,exports){
/**
 * Handlebars Helpers: Utils
 * http://github.com/assemble/handlebars-helpers
 * Copyright (c) 2013, 2014 Jon Schlinkert, Brian Woodward, contributors
 * Licensed under the MIT License (MIT).
 */
'use strict';

module.exports = {
    isUndefined: function (value) {
        return typeof value === 'undefined' || value.toString() === '[object Function]' || (value.hash != null);
    }
};

},{}],150:[function(require,module,exports){
'use strict';



module.exports = {
    /**
     * Registers all helpers.
     * @param {ServiceLocator} locator Catberry's service locator.
     */
    register: function (locator) {
        var config = locator.resolve('config');
        try {
            var handlebars = locator.resolve('handlebars');
            var helpers = require('./handlebars-helper')(handlebars);

            Object.keys(helpers)
                .forEach(function (name) {
                    handlebars.registerHelper(name, helpers[name]);
                });
        } catch (e) {
            // nothing to do.
        }
    }
};
},{"./handlebars-helper":147}],151:[function(require,module,exports){
/*
 * catberry-handlebars
 *
 * Copyright (c) 2015 Denis Rechkunov and project contributors.
 *
 * catberry-handlebars's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * This license applies to all parts of catberry-handlebars that are
 * not externally maintained libraries.
 */

'use strict';

module.exports = TemplateProvider;

/**
 * Creates new instance of Handlebars template provider.
 * @param {Handlebars} $handlebars Handlebars factory.
 * @constructor
 */
function TemplateProvider($handlebars) {
	this._handlebars = $handlebars;
	this._templates = Object.create(null);
}

/**
 * Current Handlebars factory.
 * @type {Handlebars}
 * @private
 */
TemplateProvider.prototype._handlebars = null;

/**
 * Current set of registered templates.
 * @type {Object}
 * @private
 */
TemplateProvider.prototype._templates = null;

/**
 * Registers compiled (precompiled) Handlebars template.
 * http://handlebarsjs.com/reference.html
 * @param {string} name Template name.
 * @param {string} compiled Compiled template source.
 */
TemplateProvider.prototype.registerCompiled = function (name, compiled) {
	// jshint evil:true
	var specs = new Function('return ' + compiled + ';');
	this._templates[name] = this._handlebars.template(specs());
};

/**
 * Renders template with specified data.
 * @param {string} name Name of template.
 * @param {Object} data Data context for template.
 * @returns {Promise<string>} Promise for rendered HTML.
 */
TemplateProvider.prototype.render = function (name, data) {
	if (!(name in this._templates)) {
		return Promise.reject(new Error('No such template'));
	}

	var promise;
	try {
		promise = Promise.resolve(this._templates[name](data));
	} catch (e) {
		promise = Promise.reject(e);
	}
	return promise;
};
},{}],152:[function(require,module,exports){
/*!

 handlebars v2.0.0

Copyright (C) 2011-2014 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
/* exported Handlebars */
(function (root, factory) {
  if (typeof define === 'function' && define.amd) {
    define([], factory);
  } else if (typeof exports === 'object') {
    module.exports = factory();
  } else {
    root.Handlebars = root.Handlebars || factory();
  }
}(this, function () {
// handlebars/safe-string.js
var __module3__ = (function() {
  "use strict";
  var __exports__;
  // Build out our basic SafeString type
  function SafeString(string) {
    this.string = string;
  }

  SafeString.prototype.toString = function() {
    return "" + this.string;
  };

  __exports__ = SafeString;
  return __exports__;
})();

// handlebars/utils.js
var __module2__ = (function(__dependency1__) {
  "use strict";
  var __exports__ = {};
  /*jshint -W004 */
  var SafeString = __dependency1__;

  var escape = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#x27;",
    "`": "&#x60;"
  };

  var badChars = /[&<>"'`]/g;
  var possible = /[&<>"'`]/;

  function escapeChar(chr) {
    return escape[chr];
  }

  function extend(obj /* , ...source */) {
    for (var i = 1; i < arguments.length; i++) {
      for (var key in arguments[i]) {
        if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
          obj[key] = arguments[i][key];
        }
      }
    }

    return obj;
  }

  __exports__.extend = extend;var toString = Object.prototype.toString;
  __exports__.toString = toString;
  // Sourced from lodash
  // https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
  var isFunction = function(value) {
    return typeof value === 'function';
  };
  // fallback for older versions of Chrome and Safari
  /* istanbul ignore next */
  if (isFunction(/x/)) {
    isFunction = function(value) {
      return typeof value === 'function' && toString.call(value) === '[object Function]';
    };
  }
  var isFunction;
  __exports__.isFunction = isFunction;
  /* istanbul ignore next */
  var isArray = Array.isArray || function(value) {
    return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;
  };
  __exports__.isArray = isArray;

  function escapeExpression(string) {
    // don't escape SafeStrings, since they're already safe
    if (string instanceof SafeString) {
      return string.toString();
    } else if (string == null) {
      return "";
    } else if (!string) {
      return string + '';
    }

    // Force a string conversion as this will be done by the append regardless and
    // the regex test will do this transparently behind the scenes, causing issues if
    // an object's to string has escaped characters in it.
    string = "" + string;

    if(!possible.test(string)) { return string; }
    return string.replace(badChars, escapeChar);
  }

  __exports__.escapeExpression = escapeExpression;function isEmpty(value) {
    if (!value && value !== 0) {
      return true;
    } else if (isArray(value) && value.length === 0) {
      return true;
    } else {
      return false;
    }
  }

  __exports__.isEmpty = isEmpty;function appendContextPath(contextPath, id) {
    return (contextPath ? contextPath + '.' : '') + id;
  }

  __exports__.appendContextPath = appendContextPath;
  return __exports__;
})(__module3__);

// handlebars/exception.js
var __module4__ = (function() {
  "use strict";
  var __exports__;

  var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

  function Exception(message, node) {
    var line;
    if (node && node.firstLine) {
      line = node.firstLine;

      message += ' - ' + line + ':' + node.firstColumn;
    }

    var tmp = Error.prototype.constructor.call(this, message);

    // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
    for (var idx = 0; idx < errorProps.length; idx++) {
      this[errorProps[idx]] = tmp[errorProps[idx]];
    }

    if (line) {
      this.lineNumber = line;
      this.column = node.firstColumn;
    }
  }

  Exception.prototype = new Error();

  __exports__ = Exception;
  return __exports__;
})();

// handlebars/base.js
var __module1__ = (function(__dependency1__, __dependency2__) {
  "use strict";
  var __exports__ = {};
  var Utils = __dependency1__;
  var Exception = __dependency2__;

  var VERSION = "2.0.0";
  __exports__.VERSION = VERSION;var COMPILER_REVISION = 6;
  __exports__.COMPILER_REVISION = COMPILER_REVISION;
  var REVISION_CHANGES = {
    1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
    2: '== 1.0.0-rc.3',
    3: '== 1.0.0-rc.4',
    4: '== 1.x.x',
    5: '== 2.0.0-alpha.x',
    6: '>= 2.0.0-beta.1'
  };
  __exports__.REVISION_CHANGES = REVISION_CHANGES;
  var isArray = Utils.isArray,
      isFunction = Utils.isFunction,
      toString = Utils.toString,
      objectType = '[object Object]';

  function HandlebarsEnvironment(helpers, partials) {
    this.helpers = helpers || {};
    this.partials = partials || {};

    registerDefaultHelpers(this);
  }

  __exports__.HandlebarsEnvironment = HandlebarsEnvironment;HandlebarsEnvironment.prototype = {
    constructor: HandlebarsEnvironment,

    logger: logger,
    log: log,

    registerHelper: function(name, fn) {
      if (toString.call(name) === objectType) {
        if (fn) { throw new Exception('Arg not supported with multiple helpers'); }
        Utils.extend(this.helpers, name);
      } else {
        this.helpers[name] = fn;
      }
    },
    unregisterHelper: function(name) {
      delete this.helpers[name];
    },

    registerPartial: function(name, partial) {
      if (toString.call(name) === objectType) {
        Utils.extend(this.partials,  name);
      } else {
        this.partials[name] = partial;
      }
    },
    unregisterPartial: function(name) {
      delete this.partials[name];
    }
  };

  function registerDefaultHelpers(instance) {
    instance.registerHelper('helperMissing', function(/* [args, ]options */) {
      if(arguments.length === 1) {
        // A missing field in a {{foo}} constuct.
        return undefined;
      } else {
        // Someone is actually trying to call something, blow up.
        throw new Exception("Missing helper: '" + arguments[arguments.length-1].name + "'");
      }
    });

    instance.registerHelper('blockHelperMissing', function(context, options) {
      var inverse = options.inverse,
          fn = options.fn;

      if(context === true) {
        return fn(this);
      } else if(context === false || context == null) {
        return inverse(this);
      } else if (isArray(context)) {
        if(context.length > 0) {
          if (options.ids) {
            options.ids = [options.name];
          }

          return instance.helpers.each(context, options);
        } else {
          return inverse(this);
        }
      } else {
        if (options.data && options.ids) {
          var data = createFrame(options.data);
          data.contextPath = Utils.appendContextPath(options.data.contextPath, options.name);
          options = {data: data};
        }

        return fn(context, options);
      }
    });

    instance.registerHelper('each', function(context, options) {
      if (!options) {
        throw new Exception('Must pass iterator to #each');
      }

      var fn = options.fn, inverse = options.inverse;
      var i = 0, ret = "", data;

      var contextPath;
      if (options.data && options.ids) {
        contextPath = Utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
      }

      if (isFunction(context)) { context = context.call(this); }

      if (options.data) {
        data = createFrame(options.data);
      }

      if(context && typeof context === 'object') {
        if (isArray(context)) {
          for(var j = context.length; i<j; i++) {
            if (data) {
              data.index = i;
              data.first = (i === 0);
              data.last  = (i === (context.length-1));

              if (contextPath) {
                data.contextPath = contextPath + i;
              }
            }
            ret = ret + fn(context[i], { data: data });
          }
        } else {
          for(var key in context) {
            if(context.hasOwnProperty(key)) {
              if(data) {
                data.key = key;
                data.index = i;
                data.first = (i === 0);

                if (contextPath) {
                  data.contextPath = contextPath + key;
                }
              }
              ret = ret + fn(context[key], {data: data});
              i++;
            }
          }
        }
      }

      if(i === 0){
        ret = inverse(this);
      }

      return ret;
    });

    instance.registerHelper('if', function(conditional, options) {
      if (isFunction(conditional)) { conditional = conditional.call(this); }

      // Default behavior is to render the positive path if the value is truthy and not empty.
      // The `includeZero` option may be set to treat the condtional as purely not empty based on the
      // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
      if ((!options.hash.includeZero && !conditional) || Utils.isEmpty(conditional)) {
        return options.inverse(this);
      } else {
        return options.fn(this);
      }
    });

    instance.registerHelper('unless', function(conditional, options) {
      return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});
    });

    instance.registerHelper('with', function(context, options) {
      if (isFunction(context)) { context = context.call(this); }

      var fn = options.fn;

      if (!Utils.isEmpty(context)) {
        if (options.data && options.ids) {
          var data = createFrame(options.data);
          data.contextPath = Utils.appendContextPath(options.data.contextPath, options.ids[0]);
          options = {data:data};
        }

        return fn(context, options);
      } else {
        return options.inverse(this);
      }
    });

    instance.registerHelper('log', function(message, options) {
      var level = options.data && options.data.level != null ? parseInt(options.data.level, 10) : 1;
      instance.log(level, message);
    });

    instance.registerHelper('lookup', function(obj, field) {
      return obj && obj[field];
    });
  }

  var logger = {
    methodMap: { 0: 'debug', 1: 'info', 2: 'warn', 3: 'error' },

    // State enum
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3,
    level: 3,

    // can be overridden in the host environment
    log: function(level, message) {
      if (logger.level <= level) {
        var method = logger.methodMap[level];
        if (typeof console !== 'undefined' && console[method]) {
          console[method].call(console, message);
        }
      }
    }
  };
  __exports__.logger = logger;
  var log = logger.log;
  __exports__.log = log;
  var createFrame = function(object) {
    var frame = Utils.extend({}, object);
    frame._parent = object;
    return frame;
  };
  __exports__.createFrame = createFrame;
  return __exports__;
})(__module2__, __module4__);

// handlebars/runtime.js
var __module5__ = (function(__dependency1__, __dependency2__, __dependency3__) {
  "use strict";
  var __exports__ = {};
  var Utils = __dependency1__;
  var Exception = __dependency2__;
  var COMPILER_REVISION = __dependency3__.COMPILER_REVISION;
  var REVISION_CHANGES = __dependency3__.REVISION_CHANGES;
  var createFrame = __dependency3__.createFrame;

  function checkRevision(compilerInfo) {
    var compilerRevision = compilerInfo && compilerInfo[0] || 1,
        currentRevision = COMPILER_REVISION;

    if (compilerRevision !== currentRevision) {
      if (compilerRevision < currentRevision) {
        var runtimeVersions = REVISION_CHANGES[currentRevision],
            compilerVersions = REVISION_CHANGES[compilerRevision];
        throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+
              "Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").");
      } else {
        // Use the embedded version info since the runtime doesn't know about this revision yet
        throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+
              "Please update your runtime to a newer version ("+compilerInfo[1]+").");
      }
    }
  }

  __exports__.checkRevision = checkRevision;// TODO: Remove this line and break up compilePartial

  function template(templateSpec, env) {
    /* istanbul ignore next */
    if (!env) {
      throw new Exception("No environment passed to template");
    }
    if (!templateSpec || !templateSpec.main) {
      throw new Exception('Unknown template object: ' + typeof templateSpec);
    }

    // Note: Using env.VM references rather than local var references throughout this section to allow
    // for external users to override these as psuedo-supported APIs.
    env.VM.checkRevision(templateSpec.compiler);

    var invokePartialWrapper = function(partial, indent, name, context, hash, helpers, partials, data, depths) {
      if (hash) {
        context = Utils.extend({}, context, hash);
      }

      var result = env.VM.invokePartial.call(this, partial, name, context, helpers, partials, data, depths);

      if (result == null && env.compile) {
        var options = { helpers: helpers, partials: partials, data: data, depths: depths };
        partials[name] = env.compile(partial, { data: data !== undefined, compat: templateSpec.compat }, env);
        result = partials[name](context, options);
      }
      if (result != null) {
        if (indent) {
          var lines = result.split('\n');
          for (var i = 0, l = lines.length; i < l; i++) {
            if (!lines[i] && i + 1 === l) {
              break;
            }

            lines[i] = indent + lines[i];
          }
          result = lines.join('\n');
        }
        return result;
      } else {
        throw new Exception("The partial " + name + " could not be compiled when running in runtime-only mode");
      }
    };

    // Just add water
    var container = {
      lookup: function(depths, name) {
        var len = depths.length;
        for (var i = 0; i < len; i++) {
          if (depths[i] && depths[i][name] != null) {
            return depths[i][name];
          }
        }
      },
      lambda: function(current, context) {
        return typeof current === 'function' ? current.call(context) : current;
      },

      escapeExpression: Utils.escapeExpression,
      invokePartial: invokePartialWrapper,

      fn: function(i) {
        return templateSpec[i];
      },

      programs: [],
      program: function(i, data, depths) {
        var programWrapper = this.programs[i],
            fn = this.fn(i);
        if (data || depths) {
          programWrapper = program(this, i, fn, data, depths);
        } else if (!programWrapper) {
          programWrapper = this.programs[i] = program(this, i, fn);
        }
        return programWrapper;
      },

      data: function(data, depth) {
        while (data && depth--) {
          data = data._parent;
        }
        return data;
      },
      merge: function(param, common) {
        var ret = param || common;

        if (param && common && (param !== common)) {
          ret = Utils.extend({}, common, param);
        }

        return ret;
      },

      noop: env.VM.noop,
      compilerInfo: templateSpec.compiler
    };

    var ret = function(context, options) {
      options = options || {};
      var data = options.data;

      ret._setup(options);
      if (!options.partial && templateSpec.useData) {
        data = initData(context, data);
      }
      var depths;
      if (templateSpec.useDepths) {
        depths = options.depths ? [context].concat(options.depths) : [context];
      }

      return templateSpec.main.call(container, context, container.helpers, container.partials, data, depths);
    };
    ret.isTop = true;

    ret._setup = function(options) {
      if (!options.partial) {
        container.helpers = container.merge(options.helpers, env.helpers);

        if (templateSpec.usePartial) {
          container.partials = container.merge(options.partials, env.partials);
        }
      } else {
        container.helpers = options.helpers;
        container.partials = options.partials;
      }
    };

    ret._child = function(i, data, depths) {
      if (templateSpec.useDepths && !depths) {
        throw new Exception('must pass parent depths');
      }

      return program(container, i, templateSpec[i], data, depths);
    };
    return ret;
  }

  __exports__.template = template;function program(container, i, fn, data, depths) {
    var prog = function(context, options) {
      options = options || {};

      return fn.call(container, context, container.helpers, container.partials, options.data || data, depths && [context].concat(depths));
    };
    prog.program = i;
    prog.depth = depths ? depths.length : 0;
    return prog;
  }

  __exports__.program = program;function invokePartial(partial, name, context, helpers, partials, data, depths) {
    var options = { partial: true, helpers: helpers, partials: partials, data: data, depths: depths };

    if(partial === undefined) {
      throw new Exception("The partial " + name + " could not be found");
    } else if(partial instanceof Function) {
      return partial(context, options);
    }
  }

  __exports__.invokePartial = invokePartial;function noop() { return ""; }

  __exports__.noop = noop;function initData(context, data) {
    if (!data || !('root' in data)) {
      data = data ? createFrame(data) : {};
      data.root = context;
    }
    return data;
  }
  return __exports__;
})(__module2__, __module4__, __module1__);

// handlebars.runtime.js
var __module0__ = (function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__) {
  "use strict";
  var __exports__;
  /*globals Handlebars: true */
  var base = __dependency1__;

  // Each of these augment the Handlebars object. No need to setup here.
  // (This is done to easily share code between commonjs and browse envs)
  var SafeString = __dependency2__;
  var Exception = __dependency3__;
  var Utils = __dependency4__;
  var runtime = __dependency5__;

  // For compatibility and usage outside of module systems, make the Handlebars object a namespace
  var create = function() {
    var hb = new base.HandlebarsEnvironment();

    Utils.extend(hb, base);
    hb.SafeString = SafeString;
    hb.Exception = Exception;
    hb.Utils = Utils;
    hb.escapeExpression = Utils.escapeExpression;

    hb.VM = runtime;
    hb.template = function(spec) {
      return runtime.template(spec, hb);
    };

    return hb;
  };

  var Handlebars = create();
  Handlebars.create = create;

  Handlebars['default'] = Handlebars;

  __exports__ = Handlebars;
  return __exports__;
})(__module1__, __module3__, __module4__, __module2__, __module5__);

  return __module0__;
}));

},{}],153:[function(require,module,exports){
/*
 * catberry-handlebars
 *
 * Copyright (c) 2014 Denis Rechkunov and project contributors.
 *
 * catberry-handlebars's license follows:
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This license applies to all parts of catberry-handlebars that
 * are not externally maintained libraries.
 */

'use strict';

var Handlebars = require('./lib/vendors/handlebars'),
    TemplateProvider = require('./lib/TemplateProvider');

module.exports = {
    register: function (locator, config) {
        config = config || {};
        locator.registerInstance('handlebars', Handlebars);
        locator.register('templateProvider', TemplateProvider, config, true);
    },
    Handlebars: Handlebars,
    TemplateProvider: TemplateProvider
};

},{"./lib/TemplateProvider":151,"./lib/vendors/handlebars":152}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiX19Ccm93c2VyQnVuZGxlLmpzIiwiYnJvd3Nlci5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvX2NvbW1vbi9jb21tb24taDEvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL19jb21tb24vY29tbW9uLXBhZ2luYXRvci9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvYnJlYWRjcnVtcHMvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL2NhdGFsb2ctbGlzdC9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvZG9jdW1lbnQvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL2hlYWQvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL2xvYWRlci9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1ibG9jay9tYXN0ZXItYmxvY2stYWJvdXQvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLWFydGljbGUvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLWxpbmsvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLXBob3RvL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLWJsb2NrL21hc3Rlci1ibG9jay1yZXZpZXcvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLXNhbGUvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLXNlcnZpY2UvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLXZpZGVvL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLWJsb2NrL21hc3Rlci1ibG9jay13b3JrL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLWZpbHRlci9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1saXN0L2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLW1pbmljYXJkL21hc3Rlci1taW5pY2FyZC9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1taW5pY2FyZC9tYXN0ZXItcGhvbmUtYnRuL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLXBhZ2UvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItcmVjb21tZW5kZWQvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItcnVicmlrYS9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvb3RoZXIvb3RoZXItbmV3cy1pdGVtL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9vdGhlci9vdGhlci1uZXdzL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9vdGhlci9vdGhlci1yZWNvbW1lbmRhdGlvbi9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvb3RoZXIvb3RoZXItdmFjYW5jeS1pdGVtL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9vdGhlci9vdGhlci12YWNhbmN5L2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtY2F0YWxvZy9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLWNvbnRhY3QvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1mZWVkYmFjay9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLWxvZ2luL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtbWFpbi9kb3AtZnVuY3Rpb24vaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1tYWluL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtbWFpbi9tYWluLWZ1bmN0aW9uL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtbWFzdGVyLXBhZ2UvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1tYXN0ZXItcnVicmlrYS9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLW5ld3MtaXRlbS9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLW5ld3MvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1vZmVydGEvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1yZWNvbW1lbmRhdGlvbi9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLXJlZ2lzdHJhdGlvbi9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLXJlcXVlc3QvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1zYWxlL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2Utc292ZXR5L2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtdmFjYW5jeS1pdGVtL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtdmFjYW5jeS9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLXZpZGVvL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlcy9wYWdlcy1jb250ZW50L2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9wYWdlcy9wYWdlcy1mb290ZXIvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3BhZ2VzL3BhZ2VzLWhlYWRlci9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZXMvcGFnZXMtbmF2aWdhdGlvbi9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi1hYm91dC9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi1mYXEvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24tZm9ybS9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi1oZWFkZXIvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24tbW9yZS1wYWdlL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLXByaWNlL2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLXdoeS13ZS9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvcnVicmlrYXRvci9ydWJyaWthdG9yLWxpc3QvaW5kZXguanMiLCJjYXRiZXJyeV9jb21wb25lbnRzL3NlYXJjaC9pbmRleC5qcyIsImNhdGJlcnJ5X2NvbXBvbmVudHMvc2VydmljZS1yZXF1ZXN0L2luZGV4LmpzIiwiY2F0YmVycnlfY29tcG9uZW50cy9zb2NpYWwvaW5kZXguanMiLCJjYXRiZXJyeV9zdG9yZXMvQnJlYWRjcnVtcHMuanMiLCJjYXRiZXJyeV9zdG9yZXMvSGVhZC5qcyIsImNhdGJlcnJ5X3N0b3Jlcy9QYWdlcy5qcyIsImNhdGJlcnJ5X3N0b3Jlcy9QYWdpbmF0b3IuanMiLCJjYXRiZXJyeV9zdG9yZXMvVGFnLmpzIiwiY2F0YmVycnlfc3RvcmVzL21hc3Rlci9NYXN0ZXJJdGVtLmpzIiwiY2F0YmVycnlfc3RvcmVzL21hc3Rlci9NYXN0ZXJMaXN0LmpzIiwiY2F0YmVycnlfc3RvcmVzL21hc3Rlci9NYXN0ZXJTb3ZldHkuanMiLCJjYXRiZXJyeV9zdG9yZXMvbWFzdGVyL01hc3RlclZpZGVvLmpzIiwiY2F0YmVycnlfc3RvcmVzL21hc3Rlci9SZWNvbW1lbmRlZC5qcyIsImNhdGJlcnJ5X3N0b3Jlcy9vdGhlci9OZXdzLmpzIiwiY2F0YmVycnlfc3RvcmVzL290aGVyL05ld3NJdGVtLmpzIiwiY2F0YmVycnlfc3RvcmVzL290aGVyL1JlY29tbWVuZGF0aW9uLmpzIiwiY2F0YmVycnlfc3RvcmVzL290aGVyL1ZhY2FuY3kuanMiLCJjYXRiZXJyeV9zdG9yZXMvb3RoZXIvVmFjYW5jeUl0ZW0uanMiLCJjYXRiZXJyeV9zdG9yZXMvcnVicmlrYS9SdWJyaWthLmpzIiwiY2F0YmVycnlfc3RvcmVzL3J1YnJpa2EvUnVicmlrYXRvci5qcyIsImNhdGJlcnJ5X3N0b3Jlcy9ydWJyaWthL1J1YnJpa2F0b3JDb21wYW55LmpzIiwiY2F0YmVycnlfc3RvcmVzL3J1YnJpa2EvUnVicmlrYXRvclBhcmVudC5qcyIsImNvbmZpZy9icm93c2VyLmpzb24iLCJjb25maWcvcGFnZXMuanNvbiIsImxpYi9TdG9yZVBhZ2luYXRvci5qcyIsImxpYi91dGlsL0RhdGVGb3JtYXQuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvYnJvd3Nlci9DYXRiZXJyeS5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9icm93c2VyL0Nvb2tpZVdyYXBwZXIuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvYnJvd3Nlci9Eb2N1bWVudFJlbmRlcmVyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2Jyb3dzZXIvTG9nZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2Jyb3dzZXIvUmVxdWVzdFJvdXRlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9icm93c2VyL2hlbHBlcnMvaHJUaW1lSGVscGVyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2Jyb3dzZXIvbG9hZGVycy9Db21wb25lbnRMb2FkZXIuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvYnJvd3Nlci9sb2FkZXJzL1N0b3JlTG9hZGVyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2Jyb3dzZXIvcHJvdmlkZXJzL01vZHVsZUFwaVByb3ZpZGVyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9Db250ZXh0RmFjdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9saWIvU2VyaWFsV3JhcHBlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9saWIvU3RvcmVEaXNwYXRjaGVyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9iYXNlL0Jvb3RzdHJhcHBlckJhc2UuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbGliL2Jhc2UvQ2F0YmVycnlCYXNlLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9iYXNlL0Nvb2tpZVdyYXBwZXJCYXNlLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9iYXNlL0RvY3VtZW50UmVuZGVyZXJCYXNlLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9iYXNlL0xvYWRlckJhc2UuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbGliL2Jhc2UvTW9kdWxlQXBpUHJvdmlkZXJCYXNlLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9oZWxwZXJzL2Vycm9ySGVscGVyLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9oZWxwZXJzL21vZHVsZUhlbHBlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9saWIvaGVscGVycy9wcm9wZXJ0eUhlbHBlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9saWIvaGVscGVycy9yb3V0ZUhlbHBlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9saWIvcHJvdmlkZXJzL1N0YXRlUHJvdmlkZXIuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcHJvY2Vzcy1ocnRpbWUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9jYXRiZXJyeS1sb2NhdG9yL2xpYi9Db25zdHJ1Y3RvclRva2VuaXplci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvY2F0YmVycnktbG9jYXRvci9saWIvU2VydmljZUxvY2F0b3IuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2NhdGJlcnJ5LXVoci9icm93c2VyL1VIUi5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvY2F0YmVycnktdWhyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9jYXRiZXJyeS11aHIvbGliL1VIUkJhc2UuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2NhdGJlcnJ5LXVyaS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvY2F0YmVycnktdXJpL2xpYi9BdXRob3JpdHkuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2NhdGJlcnJ5LXVyaS9saWIvUXVlcnkuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL2NhdGJlcnJ5LXVyaS9saWIvVVJJLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9jYXRiZXJyeS11cmkvbGliL1VzZXJJbmZvLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9jYXRiZXJyeS11cmkvbGliL3BlcmNlbnRFbmNvZGluZ0hlbHBlci5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvbW9ycGhkb20vbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9wcmV0dHktaHJ0aW1lL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9wcm9taXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9jb3JlLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9kb25lLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9lczYtZXh0ZW5zaW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvZmluYWxseS5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL25vZGUtZXh0ZW5zaW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9jYXRiZXJyeS9ub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvc3luY2hyb25vdXMuanMiLCJub2RlX21vZHVsZXMvY2F0YmVycnkvbm9kZV9tb2R1bGVzL3Byb21pc2Uvbm9kZV9tb2R1bGVzL2FzYXAvYnJvd3Nlci1hc2FwLmpzIiwibm9kZV9tb2R1bGVzL2NhdGJlcnJ5L25vZGVfbW9kdWxlcy9wcm9taXNlL25vZGVfbW9kdWxlcy9hc2FwL2Jyb3dzZXItcmF3LmpzIiwibm9kZV9tb2R1bGVzL2RpZ2l0cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kaWdpdHMvbm9kZV9tb2R1bGVzL2xvbmdlc3QvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZGlnaXRzL25vZGVfbW9kdWxlcy9wYWQtbGVmdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kaWdpdHMvbm9kZV9tb2R1bGVzL3BhZC1sZWZ0L25vZGVfbW9kdWxlcy9yZXBlYXQtc3RyaW5nL2luZGV4LmpzIiwicm91dGVzLmpzIiwic3BlY2lhbF9tb2R1bGVzL2NhdGJlcnJ5LWhhbmRsZWJhcnMtaGVscGVycy9oYW5kbGViYXJzLWhlbHBlci9pbmRleC5qcyIsInNwZWNpYWxfbW9kdWxlcy9jYXRiZXJyeS1oYW5kbGViYXJzLWhlbHBlcnMvaGFuZGxlYmFycy1oZWxwZXIvdXRpbHMvZGF0ZXMuanMiLCJzcGVjaWFsX21vZHVsZXMvY2F0YmVycnktaGFuZGxlYmFycy1oZWxwZXJzL2hhbmRsZWJhcnMtaGVscGVyL3V0aWxzL3V0aWxzLmpzIiwic3BlY2lhbF9tb2R1bGVzL2NhdGJlcnJ5LWhhbmRsZWJhcnMtaGVscGVycy9pbmRleC5qcyIsInNwZWNpYWxfbW9kdWxlcy9jYXRiZXJyeS1oYW5kbGViYXJzL2Jyb3dzZXIvVGVtcGxhdGVQcm92aWRlci5qcyIsInNwZWNpYWxfbW9kdWxlcy9jYXRiZXJyeS1oYW5kbGViYXJzL2Jyb3dzZXIvdmVuZG9ycy9oYW5kbGViYXJzLmpzIiwic3BlY2lhbF9tb2R1bGVzL2NhdGJlcnJ5LWhhbmRsZWJhcnMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3eUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdFVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25KQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNwSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMxa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzViQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcmRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekVBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDNU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbi8qKlxuICogVGhpcyBtb2R1bGUgaXMgYSB0ZW1wbGF0ZSBhbmQgaXQgaXMgdXNlZCBvbmx5IHdpdGggc29tZSBzdHJpbmcgcmVwbGFjZXNcbiAqIGJ5IEJyb3dzZXJCdW5kbGVCdWlsZGVyIG1vZHVsZS4gSXQgZG9lcyBub3Qgd29yayBieSBpdHNlbGYuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RvcmVzID0gW1xuXG57bmFtZTogJ0JyZWFkY3J1bXBzJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL0JyZWFkY3J1bXBzLmpzJyl9LFxue25hbWU6ICdQYWdlcycsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X3N0b3Jlcy9QYWdlcy5qcycpfSxcbntuYW1lOiAnUGFnaW5hdG9yJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL1BhZ2luYXRvci5qcycpfSxcbntuYW1lOiAnVGFnJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL1RhZy5qcycpfSxcbntuYW1lOiAnbWFzdGVyL01hc3Rlckl0ZW0nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9zdG9yZXMvbWFzdGVyL01hc3Rlckl0ZW0uanMnKX0sXG57bmFtZTogJ21hc3Rlci9NYXN0ZXJMaXN0JywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL21hc3Rlci9NYXN0ZXJMaXN0LmpzJyl9LFxue25hbWU6ICdtYXN0ZXIvTWFzdGVyU292ZXR5JywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL21hc3Rlci9NYXN0ZXJTb3ZldHkuanMnKX0sXG57bmFtZTogJ21hc3Rlci9NYXN0ZXJWaWRlbycsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X3N0b3Jlcy9tYXN0ZXIvTWFzdGVyVmlkZW8uanMnKX0sXG57bmFtZTogJ21hc3Rlci9SZWNvbW1lbmRlZCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X3N0b3Jlcy9tYXN0ZXIvUmVjb21tZW5kZWQuanMnKX0sXG57bmFtZTogJ290aGVyL05ld3MnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9zdG9yZXMvb3RoZXIvTmV3cy5qcycpfSxcbntuYW1lOiAnb3RoZXIvTmV3c0l0ZW0nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9zdG9yZXMvb3RoZXIvTmV3c0l0ZW0uanMnKX0sXG57bmFtZTogJ290aGVyL1JlY29tbWVuZGF0aW9uJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL290aGVyL1JlY29tbWVuZGF0aW9uLmpzJyl9LFxue25hbWU6ICdvdGhlci9WYWNhbmN5JywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL290aGVyL1ZhY2FuY3kuanMnKX0sXG57bmFtZTogJ290aGVyL1ZhY2FuY3lJdGVtJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL290aGVyL1ZhY2FuY3lJdGVtLmpzJyl9LFxue25hbWU6ICdydWJyaWthL1J1YnJpa2EnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9zdG9yZXMvcnVicmlrYS9SdWJyaWthLmpzJyl9LFxue25hbWU6ICdydWJyaWthL1J1YnJpa2F0b3InLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9zdG9yZXMvcnVicmlrYS9SdWJyaWthdG9yLmpzJyl9LFxue25hbWU6ICdydWJyaWthL1J1YnJpa2F0b3JDb21wYW55JywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfc3RvcmVzL3J1YnJpa2EvUnVicmlrYXRvckNvbXBhbnkuanMnKX0sXG57bmFtZTogJ3J1YnJpa2EvUnVicmlrYXRvclBhcmVudCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X3N0b3Jlcy9ydWJyaWthL1J1YnJpa2F0b3JQYXJlbnQuanMnKX0sXG57bmFtZTogJ0hlYWQnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9zdG9yZXMvSGVhZC5qcycpfVxuXTtcblxudmFyIGNvbXBvbmVudHMgPSBbXG5cbntuYW1lOiAnYnJlYWRjcnVtcHMnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL2JyZWFkY3J1bXBzL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcImJyZWFkY3J1bXBzXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcImJyZWFkY3J1bWJzX19pY29uXFxcXFwiPlxcXFxuICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcImFycm93LWJyZWFkY3J1bWJzXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG4gICAgICAgIDwvc3Bhbj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMiwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5wcm9ncmFtKDcsIGRhdGEpLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxpbmtzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDksIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlcjtcXG59LFwiMlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxpbmtzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDMsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMucHJvZ3JhbSg1LCBkYXRhKSxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlcjtcXG59LFwiM1wiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJicmVhZGNydW1ic19fbGV2ZWwgYnJlYWRjcnVtYnNfX2xldmVsX2xpbmsganMtcGFyZW50LXJ1YlxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvYT5cXFxcblwiO1xcbn0sXCI1XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcImJyZWFkY3J1bWJzX19sZXZlbCBicmVhZGNydW1ic19fbGV2ZWxfbGlua1xcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9hPlxcXFxuXCI7XFxufSxcIjdcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJicmVhZGNydW1ic19fbGV2ZWxcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3NwYW4+XFxcXG5cIjtcXG59LFwiOVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJicmVhZGNydW1ic19fbGlzdC1jb250YWluZXIganMtYnJlYWRjcnVtYnMtbGlzdFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcXFwiYnJlYWRjcnVtYnNfX2xpc3RcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxpbmtzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMTAsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgICAgIDwvdWw+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCIxMFwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJicmVhZGNydW1ic19fbGlzdC1pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcImJyZWFkY3J1bWJzX19pY29uXFxcXFwiPjwvc3Bhbj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJicmVhZGNydW1ic19fbGV2ZWwgYnJlYWRjcnVtYnNfX2xldmVsX2xpbmtcXFxcXCIgaHJlZj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwiYnJlYWRjcnVtYnNcXFxcXCI+XFxcXG4gICAgPHNwYW4gY2xhc3M9XFxcXFwiYnJlYWRjcnVtYnNfX2hlYWRlclxcXFxcIj7QktGLINC90LDRhdC+0LTQuNGC0LXRgdGMOiA8L3NwYW4+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgZGVwdGgwLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvZGl2PlwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdjYXRhbG9nLWxpc3QnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL2NhdGFsb2ctbGlzdC9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJjYXRhbG9nLWxpc3RcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGJ1ZmZlciA9IFwiICAgICAgICA8bGkgY2xhc3M9XFxcXFwiY2F0YWxvZy1saXN0X19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiY2F0YWxvZy1saXN0X19pdGVtLWxpbmtcXFxcXCIgaHJlZj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJjYXRhbG9nLWxpc3RfX2ljb25cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmljbyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgIFwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCJcXFxcbiAgICAgICAgICAgIDwvYT5cXFxcbiAgICAgICAgPC9saT5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIjx1bCBjbGFzcz1cXFxcXCJjYXRhbG9nLWxpc3RfXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbXFwnZGF0YS1tb2RcXCddIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFtcXCdkYXRhLW1vZFxcJ10gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiZGF0YS1tb2RcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIiBjYXRhbG9nLWxpc3RcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhdGFsb2dzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCI8L3VsPlxcXFxuXFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnZG9jdW1lbnQnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL2RvY3VtZW50L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcImRvY3VtZW50XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIjwhRE9DVFlQRSBodG1sPlxcXFxuPGh0bWwgbGFuZz1cXFxcXCJlblxcXFxcIj5cXFxcbjxoZWFkIGNhdC1zdG9yZT1cXFxcXCJIZWFkXFxcXFwiPjwvaGVhZD5cXFxcbjxib2R5PlxcXFxuXFx0PGNhdC1wYWdlcy1oZWFkZXIgaWQ9XFxcXFwicGFnZXMtaGVhZGVyXFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJQYWdlc1xcXFxcIj48L2NhdC1wYWdlcy1oZWFkZXI+XFxcXG5cXHQ8Y2F0LXBhZ2VzLWNvbnRlbnQgaWQ9XFxcXFwicGFnZXMtY29udGVudFxcXFxcIiBjYXQtc3RvcmU9XFxcXFwiUGFnZXNcXFxcXCI+PC9jYXQtcGFnZXMtY29udGVudD5cXFxcbiAgICA8Y2F0LXBhZ2VzLWZvb3RlciBpZD1cXFxcXCJwYWdlcy1mb290ZXJcXFxcXCIgY2F0LXN0b3JlPVxcXFxcIlBhZ2VzXFxcXFwiPjwvY2F0LXBhZ2VzLWZvb3Rlcj5cXFxcbjwvYm9keT5cXFxcbjwvaHRtbD5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6IG51bGx9LFxue25hbWU6ICdoZWFkJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9oZWFkL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcImhlYWRcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGxhbWJkYT10aGlzLmxhbWJkYTtcXG4gIHJldHVybiBcIjxtZXRhIGNoYXJzZXQ9XFxcXFwiVVRGLThcXFxcXCI+XFxcXG48dGl0bGU+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3RpdGxlPlxcXFxuPG1ldGEgY29udGVudD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5kZXNjcmlwdGlvbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVzY3JpcHRpb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiZGVzY3JpcHRpb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBuYW1lPVxcXFxcImRlc2NyaXB0aW9uXFxcXFwiPlxcXFxuPG1ldGEgY29udGVudD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5rZXl3b3JkcyB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAua2V5d29yZHMgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwia2V5d29yZHNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBuYW1lPVxcXFxcImtleXdvcmRzXFxcXFwiPlxcXFxuPG1ldGEgY29udGVudD1cXFxcXCJ0ZWxlcGhvbmU9bm9cXFxcXCIgbmFtZT1cXFxcXCJmb3JtYXQtZGV0ZWN0aW9uXFxcXFwiPlxcXFxuPG1ldGEgbmFtZT1cXFxcXCJyb2JvdHNcXFxcXCIgY29udGVudD1cXFxcXCJub29kcCwgbm95ZGlyXFxcXFwiPlxcXFxuXFxcXG48bWV0YSBuYW1lPVxcXFxcIkhhbmRoZWxkRnJpZW5kbHlcXFxcXCIgY29udGVudD1cXFxcXCJ0cnVlXFxcXFwiPlxcXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFxcXCJYLVVBLUNvbXBhdGlibGVcXFxcXCIgY29udGVudD1cXFxcXCJJRT1lZGdlXFxcXFwiPlxcXFxuPG1ldGEgbmFtZT1cXFxcXCJ2aWV3cG9ydFxcXFxcIiBjb250ZW50PVxcXFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXFxcXFwiPlxcXFxuXFxcXG48bWV0YSBwcm9wZXJ0eT1cXFxcXCJvZzp0aXRsZVxcXFxcIiBjb250ZW50PVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc29jaWFsIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS50aXRsZSA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG48bWV0YSBwcm9wZXJ0eT1cXFxcXCJvZzp1cmxcXFxcXCIgY29udGVudD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNvY2lhbCA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudXJsIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbjxtZXRhIHByb3BlcnR5PVxcXFxcIm9nOmRlc2NyaXB0aW9uXFxcXFwiIGNvbnRlbnQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb2NpYWwgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmRlc2NyaXB0aW9uIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbjxtZXRhIHByb3BlcnR5PVxcXFxcIm9nOmltYWdlXFxcXFwiIGNvbnRlbnQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb2NpYWwgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmltZyA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG48bWV0YSBwcm9wZXJ0eT1cXFxcXCJvZzppbWFnZTp0eXBlXFxcXFwiIGNvbnRlbnQ9XFxcXFwiaW1hZ2UvanBlZ1xcXFxcIj5cXFxcbjxtZXRhIHByb3BlcnR5PVxcXFxcIm9nOmltYWdlOndpZHRoXFxcXFwiIGNvbnRlbnQ9XFxcXFwiNTAwXFxcXFwiPlxcXFxuPG1ldGEgcHJvcGVydHk9XFxcXFwib2c6aW1hZ2U6aGVpZ2h0XFxcXFwiIGNvbnRlbnQ9XFxcXFwiMzAwXFxcXFwiPlxcXFxuPG1ldGEgcHJvcGVydHk9XFxcXFwidHdpdHRlcjpkZXNjcmlwdGlvblxcXFxcIiBjb250ZW50PVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc29jaWFsIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5kZXNjcmlwdGlvbiA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG48bGluayByZWw9XFxcXFwiaW1hZ2Vfc3JjXFxcXFwiIGhyZWY9XFxcXFwiXFxcXFwiPlxcXFxuPGxpbmsgcmVsPVxcXFxcImljb25cXFxcXCIgdHlwZT1cXFxcXCJpbWFnZS9wbmdcXFxcXCIgaHJlZj1cXFxcXCIvaW1nL2ljb24uaWNvXFxcXFwiPlxcXFxuXFxcXG48bGluayBocmVmPVxcXFxcIi9jc3MvbWFpbi5jc3NcXFxcXCIgcmVsPVxcXFxcInN0eWxlc2hlZXRcXFxcXCI+XFxcXG48bGluayBocmVmPVxcXFxcIi9jc3MvdmVuZG9yLm1pbi5jc3NcXFxcXCIgcmVsPVxcXFxcInN0eWxlc2hlZXRcXFxcXCI+XFxcXG48c2NyaXB0IHNyYz1cXFxcXCIvdmVuZG9yLm1pbi5qc1xcXFxcIj48L3NjcmlwdD5cXFxcbjxzY3JpcHQgc3JjPVxcXFxcIi9idW5kbGUuanNcXFxcXCI+PC9zY3JpcHQ+XFxcXG48c2NyaXB0PnN2ZzRldmVyeWJvZHkoKTs8L3NjcmlwdD5cXFxcblxcXFxuPCEtLVtpZiBsdCBJRSA5IF0+PCEtLTxzY3JpcHQgc3JjPVxcXFxcIi9zZXBhcmF0ZS1qcy9odG1sNXNoaXYtMy43LjIubWluLmpzXFxcXFwiIHR5cGU9XFxcXFwidGV4dC9qYXZhc2NyaXB0XFxcXFwiPjwvc2NyaXB0PjxtZXRhIGNvbnRlbnQ9XFxcXFwibm9cXFxcXCIgaHR0cC1lcXVpdj1cXFxcXCJpbWFnZXRvb2xiYXJcXFxcXCI+LS0+PCFbZW5kaWZdLS0+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogbnVsbH0sXG57bmFtZTogJ2xvYWRlcicsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbG9hZGVyL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcImxvYWRlclwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcImxvYWRpbmdcXFxcXCI+PC9kaXY+XFxcXG5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6IG51bGx9LFxue25hbWU6ICdzZWFyY2gnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3NlYXJjaC9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJzZWFyY2hcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiIHNlYXJjaF9cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5tb2RpZmljYXRvciB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubW9kaWZpY2F0b3IgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibW9kaWZpY2F0b3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIiBcIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcInNlYXJjaCBcIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubW9kaWZpY2F0b3IgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCJcXFxcXCI+XFxcXG4gICAgPGZvcm0gY2xhc3M9XFxcXFwic2VhcmNoX19mb3JtXFxcXFwiIGFjdGlvbj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBtZXRob2Q9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubWV0aG9kIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tZXRob2QgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibWV0aG9kXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwic2VhcmNoX190aXRsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgIFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJzZWFyY2hcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwic2VhcmNoX19maWVsZFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJzZWFyY2hfX2ZpZWxkLWlucHV0IGlucHV0LXRleHRcXFxcXCIgdHlwZT1cXFxcXCJ0ZXh0XFxcXFwiIG5hbWU9XFxcXFwic2VhcmNoXFxcXFwiPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJzZWFyY2hfX2J1dHRvblxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcXFwic2VhcmNoX19idXR0b24tc3VibWl0XFxcXFwiIHR5cGU9XFxcXFwic3VibWl0XFxcXFwiPtC90LDQudC00Lgg0YPRgdC70YPQs9GDPC9idXR0b24+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgIDwvZm9ybT5cXFxcbjwvZGl2PlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3NlcnZpY2UtcmVxdWVzdCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvc2VydmljZS1yZXF1ZXN0L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInNlcnZpY2UtcmVxdWVzdFwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdzb2NpYWwnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3NvY2lhbC9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJzb2NpYWxcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgIDxsaSBjbGFzcz1cXFxcXCJzb2NpYWxfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgIDxhIGNsYXNzPVxcXFxcInNvY2lhbF9faXRlbS1saW5rIGxpbmtcXFxcXCIgaHJlZj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiB0YXJnZXQ9XFxcXFwiX2JsYW5rXFxcXFwiPlxcXFxuICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWNvIDogZGVwdGgwKSwgXCJpY29uX3doaXRlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG4gICAgICAgIDwvYT5cXFxcbiAgICA8L2xpPlxcXFxuXCI7XFxufSxcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCI8dWwgY2xhc3M9XFxcXFwic29jaWFsXFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIGRlcHRoMCwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCI8L3VsPlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ2NvbW1vbi1oMScsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvX2NvbW1vbi9jb21tb24taDEvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwiY29tbW9uLWgxXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCI8aDEgY2xhc3M9XFxcXFwiaDEgaDFfc3R5bGVcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L2gxPlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ2NvbW1vbi1wYWdpbmF0b3InLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL19jb21tb24vY29tbW9uLXBhZ2luYXRvci9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJjb21tb24tcGFnaW5hdG9yXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGJ1ZmZlciA9IFwiICAgIDxkaXYgY2xhc3M9XFxcXFwicGFnaW5hdG9yXFxcXFwiPlxcXFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJwYWdpbmF0b3JfX3RpdGxlXFxcXFwiPtCf0LXRgNC10LnRgtC4INC6INGB0YLRgNCw0L3QuNGG0LU6IDwvc3Bhbj5cXFxcbiAgICAgICAgPHVsIGNsYXNzPVxcXFxcInBhZ2luYXRvcl9fbGlzdFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJwYWdpbmF0b3JfX3BhZ2UgcGFnaW5hdG9yX19wYWdlX3ByZXZpb3VzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcInBhZ2luYXRvcl9fbnVtYmVyXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zdGFydCA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudXJsIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxcIj4mbHQ7PC9hPlxcXFxuICAgICAgICAgICAgPC9saT5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubGlzdCA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgPGxpIGNsYXNzPVxcXFxcInBhZ2luYXRvcl9fcGFnZSBwYWdpbmF0b3JfX3BhZ2VfbmV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJwYWdpbmF0b3JfX251bWJlclxcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZW5kIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS51cmwgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXFwiPiZndDs8L2E+XFxcXG4gICAgICAgICAgICA8L2xpPlxcXFxuICAgICAgICA8L3VsPlxcXFxuICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjJcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIlwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFtcXCdpcy1zZWxlY3RlZFxcJ10gOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMywgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5wcm9ncmFtKDUsIGRhdGEpLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyO1xcbn0sXCIzXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcXFwicGFnaW5hdG9yX19wYWdlIHBhZ2luYXRvcl9fcGFnZV9zZWxlY3RlZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwYWdpbmF0b3JfX251bWJlclxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5udW1iZXIgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm51bWJlciA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJudW1iZXJcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvc3Bhbj48L2xpPlxcXFxuXCI7XFxufSxcIjVcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJwYWdpbmF0b3JfX3BhZ2VcXFxcXCI+PGEgY2xhc3M9XFxcXFwicGFnaW5hdG9yX19udW1iZXJcXFxcXCIgaHJlZj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5udW1iZXIgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm51bWJlciA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJudW1iZXJcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvYT48L2xpPlxcXFxuXCI7XFxufSxcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMTtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbXFwnaXMtcGFnaW5hdG9yXFwnXSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IHJldHVybiBzdGFjazE7IH1cXG4gIGVsc2UgeyByZXR1cm4gXFwnXFwnOyB9XFxuICB9LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLWZpbHRlcicsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1maWx0ZXIvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwibWFzdGVyLWZpbHRlclwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmlsdGVyLXNlY3Rpb25cXFxcXCI+XFxcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJmaWx0ZXItc2VjdGlvbl9fdGl0bGUgZmlsdGVyLXNlY3Rpb25fX3RpdGxlX1wiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnNlY3Rpb25OYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zZWN0aW9uTmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJzZWN0aW9uTmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiIFwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5vcGVuU2VjdGlvbiA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgyLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiBqcy1maWx0ZXItdG9nZ2xlLWJ0blxcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmlsdGVyLXNlY3Rpb25fX2ljb25cXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAub3BlblNlY3Rpb24gOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oNCwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5wcm9ncmFtKDYsIGRhdGEpLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCIgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmaWx0ZXItc2VjdGlvbl9fYXJyb3dcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAub3BlblNlY3Rpb24gOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oOCwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5wcm9ncmFtKDEwLCBkYXRhKSxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9hPlxcXFxuXFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnd2l0aFxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5vcGVuU2VjdGlvbiA6IGRlcHRoMCksIHtcIm5hbWVcIjpcIndpdGhcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEyLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIiAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcImFjdGl2ZVwiO1xcbiAgfSxcIjRcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWNvIDogZGVwdGgwKSwgXCJpY29uX3doaXRlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG5cIjtcXG59LFwiNlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pY28gOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxuXCI7XFxufSxcIjhcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcInN0cmVsa2FcIiwgXCJkb3duXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG5cIjtcXG59LFwiMTBcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcInN0cmVsa2FcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCJcXFxcblwiO1xcbn0sXCIxMlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmlsdGVyLXNlY3Rpb25fX3NlY3Rpb24ganMtZmlsdGVyLXRvZ2dsZS1zZWN0aW9uXFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNvcnRCeSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxMywgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50YWdzR3JvdXAgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMTUsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjEzXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwic29ydC1ieVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJzb3J0LWJ5X190aXRsZVxcXFxcIj7QntGC0YHQvtGA0YLQuNGA0L7QstCw0YLRjDogPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9XFxcXFwic29ydC1ieV9fZm9ybVxcXFxcIiBhY3Rpb249XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zb3J0QnkgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnVybCA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCIgbWV0aG9kPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc29ydEJ5IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5tZXRob2QgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImZpbHRlci1yYWRpb1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJmaWx0ZXItcmFkaW9fX2lucHV0XFxcXFwiIHR5cGU9XFxcXFwicmFkaW9cXFxcXCIgbmFtZT1cXFxcXCJzb3J0LWJ5XFxcXFwiIHZhbHVlPVxcXFxcIm5hbWVcXFxcXCIgaWQ9XFxcXFwic29ydC1ieS1uYW1lXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXFxcImZpbHRlci1yYWRpb19fbGFiZWxcXFxcXCIgZm9yPVxcXFxcInNvcnQtYnktbmFtZVxcXFxcIj7Qv9C+INGE0LDQvNC40LvQuNC4INC/0L4g0LDQu9GE0LDQstC40YLRgzwvbGFiZWw+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImZpbHRlci1yYWRpb1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJmaWx0ZXItcmFkaW9fX2lucHV0XFxcXFwiIHR5cGU9XFxcXFwicmFkaW9cXFxcXCIgbmFtZT1cXFxcXCJzb3J0LWJ5XFxcXFwiIHZhbHVlPVxcXFxcInJlY29tbWVuZGF0aW9uXFxcXFwiIGlkPVxcXFxcInNvcnQtYnktcmVjb21tZW5kYXRpb25cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcXFwiZmlsdGVyLXJhZGlvX19sYWJlbFxcXFxcIiBmb3I9XFxcXFwic29ydC1ieS1yZWNvbW1lbmRhdGlvblxcXFxcIj7Qv9C+INC60L7Qu9C40YfQtdGB0YLQstGDXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0YDQtdC60L7QvNC10L3QtNCw0YbQuNC5PC9sYWJlbD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMTVcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmlsdGVyLWJ5XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImZpbHRlci1ieV9fdGl0bGVcXFxcXCI+0J7RgtGE0LjQu9GM0YLRgNC+0LLQsNGC0Yw6PC9wPlxcXFxuXFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRhZ3NHcm91cCA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDE2LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMTZcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIlwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxNywgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50YWdzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMTksIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlcjtcXG59LFwiMTdcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJmaWx0ZXItYnlfX3RpdGxlXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9wPlxcXFxuXCI7XFxufSxcIjE5XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCJcIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNBY3RpdmUgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMjAsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMucHJvZ3JhbSgyMiwgZGF0YSksXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXI7XFxufSxcIjIwXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcImZpbHRlci1ieV9fdGFnLWFjdGl2ZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmaWx0ZXItYnlfX2Nsb3NlXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiZmlsdGVyLWJ5X19jbG9zZS1saW5rXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsQmFjayB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsQmFjayA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxCYWNrXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmaWx0ZXItYnlfX2Nsb3NlLWljb25cXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcImNsb3NlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cXFxcblwiO1xcbn0sXCIyMlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJmaWx0ZXItYnlfX3RhZ1xcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBhdGggfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhdGggOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwicGF0aFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJmaWx0ZXJcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmZpbHRlclNlY3Rpb24gOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvZGl2PlwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdtYXN0ZXItbGlzdCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1saXN0L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcIm1hc3Rlci1saXN0XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItbGlzdF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxjYXQtbWFzdGVyLW1pbmljYXJkIGlkPVxcXFxcIm1hc3Rlci1taW5pY2FyZC1cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiaWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBtYXN0ZXItaWQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+PC9jYXQtbWFzdGVyLW1pbmljYXJkPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItbGlzdFxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCBkZXB0aDAsIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9kaXY+PCEtLW1hc3Rlci1saXN0LS0+XCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ21hc3Rlci1wYWdlJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLXBhZ2UvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwibWFzdGVyLXBhZ2VcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBsYW1iZGE9dGhpcy5sYW1iZGE7XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwibWFzdGVyLWNhcmQtbXBfX2NvbXBhbnlcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPjxpbWcgY2xhc3M9XFxcXFwibWFzdGVyLWNhcmQtbXBfX2xvZ29cXFxcXCIgc3JjPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaW1nU3JjIHx8IChkZXB0aDAgJiYgZGVwdGgwLmltZ1NyYykgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbXBhbnkgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmltZ0lEIDogc3RhY2sxKSwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm51bGwgOiBkZXB0aDApLCA3MCwge1wibmFtZVwiOlwiaW1nU3JjXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxcIiBhbHQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb21wYW55IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5uYW1lIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxcIj48L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29tcGFueSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubmFtZSA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCI8L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgPC9wPlxcXFxuXCI7XFxufSxcIjNcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGxhbWJkYT10aGlzLmxhbWJkYTtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48aT5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGhvbmVcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+PHNwYW4+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGhvbmUgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPC9zcGFuPjwvbGk+XFxcXG5cIjtcXG59LFwiNVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgbGFtYmRhPXRoaXMubGFtYmRhO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxpPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJlbWFpbFwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJjb250YWN0cy1tcF9fYW5jaFxcXFxcIiBocmVmPVxcXFxcIm1haWx0bzpcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbnRhY3RzIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5lbWFpbCA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZW1haWwgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPC9hPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cXFxcblwiO1xcbn0sXCI3XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBsYW1iZGE9dGhpcy5sYW1iZGE7XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGk+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcInNreXBlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29udGFjdHMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnNreXBlIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIjwvbGk+XFxcXG5cIjtcXG59LFwiOVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgbGFtYmRhPXRoaXMubGFtYmRhO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxpPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJpY3FcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuaWNxIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIjwvbGk+XFxcXG5cIjtcXG59LFwiMTFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGxhbWJkYT10aGlzLmxhbWJkYTtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48aT5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGxhY2VtYXJrXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29udGFjdHMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmFkZHIgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPGJyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcImNvbnRhY3RzLW1wX19vbm1hcFxcXFxcIj48YSBjbGFzcz1cXFxcXCJjb250YWN0cy1tcF9fYW5jaFxcXFxcIiBocmVmPVxcXFxcIiNcXFxcXCI+0L3QsCDQutCw0YDRgtC1PC9hPiDihpI8L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxcXFxuXCI7XFxufSxcIjEzXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCJcIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWNjZXNzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDE0LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXI7XFxufSxcIjE0XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgPGxpPlwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hY3RpdmUgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMTUsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMucHJvZ3JhbSgxNywgZGF0YSksXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvbGk+XFxcXG5cIjtcXG59LFwiMTVcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCI8YSBocmVmPVxcXFxcIiNcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L2E+XCI7XFxufSxcIjE3XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiPHNwYW4+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3NwYW4+XCI7XFxufSxcIjE5XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCJcIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWNjZXNzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIwLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXI7XFxufSxcIjIwXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCJcIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWN0aXZlIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXI7XFxufSxcIjIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBsYW1iZGE9dGhpcy5sYW1iZGE7XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm1hc3Rlci1wYWdlX19zZWN0aW9uLXRpdGxlXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1wYWdlX19zZWN0aW9uLWNvbnRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y2F0LW1hc3Rlci1ibG9jay1cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKChkYXRhICYmIGRhdGEua2V5KSwgZGVwdGgwKSlcXG4gICAgKyBcIiBpZD1cXFxcXCJtYXN0ZXItYmxvY2stXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoZGF0YSAmJiBkYXRhLmtleSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCIgY2F0LXN0b3JlPVxcXFxcIm1hc3Rlci9NYXN0ZXJJdGVtXFxcXFwiIG1hc3Rlci1wYWdlPVxcXFxcInRydWVcXFxcXCI+PC9jYXQtbWFzdGVyLWJsb2NrLVwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKGRhdGEgJiYgZGF0YS5rZXkpLCBkZXB0aDApKVxcbiAgICArIFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItcGFnZVxcXFxcIj48IS0tIG1wIC0gbWFzdGVyLXBhZ2UgLS0+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItcGFnZV9fcm93XFxcXFwiPlxcXFxuXFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibWFzdGVyLXBhZ2VfX21hc3Rlci1jYXJkXFxcXFwiPlxcXFxuXFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1wYWdlX19hdmF0YXItY29udFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmltZ1NyYyB8fCAoZGVwdGgwICYmIGRlcHRoMC5pbWdTcmMpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW1nSUQgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpbWdTcmNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXFwiIGFsdD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1jYXJkLW1wXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxoMSBjbGFzcz1cXFxcXCJtYXN0ZXItY2FyZC1tcF9fbmFtZVxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvaDE+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtYXN0ZXItY2FyZC1tcF9fc3BlY1xcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5zcGVjIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zcGVjIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInNwZWNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbXBhbnkgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcblxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibWFzdGVyLWNhcmQtbXBfX21hc3Rlci1udW1iZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm1hc3Rlci1udW1iZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJtYXN0ZXItbnVtYmVyX190aXRsZVxcXFxcIj7Qu9C40YfQvdGL0Lkg0L3QvtC80LXRgCDQnNCw0YHRgtC10YDQsDwvc3Bhbj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcIm1hc3Rlci1udW1iZXJfX251bWJlclxcXFxcIj7ihJZcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2UgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm51bWJlciA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCI8L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJtYXN0ZXItbnVtYmVyX19wcmludFxcXFxcIj48YSBjbGFzcz1cXFxcXCJtYXN0ZXItbnVtYmVyX19wcmludFxcXFxcIiBocmVmPVxcXFxcIiNcXFxcXCI+0YDQsNGB0L/QtdGH0LDRgtCw0YLRjCDQstC40LfQuNGC0LrRgzwvYT48L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cXFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcblxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItcGFnZV9fY29udGFjdC1jb250XFxcXFwiPlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJjb250YWN0cy1tcFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNvbnRhY3RzLW1wX19jYXBcXFxcXCIgc3R5bGU9XFxcXFwiZGlzcGxheTogbm9uZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHA+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aT5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGhvbmVcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+PGJyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+KzcgKCoqKikgKioqLSoqLSoqPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgICAgICA8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiY29udGFjdHMtbXBfX3Nob3ctY29udGFjdFxcXFxcIiBocmVmPVxcXFxcIiNcXFxcXCI+0J/QvtC60LDQt9Cw0YLRjCDQutC+0L3RgtCw0LrRgtGLPC9hPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXFxcXG5cXFxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcXFwiY29udGFjdHMtbXBfX2xpc3RcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGhvbmUgOiBzdGFjazEpLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMywgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbnRhY3RzIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5lbWFpbCA6IHN0YWNrMSksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg1LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29udGFjdHMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnNreXBlIDogc3RhY2sxKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDcsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiXFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuaWNxIDogc3RhY2sxKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDksIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiXFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuYWRkciA6IHN0YWNrMSksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCIgICAgICAgICAgICAgICAgPC91bD5cXFxcblxcXFxuICAgICAgICAgICAgICAgIFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29udGFjdHMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmxpbmtzIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiY29udGFjdHMtbXBfX2EtY2FsbGJhY2tcXFxcXCIgaHJlZj1cXFxcXCIjXFxcXFwiPtC30LDQutCw0LfQsNGC0Ywg0LfQstC+0L3QvtC6PC9hPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgPHVsIGNsYXNzPVxcXFxcIm1lbnUtbXBcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzQmxvY2sgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxMywgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCIgICAgPC91bD48IS0tIG1lbnUtbXAgLS0+XFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1wYWdlX19jb250ZW50XFxcXFwiPlxcXFxuXFxcXG4gICAgICAgIDwhLS0g0KPQtNCw0LvQuNGC0Ywg0LrQvtCz0LTQsCDQt9Cw0YDQsNCx0L7RgtCw0Y7RgiDRg9GB0LvRg9Cz0LggLS0+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcIm1hc3Rlci1wYWdlX19zZWN0aW9uLXRpdGxlXFxcXFwiPtCj0YHQu9GD0LPQuDwvcD5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItcGFnZV9fc2VjdGlvbi1jb250XFxcXFwiPlxcXFxuICAgICAgICAgICAgPGNhdC1tYXN0ZXItYmxvY2stc2VydmljZSBpZD1cXFxcXCJtYXN0ZXItYmxvY2stc2VydmljZVxcXFxcIiBjYXQtc3RvcmU9XFxcXFwibWFzdGVyL01hc3Rlckl0ZW1cXFxcXCIgbWFzdGVyLXBhZ2U9XFxcXFwidHJ1ZVxcXFxcIj48L2NhdC1tYXN0ZXItYmxvY2stc2VydmljZT5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwhLS0g0KPQtNCw0LvQuNGC0Ywg0LrQvtCz0LTQsCDQt9Cw0YDQsNCx0L7RgtCw0Y7RgiDRg9GB0LvRg9Cz0LggLSDQutC+0L3QtdGGIC0tPlxcXFxuXFxcXG5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNCbG9jayA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDE5LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuPCEtLSBtYXN0ZXItcGFnZSAtLT5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLXJlY29tbWVuZGVkJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLXJlY29tbWVuZGVkL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcIm1hc3Rlci1yZWNvbW1lbmRlZFwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIiAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlcl9yZWNvbW1lbmRlZFxcXFxcIj5cXFxcbiAgICAgICAgPGgyIGNsYXNzPVxcXFxcIm1hc3Rlcl9yZWNvbW1lbmRlZF9fdGl0bGVcXFxcXCI+XFxcXG4gICAgICAgICAgICDQrdGC0LjRhTxicj5cXFxcbiAgICAgICAgICAgINCc0LDRgdGC0LXRgNC+0LI8YnI+XFxcXG4gICAgICAgICAgICDRgNC10LrQvtC80LXQvdC00YPRjtGCXFxcXG4gICAgICAgIDwvaDI+XFxcXG5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXJfcmVjb21tZW5kZWRfX3NsaWRlclxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbXFwncmVjb21tZW5kZWQtbWFzdGVyXFwnXSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCIyXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcIm1hc3Rlcl9yZWNvbW1lbmRlZF9fbWFzdGVyXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnNbXFwnbWFzdGVyLXVybFxcJ10gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwW1xcJ21hc3Rlci11cmxcXCddIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm1hc3Rlci11cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJtYXN0ZXJfcmVjb21tZW5kZWRfX21hc3Rlci1waG90b1xcXFxcIiBzcmM9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuc3JjIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zcmMgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwic3JjXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCIgYWx0PVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmFsdCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWx0IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImFsdFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm1hc3Rlcl9yZWNvbW1lbmRlZF9fbWFzdGVyLW5hbWVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVyc1tcXCdtYXN0ZXItbmFtZVxcJ10gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwW1xcJ21hc3Rlci1uYW1lXFwnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJtYXN0ZXItbmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtYXN0ZXJfcmVjb21tZW5kZWRfX21hc3Rlci1yZWNvbW1lbmRhdGlvbnNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVyc1tcXCdyZWNvbW1lbmRhdGlvbi1udW1iZXJcXCddIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFtcXCdyZWNvbW1lbmRhdGlvbi1udW1iZXJcXCddIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInJlY29tbWVuZGF0aW9uLW51bWJlclwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cXFxcbiAgICAgICAgICAgICAgICA8L2E+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFtcXCdpcy1yZWNvbW1lbmRlZC1tYXN0ZXJzXFwnXSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IHJldHVybiBzdGFjazE7IH1cXG4gIGVsc2UgeyByZXR1cm4gXFwnXFwnOyB9XFxuICB9LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLXJ1YnJpa2EnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItcnVicmlrYS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItcnVicmlrYVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGJ1ZmZlciA9IFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInNlby10ZXh0XFxcXFwiPlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJzZW8tdGV4dF9fdGV4dCBmb3JtYXRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgXCI7XFxuICBzdGFjazEgPSBsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY3VycmVudFNlbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEudGV4dCA6IHN0YWNrMSksIGRlcHRoMCk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiXFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcImlubmVyLXRvcFxcXFxcIj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImlubmVyLXRvcF9fdGl0bGVcXFxcXCI+XFxcXG4gICAgICAgIDxjYXQtY29tbW9uLWgxIGlkPVxcXFxcImNvbW1vbi1oMVxcXFxcIiBuYW1lPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY3VycmVudFNlbyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFnZVRpdGxlIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxcIj48L2NhdC1jb21tb24taDE+XFxcXG4gICAgPC9kaXY+XFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImlubmVyLXRvcF9fc2VhcmNoXFxcXFwiPlxcXFxuICAgICAgICA8Y2F0LXNlYXJjaCBpZD1cXFxcXCJzZWFyY2hcXFxcXCIgbW9kaWZpY2F0b3I9XFxcXFwiaW5uZXJcXFxcXCI+PC9jYXQtc2VhcmNoPlxcXFxuICAgIDwvZGl2PlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwiaW5uZXItdG9wX19jYWxsYmFja1xcXFxcIj5cXFxcbiAgICAgICAgPGEgY2xhc3M9XFxcXFwicmVxdWVzdFxcXFxcIiBocmVmPVxcXFxcIi9yZXF1ZXN0XFxcXFwiPlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZXF1ZXN0X19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJzdGFyLWluLXN1blwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvZGl2PlxcXFxuICAgICAgICAgICAg0J7RgtC/0YDQsNCy0LjRgtGMINC30LDQtNCw0L3QuNC1INC80LDRgdGC0LXRgNCw0LxcXFxcbiAgICAgICAgPC9hPlxcXFxuICAgIDwvZGl2PlxcXFxuPC9kaXY+XFxcXG48ZGl2IGNsYXNzPVxcXFxcImlubmVyLWNvbnRlbnRcXFxcXCI+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJpbm5lci1jb250ZW50X19sZWZ0LXNpZGVcXFxcXCI+XFxcXG4gICAgICAgIDxjYXQtbWFzdGVyLWZpbHRlciBpZD1cXFxcXCJtYXN0ZXItZmlsdGVyXFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJUYWdcXFxcXCI+PC9jYXQtbWFzdGVyLWZpbHRlcj5cXFxcbiAgICAgICAgeyB7PiBiYW5uZXIvYmFubmVyX3NpZGUvYmFubmVyX3NpZGUgYmFubmVyX3NpZGV9IH1cXFxcbiAgICA8L2Rpdj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImlubmVyLWNvbnRlbnRfX3JpZ2h0LXNpZGVcXFxcXCI+XFxcXG4gICAgICAgIDxjYXQtbWFzdGVyLXJlY29tbWVuZGVkIGlkPVxcXFxcIm1hc3Rlci1yZWNvbW1lbmRlZFxcXFxcIiBjYXQtc3RvcmU9XFxcXFwibWFzdGVyL1JlY29tbWVuZGVkXFxcXFwiPjwvY2F0LW1hc3Rlci1yZWNvbW1lbmRlZD5cXFxcbiAgICAgICAgPGNhdC1tYXN0ZXItbGlzdCBpZD1cXFxcXCJtYXN0ZXItbGlzdFxcXFxcIj48L2NhdC1tYXN0ZXItbGlzdD4gPCEtLSDQlNC+0LHQsNCy0LjQuyAtLT5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jdXJyZW50U2VvIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS50ZXh0IDogc3RhY2sxKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9kaXY+XCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ290aGVyLW5ld3MnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL290aGVyL290aGVyLW5ld3MvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwib3RoZXItbmV3c1wiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibmV3c1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibmV3c19faW5uZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJuZXdzX19pbWctd3JcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcXFwibmV3c19faW1nXFxcXFwiIHNyYz1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5zcmMgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNyYyA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJzcmNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBhbHQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJuZXdzX19jb250ZW50XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJuZXdzX190aXRsZVxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJuZXdzX19pbnRyb1xcXFxcIj5cIjtcXG4gIHN0YWNrMSA9ICgoaGVscGVycy5zdHJpcFRhZ3MgfHwgKGRlcHRoMCAmJiBkZXB0aDAuc3RyaXBUYWdzKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnByZXZpZXcgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJzdHJpcFRhZ3NcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJuZXdzX19kYXRlXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuZm9ybWF0RGF0ZSB8fCAoZGVwdGgwICYmIGRlcHRoMC5mb3JtYXREYXRlKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRhdGUgOiBkZXB0aDApLCBcIiVkICVaICVZXCIsIHtcIm5hbWVcIjpcImZvcm1hdERhdGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcIm5ld3NfX21vcmVcXFxcXCIgaHJlZj1cXFxcXCIvbmV3cy9pdGVtL1wiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAg0L/QvtC00YDQvtCx0L3QtdC1XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJuZXdzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJzdHJlbGthXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuICAgICAgICAgICAgICAgICAgICA8L2E+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJuZXdzX19hdXRvclxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHA+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICDQndC+0LLQvtGB0YLRjCDQtNC+0LHQsNCy0LjQuzogPGJyPiBFUlJPUlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYXV0b3IgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmF1dG9yIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImF1dG9yXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcIm5ld3MtbGlzdFxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGF0YSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9kaXY+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnb3RoZXItbmV3cy1pdGVtJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9vdGhlci9vdGhlci1uZXdzLWl0ZW0vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwib3RoZXItbmV3cy1pdGVtXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCJcXFxcbjxjYXQtY29tbW9uLWgxIGlkPVxcXFxcImNvbW1vbi1oMVxcXFxcIiBuYW1lPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPjwvY2F0LWNvbW1vbi1oMT5cXFxcblwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXG5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pbWcgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmltZyA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJpbWdcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxuXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZGF0ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGF0ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJkYXRlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcblwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnByZXZpZXcgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnByZXZpZXcgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwicHJldmlld1wiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXG5cIjtcXG4gIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGV4dCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGV4dCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0ZXh0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiXFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnb3RoZXItcmVjb21tZW5kYXRpb24nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL290aGVyL290aGVyLXJlY29tbWVuZGF0aW9uL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcIm90aGVyLXJlY29tbWVuZGF0aW9uXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvblxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25fX2lubmVyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25fX2ltZy13clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbl9faW1nXFxcXFwiIHNyYz1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5waG90byB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGhvdG8gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwicGhvdG9cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBhbHQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbl9fY29udGVudFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25fX3RpdGxlXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25fX2ludHJvXFxcXFwiPlwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXJzLnN0cmlwU3R5bGUgfHwgKGRlcHRoMCAmJiBkZXB0aDAuc3RyaXBTdHlsZSkgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50ZXh0IDogZGVwdGgwKSwge1wibmFtZVwiOlwic3RyaXBTdHlsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25fX2RhdGVcXFxcXCI+RVJST1JcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5kYXRlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kYXRlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImRhdGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbi1saXN0XFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kYXRhIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCI8L2Rpdj5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiRVJST1JcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdvdGhlci12YWNhbmN5JywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9vdGhlci9vdGhlci12YWNhbmN5L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcIm90aGVyLXZhY2FuY3lcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgIDxwPjxzdHJvbmc+0KHQtdC50YfQsNGBINC+0YLQutGA0YvRgtGLINCy0LDQutCw0L3RgdC40Lg6PC9zdHJvbmc+PC9wPlxcXFxuXCI7XFxuICB9LFwiM1wiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICA8cD48YSBocmVmPVxcXFxcIi92YWNhbmN5L2l0ZW0vXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucG9zdCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucG9zdCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJwb3N0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L2E+PC9wPlxcXFxuXCI7XFxufSxcIjVcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCIgICAgPHA+PHN0cm9uZz7QodC10LnRh9Cw0YEg0L7RgtC60YDRi9GC0YvRhSDQstCw0LrQsNC90YHQuNC5INC90LXRgi48L3N0cm9uZz48L3A+XFxcXG5cIjtcXG4gIH0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZhY2FuY3kgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC52YWNhbmN5IDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMywgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5wcm9ncmFtKDUsIGRhdGEpLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdvdGhlci12YWNhbmN5LWl0ZW0nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL290aGVyL290aGVyLXZhY2FuY3ktaXRlbS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJvdGhlci12YWNhbmN5LWl0ZW1cIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwidmFjYW5jeS1vbmUtcGFnZVxcXFxcIj5cXFxcbiAgICA8aDEgY2xhc3M9XFxcXFwiaDEgaDFfc3R5bGVcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucG9zdCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucG9zdCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJwb3N0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L2gxPlxcXFxuICAgIDxpbWcgY2xhc3M9XFxcXFwidmFjYW5jeS1vbmUtcGFnZV9faW1nXFxcXFwiIHNyYz1cXFxcXCIvaW1nL290aGVyL3ZhY2FuY3kucG5nXFxcXFwiIGFsdD1cXFxcXCLQndCw0YjQuCDQstCw0LrQsNC90YHQuNC4XFxcXFwiPlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwidmFjYW5jeS1vbmUtcGFnZV9fdGV4dCBmb3JtYXRcXFxcXCI+XFxcXG4gICAgICAgIFwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50ZXh0IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50ZXh0IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRleHRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcbiAgICA8L2Rpdj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcInZhY2FuY3ktb25lLXBhZ2VfX2NvbnRhY3QgZm9ybWF0XFxcXFwiPlxcXFxuXFxcXG4gICAgICAgIDwhLS0gRVJST1IgLS0+XFxcXG4gICAgICAgIFwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jb250YWN0IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImNvbnRhY3RcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCJcXFxcbiAgICAgICAgPHAgc3R5bGU9XFxcXFwiY29sb3I6IHJlZDsgZm9udC13ZWlnaHQ6IGJvbGRcXFxcXCI+LS0tLS0tIEVSUk9SISAo0L3QtdGCINC/0L7Qu9GPIGNvbnRhY3QpIC0tLS0tLTwvcD5cXFxcbiAgICAgICAgPCEtLSBFUlJPUiAtLT5cXFxcblxcXFxuICAgIDwvZGl2PlxcXFxuPC9kaXY+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAncGFnZXMtY29udGVudCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZXMvcGFnZXMtY29udGVudC9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlcy1jb250ZW50XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgPGNhdC1icmVhZGNydW1wcyBpZD1cXFxcXCJicmVhZGNydW1wc1xcXFxcIiBjYXQtc3RvcmU9XFxcXFwiQnJlYWRjcnVtcHNcXFxcXCI+PC9jYXQtYnJlYWRjcnVtcHM+XFxcXG5cIjtcXG4gIH0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwicGFnZSBjb250YWluZXJcXFxcXCI+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJwYWdlX19yb3dcXFxcXCI+XFxcXG4gICAgICAgIDxjYXQtbG9hZGVyIGlkPVxcXFxcInBhZ2VzLWNvbnRlbnQtbG9hZGVyXFxcXFwiPjwvY2F0LWxvYWRlcj5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLnVubGVzcy5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNBY3RpdmUgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm1haW4gOiBzdGFjazEpLCB7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiXFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiY29udGVudFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxjYXQtcGFnZS1cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jdXJyZW50IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jdXJyZW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImN1cnJlbnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIiBpZD1cXFxcXCJwYWdlLWN1cnJlbnQtXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY3VycmVudCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY3VycmVudCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJjdXJyZW50XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+PC9jYXQtcGFnZS1cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jdXJyZW50IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jdXJyZW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImN1cnJlbnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiBudWxsfSxcbntuYW1lOiAncGFnZXMtZm9vdGVyJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9wYWdlcy9wYWdlcy1mb290ZXIvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZXMtZm9vdGVyXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiZm9vdGVyX19saW5rcy1hXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XCI7XFxuICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvYT4mbmJzcDtcXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIjxmb290ZXIgY2xhc3M9XFxcXFwiZm9vdGVyXFxcXFwiPlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwiY29udGFpbmVyXFxcXFwiPlxcXFxuICAgICAgICB7IHs+IF9jb21tb24vdG90b3AtYnRuL3RvdG9wLWJ0bn0gfVxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInJvd1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZm9vdGVyX19jb29yZGluYXRvclxcXFxcIj7QmtC+0L7RgNC00LjQvdCw0YLQvtGAINGB0LDQudGC0LA6IFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBob25lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5waG9uZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJwaG9uZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZm9vdGVyX19jb3B5cmlnaHRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZm9vdGVyX19jb3B5cmlnaHQtd2hvXFxcXFwiPsKpIEZhY2VNYXN0ZXIg4oCUINCk0LXQudGB0LzQsNGB0YLQtdGAPC9wPlxcXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImZvb3Rlcl9fY29weXJpZ2h0LXRleHRcXFxcXCI+0J/RgNC4INC/0L7Qu9C90L7QvCDQuNC70Lgg0YfQsNGB0YLQuNGH0L3QvtC8INCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQuCDQuNC90YTQvtGA0LzQsNGG0LjQuFxcXFxuICAgICAgICAgICAgICAgICAgICDQsNC60YLQuNCy0L3QsNGPINGB0YHRi9C70LrQsCDQvdCwINCk0LXQudGB0LzQsNGB0YLQtdGAINC+0LHRj9C30LDRgtC10LvRjNC90LAuPC9wPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcblxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmb290ZXJfX2xpbmtzXFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5saW5rcyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcblxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmb290ZXJfX2NvdW50ZXJzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDwhLS17IHsgPiBmb290ZXIvY291bnRlcnMvY291bnRlcnMgY291bnRlcnN9IH0tLT5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZm9vdGVyPlwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlcy1oZWFkZXInLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2VzL3BhZ2VzLWhlYWRlci9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlcy1oZWFkZXJcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImxvZ2luXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwibG9naW5fX2J0biBidG5cXFxcXCIgaHJlZj1cXFxcXCIvbG9naW5cXFxcXCI+0JLRhdC+0LQg0LTQu9GPINCc0LDRgdGC0LXRgNC+0LI8L2E+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXCI7XFxuICB9LFwiM1wiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImxvZ2luXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwibG9naW5fX2J0biBidG5cXFxcXCIgaHJlZj1cXFxcXCI8IS0tRVJST1ItLT5cXFxcXCI+PCEtLUVSUk9SIC0gdXNlcm5hbWUtLT48L2E+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibWVudS11c2VyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFxcXCJtZW51LXVzZXJfX3VsXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tRVJST1IgTUVOVVVTRVItLT5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hdXRoRGF0YSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubWVudVVzZXIgOiBzdGFjazEpLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg0LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjRcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcXFwibWVudS11c2VyX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcIm1lbnUtdXNlcl9faXRlbS1saW5rXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XCI7XFxuICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCI8aGVhZGVyIGNsYXNzPVxcXFxcImhlYWRlclxcXFxcIj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImNvbnRhaW5lclxcXFxcIj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImhlYWRlcl9fbGVmdC1jb2xcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJsb2dvXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImxvZ29fX2ltZ1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcImxvZ29fX2xpbmtcXFxcXCIgaHJlZj1cXFxcXCIvbWFpblxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cXFxcXCJGYWNlbWFzdGVyLnJ1IExvZ29cXFxcXCIgc3JjPVxcXFxcIi9pbWcvbG9nby5zdmdcXFxcXCIgd2lkdGg9XFxcXFwiMTAwJVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwidmlzaXRvclxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInZpc2l0b3JfX2NvdW50XFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnZpc2l0Q291bnQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZpc2l0Q291bnQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidmlzaXRDb3VudFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJ2aXNpdG9yX19tZXJhXFxcXFwiPtCyINC90LXQtNC10LvRjjwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiaGVhZGVyX190aXRsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJ0aXRsZVxcXFxcIiBocmVmPVxcXFxcIi9tYWluXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJ0aXRsZV9fdGV4dCBoMVxcXFxcIj7Qn9Ce0JjQodCaINCc0JDQodCi0JXQoNCe0JIg0JIg0KHQpNCV0KDQlSDQo9Ch0JvQo9CTPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvYT5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJoZWFkZXJfX2xvZ2luXFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlzR3Vlc3QgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5wcm9ncmFtKDMsIGRhdGEpLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCIgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiaGVhZGVyX19tZW51XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxjYXQtcGFnZXMtbmF2aWdhdGlvbiBpZD1cXFxcXCJwYWdlcy1uYXZpZ2F0aW9uXFxcXFwiPjwvY2F0LXBhZ2VzLW5hdmlnYXRpb24+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiaGVhZGVyX19zb2NpYWxcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGNhdC1zb2NpYWwgaWQ9XFxcXFwic29jaWFsXFxcXFwiPjwvY2F0LXNvY2lhbD5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvaGVhZGVyPlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2VzLW5hdmlnYXRpb24nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2VzL3BhZ2VzLW5hdmlnYXRpb24vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZXMtbmF2aWdhdGlvblwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJtYWluLW1lbnVfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwibWFpbi1tZW51X19pdGVtLWxpbmsgbGlua1xcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmxpbmsgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmxpbmsgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibGlua1wiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9hPlxcXFxuICAgICAgICAgICAgPC9saT5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPG5hdiBjbGFzcz1cXFxcXCJtZW51XFxcXFwiPlxcXFxuICAgIDx1bCBjbGFzcz1cXFxcXCJtYWluLW1lbnVcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm1lbnUgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIiAgICA8L3VsPlxcXFxuPC9uYXY+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogbnVsbH0sXG57bmFtZTogJ3BhZ2UtY2F0YWxvZycsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLWNhdGFsb2cvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZS1jYXRhbG9nXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1ydWJyaWthdG9yLXBhZ2UgbWFzdGVyLXJ1YnJpa2F0b3ItcGFnZV9jb2xsYXBzZWRcXFxcXCI+XFxcXG5cXFxcbiAgICA8Y2F0LWNvbW1vbi1oMSBpZD1cXFxcXCJjb21tb24taDFcXFxcXCIgbmFtZT1cXFxcXCLQmtCw0YLQsNC70L7QsyDRg9GB0LvRg9CzXFxcXFwiPjwvY2F0LWNvbW1vbi1oMT5cXFxcblxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwicm93XFxcXFwiPlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1ydWJyaWthdG9yLXBhZ2VfX3J1YnJpa3MtY29sdW1uc1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicm93XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxjYXQtcnVicmlrYXRvci1saXN0IGlkPVxcXFxcInJ1YnJpa2F0b3ItbGlzdFxcXFxcIiBjYXQtc3RvcmU9XFxcXFwicnVicmlrYS9SdWJyaWthdG9yXFxcXFwiPjwvY2F0LXJ1YnJpa2F0b3ItbGlzdD5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItcnVicmlrYXRvci1wYWdlX19kb3BcXFxcXCI+XFxcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtYXN0ZXItcnVicmlrYXRvci1wYWdlX19kb3AtdGl0bGVcXFxcXCI+0JTRgNGD0LPQuNC1INCy0L7Qt9C80L7QttC90L7RgdGC0LhcXFxcbiAgICAgICAgICAgICAgICDQsiDQv9C+0LTQsdC+0YDQtSDQvNCw0YHRgtC10YDQsDwvcD5cXFxcblxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItcnVicmlrYXRvci1wYWdlX19kb3AtY2F0YWxvZ3NcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGNhdC1jYXRhbG9nLWxpc3QgaWQ9XFxcXFwiY2F0YWxvZy1saXN0XFxcXFwiIGRhdGEtbW9kPVxcXFxcInBhZ2VfcnVicmlrYXRvclxcXFxcIj48L2NhdC1jYXRhbG9nLWxpc3Q+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtY29udGFjdCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLWNvbnRhY3QvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZS1jb250YWN0XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcImNvbnRhY3QtcGFnZVxcXFxcIj5cXFxcbiAgICA8aDEgY2xhc3M9XFxcXFwiaDEgaDFfc3R5bGVcXFxcXCI+0JrQvtC90YLQsNC60YLRizwvaDE+XFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImNvbnRhY3QtYmxvY2tcXFxcXCI+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcImNvbnRhY3QtYmxvY2tfX3Bob25lXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcImNvbnRhY3QtYmxvY2tfX25hbWVcXFxcXCI+0KLQtdC70LXRhNC+0L06PC9zcGFuPiBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5waG9uZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGhvbmUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwicGhvbmVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcbiAgICAgICAgPHAgY2xhc3M9XFxcXFwiY29udGFjdC1ibG9ja19fZW1haWxcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwiY29udGFjdC1ibG9ja19fbmFtZVxcXFxcIj5FLW1haWw6PC9zcGFuPiA8YSBocmVmPVxcXFxcIm1haWx0bzpcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5lbWFpbCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZW1haWwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiZW1haWxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5lbWFpbCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZW1haWwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiZW1haWxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvYT48L3A+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcImNvbnRhY3QtYmxvY2tfX2FkcmVzc1xcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJjb250YWN0LWJsb2NrX19uYW1lXFxcXFwiPtCQ0LTRgNC10YE6PC9zcGFuPiBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5hZHJlc3MgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFkcmVzcyA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJhZHJlc3NcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcbiAgICA8L2Rpdj5cXFxcblxcXFxuPC9kaXY+XCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtZmVlZGJhY2snLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1mZWVkYmFjay9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLWZlZWRiYWNrXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcImZlZWRiYWNrLXBhZ2VcXFxcXCI+XFxcXG4gICAgPGgxIGNsYXNzPVxcXFxcImgxIGgxX3N0eWxlXFxcXFwiPtCe0LHRgNCw0YLQvdCw0Y8g0YHQstGP0LfRjDwvaDE+XFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImZlZWRiYWNrLWJsb2NrXFxcXFwiPlxcXFxuICAgICAgICA8Zm9ybSBjbGFzcz1cXFxcXCJmZWVkYmFjay1ibG9ja19fZm9ybVxcXFxcIiBpZD1cXFxcXCJmZWVkYmFjay1mb3JtXFxcXFwiIGFjdGlvbj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBtZXRob2Q9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubWV0aG9kIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tZXRob2QgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibWV0aG9kXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICA8bGFiZWw+XFxcXG4gICAgICAgICAgICAgICAgPHNwYW4+0JLQsNGI0LUg0LjQvNGPPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXFxcInRleHRcXFxcXCIgbmFtZT1cXFxcXCJmZWVkYmFja1tuYW1lXVxcXFxcIiBhdXRvZm9jdXM+XFxcXG4gICAgICAgICAgICA8L2xhYmVsPlxcXFxuXFxcXG4gICAgICAgICAgICA8bGFiZWw+XFxcXG4gICAgICAgICAgICAgICAgPHNwYW4+0JLQsNGIIGUtbWFpbDwvc3Bhbj5cXFxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFxcXCJ0ZXh0XFxcXFwiIG5hbWU9XFxcXFwiZmVlZGJhY2tbZW1haWxdXFxcXFwiPlxcXFxuICAgICAgICAgICAgPC9sYWJlbD5cXFxcblxcXFxuICAgICAgICAgICAgPGxhYmVsPlxcXFxuICAgICAgICAgICAgICAgIDxzcGFuPtCS0LDRiNC1INGB0L7QvtCx0YnQtdC90LjQtTwvc3Bhbj5cXFxcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT1cXFxcXCJmZWVkYmFja1t0ZXh0XVxcXFxcIj48L3RleHRhcmVhPlxcXFxuICAgICAgICAgICAgPC9sYWJlbD5cXFxcblxcXFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcImJ0bi1hY2NlbnRcXFxcXCIgdHlwZT1cXFxcXCJzdWJtaXRcXFxcXCIgdmFsdWU9XFxcXFwi0J7RgtC/0YDQsNCy0LjRgtGMXFxcXFwiPlxcXFxuICAgICAgICA8L2Zvcm0+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLWxvZ2luJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtbG9naW4vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZS1sb2dpblwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGxhbWJkYT10aGlzLmxhbWJkYTtcXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcXFwicGFnZS1sb2dpblxcXFxcIj5cXFxcbiAgICA8aDEgY2xhc3M9XFxcXFwiaDEgaDFfc3R5bGVcXFxcXCI+0JLRhdC+0LQgLyDRgNC10LPQuNGB0YLRgNCw0YbQuNGPPC9oMT5cXFxcblxcXFxuICAgIDxmb3JtIGNsYXNzPVxcXFxcImxvZ2luLWZvcm1cXFxcXCIgbWV0aG9kPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm1ldGhvZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWV0aG9kIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm1ldGhvZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiIGFjdGlvbj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcImxvZ2luLWZvcm1fX2lucHV0LXRleHRcXFxcXCIgdHlwZT1cXFxcXCJ0ZXh0XFxcXFwiIHBsYWNlaG9sZGVyPVxcXFxcItCt0LsuINC/0L7Rh9GC0LAg0LjQu9C4INGC0LXQu9C10YTQvtC9XFxcXFwiIG5hbWU9XFxcXFwibG9naW5Gb3JtW2xvZ2luXVxcXFxcIj5cXFxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcImxvZ2luLWZvcm1fX2lucHV0LXRleHRcXFxcXCIgdHlwZT1cXFxcXCJwYXNzd29yZFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQn9Cw0YDQvtC70YxcXFxcXCIgbmFtZT1cXFxcXCJsb2dpbkZvcm1bcGFzc3dvcmRdXFxcXFwiPlxcXFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcXFwibG9naW4tZm9ybV9fbGFiZWwtY2hlY2tib3hcXFxcXCI+PGlucHV0IHR5cGU9XFxcXFwiY2hlY2tib3hcXFxcXCIgaWQ9XFxcXFwicmVtZW1iZXItbWVcXFxcXCI+PHNwYW4+0JfQsNC/0L7QvNC90LjRgtGMINC80LXQvdGPPC9zcGFuPjwvbGFiZWw+XFxcXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJsb2dpbi1mb3JtX19idG5cXFxcXCIgdHlwZT1cXFxcXCJzdWJtaXRcXFxcXCIgdmFsdWU9XFxcXFwi0JLQvtC50YLQuFxcXFxcIj5cXFxcblxcXFxuICAgICAgICA8cCBjbGFzcz1cXFxcXCJsb2dpbi1mb3JtX19ocmVmLWNvbnRcXFxcXCI+XFxcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJsb2dpbi1mb3JtX19yZWNvdmVyeVxcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzW1xcJ3JlY292ZXJ5LXVybFxcJ10gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwW1xcJ3JlY292ZXJ5LXVybFxcJ10gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwicmVjb3ZlcnktdXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+0JfQsNCx0YvQu9C4INC/0LDRgNC+0LvRjD88L2E+XFxcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJsb2dpbi1mb3JtX19yZWdpc3RyYXRpb25cXFxcXCIgaHJlZj1cXFxcXCIjXFxcXFwiIGlkPVxcXFxcInJlZy1saW5rXFxcXFwiPtCg0LXQs9C40YHRgtGA0LDRhtC40Y88L2E+XFxcXG4gICAgICAgICAgICA8YnI+XFxcXG4gICAgICAgIDwvcD5cXFxcbiAgICA8L2Zvcm0+XFxcXG5cXFxcbiAgICA8Zm9ybSBjbGFzcz1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybVxcXFxcIiBtZXRob2Q9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubWV0aG9kIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tZXRob2QgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibWV0aG9kXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCIgYWN0aW9uPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICA8aW5wdXQgY2xhc3M9XFxcXFwicmVnaXN0cmF0aW9uLWZvcm1fX2lucHV0LXRleHRcXFxcXCIgdHlwZT1cXFxcXCJlbWFpbFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQrdC7LiDQv9C+0YfRgtCwXFxcXFwiIG5hbWU9XFxcXFwicmVnRm9ybVtsb2dpbl1cXFxcXCI+XFxcXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybV9faW5wdXQtdGV4dFxcXFxcIiB0eXBlPVxcXFxcInRleHRcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFwi0JjQvNGPINCk0LDQvNC40LvQuNGPXFxcXFwiIG5hbWU9XFxcXFwicmVnRm9ybVtuYW1lXVxcXFxcIj5cXFxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcInJlZ2lzdHJhdGlvbi1mb3JtX19pbnB1dC10ZXh0XFxcXFwiIHR5cGU9XFxcXFwicGFzc3dvcmRcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFwi0J/QsNGA0L7Qu9GMXFxcXFwiIG5hbWU9XFxcXFwicmVnRm9ybVtwYXNzd29yZF1cXFxcXCI+XFxcXG5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybV9fY2FwY2hhIHJlZ2lzdHJhdGlvbi1mb3JtX19jYXBjaGFfcmVnaXN0cmF0aW9uXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybV9fY29kZS1pbWdcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcXFwiaW1nL2Fzc2V0cy9yZWNvdmVyeS1wYXNzd29yZC9jYXB0Y2hhLnBuZ1xcXFxcIiBhbHQ9XFxcXFwiY2FwY2hhXFxcXFwiPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybV9fcmVsb2FkLWxpbmtcXFxcXCIgaHJlZj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNhcGNoYSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazFbXFwncmVsb2FkLXVybFxcJ10gOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXFwiPtCf0L7Qu9GD0YfQuNGC0Ywg0L3QvtCy0YvQuSDQutC+0LQ8L2E+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybV9faW5wdXQtdGV4dFxcXFxcIiB0eXBlPVxcXFxcInRleHRcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFwi0JrQvtC0INGBINC60LDRgNGC0LjQvdC60LhcXFxcXCIgbmFtZT1cXFxcXCJyZWdGb3JtW2NvZGVdXFxcXFwiPlxcXFxuICAgICAgICA8aW5wdXQgY2xhc3M9XFxcXFwicmVnaXN0cmF0aW9uLWZvcm1fX2J0biByZWdpc3RyYXRpb24tZm9ybV9fYnRuX2xvbmctdGV4dFxcXFxcIiB0eXBlPVxcXFxcInN1Ym1pdFxcXFxcIiB2YWx1ZT1cXFxcXCLQl9Cw0YDQtdCz0LjRgdGC0YDQuNGA0L7QstCw0YLRjNGB0Y9cXFxcXCI+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcInJlZ2lzdHJhdGlvbi1mb3JtX19lbnRyeVxcXFxcIj48YSBocmVmPVxcXFxcIiNcXFxcXCIgaWQ9XFxcXFwiZW50cnktbGlua1xcXFxcIj7QktC+0LnRgtC4PC9hPjwvcD5cXFxcbiAgICA8L2Zvcm0+XFxcXG5cXFxcbiAgICA8Zm9ybSBjbGFzcz1cXFxcXCJyZWNvdmVyeS1wYXNzLWZvcm1cXFxcXCIgbWV0aG9kPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm1ldGhvZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWV0aG9kIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm1ldGhvZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiIGFjdGlvbj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcInJlY292ZXJ5LXBhc3MtZm9ybV9faW5wdXQtdGV4dFxcXFxcIiB0eXBlPVxcXFxcInRleHRcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFwi0K3Quy4g0L/QvtGH0YLQsCDQuNC70Lgg0YLQtdC70LXRhNC+0L1cXFxcXCIgbmFtZT1cXFxcXCJyZWNvdmVyeS1wYXNzd29yZFtsb2dpbl1cXFxcXCIgYXV0b2ZvY3VzPlxcXFxuXFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicmVjb3ZlcnktcGFzcy1mb3JtX19jYXBjaGEgcmVjb3ZlcnktcGFzcy1mb3JtX19jYXBjaGFfcmVnaXN0cmF0aW9uXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWNvdmVyeS1wYXNzLWZvcm1fX2NvZGUtaW1nXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXFxcImltZy9hc3NldHMvcmVjb3ZlcnktcGFzc3dvcmQvY2FwdGNoYS5wbmdcXFxcXCIgYWx0PVxcXFxcImNhcGNoYVxcXFxcIj5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwicmVjb3ZlcnktcGFzcy1mb3JtX19yZWxvYWQtbGlua1xcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY2FwY2hhIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMVtcXCdyZWxvYWQtdXJsXFwnXSA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+0J/QvtC70YPRh9C40YLRjCDQvdC+0LLRi9C5INC60L7QtDwvYT5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcInJlY292ZXJ5LXBhc3MtZm9ybV9faW5wdXQtdGV4dFxcXFxcIiB0eXBlPVxcXFxcInRleHRcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFwi0JrQvtC0INGBINC60LDRgNGC0LjQvdC60LhcXFxcXCIgbmFtZT1cXFxcXCJyZWNvdmVyeS1wYXNzd29yZFtjb2RlXVxcXFxcIj5cXFxcbiAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcInJlY292ZXJ5LXBhc3MtZm9ybV9fYnRuXFxcXFwiIHR5cGU9XFxcXFwic3VibWl0XFxcXFwiIHZhbHVlPVxcXFxcItCS0L7RgdGB0YLQsNC90L7QstC40YLRjFxcXFxcIj5cXFxcbiAgICA8L2Zvcm0+XFxcXG5cXFxcbjwvZGl2PlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtbWFpbicsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLW1haW4vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZS1tYWluXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcIm1haW4tcGFnZVxcXFxcIj5cXFxcbiAgICA8Y2F0LW1haW4tZnVuY3Rpb24gaWQ9XFxcXFwibWFpbi1mdW5jdGlvblxcXFxcIj48L2NhdC1tYWluLWZ1bmN0aW9uPlxcXFxuICAgIDxjYXQtZG9wLWZ1bmN0aW9uIGlkPVxcXFxcImRvcC1mdW5jdGlvblxcXFxcIj48L2NhdC1kb3AtZnVuY3Rpb24+XFxcXG48L2Rpdj5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtbWFzdGVyLXBhZ2UnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1tYXN0ZXItcGFnZS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLW1hc3Rlci1wYWdlXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8aDEgY2xhc3M9XFxcXFwiaDEgaDFfc3R5bGVcXFxcXCI+0KHRgtGA0LDQvdC40YbQsCDQnNCw0YHRgtC10YDQsDwvaDE+XFxcXG48Y2F0LW1hc3Rlci1wYWdlIGlkPVxcXFxcIm1hc3Rlci1wYWdlXFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJtYXN0ZXIvTWFzdGVySXRlbVxcXFxcIj48L2NhdC1tYXN0ZXItcGFnZT5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtbWFzdGVyLXJ1YnJpa2EnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1tYXN0ZXItcnVicmlrYS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLW1hc3Rlci1ydWJyaWthXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcImNvbnRhaW5lclxcXFxcIj5cXFxcbiAgICA8Y2F0LW1hc3Rlci1ydWJyaWthIGlkPVxcXFxcIm1hc3Rlci1ydWJyaWthXFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJUYWdcXFxcXCI+PC9jYXQtbWFzdGVyLXJ1YnJpa2E+XFxcXG48L2Rpdj5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLW5ld3MnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1uZXdzL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInBhZ2UtbmV3c1wiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFxcXCJwYWdlX290aF9uZXdzXFxcXFwiPlxcXFxuICAgIDxjYXQtY29tbW9uLWgxIGlkPVxcXFxcImNvbW1vbi1oMVxcXFxcIiBuYW1lPVxcXFxcItCd0L7QstC+0YHRgtC4XFxcXFwiPjwvY2F0LWNvbW1vbi1oMT5cXFxcblxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwicGFnZV9vdGhfbmV3c19fbGlzdFxcXFxcIj5cXFxcbiAgICAgICAgPGNhdC1vdGhlci1uZXdzIGlkPVxcXFxcIm90aGVyLW5ld3NcXFxcXCIgY2F0LXN0b3JlPVxcXFxcIm90aGVyL05ld3NcXFxcXCI+PC9jYXQtb3RoZXItbmV3cz5cXFxcbiAgICAgICAgPGNhdC1jb21tb24tcGFnaW5hdG9yIGlkPVxcXFxcImNvbW1vbi1wYWdpbmF0b3JcXFxcXCIgY2F0LXN0b3JlPVxcXFxcIlBhZ2luYXRvclxcXFxcIiBtb2RlbD1cXFxcXCJvdGhlci9OZXdzXFxcXFwiPjwvY2F0LWNvbW1vbi1wYWdpbmF0b3I+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLW5ld3MtaXRlbScsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLW5ld3MtaXRlbS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLW5ld3MtaXRlbVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFxcXCJwYWdlX290aF9uZXdzXFxcXFwiPlxcXFxuICAgIDxjYXQtb3RoZXItbmV3cy1pdGVtIGlkPVxcXFxcIm90aGVyLW5ld3NcXFxcXCIgY2F0LXN0b3JlPVxcXFxcIm90aGVyL05ld3NJdGVtXFxcXFwiPjwvY2F0LW90aGVyLW5ld3MtaXRlbT5cXFxcbjwvZGl2PlwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2Utb2ZlcnRhJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2Utb2ZlcnRhL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInBhZ2Utb2ZlcnRhXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcIm9mZXJ0YS1wYWdlXFxcXFwiPlxcXFxuXFxcXG4gICAgPGgxIGNsYXNzPVxcXFxcImgxIGgxX3N0eWxlXFxcXFwiPtCe0KTQldCg0KLQkCDQvtGCIDAxLjAzLjIwMTUgPC9oMT5cXFxcblxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnRhXFxcXFwiPlxcXFxuICAgICAgICA8cD48c3Ryb25nPtC90LAg0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQo9GB0LvRg9Cz0LDQvNC4INCh0LDQudGC0LAgd3d3LmZhY2VtYXN0ZXIucnU8L3N0cm9uZz48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+0JfQkNCeIMKr0KTQtdC50YHQnNCw0YHRgtC10YAu0YDRg8K7LCDQuNC80LXQvdGD0LXQvNC+0LUg0LIg0LTQsNC70YzQvdC10LnRiNC10LwgwqvQmtC+0LzQv9Cw0L3QuNGPwrssINC/0YDQtdC00L7RgdGC0LDQstC70Y/QtdGCINC70Y7QsdC+0LzRgyDQu9C40YbRgyDRg9GB0LvRg9Cz0Lgg0L/QviDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjRjlxcXFxuICAgICAgICAgICAg0YHQsNC50YLQsCDQmtC+0LzQv9Cw0L3QuNC4INCyINC70LjRh9C90YvRhSDRhtC10LvRj9GFINC/0L7RgdGA0LXQtNGB0YLQstC+0Lwg0L/RgNC10LTQvtGB0YLQsNCy0LvQtdC90LjRjyDRgdC10YDQstC40YHQvtCyINGB0LDQudGC0LAg0L3QsCDQv9GA0LjQstC10LTQtdC90L3Ri9GFINC90LjQttC1INGD0YHQu9C+0LLQuNGP0YUuPC9wPlxcXFxuXFxcXG4gICAgICAgIDxwPtCR0LXQt9GD0YHQu9C+0LLQvdGL0Lwg0L/RgNC40L3Rj9GC0LjQtdC8ICjQsNC60YbQtdC/0YLQvtC8KSDRg9GB0LvQvtCy0LjQuSDQvdCw0YHRgtC+0Y/RidC10Lkg0L7RhNC10YDRgtGLINGB0YfQuNGC0LDQtdGC0YHRjyDQv9C+0LvRjNC30L7QstCw0L3QuNC1INCh0LDQudGC0L7QvCA8c3Ryb25nPmh0dHA6Ly93d3cuZmFjZW1hc3Rlci5ydTwvc3Ryb25nPixcXFxcbiAgICAgICAgICAgINCy0LrQu9GO0YfQsNGPINC/0YDQvtGB0LzQvtGC0YAg0YHRgtGA0LDQvdC40YYg0KHQsNC50YLQsCwg0L3QtSDQt9Cw0LLQuNGB0LjQvNC+INC+0YIg0L/RgNC+0YXQvtC20LTQtdC90LjRjyDQv9GA0L7RhtC10LTRg9GA0Ysg0KDQtdCz0LjRgdGC0YDQsNGG0LjQuC48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+0J3QsNGB0YLQvtGP0YnQsNGPINCe0YTQtdGA0YLQsCDQvNC+0LbQtdGCINCx0YvRgtGMINC40LfQvNC10L3QtdC90LAg0L/QviDRg9GB0LzQvtGC0YDQtdC90LjRjiDQmtC+0LzQv9Cw0L3QuNC4INCyINC70Y7QsdC+0LUg0LLRgNC10LzRjyDQsdC10Lcg0LrQsNC60L7Qs9C+LdC70LjQsdC+INGB0L/QtdGG0LjQsNC70YzQvdC+0LPQvlxcXFxuICAgICAgICAgICAg0YPQstC10LTQvtC80LvQtdC90LjRjyDQvtCxINGN0YLQvtC8INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4g0J3QvtCy0LDRjyDRgNC10LTQsNC60YbQuNGPINCe0YTQtdGA0YLRiywg0LjQt9C80LXQvdC10L3QuNGPINC4INC00L7Qv9C+0LvQvdC10L3QuNGPINC6INC90LXQuSDQstGB0YLRg9C/0LDRjtGCINCyINGB0LjQu9GDINGBXFxcXG4gICAgICAgICAgICDQvNC+0LzQtdC90YLQsCDQuNGFINGA0LDQt9C80LXRidC10L3QuNGPINC90LAg0KHQsNC50YLQtS4g0KDQtdCz0YPQu9GP0YDQvdC+0LUg0L7Qt9C90LDQutC+0LzQu9C10L3QuNC1INGBINC00LXQudGB0YLQstGD0Y7RidC10Lkg0YDQtdC00LDQutGG0LjQtdC5INCe0YTQtdGA0YLRiyDRj9Cy0LvRj9C10YLRgdGPINC+0LHRj9C30LDQvdC90L7RgdGC0YzRjlxcXFxuICAgICAgICAgICAg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLiDQn9C+0LvRjNC30L7QstCw0L3QuNC1INCh0LDQudGC0L7QvCDQv9C+0YHQu9C1INCy0YHRgtGD0L/Qu9C10L3QuNGPINCyINGB0LjQu9GDINC90L7QstC+0Lkg0YDQtdC00LDQutGG0LjQuCDQntGE0LXRgNGC0YssINC00L7Qv9C+0LvQvdC10L3QuNC5INC4INC40LfQvNC10L3QtdC90LjQuSDQuiDQvdC10LlcXFxcbiAgICAgICAgICAgINC+0LfQvdCw0YfQsNC10YIg0YHQvtCz0LvQsNGB0LjQtSDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0YHQviDQstGB0LXQvNC4INGC0LDQutC40LzQuCDQuNC30LzQtdC90LXQvdC40Y/QvNC4INC40LvQuCDQtNC+0L/QvtC70L3QtdC90LjRj9C80LgsINC90L7QstC+0Lkg0YDQtdC00LDQutGG0LjQtdC5INCe0YTQtdGA0YLRiy48L3A+XFxcXG5cXFxcbiAgICAgICAgPGJyPlxcXFxuXFxcXG4gICAgICAgIDxwPjxzdHJvbmc+MS4g0KLQldCg0JzQmNCd0Ksg0Lgg0J7QkdCe0JfQndCQ0KfQldCd0JjQrzwvc3Ryb25nPjwvcD5cXFxcblxcXFxuICAgICAgICA8cD48c3Ryb25nPtCa0L7QvNC/0LDQvdC40Y88L3N0cm9uZz4g4oCTINCX0JDQniDCq9Ck0LXQudGB0JzQsNGB0YLQtdGALtGA0YPCuzog0J7Qk9Cg0J0gMTEzNjMyMDAyMDgyNSDQmNCd0J0gNjMyMTMyMzQwNiwg0K7RgNC40LTQuNGH0LXRgdC60LjQuSDQsNC00YDQtdGBOlxcXFxuICAgICAgICAgICAgNDQ1MDU2LCDQsy7QotC+0LvRjNGP0YLRgtC4LCDRg9C7LtCQ0LLRgtC+0YHRgtGA0L7QuNGC0LXQu9C10LksIDQx0JAsINC60L7RgNC/LjE8YnI+XFxcXG4gICAgICAgICAgICA8YnI+XFxcXG4gICAgICAgICAgICA8c3Ryb25nPtCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjC/QmtC70LjQtdC90YI8L3N0cm9uZz4g4oCTINC00LXQtdGB0L/QvtGB0L7QsdC90L7QtSwg0LIg0LLQvtC30YDQsNGB0YLQtSDQvtGCIDE4INC70LXRgiwg0YTQuNC30LjRh9C10YHQutC+0LUg0LvQuNGG0L4v0L/RgNCw0LLQvtGB0L/QvtGB0L7QsdC90L7QtVxcXFxuICAgICAgICAgICAg0Y7RgNC40LTQuNGH0LXRgdC60L7QtSDQu9C40YbQviwg0L/RgNC+0YjQtdC00YjQuNC1INCg0LXQs9C40YHRgtGA0LDRhtC40Y4g0L3QsCDRgdCw0LnRgtC1INCa0L7QvNC/0LDQvdC40LgsINC40LzQtdGO0YnQuNC1INCy0YHQtSDQv9GA0LDQstC+0LLRi9C1INC/0L7Qu9C90L7QvNC+0YfQuNGPINCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuCDRgVxcXFxuICAgICAgICAgICAg0LTQtdC50YHRgtCy0YPRjtGJ0LjQvCDQt9Cw0LrQvtC90L7QtNCw0YLQtdC70YzRgdGC0LLQvtC8INCg0KQg0L3QsCDQt9Cw0LrQu9GO0YfQtdC90LjQtSDQntGE0LXRgNGC0Ysg0Lgg0LjQvdGL0YUg0YHQvtC/0YPRgtGB0YLQstGD0Y7RidC40YUg0LTQvtC60YPQvNC10L3RgtC+0LIg0LTQu9GPINC40YHQv9C+0LvRjNC30L7QstCw0L3QuNGPXFxcXG4gICAgICAgICAgICDQstC+0LfQvNC+0LbQvdC+0YHRgtC10Lkg0KHQsNC50YLQsCDQmtC+0LzQv9Cw0L3QuNC4Ljxicj5cXFxcbiAgICAgICAgICAgIDxicj5cXFxcbiAgICAgICAgICAgIDxzdHJvbmc+0KHQsNC50YI8L3N0cm9uZz4g4oCTINCY0L3RgtC10YDQvdC10YIt0YHQsNC50YIsINGA0LDQt9C80LXRidC10L3QvdGL0Lkg0LIg0YHQtdGC0Lgg0JjQvdGC0LXRgNC90LXRgiDQv9C+INCw0LTRgNC10YHRgzogd3d3LmZhY2VtYXN0ZXIucnUsINCy0LrQu9GO0YfQsNGO0YnQuNC5XFxcXG4gICAgICAgICAgICDQsiDRgdC10LHRjyDQutC+0LzQv9C70LXQutGBINGN0LvQtdC80LXQvdGC0L7Qsjog0L/RgNC+0LPRgNCw0LzQvNGLINC00LvRjyDQrdCS0JwsINCx0LDQt9GLINC00LDQvdC90YvRhSwg0LjQvdGC0LXRgNGE0LXQudGBICjQtNC40LfQsNC50L0pLCDQutCw0Log0LIg0YHQvtCy0L7QutGD0L/QvdC+0YHRgtC4LCDRgtCw0Log0LhcXFxcbiAgICAgICAgICAgINC+0YLQtNC10LvRjNC90YvQtSDRjdC70LXQvNC10L3RgtGLINC00LjQt9Cw0LnQvdCwLCDQuCDQtNGALjxicj5cXFxcbiAgICAgICAgICAgIDxicj5cXFxcbiAgICAgICAgICAgIDxzdHJvbmc+0JPQvtGB0YLRjDwvc3Ryb25nPiDigJMg0LvRjtCx0L7QtSDQu9C40YbQviwg0L3QtSDQv9GA0L7RiNC10LTRiNC10LUg0KDQtdCz0LjRgdGC0YDQsNGG0LjRjiwg0LjQvNC10Y7RidC10LUg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQv9GA0L7RgdC80LDRgtGA0LjQstCw0YLRjCDRgdGC0YDQsNC90LjRhtGLXFxcXG4gICAgICAgICAgICDQodCw0LnRgtCwINC4INCY0L3RhNC+0YDQvNCw0YbQuNGOLCDRgNCw0LfQvNC10YnQtdC90L3Rg9GOINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C80Lgg0LTQu9GPINC+0LHRidC10LPQviDQtNC+0YHRgtGD0L/QsC48YnI+XFxcXG4gICAgICAgICAgICA8YnI+XFxcXG4gICAgICAgICAgICA8c3Ryb25nPtCg0LXQs9C40YHRgtGA0LDRhtC40Y88L3N0cm9uZz4g4oCTINC60L7QvNC/0LvQtdC60YEg0LTQtdC50YHRgtCy0LjQuSDQv9C+INC/0YDQuNC90Y/RgtC40Y4g0L7RhNC10YDRgtGLLCDRgNCw0LfQvNC10YnQtdC90L3QvtC5INC90LAg0KHQsNC50YLQtSwg0YHQvtC30LTQsNC90LjRjiDQm9C40YfQvdC+0LPQvlxcXFxuICAgICAgICAgICAg0LrQsNCx0LjQvdC10YLQsCwg0L/Rg9GC0LXQvCDQstCy0L7QtNCwINGD0YfQtdGC0L3Ri9GFINC00LDQvdC90YvRhSDQuCDQuNC90YvRhSDQvdC10L7QsdGF0L7QtNC40LzRi9GFINGB0LLQtdC00LXQvdC40LksINC4INC/0L7Qu9GD0YfQtdC90LjRjiDQv9GA0LDQstCwINC90LAg0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQo9GB0LvRg9Cz0LDQvNC4XFxcXG4gICAgICAgICAgICDQmNC90YLQtdGA0L3QtdGCLdGB0LDQudGC0LAuPGJyPlxcXFxuICAgICAgICAgICAgPGJyPlxcXFxuICAgICAgICAgICAgPHN0cm9uZz7Qo9GH0LXRgtC90YvQtSDQtNCw0L3QvdGL0LUgPC9zdHJvbmc+4oCUINGD0L3QuNC60LDQu9GM0L3Ri9C5INC70L7Qs9C40L0gKNC90L7QvNC10YAg0YLQtdC70LXRhNC+0L3QsCkg0Lgg0L/QsNGA0L7Qu9GMLCDRgdC+0LfQtNCw0LLQsNC10LzRi9C1INCyINC/0YDQvtGG0LXRgdGB0LVcXFxcbiAgICAgICAgICAgINCg0LXQs9C40YHRgtGA0LDRhtC40Lgg0L3QsCDQodCw0LnRgtC1LCDQuNGB0L/QvtC70YzQt9GD0LXQvNGL0LUg0LTQu9GPINC00L7RgdGC0YPQv9CwINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCDQsiDQm9C40YfQvdGL0Lkg0LrQsNCx0LjQvdC10YIg0L/Rg9GC0LXQvCDQkNCy0YLQvtGA0LjQt9Cw0YbQuNC4Ljxicj5cXFxcbiAgICAgICAgICAgIDxicj5cXFxcbiAgICAgICAgICAgIDxzdHJvbmc+0JDQstGC0L7RgNC40LfQsNGG0LjRjzwvc3Ryb25nPiDigJQg0LjQtNC10L3RgtC40YTQuNC60LDRhtC40Y8g0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPL9Ca0LvQuNC10L3RgtCwINC/0L7RgdGA0LXQtNGB0YLQstC+0Lwg0LLQstC10LTQtdC90LjRjyDQsiDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40LVcXFxcbiAgICAgICAgICAgINC/0L7Qu9GPINC90LAg0KHQsNC50YLQtSDQo9GH0LXRgtC90YvRhSDQtNCw0L3QvdGL0YUuPGJyPlxcXFxuICAgICAgICAgICAgPGJyPlxcXFxuICAgICAgICAgICAgPHN0cm9uZz7Qm9C40YfQvdGL0Lkg0LrQsNCx0LjQvdC10YIgPC9zdHJvbmc+4oCUINC/0LXRgNGB0L7QvdCw0LvRjNC90LDRjyDRgdGC0YDQsNC90LjRhtCwINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCwg0YTQvtGA0LzQuNGA0YPQtdC80LDRjyDQv9C+0YHQu9C1INCg0LXQs9C40YHRgtGA0LDRhtC40LgsXFxcXG4gICAgICAgICAgICDQtNC+0YHRgtGD0L8g0Log0LrQvtGC0L7RgNC+0Lkg0L/RgNC10LTQvtGB0YLQsNCy0LvRj9C10YLRgdGPINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRji/QmtC70LjQtdC90YLRgyDQsiDRgNC10LfRg9C70YzRgtCw0YLQtSDQkNCy0YLQvtGA0LjQt9Cw0YbQuNC4Ljxicj5cXFxcbiAgICAgICAgICAgIDxicj5cXFxcbiAgICAgICAgICAgIDxzdHJvbmc+0J7RhNC10YDRgtCwPC9zdHJvbmc+IOKAkyDQvdCw0YHRgtC+0Y/RidC10LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtSDQmtC+0LzQv9Cw0L3QuNC4LCDQsNC00YDQtdGB0L7QstCw0L3QvdC+0LUg0L3QtdC+0L/RgNC10LTQtdC70LXQvdC90L7QvNGDINC60YDRg9Cz0YMg0LvQuNGGLCDRgdC+0LTQtdGA0LbQsNGJ0LXQtVxcXFxuICAgICAgICAgICAg0L/RgNCw0LLQuNC70LAg0Lgg0YPRgdC70L7QstC40Y8g0L/QvtC70YzQt9C+0LLQsNC90LjRjyDQo9GB0LvRg9Cz0LDQvNC4INCh0LDQudGC0LAsINCwINGC0LDQutC20LUg0L/RgNCw0LLQsCDQuCDQvtCx0Y/Qt9Cw0L3QvdC+0YHRgtC4INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5L9Ca0LvQuNC10L3RgtC+0LJcXFxcbiAgICAgICAgICAgINC+0LHRj9C30LDRgtC10LvRjNC90YvQtSDQtNC70Y8g0LjRgdC/0L7Qu9C90LXQvdC40Y8g0L/RgNC4INGA0LDQt9C80LXRidC10L3QuNC4INCY0L3RhNC+0YDQvNCw0YbQuNC4INC90LAg0KHQsNC50YLQtSDQtNC70Y8g0L7QsdGJ0LXQs9C+INC00L7RgdGC0YPQv9CwLjxicj5cXFxcbiAgICAgICAgICAgIDxicj5cXFxcbiAgICAgICAgICAgIDxzdHJvbmc+0KPRgdC70YPQs9C4PC9zdHJvbmc+IC0g0LLQvtC30LzQvtC20L3QvtGB0YLQuCAo0L/RgNCw0LLQsCksINC/0YDQtdC00L7RgdGC0LDQstC70Y/QtdC80YvQtSDQmtC+0LzQv9Cw0L3QuNC10Lkg0Lgg0L/QvtC30LLQvtC70Y/RjtGJ0LjQtVxcXFxuICAgICAgICAgICAg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GOL9Ca0LvQuNC10L3RgtGDL9CT0L7RgdGC0Y4g0YDQsNC30LzQtdGJ0LDRgtGMLCDQvtGB0YPRidC10YHRgtCy0LvRj9GC0Ywg0L/QvtC40YHQuiDQuCDQv9GA0L7RgdC80L7RgtGAINCY0L3RhNC+0YDQvNCw0YbQuNC4LCDQsCDRgtCw0LrQttC1INC70Y7QsdGL0LUg0LjQvdGL0LVcXFxcbiAgICAgICAgICAgINCy0L7Qt9C80L7QttC90L7RgdGC0Lgg0Lgg0YTRg9C90LrRhtC40LgsINC00L7RgdGC0YPQv9C90YvQtSDQvdCwINCh0LDQudGC0LUuIDxzdHJvbmc+0JHQtdGB0L/Qu9Cw0YLQvdGL0LUg0YPRgdC70YPQs9C4PC9zdHJvbmc+IOKAkyDQsdCw0LfQvtCy0YvQuSDQvdCw0LHQvtGAINGD0YHQu9GD0LMsXFxcXG4gICAgICAgICAgICDQv9GA0LXQtNC+0YHRgtCw0LLQu9GP0LXQvNGL0Lkg0LHQtdC3INCy0LfQuNC80LDQvdC40Y8g0L/Qu9Cw0YLRiy4gPHN0cm9uZz7Qn9C70LDRgtC90YvQtSDRg9GB0LvRg9Cz0Lg8L3N0cm9uZz4g4oCTINC90LDQsdC+0YAg0LTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvRhSDRg9GB0LvRg9CzLCDQt9CwXFxcXG4gICAgICAgICAgICDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQutC+0YLQvtGA0YvRhSDQstC30LjQvNCw0LXRgtGB0Y8g0L/Qu9Cw0YLQsCDRgdC+0LPQu9Cw0YHQvdC+INGC0LDRgNC40YTQsNC8INCa0L7QvNC/0LDQvdC40LguPC9wPlxcXFxuXFxcXG4gICAgICAgIDxwPjxzdHJvbmc+0JjQvdGE0L7RgNC80LDRhtC40Y8g4oCTIDwvc3Ryb25nPtGD0YHQu9GD0LPQuCDQuCDQv9GA0LXQtNC70L7QttC10L3QuNGPINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCwg0YHQstC10LTQtdC90LjRjyDQviDQutC+0YLQvtGA0YvRhSDQvtC9INGA0LDQt9C80LXRidCw0LXRgiDQvdCwXFxcXG4gICAgICAgICAgICDQodCw0LnRgtC1LCDQsNC00YDQtdGB0L7QstCw0L3QvdGL0LUg0Lgg0LTQvtGB0YLRg9C/0L3Ri9C1INC90LXQvtC/0YDQtdC00LXQu9C10L3QvdC+0LzRgyDQutGA0YPQs9GDINC70LjRhiAo0JPQvtGB0YLRj9C8INC4L9C40LvQuCDQtNGA0YPQs9C40Lwg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GP0LwpLjxicj5cXFxcbiAgICAgICAgICAgIDxicj5cXFxcbiAgICAgICAgICAgIDxzdHJvbmc+0JTQvtCz0L7QstC+0YA8L3N0cm9uZz4g4oCTINGB0L7Qs9C70LDRiNC10L3QuNC1LCDRhNC+0YDQvNC40YDRg9C10LzQvtC1INC/0YDQuCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCDQuCDQstGB0YLRg9C/0LDRjtGJ0LXQtSDQsiDRgdC40LvRg1xcXFxuICAgICAgICAgICAg0LIg0LzQvtC80LXQvdGCINC+0L/Qu9Cw0YLRiyDQv9C10YDQstC+0LPQviDRgdGH0LXRgtCwINC30LAg0KPRgdC70YPQs9C4LjwvcD5cXFxcblxcXFxuICAgICAgICA8YnI+XFxcXG5cXFxcbiAgICAgICAgPHA+PHN0cm9uZz4yLiDQntCR0KnQmNCVINCf0J7Qm9Ce0JbQldCd0JjQrzwvc3Ryb25nPjwvcD5cXFxcblxcXFxuICAgICAgICA8cD4yLjEg0JrQvtC80L/QsNC90LjRjyDQv9GA0LXQtNC+0YHRgtCw0LLQu9GP0LXRgiDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y4v0JrQu9C40LXQvdGC0YMv0JPQvtGB0YLRjiDQvdCwINGD0YHQu9C+0LLQuNGP0YUg0L3QsNGB0YLQvtGP0YnQtdC5INCe0YTQtdGA0YLRiywg0JTQvtCz0L7QstC+0YDQsCDQuCDQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9GFXFxcXG4gICAgICAgICAgICDRgdC+0LPQu9Cw0YjQtdC90LjQuSwg0L/RgNC40LvQvtC20LXQvdC40Lkg0L/RgNCw0LLQviDQvdCwINC/0L7Qu9GM0LfQvtCy0LDQvdC40LUg0KPRgdC70YPQs9Cw0LzQuCDQodCw0LnRgtCwINGBINCy0L7Qt9C80L7QttC90L7RgdGC0YzRjiDRgNCw0LfQvNC10YnQsNGC0YwsINC+0YHRg9GJ0LXRgdGC0LLQu9GP0YLRjCDQv9C+0LjRgdC6INC4XFxcXG4gICAgICAgICAgICDQv9GA0L7RgdC80L7RgtGAINCY0L3RhNC+0YDQvNCw0YbQuNC4INC00YDRg9Cz0LjRhSDQn9C+0LvRjNC30L7QstCw0YLQtdC70LXQuVxcXFxcXNCa0LvQuNC10L3RgtC+0LIuPGJyPlxcXFxuICAgICAgICAgICAgMi4yINCS0YHQtSDRgdC00LXQu9C60Lg6IMKr0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDigJMg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgsK7INC70LjQsdC+IMKr0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDigJMg0JPQvtGB0YLRjMK7INC30LDQutC70Y7Rh9Cw0Y7RgtGB0Y9cXFxcbiAgICAgICAgICAgINC90LDQv9GA0Y/QvNGD0Y4uINCf0YDQuCDRjdGC0L7QvCwg0JrQvtC80L/QsNC90LjRjyDQvdC1INGP0LLQu9GP0LXRgtGB0Y8g0YPRh9Cw0YHRgtC90LjQutC+0Lwg0YLQsNC60LjRhSDRgdC00LXQu9C+0LosINCwINC/0YDQtdC00L7RgdGC0LDQstC70Y/QtdGCINC70LjRiNGMINC60L7QvNC80YPQvdC40LrQsNGG0LjQvtC90L3Rg9GOXFxcXG4gICAgICAgICAgICDQv9C70LDRgtGE0L7RgNC80YMg0LTQu9GPINCY0L3RhNC+0YDQvNCw0YbQuNC4INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5L9Ca0LvQuNC10L3RgtC+0LIuPGJyPlxcXFxuICAgICAgICAgICAgMi4zINCj0YHQu9GD0LPQuCDQvdC1INC/0YDQtdC00L7RgdGC0LDQstC70Y/RjtGC0YHRjyDQuCDQvdC1INC00L7Qu9C20L3RiyDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0YzRgdGPINC70LjRhtCw0LzQuCDQvNC70LDQtNGI0LUgMTgg0LvQtdGCLCDQu9C40YbQsNC80Lgg0L/RgNC40LfQvdCw0L3QvdGL0LzQuFxcXFxuICAgICAgICAgICAg0L3QtdC00LXQtdGB0L/QvtGB0L7QsdC90YvQvNC4LCDQsCDRgtCw0LrQttC1INC+0LPRgNCw0L3QuNGH0LXQvdC90L4g0LTQtdC10YHQv9C+0YHQvtCx0L3Ri9C80Lgg0LvQuNGG0LDQvNC4LiDQm9C40YbQsCwg0L3QtSDQtNC+0YHRgtC40LPRiNC40LUgMTgg0LvQtdGCLCDQuNC70Lgg0LvQuNGG0LAsINC/0YDQuNC30L3QsNC90L3Ri9C1XFxcXG4gICAgICAgICAgICDQvdC10LTQtdC10YHQv9C+0YHQvtCx0L3Ri9C80Lgg0LjQu9C4INC+0LPRgNCw0L3QuNGH0LXQvdC+INC00LXQtdGB0L/QvtGB0L7QsdC90YvQvNC4LCDQvNC+0LPRg9GCINC/0L7Qu9GM0LfQvtCy0LDRgtGM0YHRjyDQo9GB0LvRg9Cz0LDQvNC4INGC0L7Qu9GM0LrQviDRgSDRgdC+0LPQu9Cw0YHQuNGPINGB0LLQvtC40YUg0LfQsNC60L7QvdC90YvRhVxcXFxuICAgICAgICAgICAg0L/RgNC10LTRgdGC0LDQstC40YLQtdC70LXQuS48L3A+XFxcXG5cXFxcbiAgICAgICAgPGJyPlxcXFxuXFxcXG4gICAgICAgIDxwPjxzdHJvbmc+My4g0J/QoNCQ0JLQmNCb0JAg0J/QntCb0KzQl9Ce0JLQkNCd0JjQryDQodCQ0JnQotCe0Jw8L3N0cm9uZz48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+My4xLiDQk9C+0YHRgtGMINCy0L/RgNCw0LLQtSDQv9GA0L7RgdC80LDRgtGA0LjQstCw0YLRjCDQmNC90YTQvtGA0LzQsNGG0LjRjiDQn9C+0LvRjNC30L7QstCw0YLQtdC70LXQuS/QmtC70LjQtdC90YLQvtCyLCDQvdCw0YXQvtC00Y/RidGD0Y7RgdGPINCyINC+0YLQutGA0YvRgtC+0Lwg0LTQvtGB0YLRg9C/0LUsINC4XFxcXG4gICAgICAgICAgICDQstC+0YHQv9C+0LvRjNC30L7QstCw0YLRjNGB0Y8g0YPRgdC70YPQs9Cw0LzQuCwg0YHQvtC00LXRgNC20LDRidC40LzQuNGB0Y8g0LIg0JjQvdGE0L7RgNC80LDRhtC40LgsINCx0LXQtyDQoNC10LPQuNGB0YLRgNCw0YbQuNC4INC90LAg0KHQsNC50YLQtS48YnI+XFxcXG4gICAgICAgICAgICAzLjIuINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjC/QmtC70LjQtdC90YIg0L/QvtC70YPRh9Cw0LXRgiDQv9GA0LDQstC+INCy0L7RgdC/0L7Qu9GM0LfQvtCy0LDRgtGM0YHRjyDQo9GB0LvRg9Cz0LDQvNC4INCh0LDQudGC0LAg0L/QviDRgNCw0LfQvNC10YnQtdC90LjRjiDQmNC90YTQvtGA0LzQsNGG0LjQuCDQtNC70Y8g0LTQvtGB0YLRg9C/0LBcXFxcbiAgICAgICAgICAgINC6INC90LXQuSDQvdC10L7Qv9GA0LXQtNC10LvQtdC90L3QvtCz0L4g0LrRgNGD0LPQsCDQu9C40YYsINC/0L7RgdC70LUg0L/RgNC+0YXQvtC20LTQtdC90LjRjyDQv9GA0L7RhtC10LTRg9GA0Ysg0KDQtdCz0LjRgdGC0YDQsNGG0LjQuCDigJMg0LTQu9GPINCR0LXRgdC/0LvQsNGC0L3Ri9GFINCj0YHQu9GD0LMsINCwINGC0LDQutC20LUsXFxcXG4gICAgICAgICAgICDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Qviwg0L/QvtGB0LvQtSDQvtGE0L7RgNC80LvQtdC90LjRjyDQlNC+0LPQvtCy0L7RgNCwLCDQu9C40YHRgtCwINC30LDQutCw0LfQsCDQuCDQvtC/0LvQsNGC0Ysg0YHRh9C10YLQsCAtINC00LvRjyDQn9C70LDRgtC90YvRhSDQo9GB0LvRg9CzLjxicj5cXFxcbiAgICAgICAgICAgIDMuMy4g0J/RgNC4INCg0LXQs9C40YHRgtGA0LDRhtC40LgsINCwINGC0LDQutC20LUg0L7RhNC+0YDQvNC70LXQvdC40Lgg0LTQvtCz0L7QstC+0YDQsCDQuCDQu9C40YHRgtCwINC30LDQutCw0LfQsCDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC30LDQv9C+0LvQvdGP0LXRgiDQstGB0LVcXFxcbiAgICAgICAgICAgINC90LXQvtCx0YXQvtC00LjQvNGL0LUg0L/QvtC70Y8g0YHQv9C10YbQuNCw0LvRjNC90YvRhSDRhNC+0YDQvC4g0J3QtSDQt9Cw0L/QvtC70L3QtdC90LjQtSDRhdC+0YLRjyDQsdGLINC+0LTQvdC+0LPQviDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LPQviDQv9C+0LvRjyAo0LIg0YIu0YcuINCy0LLQvtC0INC90LXQutC+0YDRgNC10LrRgtC90YvRhVxcXFxuICAgICAgICAgICAg0LTQsNC90L3Ri9GFKSDQstC70LXRh9C10YIg0L3QtdC00LXQudGB0YLQstC40YLQtdC70YzQvdC+0YHRgtGMINGA0LXQs9C40YHRgtGA0LDRhtC40Lgg0LvQuNCx0L4g0LvQuNGB0YLQsCDQt9Cw0LrQsNC30LAuPGJyPlxcXFxuICAgICAgICAgICAgMy40LiDQn9C+0YHQu9C1INC/0YDQvtGF0L7QttC00LXQvdC40Y8g0KDQtdCz0LjRgdGC0YDQsNGG0LjQuCDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC/0L7Qu9GD0YfQsNC10YIg0L3QsCDRg9C60LDQt9Cw0L3QvdGL0Lkg0LjQvCDQvdC+0LzQtdGAINC80L7QsdC40LvRjNC90L7Qs9C+INGC0LXQu9C10YTQvtC90LBcXFxcbiAgICAgICAgICAgINCf0JDQoNCe0JvQrCwg0LrQvtGC0L7RgNGL0Lkg0LIg0LTQsNC70YzQvdC10LnRiNC10Lwg0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8L9Ca0LvQuNC10L3RgtC+0Lwg0LTQu9GPINCQ0LLRgtC+0YDQuNC30LDRhtC40Lgg0Lgg0LLRhdC+0LTQsCDQsiDQm9C40YfQvdGL0LlcXFxcbiAgICAgICAgICAgINC60LDQsdC40L3QtdGCLjxicj5cXFxcbiAgICAgICAgICAgIDMuNS4g0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDQvdC10YHQtdGCINC/0L7Qu9C90YPRjiDQvtGC0LLQtdGC0YHRgtCy0LXQvdC90L7RgdGC0Ywg0LfQsCDQstGB0LUg0LTQtdC50YHRgtCy0LjRjyDRgSDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtdC8INC10LPQviDQm9C+0LPQuNC90LAgKNC90L7QvNC10YBcXFxcbiAgICAgICAgICAgINC80L7QsdC40LvRjNC90L7Qs9C+INGC0LXQu9C10YTQvtC90LApINC4INCf0LDRgNC+0LvRjy4g0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDQuNC80LXQtdGCINC/0YDQsNCy0L4g0L/QvtC70YzQt9C+0LLQsNGC0YzRgdGPINCj0YHQu9GD0LPQsNC80Lgg0KHQsNC50YLQsCDRgtC+0LvRjNC60L4g0L/RgNC4INC/0L7QvNC+0YnQuFxcXFxuICAgICAgICAgICAg0YHQvtCx0YHRgtCy0LXQvdC90L7Qs9C+INC90L7QvNC10YDQsCDQvNC+0LHQuNC70YzQvdC+0LPQviDRgtC10LvQtdGE0L7QvdCwINC4INC/0LDRgNC+0LvRjy48YnI+XFxcXG4gICAgICAgICAgICAzLjYuINCf0YDQuCDQv9C+0LvRjNC30L7QstCw0L3QuNC4INCh0LDQudGC0L7QvCA8c3Ryb25nPtCX0JDQn9Cg0JXQqdCV0J3Qnjo8L3N0cm9uZz48YnI+XFxcXG4gICAgICAgICAgICAtINC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuNC1INC/0YDQvtCz0YDQsNC80LzRiyDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINC00L7RgdGC0YPQv9CwINC90LAg0KHQsNC50YI7PGJyPlxcXFxuICAgICAgICAgICAgLSDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LrQvtC80L/RjNGO0YLQtdGA0L3Ri9C1INC/0YDQvtCz0YDQsNC80LzRiywg0L/QvtC30LLQvtC70Y/RjtGJ0LjQtSDRgNCw0LfQvNC10YnQsNGC0Ywg0L3QsCDQodCw0LnRgtC1INCY0L3RhNC+0YDQvNCw0YbQuNGOLCDQvNC40L3Rg9GPINC+0LHRi9GH0L3Ri9C5INC/0L7RgNGP0LTQvtC6XFxcXG4gICAgICAgICAgICDRgNCw0LfQvNC10YnQtdC90LjRjyAo0Log0L/RgNC40LzQtdGA0YMg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LUg0L/RgNC+0LPRgNCw0LzQvCDQv9C+INCw0LLRgtC+0LfQsNCz0YDRg9C30LrQtSDQmNC90YTQvtGA0LzQsNGG0LjQuCk7PGJyPlxcXFxuICAgICAgICAgICAgLSDQv9GA0LXQtNC/0YDQuNC90LjQvNCw0YLRjCDQutCw0LrQuNC1LdC70LjQsdC+INC00LXQudGB0YLQstC40Y8sINC60L7RgtC+0YDRi9C1INC80L7Qs9GD0YIg0L/RgNC40LLQtdGB0YLQuCDQuiDQvdC10L/RgNC+0L/QvtGA0YbQuNC+0L3QsNC70YzQvdC+INCx0L7Qu9GM0YjQvtC5INC90LDQs9GA0YPQt9C60LUg0L3QsFxcXFxuICAgICAgICAgICAg0LjQvdGE0YDQsNGB0YLRgNGD0LrRgtGD0YDRgyDQodCw0LnRgtCwOzxicj5cXFxcbiAgICAgICAgICAgIC0g0LrQvtC/0LjRgNC+0LLQsNGC0YwsINCy0L7RgdC/0YDQvtC40LfQstC+0LTQuNGC0YwsINC40LfQvNC10L3Rj9GC0YwsINGA0LDRgdC/0YDQvtGB0YLRgNCw0L3Rj9GC0Ywg0Lgg0L/RgNC10LTRgdGC0LDQstC70Y/RgtGMINC+0LHRidC10YHRgtCy0LXQvdC90L7RgdGC0Lgg0LvRjtCx0YPRjiDQuNC90YTQvtGA0LzQsNGG0LjRjixcXFxcbiAgICAgICAgICAgINGB0L7QtNC10YDQttCw0YnRg9GO0YHRjyDQvdCwINCh0LDQudGC0LUgKNC60YDQvtC80LUg0KHQstC10LTQtdC90LjQuSwg0L/RgNC10LTQvtGB0YLQsNCy0LvQtdC90L3Ri9GFINGB0LDQvNC40Lwg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lwv0JrQu9C40LXQvdGC0L7QvCkg0LHQtdC3INC/0YDQtdC00LLQsNGA0LjRgtC10LvRjNC90L7Qs9C+XFxcXG4gICAgICAgICAgICDQv9C40YHRjNC80LXQvdC90L7Qs9C+INGA0LDQt9GA0LXRiNC10L3QuNGPINCa0L7QvNC/0LDQvdC40Lg7PGJyPlxcXFxuICAgICAgICAgICAgLSDQv9GA0LXQv9GP0YLRgdGC0LLQvtCy0LDRgtGMINGA0LDQsdC+0YLQtSDQodCw0LnRgtCwLCDQsCDRgtCw0LrQttC1INC/0YDQtdC/0Y/RgtGB0YLQstC+0LLQsNGC0Ywg0LTQtdC50YHRgtCy0LjRjiDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQuNGFINGB0LjRgdGC0LXQvCDQuNC70Lgg0L/RgNC+0YbQtdGB0YHQvtCyLCDRgSDRhtC10LvRjNGOXFxcXG4gICAgICAgICAgICDQstC+0YHQv9GA0LXQv9GP0YLRgdGC0LLQvtCy0LDRgtGMINC40LvQuCDQvtCz0YDQsNC90LjRh9C40YLRjCDQtNC+0YHRgtGD0L8g0L3QsCDQodCw0LnRgjs8YnI+XFxcXG4gICAgICAgICAgICAtINC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRgdCy0LXQtNC10L3QuNGPLCDQv9GA0LXQtNC+0YHRgtCw0LLQu9C10L3QvdGL0LUg0LTRgNGD0LPQuNC8INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8L9Ca0LvQuNC10L3RgtC+0LwsINCx0LXQtyDQv9C40YHRjNC80LXQvdC90L7Qs9C+INGA0LDQt9GA0LXRiNC10L3QuNGPXFxcXG4gICAgICAgICAgICDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y8v0JrQu9C40LXQvdGC0LAsINGA0LDQt9C80LXRgdGC0LjQstGI0LXQs9C+INGC0LDQutC40LUg0YHQstC10LTQtdC90LjRjywg0LjQu9C4INCx0LXQtyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDQutCw0LrQuNC8LdC70LjQsdC+INC00YDRg9Cz0LjQvCDRgdC/0L7RgdC+0LHQvtC8INC/0YDQsNCy0LBcXFxcbiAgICAgICAgICAgINC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRgtCw0LrQuNC1INGB0LLQtdC00LXQvdC40Y8uINCS0YHQtSDRgdCy0LXQtNC10L3QuNGPLCDQv9C+0LvRg9GH0LXQvdC90YvQtSDQn9C+0LvRjNC30L7QstCw0YLQtdC70LXQvC/QmtC70LjQtdC90YLQvtC8INC+INC00YDRg9Cz0LjRhSDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y/RhSDQsiDRgdCy0Y/Qt9C4XFxcXG4gICAgICAgICAgICDRgSDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtdC8INCh0LDQudGC0LAsINC80L7Qs9GD0YIg0LHRi9GC0Ywg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdGLINGC0L7Qu9GM0LrQviDQtNC70Y8g0YHQvtCy0LXRgNGI0LXQvdC40Y8g0Lgg0LjRgdC/0L7Qu9C90LXQvdC40Y8g0YHQtNC10LvQvtC6INCyINC+0YLQvdC+0YjQtdC90LjQuCDRg9GB0LvRg9CzLFxcXFxuICAgICAgICAgICAg0YHQvtC00LXRgNC20LDRidC40YXRgdGPINCyINCY0L3RhNC+0YDQvNCw0YbQuNC4INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5L9Ca0LvQuNC10L3RgtC+0LIuINCi0LDQutC40Lwg0L7QsdGA0LDQt9C+0LwsINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRji/QmtC70LjQtdC90YLRgyDQvdC1INGA0LDQt9GA0LXRiNCw0LXRgtGB0Y9cXFxcbiAgICAgICAgICAgINC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRjdC70LXQutGC0YDQvtC90L3Ri9C5INCw0LTRgNC10YEsINGA0L7QstC90L4sINC60LDQuiDQuCDQvdC+0LzQtdGAINGC0LXQu9C10YTQvtC90LAg0LTRgNGD0LPQvtCz0L4g0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPL9Ca0LvQuNC10L3RgtCwINC00LvRjyDRhtC10LvQtdC5INC/0YDRj9C80L7QuVxcXFxuICAgICAgICAgICAg0YDQtdC60LvQsNC80L3QvtC5INGA0LDRgdGB0YvQu9C60Lgg0LjQu9C4INC00YDRg9Cz0L7QuSDRgNCw0YHRgdGL0LvQutC4INC90LXQttC10LvQsNGC0LXQu9GM0L3Ri9GFINGN0LvQtdC60YLRgNC+0L3QvdGL0YUg0YHQvtC+0LHRidC10L3QuNC5LCDQsCDRgtCw0LrQttC1INC00LvRjyDQuNC90YvRhSDQv9GA0L7RgtC40LLQvtC/0YDQsNCy0L3Ri9GFXFxcXG4gICAgICAgICAgICDQtNC10LnRgdGC0LLQuNC5INC40LvQuCDQtNC10LnRgdGC0LLQuNC5LCDRgdC+0LLQtdGA0YjQsNC10LzRi9GFINCx0LXQtyDQstC10LTQvtC80LAg0Lgv0LjQu9C4INGB0L7Qs9C70LDRgdC40Y8g0LTRgNGD0LPQvtC5INGB0YLQvtGA0L7QvdGLOzxicj5cXFxcbiAgICAgICAgICAgIC0g0L3QsNGA0YPRiNCw0YLRjCDQuNC90YTQvtGA0LzQsNGG0LjQvtC90L3Rg9GOINCx0LXQt9C+0L/QsNGB0L3QvtGB0YLRjCDQodCw0LnRgtCwOzxicj5cXFxcbiAgICAgICAgICAgIC0g0LLQvdC10LTRgNGP0YLRjCDQuNGB0L/QvtC70L3Rj9C10LzRi9C5INC60L7QtCDQvdCwINGB0YLQvtGA0L7QvdC1INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCwg0LvRjtCx0YvQtSDQstC90LXQtNGA0Y/QtdC80YvQtSDQvtCx0YrQtdC60YLRiywg0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMIGZyYW1lINC4XFxcXG4gICAgICAgICAgICBpZnJhbWUsINC60LDRgdC60LDQtNC90YvQtSDRgtCw0LHQu9C40YbRiyDRgdGC0LjQu9C10LksIGh0bWwt0LrQvtC0Ozxicj5cXFxcbiAgICAgICAgICAgIC0g0L/RgNC10LTRgdGC0LDQstC70Y/RgtGM0YHRjyDRh9GD0LbQuNC8INC40LzQtdC90LXQvCDQuNC70Lgg0L7RgiDRh9GD0LbQvtCz0L4g0LjQvNC10L3QuCDigJQg0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNC90L3QvtCz0L4g0L3QsCDQodCw0LnRgtC1INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCxcXFxcbiAgICAgICAgICAgINGB0L7RgtGA0YPQtNC90LjQutCwINCa0L7QvNC/0LDQvdC40LguINCS0LLQvtC00LjRgtGMINCyINC30LDQsdC70YPQttC00LXQvdC40LUg0LTRgNGD0LPQuNGFINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5XFxcXFxc0JrQu9C40LXQvdGC0L7QsiDQuCDQsNC00LzQuNC90LjRgdGC0YDQsNGG0LjRjiDQodCw0LnRgtCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QvlxcXFxuICAgICAgICAgICAg0YHQstC+0LXQuSDQuNC00LXQvdGC0LjRhNC40LrQsNGG0LjQuCDQu9GO0LHRi9C8INC40L3Ri9C8INGB0L/QvtGB0L7QsdC+0Lw8YnI+XFxcXG4gICAgICAgICAgICAtINGA0LDQt9C80LXRidCw0YLRjCDQtNGD0LHQu9C40YDRg9GO0YnRg9GOINCY0L3RhNC+0YDQvNCw0YbQuNGOINC+0LTQvdC+0LPQviDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y8v0JrQu9C40LXQvdGC0LAg0YEg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LXQvCDRgNCw0LfQvdGL0YUgRS1tYWlsINC4INC90L7QvNC10YDQvtCyXFxcXG4gICAgICAgICAgICDQvNC+0LHQuNC70YzQvdGL0YUg0YLQtdC70LXRhNC+0L3QvtCyOzxicj5cXFxcbiAgICAgICAgICAgIC0g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINCj0YHQu9GD0LPQuCDQodCw0LnRgtCwINC00LvRjyDQvdC10LfQsNC60L7QvdC90L7QuSDQtNC10Y/RgtC10LvRjNC90L7RgdGC0Lgg0LvQuNCx0L4g0LTQtdGP0YLQtdC70YzQvdC+0YHRgtC4LCDQutC+0YLQvtGA0LDRjyDQvNC+0LbQtdGCINC/0YDQuNCy0LXRgdGC0Lgg0LpcXFxcbiAgICAgICAgICAgINC90LDRgNGD0YjQtdC90LjRjiDQmtC+0LzQv9Cw0L3QuNC10Lkg0Lgv0LjQu9C4INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8L9Ca0LvQuNC10L3RgtC+0Lwg0LTQtdC50YHRgtCy0YPRjtGJ0LXQs9C+INC30LDQutC+0L3QvtC00LDRgtC10LvRjNGB0YLQstCwINCg0KQuPC9wPlxcXFxuXFxcXG4gICAgICAgIDxicj5cXFxcblxcXFxuICAgICAgICA8cD48c3Ryb25nPjQuINCf0KDQkNCS0JAg0Jgg0J7QkdCv0JfQkNCd0J3QntCh0KLQmCDQn9Ce0JvQrNCX0J7QktCQ0KLQldCb0K8v0JrQm9CY0JXQndCi0JA8L3N0cm9uZz48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+NC4xLiZuYnNwOyZuYnNwOyZuYnNwOyDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC+0LHRj9C30YPQtdGC0YHRjzo8YnI+XFxcXG4gICAgICAgICAgICA0LjEuMS4g0KHQvtCx0LvRjtC00LDRgtGMINGC0YDQtdCx0L7QstCw0L3QuNGPLCDQvtC/0YDQtdC00LXQu9C10L3QvdGL0LUg0LIg0L3QsNGB0YLQvtGP0YnQtdC5INCe0YTQtdGA0YLQtSwg0JTQvtCz0L7QstC+0YDQtSwg0LvQuNGB0YLQtSDQt9Cw0LrQsNC30LAg0Lgg0LjQvdGL0YUg0LTQvtC60YPQvNC10L3RgtCw0YUsXFxcXG4gICAgICAgICAgICDQvtC/0YDQtdC00LXQu9GP0Y7RidC40YUg0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQodCw0LnRgtC+0LwuPGJyPlxcXFxuICAgICAgICAgICAgNC4xLjIuINCf0YDQuCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4INC90LAg0KHQsNC50YLQtSDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0YLQvtC70YzQutC+INGA0LXQsNC70YzQvdGL0LUg0LTQsNC90L3Ri9C1INC+INGB0LXQsdC1INC4INGA0LDQt9C80LXRidCw0LXQvNC+0Lkg0JjQvdGE0L7RgNC80LDRhtC40LguPGJyPlxcXFxuICAgICAgICAgICAgNC4xLjMuINCh0LvQtdC00LjRgtGMINC30LAg0YHQvtGF0YDQsNC90L3QvtGB0YLRjNGOINGB0LLQvtC10LPQviDQn9Cw0YDQvtC70Y8g0Lgg0L3QtSDRgNCw0YHQutGA0YvQstCw0YLRjCDQtdCz0L4g0L/QvtGB0YLQvtGA0L7QvdC90LjQvCDQu9C40YbQsNC8Ljxicj5cXFxcbiAgICAgICAgICAgIDQuMS40LiDQndC1INC/0LXRgNC10LTQsNCy0LDRgtGMINC40LvQuCDQv9GA0L7QtNCw0LLQsNGC0Ywg0YHQstC+0Lgg0KPRh9C10YLQvdGL0LUg0LTQsNC90L3Ri9C1INC00LvRjyDQkNCy0YLQvtGA0LjQt9Cw0YbQuNC4INC90LAg0KHQsNC50YLQtSDRgtGA0LXRgtGM0LjQvCDQu9C40YbQsNC8Ljxicj5cXFxcbiAgICAgICAgICAgIDQuMS41LiDQn9GA0Lgg0YDQsNC30LzQtdGJ0LXQvdC40Lgg0JjQvdGE0L7RgNC80LDRhtC40Lgg0YHQvtCx0LvRjtC00LDRgtGMINGC0YDQtdCx0L7QstCw0L3QuNGPINC00LXQudGB0YLQstGD0Y7RidC10LPQviDQt9Cw0LrQvtC90L7QtNCw0YLQtdC70YzRgdGC0LLQsCDQoNCkLCDQsiDRgi7Rhy4g0KTQlyDCq9CeXFxcXG4gICAgICAgICAgICDRgNC10LrQu9Cw0LzQtcK7INC+0YIgMTMuMDMuMjAwNtCzLiDihJYgMzgt0KTQly48YnI+XFxcXG4gICAgICAgICAgICA0LjEuNi4g0J/RgNC10LTQvtGB0YLQsNCy0LjRgtGMLCDQv9C+INGC0YDQtdCx0L7QstCw0L3QuNGOINCa0L7QvNC/0LDQvdC40LgsINC00L7QutGD0LzQtdC90YLQsNC70YzQvdC+INC/0L7QtNGC0LLQtdGA0LbQtNGR0L3QvdGL0LUg0YHQstC10LTQtdC90LjRjyDQviDRgdC+0L7RgtCy0LXRgtGB0YLQstC40Lgg0JjQvdGE0L7RgNC80LDRhtC40LhcXFxcbiAgICAgICAgICAgINGC0YDQtdCx0L7QstCw0L3QuNGP0Lwg0LTQtdC50YHRgtCy0YPRjtGJ0LXQs9C+INC30LDQutC+0L3QvtC00LDRgtC10LvRjNGB0YLQstCwINCg0KQsINCyINGC0L7QvCDRh9C40YHQu9C1INC90LDQtNC70LXQttCw0YnQuNC8INC+0LHRgNCw0LfQvtC8INC30LDQstC10YDQtdC90L3Ri9C1INC60L7Qv9C40Lgg0LTQuNC/0LvQvtC80L7QsixcXFxcbiAgICAgICAgICAgINC70LjRhtC10L3Qt9C40LksINGB0LXRgNGC0LjRhNC40LrQsNGC0L7Qsiwg0YHQstC40LTQtdGC0LXQu9GM0YHRgtCyINC+INGA0LXQs9C40YHRgtGA0LDRhtC40LgsINCyINGB0LvRg9GH0LDQtSDQtdGB0LvQuCDRg9GB0LvRg9Cz0Lgg0L/QvtC00LvQtdC20LDRgiDQu9C40YbQtdC90LfQuNGA0L7QstCw0L3QuNGOLFxcXFxuICAgICAgICAgICAg0L7QsdGP0LfQsNGC0LXQu9GM0L3QvtC5INGB0LXRgNGC0LjRhNC40LrQsNGG0LjQuCwg0LPQvtGB0YPQtNCw0YDRgdGC0LLQtdC90L3QvtC5INGA0LXQs9C40YHRgtGA0LDRhtC40LguPGJyPlxcXFxuICAgICAgICAgICAgNC4xLjcuINCd0LUg0YDQsNC30LzQtdGJ0LDRgtGMINCY0L3RhNC+0YDQvNCw0YbQuNGOLCDQstGF0L7QtNGP0YnRg9GOINCyIMKr0KHQv9C40YHQvtC6INC30LDQv9GA0LXRidC10L3QvdC+0Lkg0Log0YDQsNC30LzQtdGJ0LXQvdC40Y4g0JjQvdGE0L7RgNC80LDRhtC40LjCuy48YnI+XFxcXG4gICAgICAgICAgICA0LjEuOC4g0J3QtSDRg9C90LjRh9GC0L7QttCw0YLRjCDQuC/QuNC70Lgg0L3QtSDQuNC30LzQtdC90Y/RgtGMINC70Y7QsdGL0LUg0LzQsNGC0LXRgNC40LDQu9GLINC90LAg0KHQsNC50YLQtSwg0LDQstGC0L7RgNC+0Lwg0LrQvtGC0L7RgNGL0YUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDQvdC1XFxcXG4gICAgICAgICAgICDRj9Cy0LvRj9C10YLRgdGPLjxicj5cXFxcbiAgICAgICAgICAgIDQuMS45LiDQl9Cw0L/QvtC70L3QuNGC0Ywg0LLRgdC1INC90LXQvtCx0YXQvtC00LjQvNGL0LUg0YTQvtGA0LzRiyDQuCDQv9GA0LXQtNC+0YHRgtCw0LLQuNGC0Ywg0YLQvtC70YzQutC+INGB0LLQvtC1INCk0L7RgtC+ICjQn9C+0LvRjNC30L7QstCw0YLQtdC70Y8pL9Cb0L7Qs9C+0YLQuNC/ICjQmtC70LjQtdC90YLQsCkuXFxcXG4gICAgICAgICAgICDQmNC90YTQvtGA0LzQsNGG0LjRjywg0YHQvtC00LXRgNC20LDRidCw0Y8g0LvQuNGG0LXQvdC30LjRgNGD0LXQvNGL0LUg0LLQuNC00Ysg0LTQtdGP0YLQtdC70YzQvdC+0YHRgtC4LCDQtNC+0LvQttC90LAg0YHQvtC00LXRgNC20LDRgtGMINC90L7QvNC10YAg0LvQuNGG0LXQvdC30LjQuC4gNC4xLjEwLiDQoNCw0LfQvNC10YnQsNGC0YxcXFxcbiAgICAgICAgICAgINCY0L3RhNC+0YDQvNCw0YbQuNGOLCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidGD0Y4g0L/QviDRgdC+0LTQtdGA0LbQsNC90LjRjiDQstGL0LHRgNCw0L3QvdC+0Lkg0KDRg9Cx0YDQuNC60LUv0L/QvtC00YDRg9Cx0YDQuNC60LUuPGJyPlxcXFxuICAgICAgICAgICAgNC4xLjExLiDQntC/0LvQsNGH0LjQstCw0YLRjCDQn9C70LDRgtC90YvQtSDQo9GB0LvRg9Cz0Lgg0JrQvtC80L/QsNC90LjQuCDQsiDQv9C+0YDRj9C00LrQtSDQuCDRgdGA0L7QutC4LCDQvtC/0YDQtdC00LXQu9C10L3QvdGL0LUg0J7RhNC10YDRgtC+0LksINCU0L7Qs9C+0LLQvtGA0L7QvCDQuCDQu9C40YHRgtC+0LxcXFxcbiAgICAgICAgICAgINC30LDQutCw0LfQsC48YnI+XFxcXG4gICAgICAgICAgICA0LjIuICDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC40LzQtdC10YIg0L/RgNCw0LLQvjo8YnI+XFxcXG4gICAgICAgICAgICA0LjIuMSDQn9C+0LvRg9GH0LDRgtGMINC/0YDQsNCy0L4g0LLQvtGB0L/QvtC70YzQt9C+0LLQsNGC0YzRgdGPINCf0LvQsNGC0L3Ri9C80Lgg0KPRgdC70YPQs9Cw0LzQuCDQodCw0LnRgtCwINC/0L7RgdC70LUg0L/QvtC70L3QvtC5INC+0L/Qu9Cw0YLRiyDRgdGH0LXRgtCwLCDQstGL0YHRgtCw0LLQu9C10L3QvdC+0LPQviDQv9GA0LhcXFxcbiAgICAgICAgICAgINC+0YTQvtGA0LzQu9C10L3QuNC4INC70LjRgdGC0LAg0LfQsNC60LDQt9CwINC90LAg0LTQsNC90L3Ri9C1INCj0YHQu9GD0LPQuC48YnI+XFxcXG4gICAgICAgICAgICA0LjIuMi4g0JLQvtGB0L/QvtC70YzQt9C+0LLQsNGC0YzRgdGPINGD0YHQu9GD0LPQsNC80Lgg0LzQtdC90LXQtNC20LXRgNC+0LIg0JrQvtC80L/QsNC90LjQuCDQtNC70Y8g0L7QutCw0LfQsNC90LjRjyDQv9C+0LzQvtGJ0Lgg0L/RgNC4INCg0LXQs9C40YHRgtGA0LDRhtC40LgsINC60LDQuiDQv9C+INGC0LXQu9C10YTQvtC90YM6ICs3XFxcXG4gICAgICAgICAgICAoODQ4MikgNzQtNDQtMTksINGC0LDQuiDQuCDQvdC10L/QvtGB0YDQtdC00YHRgtCy0LXQvdC90L4g0L/RgNC4INCy0YHRgtGA0LXRh9C1Ljxicj5cXFxcbiAgICAgICAgICAgIDQuMi4zLiDQoNCw0LfQvNC10YnQsNGC0Ywg0JjQvdGE0L7RgNC80LDRhtC40Y4g0L7QsSDRg9GB0LvRg9Cz0LDRhSwg0LrQvtGC0L7RgNGL0LUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDQvNC+0LbQtdGCINC+0LrQsNC30YvQstCw0YLRjCwg0LjQvNC10Y8g0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNC1XFxcXG4gICAgICAgICAgICDQvdCw0LLRi9C60LgsINC+0LHRgNCw0LfQvtCy0LDQvdC40LUg0Lgg0YDQsNC30YDQtdGI0LXQvdC40Y8uIDQuMi40LiDQoNCw0LfRgNC10YjQuNGC0Ywg0L7Qv9C70LDRgtGDINGB0YfQtdGC0LAg0LfQsCDQn9C70LDRgtC90YvQtSDQo9GB0LvRg9Cz0Lgg0YLRgNC10YLRjNC10LzRgyDQu9C40YbRg1xcXFxuICAgICAgICAgICAgKNCf0LvQsNGC0LXQu9GM0YnQuNC60YMpINGBINGD0YfQtdGC0L7QvCDRgtGA0LXQsdC+0LLQsNC90LjQuSDQtNC10LnRgdGC0LLRg9GO0YnQtdCz0L4g0LfQsNC60L7QvdC+0LTQsNGC0LXQu9GM0YHRgtCy0LAg0Lgg0L7RhNC+0YDQvNC70LXQvdC90L7Qs9C+INC00L7Qs9C+0LLQvtGA0LAuIDQuMy4g0JrQvtC80L/QsNC90LjRj1xcXFxuICAgICAgICAgICAg0L7QsdGP0LfRg9C10YLRgdGPOjxicj5cXFxcbiAgICAgICAgICAgIDQuMy4xLiDQn9GA0LXQtNC+0YHRgtCw0LLQuNGC0Ywg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GOL9Ca0LvQuNC10L3RgtGDINC/0YDQsNCy0L4g0L/QvtC70YzQt9C+0LLQsNGC0YzRgdGPINCj0YHQu9GD0LPQsNC80Lgg0KHQsNC50YLQsCDQsiDQv9C+0YDRj9C00LrQtSDQuCDRgdGA0L7QutC4LCDQvtC/0YDQtdC00LXQu9C10L3QvdGL0LzQuFxcXFxuICAgICAgICAgICAg0LIg0J7RhNC10YDRgtC1LCDQlNC+0LPQvtCy0L7RgNC1INC4INC70LjRgdGC0LUg0LfQsNC60LDQt9CwLjxicj5cXFxcbiAgICAgICAgICAgIDQuMy4yLiDQn9GA0LXQtNC+0YHRgtCw0LLQuNGC0Ywg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvC/QmtC70LjQtdC90YLQsNC8INGD0L/RgNCw0LLQu9GP0YLRjCDQtNC+0YHRgtGD0L/QvtC8INC6INGB0LLQvtC40Lwg0L/QtdGA0YHQvtC90LDQu9GM0L3Ri9C8INC00LDQvdC90YvQvCDQuFxcXFxuICAgICAgICAgICAg0YDQsNC30LzQtdGJ0LXQvdC90L7QuSDQmNC90YTQvtGA0LzQsNGG0LjQuC48YnI+XFxcXG4gICAgICAgICAgICA0LjQuJm5ic3A7Jm5ic3A7Jm5ic3A7ICDQmtC+0LzQv9Cw0L3QuNGPINC40LzQtdC10YIg0L/RgNCw0LLQvjo8YnI+XFxcXG4gICAgICAgICAgICA0LjQuMS4g0KPQtNCw0LvQuNGC0Ywg0JjQvdGE0L7RgNC80LDRhtC40Y4sINC30LDQsdC70L7QutC40YDQvtCy0LDRgtGMINC00L7RgdGC0YPQvy/Rg9C00LDQu9C40YLRjCDQo9GH0LXRgtC90YvQtSDQtNCw0L3QvdGL0LUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lkv0JrQu9C40LXQvdGC0L7Qsiwg0L3QsNGA0YPRiNC40LLRiNC40YVcXFxcbiAgICAgICAgICAgINC/0L7Qu9C+0LbQtdC90LjRjyDQvdCw0YHRgtC+0Y/RidC10Lkg0J7RhNC10YDRgtGLLCDQlNC+0LPQvtCy0L7RgNCwINC4INC70LjRgdGC0LAg0LfQsNC60LDQt9CwLCDQsdC10Lcg0LjQt9Cy0LXRidC10L3QuNGPINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsC48L3A+XFxcXG5cXFxcbiAgICAgICAgPGJyPlxcXFxuXFxcXG4gICAgICAgIDxwPjxzdHJvbmc+NS4g0JjQndCk0J7QoNCc0JDQptCY0K8sINCX0JDQn9Cg0JXQqdCV0J3QndCQ0K8g0Jog0KDQkNCX0JzQldCp0JXQndCY0K48L3N0cm9uZz48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+NS4xLiDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y4v0JrQu9C40LXQvdGC0YMg0LfQsNC/0YDQtdGJ0LXQvdC+INGA0LDQt9C80LXRidCw0YLRjCwg0LAg0LIg0YHQu9GD0YfQsNC1INGA0LDQt9C80LXRidC10L3QuNGPLCDQv9C+0LTQu9C10LbQuNGCINGD0LTQsNC70LXQvdC40Y4g0JjQvdGE0L7RgNC80LDRhtC40Y8sXFxcXG4gICAgICAgICAgICDRgdC+0LTQtdGA0LbQsNGJ0LDRjzo8L3A+XFxcXG5cXFxcbiAgICAgICAgPHVsPlxcXFxuICAgICAgICAgICAgPGxpPlxcXFxuICAgICAgICAgICAgICAgIDxwPtC70L7QttC90YvQtSwg0L3QtdGC0L7Rh9C90YvQtSDQuNC70Lgg0LLQstC+0LTRj9GJ0LjQtSDQsiDQt9Cw0LHQu9GD0LbQtNC10L3QuNC1INGB0LLQtdC00LXQvdC40Y87PC9wPlxcXFxuICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgIDxsaT5cXFxcbiAgICAgICAgICAgICAgICA8cD7RgdCy0LXQtNC10L3QuNGPLCDRgdC/0L7RgdC+0LHRgdGC0LLRg9GO0YnQuNC1INC80L7RiNC10L3QvdC40YfQtdGB0YLQstGDLCDQvtCx0LzQsNC90YMg0LjQu9C4INC30LvQvtGD0L/QvtGC0YDQtdCx0LvQtdC90LjRjiDQtNC+0LLQtdGA0LjQtdC8OzwvcD5cXFxcbiAgICAgICAgICAgIDwvbGk+XFxcXG4gICAgICAgICAgICA8bGk+XFxcXG4gICAgICAgICAgICAgICAgPHA+0L7RgdC60L7RgNCx0LvQtdC90LjRjyDRh9GM0LXQuS3Qu9C40LHQviDRh9C10YHRgtC4LCDQtNC+0YHRgtC+0LjQvdGB0YLQstCwINC40LvQuCDQtNC10LvQvtCy0L7QuSDRgNC10L/Rg9GC0LDRhtC40LgsINC90LDRgNGD0YjQtdC90LjRjyDRh9Cw0YHRgtC90L7QuSDQttC40LfQvdC4OzwvcD5cXFxcbiAgICAgICAgICAgIDwvbGk+XFxcXG4gICAgICAgICAgICA8bGk+XFxcXG4gICAgICAgICAgICAgICAgPHA+0LrQu9C10LLQtdGC0YMg0LjQu9C4INGD0LPRgNC+0LfRiyDQutC+0LzRgyDQsdGLINGC0L4g0L3QuCDQsdGL0LvQvjs8L3A+XFxcXG4gICAgICAgICAgICA8L2xpPlxcXFxuICAgICAgICAgICAgPGxpPlxcXFxuICAgICAgICAgICAgICAgIDxwPtC90LDRgNGD0YjQtdC90LjRjyDQuNC90YLQtdC70LvQtdC60YLRg9Cw0LvRjNC90YvRhSDQv9GA0LDQsiDRgtGA0LXRgtGM0LjRhSDQu9C40YYsINC/0YDQsNCyINC90LAg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQs9GA0LDQttC00LDQvdC40L3QsCwg0Lgg0LjQvdGL0LUg0L/RgNCw0LLQsCDRgtGA0LXRgtGM0LjRhVxcXFxuICAgICAgICAgICAgICAgICAgICDQu9C40YY7PC9wPlxcXFxuICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgIDxsaT5cXFxcbiAgICAgICAgICAgICAgICA8cD7Qv9GA0LjQt9GL0LLRiyDQuiDRgdC+0LLQtdGA0YjQtdC90LjRjiDQv9GA0LXRgdGC0YPQv9C70LXQvdC40Y8g0Lgg0YDQsNC30LbQuNCz0LDQvdC40Y4g0LzQtdC20L3QsNGG0LjQvtC90LDQu9GM0L3QvtC5INGA0L7Qt9C90Lg7PC9wPlxcXFxuICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgIDxsaT5cXFxcbiAgICAgICAgICAgICAgICA8cD7RgdCy0LXQtNC10L3QuNGPLCDRgdC/0L7RgdC+0LHRgdGC0LLRg9GO0YnQuNC1LCDQv9C+0LTQtNC10YDQttC40LLQsNGO0YnQuNC1INC40LvQuCDQv9GA0LjQt9GL0LLQsNGO0YnQuNC1INC6INGC0LXRgNGA0L7RgNC40YHRgtC40YfQtdGB0LrQvtC5INC4INGN0LrRgdGC0YDQtdC80LjRgdGC0YHQutC+0LlcXFxcbiAgICAgICAgICAgICAgICAgICAg0LTQtdGP0YLQtdC70YzQvdC+0YHRgtC4OzwvcD5cXFxcbiAgICAgICAgICAgIDwvbGk+XFxcXG4gICAgICAgICAgICA8bGk+XFxcXG4gICAgICAgICAgICAgICAgPHA+0YHQstC10LTQtdC90LjRjyDQvdC10L/RgNC40YHRgtC+0LnQvdGL0LUsINC70LjQsdC+INC90L7RgdGP0YnQuNC1INGF0LDRgNCw0LrRgtC10YAg0L/QvtGA0L3QvtCz0YDQsNGE0LjQuDs8L3A+XFxcXG4gICAgICAgICAgICA8L2xpPlxcXFxuICAgICAgICAgICAgPGxpPlxcXFxuICAgICAgICAgICAgICAgIDxwPtC60L7QvNC/0YzRjtGC0LXRgNC90YvQtSDQstC40YDRg9GB0YssINCwINGC0LDQutC20LUg0LjQvdGL0LUg0LrQvtC80L/RjNGO0YLQtdGA0L3Ri9C1INC/0YDQvtCz0YDQsNC80LzRiywg0L3QsNC/0YDQsNCy0LvQtdC90L3Ri9C1LCDQsiDRh9Cw0YHRgtC90L7RgdGC0LgsINC90LAg0L3QsNC90LXRgdC10L3QuNC1XFxcXG4gICAgICAgICAgICAgICAgICAgINCy0YDQtdC00LAsINC90LXRg9C/0L7Qu9C90L7QvNC+0YfQtdC90L3QvtC1INCy0YLQvtGA0LbQtdC90LjQtSwg0YLQsNC50L3Ri9C5INC/0LXRgNC10YXQstCw0YIg0LvQuNCx0L4g0L/RgNC40YHQstC+0LXQvdC40LUg0LTQsNC90L3Ri9GFINC70Y7QsdC+0Lkg0YHQuNGB0YLQtdC80Ysg0LvQuNCx0L4g0YHQsNC80L7QuVxcXFxuICAgICAgICAgICAgICAgICAgICDRgdC40YHRgtC10LzRiywg0LvQuNCx0L4g0LXQtSDRh9Cw0YHRgtC4LCDQu9C40LHQviDQu9C40YfQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40Lgg0LjQu9C4INC40L3Ri9GFINC00LDQvdC90YvRhSAo0LLQutC70Y7Rh9Cw0Y8g0LTQsNC90L3Ri9C1INCa0L7QvNC/0LDQvdC40LgpOzwvcD5cXFxcbiAgICAgICAgICAgIDwvbGk+XFxcXG4gICAgICAgICAgICA8bGk+XFxcXG4gICAgICAgICAgICAgICAgPHA+0KHQstC10LTQtdC90LjRjywg0L/RgNC40YfQuNC90Y/RjtGJ0LjQtSDQstGA0LXQtCDQmtC+0LzQv9Cw0L3QuNC4LCDRgdGC0LDQsiDQv9GA0LjRh9C40L3QvtC5INC/0L7Qu9C90L7QuSDQu9C40LHQviDRh9Cw0YHRgtC40YfQvdC+0Lkg0L/QvtGC0LXRgNC4INCa0L7QvNC/0LDQvdC40LXQuSDRg9GB0LvRg9CzXFxcXG4gICAgICAgICAgICAgICAgICAgINC/0YDQvtCy0LDQudC00LXRgNC+0LIg0YHQtdGC0Lgg0LjQvdGC0LXRgNC90LXRgiwg0LvQuNCx0L4g0YPRgdC70YPQsyDQu9GO0LHRi9GFINC40L3Ri9GFINC70LjRhjs8L3A+XFxcXG4gICAgICAgICAgICA8L2xpPlxcXFxuICAgICAgICAgICAgPGxpPlxcXFxuICAgICAgICAgICAgICAgIDxwPtGB0LLQtdC00LXQvdC40Y8sINC40L3Ri9C8INC+0LHRgNCw0LfQvtC8INC90LDRgNGD0YjQsNGO0YnQuNC1INC00LXQudGB0YLQstGD0Y7RidC10LUg0LfQsNC60L7QvdC+0LTQsNGC0LXQu9GM0YHRgtCy0L4g0KDQpC48L3A+XFxcXG4gICAgICAgICAgICA8L2xpPlxcXFxuICAgICAgICA8L3VsPlxcXFxuXFxcXG4gICAgICAgIDxwPjUuMi4g0KPQtNCw0LvQtdC90LjQtSDQmNC90YTQvtGA0LzQsNGG0LjQuCDQv9GA0L7QuNC30LLQvtC00LjRgtGB0Y8g0JrQvtC80L/QsNC90LjQtdC5INCyINC70Y7QsdC+0LUg0LLRgNC10LzRjyDQsdC10Lcg0LjQt9Cy0LXRidC10L3QuNGPINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsC48L3A+XFxcXG5cXFxcbiAgICAgICAgPGJyPlxcXFxuXFxcXG4gICAgICAgIDxwPjxzdHJvbmc+Ni4g0J7Qn9Cb0JDQotCQINCf0JvQkNCi0J3Qq9ClINCj0KHQm9Cj0JM8L3N0cm9uZz48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+Ni4xLiDQn9C+0YHQu9C1INC+0YTQvtGA0LzQu9C10L3QuNGPINC70LjRgdGC0LAg0LfQsNC60LDQt9CwINC90LAg0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQn9C70LDRgtC90YvQvNC4INCj0YHQu9GD0LPQsNC80Lgg0KHQsNC50YLQsCDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC70LjQsdC+INCf0LvQsNGC0LXQu9GM0YnQuNC6XFxcXG4gICAgICAgICAgICAo0L/RgNC4INC90LDQu9C40YfQuNC4KSwg0L/QvtC70YPRh9Cw0LXRgiDRgdGH0LXRgiDQuCDQstGL0LHQuNGA0LDQtdGCINGB0L/QvtGB0L7QsSDQtdCz0L4g0L7Qv9C70LDRgtGLINC40Lcg0L/RgNC10LTQu9C+0LbQtdC90L3QvtCz0L4g0L3QsCDQodCw0LnRgtC1INGB0L/QuNGB0LrQsC4g0KHRh9C10YIg0L3QtdC+0LHRhdC+0LTQuNC80L5cXFxcbiAgICAgICAgICAgINC+0L/Qu9Cw0YLQuNGC0Ywg0LIg0YPQutCw0LfQsNC90L3Ri9C5INCyINC90LXQvCDRgdGA0L7Qui4gNi4yLiDQodGA0L7QuiDQv9C+0LvRjNC30L7QstCw0L3QuNGPINCf0LvQsNGC0L3Ri9C80Lgg0KPRgdC70YPQs9Cw0LzQuCDQvdCw0YfQuNC90LDQtdGC0YHRjyDRgSDQtNCw0YLRiyDQvtC/0LvQsNGC0Ysg0YHRh9C10YLQsC5cXFxcbiAgICAgICAgICAgINCV0YHQu9C4INC/0YDQuCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4INC90LUg0LHRi9C70Lgg0LfQsNC/0L7Qu9C90LXQvdGLINC+0LHRj9C30LDRgtC10LvRjNC90YvQtSDQv9C+0LvRjyDQuNC70Lgg0L/QvtC70Y8g0LHRi9C70Lgg0LfQsNC/0L7Qu9C90LXQvdGLINC90LXQutC+0YDRgNC10LrRgtC90L4sINC90LUg0LHRi9C70LBcXFxcbiAgICAgICAgICAgINC30LDQs9GA0YPQttC10L3QsCDRhNC+0YLQvtCz0YDQsNGE0LjRjyDQuNC70Lgg0LjQvdGL0Lwg0L7QsdGA0LDQt9C+0Lwg0L3QsNGA0YPRiNC10L3RiyDQv9GA0LDQstC40LvQsCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4LCDQmNC90YTQvtGA0LzQsNGG0LjRjyDQvdC1INC+0YLRgNCw0LbQsNC10YLRgdGPINC90LAg0KHQsNC50YLQtSDQtNC+XFxcXG4gICAgICAgICAgICDQvNC+0LzQtdC90YLQsCDQstC90LXRgdC10L3QuNGPINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LjRhSDQuNGB0L/RgNCw0LLQu9C10L3QuNC5LCDQv9GA0Lgg0Y3RgtC+0Lwg0YHRgNC+0Log0L3QsNGH0LDQu9CwINC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0J/Qu9Cw0YLQvdGL0LzQuCDQo9GB0LvRg9Cz0LDQvNC4INC90LVcXFxcbiAgICAgICAgICAgINC/0YDQvtC00LvRj9C10YLRgdGPINC90LAg0YHRgNC+0LosINCyINGC0LXRh9C10L3QuNC1INC60L7RgtC+0YDQvtCz0L4g0JjQvdGE0L7RgNC80LDRhtC40Y8g0L3QtSDQvtGC0L7QsdGA0LDQttCw0LvQsNGB0Ywg0L3QsCDQodCw0LnRgtC1INC/0L4g0LLQuNC90LUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPL9Ca0LvQuNC10L3RgtCwLlxcXFxuICAgICAgICAgICAgNi4zLiDQmtCw0LbQtNGL0Lkg0YHQv9C+0YHQvtCxINC+0L/Qu9Cw0YLRiyDRgdC+0L/RgNC+0LLQvtC20LTQsNC10YLRgdGPINC/0L7QtNGA0L7QsdC90L7QuSDQuNC90YHRgtGA0YPQutGG0LjQtdC5LCDRgNCw0LfQvNC10YnQtdC90L3QvtC5INC90LAg0KHQsNC50YLQtS4g0J/RgNC4INGN0YLQvtC8INCa0L7QvNC/0LDQvdC40Y8g0L3QtVxcXFxuICAgICAgICAgICAg0L3QtdGB0LXRgiDQvtGC0LLQtdGC0YHRgtCy0LXQvdC90L7RgdGC0Ywg0LfQsCDQtNC10LnRgdGC0LLQuNGPINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsC/Qn9C70LDRgtC10LvRjNGI0LjQutCwINC/0YDQuCDQvtC/0LvQsNGC0LUg0YHRh9C10YLQsCwg0LIg0YHQu9C10LTRgdGC0LLQuNC1INC60L7RgtC+0YDRi9GFXFxcXG4gICAgICAgICAgICDQtNC10L3QtdC20L3Ri9C1INGB0YDQtdC00YHRgtCy0LAg0L3QtSDQv9C+0YHRgtGD0L/QuNC70Lgg0L3QsCDRgdGH0LXRgiDQmtC+0LzQv9Cw0L3QuNC4LCDQuCDRjdGC0Lgg0YHRg9C80LzRiyDQmtC+0LzQv9Cw0L3QuNGPINC90LUg0LrQvtC80L/QtdC90YHQuNGA0YPQtdGCINC4INC90LUg0LLQvtC30LLRgNCw0YnQsNC10YIuPGJyPlxcXFxuICAgICAgICAgICAgNi40LiDQntC/0LvQsNGC0LAg0KPRgdC70YPQsyDRgdCw0LnRgtCwINC/0YDQvtC40LfQstC+0LTQuNGC0YHRjyDQsiDQv9C+0YDRj9C00LrQtSAxMDAlINC/0YDQtdC00L7Qv9C70LDRgtGLLiDQo9GB0LvRg9Cz0Lgg0YHRh9C40YLQsNGO0YLRgdGPINC+0L/Qu9Cw0YfQtdC90L3Ri9C80Lgg0LIg0LzQvtC80LXQvdGCXFxcXG4gICAgICAgICAgICDQuNC30LLQtdGJ0LXQvdC40Y8g0JrQvtC80L/QsNC90LjQuCDQvtCxINC+0L/Qu9Cw0YLQtSDRgdGH0LXRgtCwLiDQktCw0LvRjtGC0L7QuSDRgNCw0YHRh9C10YLQvtCyINGP0LLQu9GP0LXRgtGB0Y8g0KDQvtGB0YHQuNC50YHQutC40Lkg0YDRg9Cx0LvRjC48YnI+XFxcXG4gICAgICAgICAgICA2LjUuINCSINGB0LvRg9GH0LDQtSDQvtGC0LrQsNC30LAg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPL9Ca0LvQuNC10L3RgtCwINC+0YIg0L7Qv9C70LDRh9C10L3QvdGL0YUg0KPRgdC70YPQsyDQodCw0LnRgtCwINC00L4g0L7QutC+0L3Rh9Cw0L3QuNGPINGB0YDQvtC60LAg0L/QvtC70YzQt9C+0LLQsNC90LjRjyDQtNC10L3QtdC20L3Ri9C1XFxcXG4gICAgICAgICAgICDRgdGA0LXQtNGB0YLQstCwINC90LUg0LLQvtC30LLRgNCw0YnQsNGO0YLRgdGPLjwvcD5cXFxcblxcXFxuICAgICAgICA8YnI+XFxcXG5cXFxcbiAgICAgICAgPHA+PHN0cm9uZz43LiDQntCT0KDQkNCd0JjQp9CV0J3QmNCvINCe0KLQktCV0KLQodCi0JLQldCd0J3QntCh0KLQmDwvc3Ryb25nPjwvcD5cXFxcblxcXFxuICAgICAgICA8cD43LjEuINCSINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuCDRgSDRgtGA0LXQsdC+0LLQsNC90LjRj9C80Lgg0KTQtdC00LXRgNCw0LvRjNC90L7Qs9C+INC30LDQutC+0L3QsCDQvtGCIDI3LjA3LjIwMDYg0LMuIOKEliAxNTIt0KTQlyDCq9CeINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YXCuzog0LJcXFxcbiAgICAgICAgICAgINC/0YDQvtGG0LXRgdGB0LUg0L/QvtC70YzQt9C+0LLQsNC90LjRjyDQo9GB0LvRg9Cz0LDQvNC4INCh0LDQudGC0LAgKNCyINGC0L7QvCDRh9C40YHQu9C1INC/0YDQuCDQoNC10LPQuNGB0YLRgNCw0YbQuNC4LCDQstC30LDQuNC80L7QtNC10LnRgdGC0LLQuNC4INGBINC00YDRg9Cz0LjQvNC4XFxcXG4gICAgICAgICAgICDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvNC4L9Ca0LvQuNC10L3RgtCw0LzQuCDRh9C10YDQtdC3INC40L3RgtC10YDRhNC10LnRgSDQodCw0LnRgtCwLCDRgNCw0LfQvNC10YnQtdC90LjQuCDQmNC90YTQvtGA0LzQsNGG0LjQuCwg0L/RgNC+0YHQvNC+0YLRgNC1INGB0YLRgNCw0L3QuNGGINCh0LDQudGC0LAg0Lgg0YIu0L8uKSxcXFxcbiAgICAgICAgICAgINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCDRgdCw0LzQvtGB0YLQvtGP0YLQtdC70YzQvdC+INC00L7QsdGA0L7QstC+0LvRjNC90L4g0L/RgNC40L3QuNC80LDQtdGCINGA0LXRiNC10L3QuNC1INC+INC/0YDQtdC00L7RgdGC0LDQstC70LXQvdC40Lgg0JrQvtC80L/QsNC90LjQuCDQv9C10YDRgdC+0L3QsNC70YzQvdGL0YUg0Lgg0LjQvdGL0YVcXFxcbiAgICAgICAgICAgINC00LDQvdC90YvRhSDQviDQn9C+0LvRjNC30L7QstCw0YLQtdC70LUgKNGE0LDQvNC40LvQuNGPLCDQuNC80Y8sINC+0YLRh9C10YHRgtCy0L4sINCw0LTRgNC10YEg0Y3Qu9C10LrRgtGA0L7QvdC90L7QuSDQv9C+0YfRgtGLLCDQvdC+0LzQtdGAINC80L7QsdC40LvRjNC90L7Qs9C+INGC0LXQu9C10YTQvtC90LAsINCwINGC0LDQutC20LVcXFxcbiAgICAgICAgICAgINC70Y7QsdCw0Y8g0LjQvdCw0Y8g0LjQvdGE0L7RgNC80LDRhtC40Y8sINC/0YDQtdC00L7RgdGC0LDQstC70LXQvdC90LDRjyDQn9C+0LvRjNC30L7QstCw0YLQtdC70LXQvCwg0LjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0LTQtdC50YHRgtCy0LjRj9GFINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQvdCwINCh0LDQudGC0LUg0Lgg0L/RgC4pXFxcXG4gICAgICAgICAgICDQtNC70Y8g0YbQtdC70LXQuSDQuNGB0L/QvtC70L3QtdC90LjRjyDQntGE0LXRgNGC0YssINCwINGC0LDQutC20LUg0L3QsNGB0YLQvtGP0YnQuNC8INC30LDRj9Cy0LvRj9C10YIg0L4g0YHQstC+0LXQvCDRgdC+0LPQu9Cw0YHQuNC4INC90LAg0L7QsdGA0LDQsdC+0YLQutGDINC4INGF0YDQsNC90LXQvdC40LUg0JrQvtC80L/QsNC90LjQtdC5XFxcXG4gICAgICAgICAgICDQv9C10YDRgdC+0L3QsNC70YzQvdGL0YUg0Lgg0LjQvdGL0YUg0LTQsNC90L3Ri9GFINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjywg0LjRhSDQv9C10YDQtdC00LDRh9GDINC00LvRjyDQvtCx0YDQsNCx0L7RgtC60Lgg0LTRgNGD0LPQuNC8INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C8INC4L9C40LvQuCDRgtGA0LXRgtGM0LjQvCDQu9C40YbQsNC8LFxcXFxuICAgICAgICAgICAg0LTQtdC50YHRgtCy0YPRjtGJ0LjQvCDQv9C+INC/0L7RgNGD0YfQtdC90LjRjiDQmtC+0LzQv9Cw0L3QuNC4LCDQsiDRgtC+0Lwg0YfQuNGB0LvQtSDQtNC70Y8g0YbQtdC70LXQuTog0L/QvtC70YPRh9C10L3QuNGPINGB0YLQsNGC0LjRgdGC0LjRh9C10YHQutC40YUg0Lgg0LDQvdCw0LvQuNGC0LjRh9C10YHQutC40YUg0LTQsNC90L3Ri9GFXFxcXG4gICAgICAgICAgICDQtNC70Y8g0YPQu9GD0YfRiNC10L3QuNGPINGE0YPQvdC60YbQuNC+0L3QuNGA0L7QstCw0L3QuNGPINCh0LDQudGC0LAg0Lgv0LjQu9C4INCj0YHQu9GD0LMsINGA0LDRgdGI0LjRgNC10L3QuNGPINGB0L/QtdC60YLRgNCwINC+0LrQsNC30YvQstCw0LXQvNGL0YUg0KPRgdC70YPQsywg0L/QvtC70YPRh9C10L3QuNGPXFxcXG4gICAgICAgICAgICDQuNC90YTQvtGA0LzQsNGG0LjQvtC90L3Ri9GFINC4L9C40LvQuCDRgNC10LrQu9Cw0LzQvdGL0YUg0YHQvtC+0LHRidC10L3QuNC5INCa0L7QvNC/0LDQvdC40Lgg0LjQu9C4INGC0YDQtdGC0YzQuNGFINC70LjRhiwg0L/RgNC10LTRg9C/0YDQtdC20LTQtdC90LjRjyDQuNC70Lgg0L/RgNC10YHQtdGH0LXQvdC40Y8g0L3QtdC30LDQutC+0L3QvdGL0YVcXFxcbiAgICAgICAgICAgINC4L9C40LvQuCDQvdC10YHQsNC90LrRhtC40L7QvdC40YDQvtCy0LDQvdC90YvRhSDQtNC10LnRgdGC0LLQuNC5INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC5INC40LvQuCDRgtGA0LXRgtGM0LjRhSDQu9C40YYsINC+0LHQtdGB0L/QtdGH0LXQvdC40Y8g0YHQvtCx0LvRjtC00LXQvdC40Y8g0YLRgNC10LHQvtCy0LDQvdC40LlcXFxcbiAgICAgICAgICAgINC00LXQudGB0YLQstGD0Y7RidC10LPQviDQt9Cw0LrQvtC90L7QtNCw0YLQtdC70YzRgdGC0LLQsCDQoNC+0YHRgdC40LnRgdC60L7QuSDQpNC10LTQtdGA0LDRhtC40LguINCa0L7QvNC/0LDQvdC40Y8g0L/RgNC40L3QuNC80LDQtdGCINCy0YHQtSDQvdC10L7QsdGF0L7QtNC40LzRi9C1INC80LXRgNGLINC00LvRjyDQt9Cw0YnQuNGC0YtcXFxcbiAgICAgICAgICAgINC/0LXRgNGB0L7QvdCw0LvRjNC90YvRhSDQtNCw0L3QvdGL0YUg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC+0YIg0L3QtdGB0LDQvdC60YbQuNC+0L3QuNGA0L7QstCw0L3QvdC+0LPQviDQtNC+0YHRgtGD0L/QsCDRgtGA0LXRgtGM0LjRhSDQu9C40YY8YnI+XFxcXG4gICAgICAgICAgICA3LjIuINCa0L7QvNC/0LDQvdC40Y8g0L3QtSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0LLQvtC30LzQvtC20L3QvtC1INC90LXRhtC10LvQtdCy0L7QtSDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDRgSDQodCw0LnRgtCwINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRj9C80Lgv0JrQu9C40LXQvdGC0LDQvNC4XFxcXG4gICAgICAgICAgICDQuNC70Lgg0LjQvdGL0LzQuCDQu9C40YbQsNC80Lgg0Lgv0LjQu9C4INC+0YDQs9Cw0L3QuNC30LDRhtC40Y/QvNC4LCDQutC+0YLQvtGA0L7QtSDQv9GA0L7QuNC30L7RiNC70L4g0LHQtdC3INGD0LLQtdC00L7QvNC70LXQvdC40Y8g0JrQvtC80L/QsNC90LjQuCDRgSDQvdCw0YDRg9GI0LXQvdC40LXQvCDQuNC70Lgg0LHQtdC3XFxcXG4gICAgICAgICAgICDQuNC90YTQvtGA0LzQsNGG0LjQvtC90L3QvtC5INCx0LXQt9C+0L/QsNGB0L3QvtGB0YLQuCDQodCw0LnRgtCwLjxicj5cXFxcbiAgICAgICAgICAgIDcuMy4g0JrQvtC80L/QsNC90LjRjyDQv9GA0LjQu9Cw0LPQsNC10YIg0LLRgdC1INCy0L7Qt9C80L7QttC90YvQtSDRg9GB0LjQu9C40Y8g0LTQu9GPINGC0L7Qs9C+LCDRh9GC0L7QsdGLINC40LfQsdC10LbQsNGC0Ywg0L3QtdGB0LDQvdC60YbQuNC+0L3QuNGA0L7QstCw0L3QvdC+0LPQviDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjRj1xcXFxuICAgICAgICAgICAg0YLRgNC10YLRjNC40LzQuCDQu9C40YbQsNC80Lgg0L/QtdGA0YHQvtC90LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhSDQn9C+0LvRjNC30L7QstCw0YLQtdC70LXQuS/QmtC70LjQtdC90YLQvtCyLiDQndC+INCa0L7QvNC/0LDQvdC40Y8g0YLQsNC60LbQtSDQvdC1INC90LXRgdC10YIg0L7RgtCy0LXRgtGB0YLQstC10L3QvdC+0YHRgtC4INC30LBcXFxcbiAgICAgICAgICAgINCy0L7Qt9C80L7QttC90L7QtSDQvdC10YbQtdC70LXQstC+0LUg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40LUg0L/QtdGA0YHQvtC90LDQu9GM0L3Ri9GFINC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQuS/QmtC70LjQtdC90YLQvtCyLCDQv9GA0L7QuNC30L7RiNC10LTRiNC10LUg0LIg0YHQu9GD0YfQsNC1Ojxicj5cXFxcbiAgICAgICAgICAgIC0g0YLQtdGF0L3QuNGH0LXRgdC60LjRhSDQvdC10L/QvtC70LDQtNC+0Log0LIg0L/RgNC+0LPRgNCw0LzQvNC90L7QvCDQvtCx0LXRgdC/0LXRh9C10L3QuNC4LCDRgdC10YDQstC10YDQsNGFINC40LvQuCDQutC+0LzQv9GM0Y7RgtC10YDQvdGL0YUg0YHQtdGC0Y/RhSwg0L3QsNGF0L7QtNGP0YnQuNGF0YHRjyDQstC90LUg0LrQvtC90YLRgNC+0LvRj1xcXFxuICAgICAgICAgICAg0JrQvtC80L/QsNC90LjQuDs8YnI+XFxcXG4gICAgICAgICAgICAtINC/0LXRgNC10LHQvtC10LIg0LIg0YDQsNCx0L7RgtC1INCh0LDQudGC0LAsINGB0LLRj9C30LDQvdC90YvRhSDRgSDQvdCw0LzQtdGA0LXQvdC90YvQvCDQuNC70Lgg0L3QtdC90LDQvNC10YDQtdC90L3Ri9C8INC40YHQv9C+0LvRjNC30L7QstCw0L3QuNC10Lwg0KHQsNC50YLQsCDQvdC1INC/0L4g0L3QsNC30L3QsNGH0LXQvdC40Y5cXFxcbiAgICAgICAgICAgINGC0YDQtdGC0YzQuNC80Lgg0LvQuNGG0LDQvNC4Ozxicj5cXFxcbiAgICAgICAgICAgIC0g0L/QtdGA0LXQtNCw0YfQuCDQv9Cw0YDQvtC70LXQuSDQuNC70Lgg0LjQvdGE0L7RgNC80LDRhtC40Lgg0YEg0KHQsNC50YLQsCDQn9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvNC4L9Ca0LvQuNC10L3RgtCw0LzQuCDQtNGA0YPQs9C40Lwg0LvQuNGG0LDQvCwg0L3QtSDRj9Cy0LvRj9GO0YnQuNC80LjRgdGPXFxcXG4gICAgICAgICAgICDQt9Cw0YDQtdCz0LjRgdGC0YDQuNGA0L7QstCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvNC4INCh0LDQudGC0LAg0LjQu9C4INC00YDRg9Cz0LjQvCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvCwg0L3QtSDQuNC80LXRjtGJ0LjQvCDQtNC+0YHRgtGD0L/QsCDQuiDQtNCw0L3QvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40Lgg0LJcXFxcbiAgICAgICAgICAgINGB0LjQu9GDINGD0YHQu9C+0LLQuNC5INGA0LXQs9C40YHRgtGA0LDRhtC40Lgg0Lgg0LfQsNC60LvRjtGH0LXQvdC90YvRhSDQtNC+0LPQvtCy0L7RgNC+0LIg0YEg0JrQvtC80L/QsNC90LjQtdC5Ljxicj5cXFxcbiAgICAgICAgICAgIDcuNC4g0JrQsNC20LTRi9C5INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjC/QmtC70LjQtdC90YIg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINCY0L3RhNC+0YDQvNCw0YbQuNGOLCDRgNCw0LfQvNC10YnQsNC10LzRg9GOINC+0YIg0LXQs9C+INC40LzQtdC90LgsINC4INC30LAg0L/QvtGB0LvQtdC00YHRgtCy0LjRjyDRjdGC0L7Qs9C+XFxcXG4gICAgICAgICAgICDRgNCw0LfQvNC10YnQtdC90LjRjy48YnI+XFxcXG4gICAgICAgICAgICA3LjUuINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjC/QmtC70LjQtdC90YIg0YHQsNC80L7RgdGC0L7Rj9GC0LXQu9GM0L3Qviwg0L/QviDRgdCy0L7QtdC80YMg0YPRgdC80L7RgtGA0LXQvdC40Y4g0Lgg0LLQvdC1INC60L7QvdGC0YDQvtC70Y8g0YHQviDRgdGC0L7RgNC+0L3RiyDQmtC+0LzQv9Cw0L3QuNC4INGA0LDQt9C80LXRidCw0LXRglxcXFxuICAgICAgICAgICAg0JjQvdGE0L7RgNC80LDRhtC40Y4g0L3QsCDQodCw0LnRgtC1LCDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC90LXRgdC10YIg0L7RgtCy0LXRgtGB0YLQstC10L3QvdC+0YHRgtGMINC60LDQuiDRgNC10LrQu9Cw0LzQvtC00LDRgtC10LvRjCDQuCDRgNC10LrQu9Cw0LzQvtGA0LDRgdC/0YDQvtGB0YLRgNCw0L3QuNGC0LXQu9GMINCyXFxcXG4gICAgICAgICAgICDQvtGC0L3QvtGI0LXQvdC40Lgg0LLRgdC10Lkg0YDQsNC30LzQtdGJ0LXQvdC90L7QuSDQuNC8INCY0L3RhNC+0YDQvNCw0YbQuNC4INCyINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQuCDRgSDQpNCXIFxcXFxcItCeINGA0LXQutC70LDQvNC1XFxcXFwiINC4INCa0L7QkNCfINCg0KQuPGJyPlxcXFxuICAgICAgICAgICAgNy42LiDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINGB0LDQvNC+0YHRgtC+0Y/RgtC10LvRjNC90L4g0L3QtdGB0LXRgiDQvtGC0LLQtdGC0YHRgtCy0LXQvdC90L7RgdGC0Ywg0LfQsCDQtNC+0YHRgtC+0LLQtdGA0L3QvtGB0YLRjCDRgNCw0LfQvNC10YnQsNC10LzQvtC5INCY0L3RhNC+0YDQvNCw0YbQuNC4INC4XFxcXG4gICAgICAgICAgICDQutCw0YfQtdGB0YLQstC+INC/0YDQtdC00L7RgdGC0LDQstC70Y/QtdC80YvRhSDQuNC8INGD0YHQu9GD0LMsINC60L7RgtC+0YDRi9C1INGB0L7QtNC10YDQttCw0YLRgdGPINCyINCY0L3RhNC+0YDQvNCw0YbQuNC4LCDQsCDRgtCw0LrQttC1INC+0YHQstC+0LHQvtC20LTQsNC10YIg0JrQvtC80L/QsNC90LjRjiDQvtGCINCy0YHQtdGFXFxcXG4gICAgICAgICAgICDRgtGA0LXQsdC+0LLQsNC90LjQuSwg0L7QsdGP0LfQsNGC0LXQu9GM0YHRgtCyLCDQutC+0LzQv9C10L3RgdCw0YbQuNC5INC/0L4g0LLQvtC30LzQtdGJ0LXQvdC40Y4g0YPRidC10YDQsdCwLCDRg9Cx0YvRgtC60L7Qsiwg0LfQsNGC0YDQsNGCINC4INC40LfQtNC10YDQttC10LosINCy0LrQu9GO0YfQsNGPINGB0YPQtNC10LHQvdGL0LUg0LhcXFxcbiAgICAgICAgICAgINC40L3Ri9C1INGA0LDRgdGF0L7QtNGLLCDQstC+0LfQvdC40LrRiNC40LUg0LIg0YDQtdC30YPQu9GM0YLQsNGC0LUg0LjQu9C4INCyINGB0LLRj9C30Lgg0YEg0YLRgNC10LHQvtCy0LDQvdC40Y/QvNC4INGC0YDQtdGC0YzQuNGFINC70LjRhi48L3A+XFxcXG5cXFxcbiAgICAgICAgPGJyPlxcXFxuXFxcXG4gICAgICAgIDxwPjxzdHJvbmc+OC4g0JfQkNCa0JvQrtCn0JjQotCV0JvQrNCd0KvQlSDQn9Ce0JvQntCW0JXQndCY0K88L3N0cm9uZz48L3A+XFxcXG5cXFxcbiAgICAgICAgPHA+OC4xINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjC/QmtC70LjQtdC90YIg0L/RgNC10LTQvtGB0YLQsNCy0LvRj9C10YIg0JrQvtC80L/QsNC90LjQuCDQv9GA0LDQstC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDRgdCy0LXQtNC10L3QuNGPLCDRgdC+0LTQtdGA0LbQsNGJ0LjQtdGB0Y8g0LIg0JjQvdGE0L7RgNC80LDRhtC40LhcXFxcbiAgICAgICAgICAgINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCwg0LTQu9GPINGG0LXQu9C10Lkg0L7QutCw0LfQsNC90LjRjyDQo9GB0LvRg9CzLCDQv9GD0YLQtdC8INC/0LXRgNC10LTQsNGH0Lgg0JrQvtC80L/QsNC90LjQuCDQvdC1INGN0LrRgdC60LvRjtC30LjQstC90L7Qs9C+LCDQtNC10LnRgdGC0LLRg9GO0YnQtdCz0L5cXFxcbiAgICAgICAgICAgINC/0L7QstGB0LXQvNC10YHRgtC90L4sINCx0LXRgdGB0YDQvtGH0L3QvtCz0L4g0L/RgNCw0LLQsCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L4g0LDQstGC0L7RgNGB0LrQuNGFINC/0YDQsNCyLCDRgtC+0YDQs9C+0LLRi9GFINC80LDRgNC+0LosINC70L7Qs9C+0YLQuNC/0L7Qsiwg0L/Rg9Cx0LvQuNC60LDRhtC40Lkg0Lgg0LHQsNC3XFxcXG4gICAgICAgICAgICDQtNCw0L3QvdGL0YUsINC60L7RgtC+0YDQvtC1INC40LzQtdC10YIg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GML9Ca0LvQuNC10L3RgiDQuCDQv9GA0LXQtNC+0YHRgtCw0LLQu9C10L3QvdGL0YUg0LjQvCDQvdCwINCy0YHQtdGFINC40LfQstC10YHRgtC90YvRhSDQuNC70Lgg0L3QtSDQuNC30LLQtdGB0YLQvdGL0YVcXFxcbiAgICAgICAgICAgINC40L3RhNC+0YDQvNCw0YbQuNC+0L3QvdGL0YUg0L3QvtGB0LjRgtC10LvRj9GFLjxicj5cXFxcbiAgICAgICAgICAgIDguMi4g0J3QsNGB0YLQvtGP0YnQsNGPINCe0YTQtdGA0YLQsCDQvdCw0YfQuNC90LDQtdGCINC00LXQudGB0YLQstC+0LLQsNGC0Ywg0LgsINGB0YfQuNGC0LDQtdGC0YHRjywg0LHQtdC30YPRgdC70L7QstC90L4g0L/RgNC40L3Rj9GC0L7QuVxcXFxuICAgICAgICAgICAg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9C10LxcXFxcXFzQmtC70LjQtdC90YLQvtC8XFxcXFxc0JPQvtGB0YLQtdC8XFxcXFxc0L/Qu9Cw0YLQtdC70YzRidC40LrQvtC8INGBINC80L7QvNC10L3RgtCwINC90LDRh9Cw0LvQsCDQv9C+0LvRjNC30L7QstCw0L3QuNGPINCj0YHQu9GD0LPQsNC8INCh0LDQudGC0LAsINC90LXQt9Cw0LLQuNGB0LjQvNC+INC+0YIg0YTQsNC60YLQsFxcXFxuICAgICAgICAgICAg0KDQtdCz0LjRgdGC0YDQsNGG0LjQuCwg0Lgg0LTQtdC50YHRgtCy0YPQtdGCINCx0LXRgdGB0YDQvtGH0L3Qvi48YnI+XFxcXG4gICAgICAgICAgICA4LjMuINCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjC/QmtC70LjQtdC90YIg0LLQv9GA0LDQstC1INC+0YLQutCw0LfQsNGC0YzRgdGPINC+0YIg0L/QvtC70YzQt9C+0LLQsNC90LjRjyDQo9GB0LvRg9Cz0LDQvNC4INCh0LDQudGC0LAsINC/0L7RgdC70LUg0YfQtdCz0L4g0YDQsNC30LzQtdGJ0LXQvdC40LUg0JjQvdGE0L7RgNC80LDRhtC40LhcXFxcbiAgICAgICAgICAgINC90LAg0KHQsNC50YLQtSDQvtGCINC00LDQvdC90L7Qs9C+INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsCDQvdC10LLQvtC30LzQvtC20L3Qvi48YnI+XFxcXG4gICAgICAgICAgICA4LjQuINCa0L7QvNC/0LDQvdC40Y8g0L7RgdGC0LDQstC70Y/QtdGCINC30LAg0YHQvtCx0L7QuSDQv9GA0LDQstC+INC/0L4g0YHQvtCx0YHRgtCy0LXQvdC90L7QvNGDINGD0YHQvNC+0YLRgNC10L3QuNGOINC/0YDQtdC60YDQsNGC0LjRgtGMINC00L7RgdGC0YPQvyDQuiDQo9GB0LvRg9Cz0LDQvFxcXFxuICAgICAgICAgICAg0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GPL9Ca0LvQuNC10L3RgtCwLCDQvdCw0YDRg9GI0LDRjtGJ0LXQs9C+INCe0YTQtdGA0YLRgywg0JTQvtCz0L7QstC+0YAg0LvQuNCx0L4g0LvQuNGB0YIg0LfQsNC60LDQt9CwLiDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCLCDQtNC+0YHRgtGD0L8g0LrQvtGC0L7RgNC+0LPQviDQulxcXFxuICAgICAgICAgICAg0KPRgdC70YPQs9Cw0Lwg0LHRi9C7INC/0YDQtdC60YDQsNGJ0LXQvSwg0LjQu9C4INCY0L3RhNC+0YDQvNCw0YbQuNGPINC60L7RgtC+0YDQvtCz0L4g0L/QtdGA0LXRgdGC0LDQu9CwINCx0YvRgtGMINC00LXQudGB0YLQstC40YLQtdC70YzQvdC+0LksINC90LUg0LjQvNC10LXRgiDQv9GA0LDQstCwXFxcXG4gICAgICAgICAgICDRgNC10LPQuNGB0YLRgNC40YDQvtCy0LDRgtGM0YHRjyDQv9C+0LLRgtC+0YDQvdC+INCx0LXQtyDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC10LPQviDRgdC+0LPQu9Cw0YHQuNGPINCa0L7QvNC/0LDQvdC40LgsINCwINGC0LDQutC20LUg0YLQsNC60L7QuSDQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywv0JrQu9C40LXQvdGCINC90LUg0LjQvNC10LXRglxcXFxuICAgICAgICAgICAg0L/RgNCw0LLQsCDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LTQu9GPINC00L7RgdGC0YPQv9CwINC90LAg0KHQsNC50YIg0KPRh9C10YLQvdGL0LUg0LTQsNC90L3Ri9C1INC00YDRg9Cz0L7Qs9C+INCf0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy/QmtC70LjQtdC90YLQsC48YnI+XFxcXG4gICAgICAgICAgICA4LjUuINCh0L/QvtGA0YssINCy0L7Qt9C90LjQutCw0Y7RidC40LUg0LIg0YXQvtC00LUg0L/QvtC70YzQt9C+0LLQsNC90LjRjyDQodCw0LnRgtC+0LwsINGA0LDQt9GA0LXRiNCw0Y7RgtGB0Y8g0YEg0YHQvtCx0LvRjtC00LXQvdC40LXQvCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+0LPQviDQv9GA0LXRgtC10L3Qt9C40L7QvdC90L7Qs9C+XFxcXG4gICAgICAgICAgICDQv9C+0YDRj9C00LrQsC4g0KHRgNC+0Log0L7RgtCy0LXRgtCwINC90LAg0L/RgNC10YLQtdC90LfQuNGOIDE1INC00L3QtdC5INGB0L4g0LTQvdGPINC/0L7Qu9GD0YfQtdC90LjRjyDQv9GA0LXRgtC10L3Qt9C40LguINCSINGB0LvRg9GH0LDQtSDQvdC10YPQtNC+0LLQu9C10YLQstC+0YDQtdC90LjRjyDQv9GA0LXRgtC10L3Qt9C40LhcXFxcbiAgICAgICAgICAgINC/0L7Qu9C90L7RgdGC0YzRjiDQuNC70Lgg0LIg0LrQsNC60L7QuS3Qu9C40LHQviDRh9Cw0YHRgtC4LCDQsCDRgtCw0LrQttC1INCyINGB0LvRg9GH0LDQtSDQvdC10L/QvtC70YPRh9C10L3QuNGPINC+0YLQstC10YLQsCDQvdCwINC/0YDQtdGC0LXQvdC30LjRjiDQsiDRg9GB0YLQsNC90L7QstC70LXQvdC90YvQuSDRgdGA0L7QuixcXFxcbiAgICAgICAgICAgINC30LDQuNC90YLQtdGA0LXRgdC+0LLQsNC90L3QsNGPINGB0YLQvtGA0L7QvdCwINCy0L/RgNCw0LLQtSDQvtCx0YDQsNGC0LjRgtGM0YHRjyDQt9CwINGA0LDQt9GA0LXRiNC10L3QuNC10Lwg0YHQv9C+0YDQsCDQsiDRgdGD0LQg0YEg0YLQtdGA0YDQuNGC0L7RgNC40LDQu9GM0L3QvtC5INC/0L7QtNGB0YPQtNC90L7RgdGC0YzRjlxcXFxuICAgICAgICAgICAg0JrQvtC80L/QsNC90LjQuC48YnI+XFxcXG4gICAgICAgICAgICA4LjYuINCSINGB0LvRg9GH0LDQtSDQv9GA0LjQt9C90LDQvdC40Y8g0YHRg9C00L7QvCDQvtGC0LTQtdC70YzQvdGL0YUg0L/QvtC70L7QttC10L3QuNC5INC90LDRgdGC0L7Rj9GJ0LXQuSDQntGE0LXRgNGC0Ysg0L3QtdC00LXQudGB0YLQstC40YLQtdC70YzQvdGL0LzQuCwg0L7RgdGC0LDQu9GM0L3Ri9C1INGD0YHQu9C+0LLQuNGPXFxcXG4gICAgICAgICAgICDQntGE0LXRgNGC0Ysg0L/RgNC+0LTQvtC70LbQsNGO0YIg0LTQtdC50YHRgtCy0L7QstCw0YLRjC5cXFxcbiAgICAgICAgPC9wPlxcXFxuICAgICAgICA8YnI+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtcmVjb21tZW5kYXRpb24nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1yZWNvbW1lbmRhdGlvbi9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLXJlY29tbWVuZGF0aW9uXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcInBhZ2Vfb2h0X3JlY29tbWVuZGF0aW9uXFxcXFwiPlxcXFxuICAgIDxjYXQtY29tbW9uLWgxIGlkPVxcXFxcImNvbW1vbi1oMVxcXFxcIiBuYW1lPVxcXFxcItCc0LDRgdGC0LXRgNCwINC+INGB0LDQudGC0LVcXFxcXCI+PC9jYXQtY29tbW9uLWgxPlxcXFxuXFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJwYWdlX29odF9yZWNvbW1lbmRhdGlvbl9fbGlzdFxcXFxcIj5cXFxcblxcXFxuICAgICAgICA8Y2F0LW90aGVyLXJlY29tbWVuZGF0aW9uIGlkPVxcXFxcIm90aGVyLXJlY29tbWVuZGF0aW9uXFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJvdGhlci9SZWNvbW1lbmRhdGlvblxcXFxcIj48L2NhdC1vdGhlci1yZWNvbW1lbmRhdGlvbj5cXFxcbiAgICAgICAgPGNhdC1jb21tb24tcGFnaW5hdG9yIGlkPVxcXFxcImNvbW1vbi1wYWdpbmF0b3JcXFxcXCIgY2F0LXN0b3JlPVxcXFxcIlBhZ2luYXRvclxcXFxcIiBtb2RlbD1cXFxcXCJvdGhlci9SZWNvbW1lbmRhdGlvblxcXFxcIj48L2NhdC1jb21tb24tcGFnaW5hdG9yPlxcXFxuXFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLXJlZ2lzdHJhdGlvbicsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLXJlZ2lzdHJhdGlvbi9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLXJlZ2lzdHJhdGlvblwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiPGNhdC1yZWdpc3RyYXRpb24taGVhZGVyIGlkPVxcXFxcInJlZ2lzdHJhdGlvbi1oZWFkZXJcXFxcXCI+PC9jYXQtcmVnaXN0cmF0aW9uLWhlYWRlcj5cXFxcbjxkaXYgaWQ9XFxcXFwiZm9ybTFcXFxcXCI+XFxcXG4gICAgPGNhdC1yZWdpc3RyYXRpb24tZm9ybSBpZD1cXFxcXCJyZWdpc3RyYXRpb24tZm9ybS0xXFxcXFwiPjwvY2F0LXJlZ2lzdHJhdGlvbi1mb3JtPlxcXFxuPC9kaXY+XFxcXG48Y2F0LXJlZ2lzdHJhdGlvbi1hYm91dCBpZD1cXFxcXCJyZWdpc3RyYXRpb24tYWJvdXRcXFxcXCI+PC9jYXQtcmVnaXN0cmF0aW9uLWFib3V0PlxcXFxuPGNhdC1yZWdpc3RyYXRpb24td2h5LXdlIGlkPVxcXFxcInJlZ2lzdHJhdGlvbi13aHktd2VcXFxcXCI+PC9jYXQtcmVnaXN0cmF0aW9uLXdoeS13ZT5cXFxcbjxjYXQtcmVnaXN0cmF0aW9uLXByaWNlIGlkPVxcXFxcInJlZ2lzdHJhdGlvbi1wcmljZVxcXFxcIj48L2NhdC1yZWdpc3RyYXRpb24tcHJpY2U+XFxcXG48ZGl2IGlkPVxcXFxcImZvcm0yXFxcXFwiPlxcXFxuICAgIDxjYXQtcmVnaXN0cmF0aW9uLWZvcm0gaWQ9XFxcXFwicmVnaXN0cmF0aW9uLWZvcm0tMlxcXFxcIj48L2NhdC1yZWdpc3RyYXRpb24tZm9ybT5cXFxcbjwvZGl2PlxcXFxuPGNhdC1yZWdpc3RyYXRpb24tbW9yZS1wYWdlIGlkPVxcXFxcInJlZ2lzdHJhdGlvbi1tb3JlLXBhZ2VcXFxcXCI+PC9jYXQtcmVnaXN0cmF0aW9uLW1vcmUtcGFnZT5cXFxcbjxjYXQtcmVnaXN0cmF0aW9uLWZhcSBpZD1cXFxcXCJyZWdpc3RyYXRpb24tZmFxXFxcXFwiPjwvY2F0LXJlZ2lzdHJhdGlvbi1mYXE+XFxcXG48ZGl2IGlkPVxcXFxcImZvcm0zXFxcXFwiPlxcXFxuICAgIDxjYXQtcmVnaXN0cmF0aW9uLWZvcm0gaWQ9XFxcXFwicmVnaXN0cmF0aW9uLWZvcm0tM1xcXFxcIj48L2NhdC1yZWdpc3RyYXRpb24tZm9ybT5cXFxcbjwvZGl2PlwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtcmVxdWVzdCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLXJlcXVlc3QvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZS1yZXF1ZXN0XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcImNhbGxiYWNrX3JlcXVlc3RcXFxcXCI+XFxcXG48aDEgY2xhc3M9XFxcXFwiaDEgaDFfc3R5bGVcXFxcXCI+0JfQsNGP0LLQutCwINC80LDRgdGC0LXRgNGDPC9oMT5cXFxcblxcXFxuICAgIDxmb3JtIGNsYXNzPVxcXFxcImNhbGxiYWNrX3JlcXVlc3RfX2Zvcm1cXFxcXCIgbWV0aG9kPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm1ldGhvZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWV0aG9kIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm1ldGhvZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiIGFjdGlvbj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBpZD1cXFxcXCJjYWxsYmFjay1yZXF1ZXN0LWZvcm1cXFxcXCI+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcImNhbGxiYWNrX3JlcXVlc3RfX2ludHJvXFxcXFwiPtCe0L/QuNGI0LjRgtC1INCy0LDRiNGDINC30LDQtNCw0YfRgzwvcD5cXFxcblxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhbGxiYWNrX3JlcXVlc3RfX2lucHV0XFxcXFwiPlxcXFxuICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVxcXFxcInRleHRhcmVhXFxcXFwiIHBsYWNlaG9sZGVyPVxcXFxcItCvINGF0L7Rh9GDICjQvtGC0YDQtdC80L7QvdGC0LjRgNC+0LLQsNGC0YwsINC+0YDQs9Cw0L3QuNC30L7QstCw0YLRjCwg0YPRgdGC0LDQvdC+0LLQuNGC0YwsINC00L7RgdGC0LDQstC40YLRjClcXFxcXCIgbmFtZT1cXFxcXCJjYWxsYmFja1JlcXVlc3RGb3JtW3RleHRdXFxcXFwiPjwvdGV4dGFyZWE+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8cCBjbGFzcz1cXFxcXCJjYWxsYmFja19yZXF1ZXN0X19pbnRyb1xcXFxcIj5cXFxcbiAgICAgICAgICAgINCe0YHRgtCw0LLRjNGC0LUg0LLQsNGI0Lgg0LrQvtC90YLQsNC60YLRi1xcXFxuICAgICAgICA8L3A+XFxcXG5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJjYWxsYmFja19yZXF1ZXN0X19pbnB1dFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJpbnB1dC10ZXh0XFxcXFwiIHR5cGU9XFxcXFwidGV4dFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQktCw0YjQtSDQuNC80Y9cXFxcXCIgbmFtZT1cXFxcXCJjYWxsYmFja1JlcXVlc3RGb3JtW25hbWVdXFxcXFwiPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJjYWxsYmFja19yZXF1ZXN0X19pbnB1dFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJpbnB1dC10ZXh0XFxcXFwiIHR5cGU9XFxcXFwidGV4dFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQktCw0Ygg0YLQtdC70LXRhNC+0L1cXFxcXCIgbmFtZT1cXFxcXCJjYWxsYmFja1JlcXVlc3RGb3JtW3Bob25lXVxcXFxcIj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiY2FsbGJhY2tfcmVxdWVzdF9faW5wdXRcXFxcXCI+XFxcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcXFwiaW5wdXQtdGV4dFxcXFxcIiB0eXBlPVxcXFxcInRleHRcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFwi0JLQsNGIIGVtYWlsXFxcXFwiIG5hbWU9XFxcXFwiY2FsbGJhY2tSZXF1ZXN0Rm9ybVtlbWFpbF1cXFxcXCI+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhbGxiYWNrX3JlcXVlc3RfX3N1Ym1pdFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJidG4tYWNjZW50XFxcXFwiIHR5cGU9XFxcXFwic3VibWl0XFxcXFwiIHZhbHVlPVxcXFxcItC+0YLQv9GA0LDQstC40YLRjCDQt9Cw0Y/QstC60YNcXFxcXCI+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgIDwvZm9ybT5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcInN1Y2Nlc3NfcmVzcG9uc2VcXFxcXCI+0JLQsNGI0LAg0LfQsNGP0LLQutCwINC+0YLQv9GA0LDQstC70LXQvdCwPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLXNhbGUnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1zYWxlL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInBhZ2Utc2FsZVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG7QodC60LjQtNC60Lgg0LrQsNGC0LDQu9C+0LNcIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLXNvdmV0eScsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcGFnZS9wYWdlLXNvdmV0eS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJwYWdlLXNvdmV0eVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG7QodC+0LLQtdGC0Ysg0LrQsNGC0LDQu9C+0LNcIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLXZhY2FuY3knLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS12YWNhbmN5L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInBhZ2UtdmFjYW5jeVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFxcXCJ2YWNhbmN5LXBhZ2VcXFxcXCI+XFxcXG4gICAgPGgxIGNsYXNzPVxcXFxcImgxIGgxX3N0eWxlXFxcXFwiPtCd0LDRiNC4INCy0LDQutCw0L3RgdC40Lg8L2gxPlxcXFxuICAgIDxpbWcgY2xhc3M9XFxcXFwidmFjYW5jeS1wYWdlX19pbWdcXFxcXCIgc3JjPVxcXFxcIi9pbWcvb3RoZXIvdmFjYW5jeS5wbmdcXFxcXCIgYWx0PVxcXFxcItCd0LDRiNC4INCy0LDQutCw0L3RgdC40LhcXFxcXCI+XFxcXG5cXFxcbiAgICA8cCBjbGFzcz1cXFxcXCJ2YWNhbmN5LXBhZ2VfX3RleHRcXFxcXCI+XFxcXG4gICAgICAgINCc0YsgLSDQvNC+0LvQvtC00L7QuSDQutC+0LvQu9C10LrRgtC40LIg0LXQtNC40L3QvtC80YvRiNC70LXQvdC90LjQutC+0LIsINC10YHQu9C4INGDINCS0LDRgSDQtdGB0YLRjCDQttC10LvQsNC90LjQtSDRgNCw0LHQvtGC0LDRgtGMINCyINC90LDRiNC10Lkg0LrQvtC80L/QsNC90LjQuCwg0YLQviDQv9GA0LjRgdC+0LXQtNC40L3Rj9C50YLQtdGB0Ywg0LpcXFxcbiAgICAgICAg0L3QsNC8LCDRg9GH0LDRgdGC0LLRg9C50YLQtSDQsiDRgdC+0LfQtNCw0L3QuNC4INC90L7QstC+0LPQviDQuNC90YLQtdGA0LXRgdC90L7Qs9C+INC/0YDQvtC00YPQutGC0LAuINCS0LzQtdGB0YLQtSDRgSDQvdCw0LzQuCDQstGLINGB0LzQvtC20LXRgtC1INCy0L7Qv9C70L7RgtC40YLRjCDRgdCy0L7QuCDRgdCw0LzRi9C1INGB0LzQtdC70YvQtVxcXFxuICAgICAgICDQuNC00LXQuCwg0YDQsNGB0LrRgNGL0YLRjCDRgdCy0L7QuSDRgtCy0L7RgNGH0LXRgdC60LjQuSDQv9C+0YLQtdC90YbQuNCw0Lsg0Lgg0YDQtdCw0LvQuNC30L7QstCw0YLRjNGB0Y8g0LIg0LrQsNGA0YzQtdGA0L3QvtC8INC/0LvQsNC90LUuINCc0Ysg0LjRidC10Lwg0YbQtdC70LXRg9GB0YLRgNC10LzQu9C10L3QvdGL0YUg0Lgg0YPQstC10YDQtdC90L3Ri9GFXFxcXG4gICAgICAgINGB0L/QtdGG0LjQsNC70LjRgdGC0L7Qsiwg0LrQvtGC0L7RgNGL0LUg0LLQtdGA0Y/RgiDQsiDRgdCy0L7QuCDRgdC40LvRiyDQuCDRg9GB0L/QtdGFLlxcXFxuICAgIDwvcD5cXFxcblxcXFxuICAgIDxjYXQtb3RoZXItdmFjYW5jeSBpZD1cXFxcXCJvdGhlci12YWNhbmN5XFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJvdGhlci9WYWNhbmN5XFxcXFwiPjwvY2F0LW90aGVyLXZhY2FuY3k+XFxcXG48L2Rpdj5cXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3BhZ2UtdmFjYW5jeS1pdGVtJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtdmFjYW5jeS1pdGVtL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInBhZ2UtdmFjYW5jeS1pdGVtXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8Y2F0LW90aGVyLXZhY2FuY3ktaXRlbSBpZD1cXFxcXCJvdGhlci12YWNhbmN5LWl0ZW1cXFxcXCIgY2F0LXN0b3JlPVxcXFxcIm90aGVyL1ZhY2FuY3lJdGVtXFxcXFwiPjwvY2F0LW90aGVyLXZhY2FuY3ktaXRlbT5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdwYWdlLXZpZGVvJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtdmlkZW8vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicGFnZS12aWRlb1wiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG7QktC40LTQtdC+INC60LDRgtCw0LvQvtCzXFxcXG5cXFxcbjxjYXQtY29tbW9uLXBhZ2luYXRvciBpZD1cXFxcXCJjb21tb24tcGFnaW5hdG9yXFxcXFwiIGNhdC1zdG9yZT1cXFxcXCJQYWdpbmF0b3JcXFxcXCIgbW9kZWw9XFxcXFwibWFzdGVyL01hc3RlclZpZGVvXFxcXFwiPjwvY2F0LWNvbW1vbi1wYWdpbmF0b3I+XCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAncmVnaXN0cmF0aW9uLWFib3V0JywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLWFib3V0L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInJlZ2lzdHJhdGlvbi1hYm91dFwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcXFwiYWJvdXQtd3JcXFxcXCI+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJjb250YWluZXJcXFxcXCI+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicm93XFxcXFwiPlxcXFxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9XFxcXFwiYWJvdXRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXFxcImFib3V0X19saXN0IHJvd1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9fdGV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJhYm91dC1saXN0LWl0ZW1fX3RleHQtdmVyLWFsXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQl9CQ0KDQldCT0JjQodCi0KDQmNCg0KPQmdCh0K88YnI+0J3QkCDQodCQ0JnQotCVXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9faWNvbi13clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwiYWRkLXBhZ2VcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9fYXJyb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcImFycm93XCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9fdGV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJhYm91dC1saXN0LWl0ZW1fX3RleHQtdmVyLWFsXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQntCf0KPQkdCb0JjQmtCj0JnQodCvXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9faWNvbi13clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGljdHVyZVwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9fYXJyb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcImFycm93XCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9fdGV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJhYm91dC1saXN0LWl0ZW1fX3RleHQtdmVyLWFsXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQn9Ce0JvQo9Cn0JDQmTxicj7QmtCb0JjQldCd0KLQntCSXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImFib3V0LWxpc3QtaXRlbV9faWNvbi13clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGVvcGxlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgICAgICA8L3VsPlxcXFxuICAgICAgICAgICAgPC9zZWN0aW9uPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdyZWdpc3RyYXRpb24tZmFxJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLWZhcS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJyZWdpc3RyYXRpb24tZmFxXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcbjxkaXYgY2xhc3M9XFxcXFwiY29udGFpbmVyIGNvcm5lciBjb3JuZXJfYmdcXFxcXCI+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVxcXFxcImZhcVxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInBhZ2UtdGl0bGUgcGFnZS10aXRsZV9sYW5kaW5nXFxcXFwiPtCn0LDRgdGC0YvQtSDQstC+0L/RgNC+0YHRizo8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmFxX19ibG9ja1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImZhcV9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZmFxX19pdGVtLXRpdGxlXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcImZhcV9faXRlbS10aXRsZS1pbm5lclxcXFxcIj7QmtCw0Log0L7Qv9C70LDRgtC40YLRjCDRgdC10YDQstC40YE/PC9zcGFuPjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJmYXFfX2l0ZW0tdGV4dFxcXFxcIj7QndCwINC00LDQvdC90YvQuSDQvNC+0LzQtdC90YIsINGH0YLQvtCx0Ysg0YHQvtCy0LXRgNGI0LjRgtGMINC+0L/Qu9Cw0YLRgyxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgINCy0LDQvCDQvdGD0LbQvdC+INC/0YDQuNC10YXQsNGC0Ywg0LIg0L3QsNGIINC+0YTQuNGBINC/0L4g0LDQtNGA0LXRgdGDINCQ0LLRgtC+0YHRgtGA0L7QuNGC0LXQu9C10LkgNDHQkCDQui4xINGBIDk6MDAg0LTQviAxNzowMCAo0L/QvS3Qv9GCKS5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgINCc0LXQvdC10LTQttC10YAg0L/RgNC10LTQvtGB0YLQsNCy0LjRgiDQstCw0Lwg0LLRgdGOINC90LXQvtCx0YXQvtC00LjQvNGD0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4g0L/QviDQstGL0LHQvtGA0YNcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgINGC0LDRgNC40YTQvdC+0LPQviDQv9C70LDQvdCwINC4INC/0YDQvtCy0LXQtNC10L3QuNGOINC+0L/Qu9Cw0YLRiy4g0KLQsNC60LbQtSDQvNGLINGA0LDQsdC+0YLQsNC10Lwg0L3QsNC0INGB0LjRgdGC0LXQvNC+0LlcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgINGN0LvQtdC60YLRgNC+0L3QvdGL0YUg0L/Qu9Cw0YLQtdC20LXQuS5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmFxX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJmYXFfX2l0ZW0tdGl0bGVcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwiZmFxX19pdGVtLXRpdGxlLWlubmVyXFxcXFwiPtCn0YLQviDQsdGD0LTQtdGCLCDQutC+0LPQtNCwINC30LDQutC+0L3Rh9C40YLRgdGPINC80LXRgdGP0YY/PC9zcGFuPjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJmYXFfX2l0ZW0tdGV4dFxcXFxcIj7QktGLINC/0L7Qu9GD0YfQuNGC0LUg0YPQstC10LTQvtC80LvQtdC90LjQtSDQvdCwINCy0LDRiCBlLW1haWwsINC30LDRgNC10LPQuNGB0YLRgNC40YDQvtCy0LDQvdC90YvQuSDQsiDRgdC40YHRgtC10LzQtSwg0YEg0L/RgNC10LTQu9C+0LbQtdC90LjQtdC8INC/0YDQvtC00LvQuNGC0Ywg0LTQtdC50YHRgtCy0YPRjtGJ0LjQuSDRgtCw0YDQuNGE0L3Ri9C5INC/0LvQsNC9INC40LvQuCDQv9C10YDQtdC50YLQuCDQvdCwINC90L7QstGL0LkuINCV0YHQu9C4INCyINGC0LXRh9C10L3QuNC1IDMwINC00L3QtdC5INCy0Ysg0L3QuCDRgNCw0LfRgyDQvdC1INGB0L7QstC10YDRiNC40LvQuCDQstGF0L7QtCDQsiDQutCw0LHQuNC90LXRgiDRgdCw0LnRgtCwIEZhY2VNYXN0ZXIsINGC0L4g0LLQsNGIINC60LDQsdC40L3QtdGCINCx0YPQtNC10YIg0YPQtNCw0LvRkdC9LjwvcD5cXFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmYXFfX2Jsb2NrXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmFxX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJmYXFfX2l0ZW0tdGl0bGVcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwiZmFxX19pdGVtLXRpdGxlLWlubmVyXFxcXFwiPtCc0L7Qs9GDINC70Lgg0Y8g0LjQt9C80LXQvdC40YLRjCDRgtCw0YDQuNGE0L3Ri9C5INC/0LvQsNC9Pzwvc3Bhbj48L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZmFxX19pdGVtLXRleHRcXFxcXCI+0JXRgdC70Lgg0LLRiyDQv9C+0LvRjNC30YPQtdGC0LXRgdGMINCx0LXRgdC/0LvQsNGC0L3QvtC5INC80LjQvdC4LdGB0YLRgNCw0L3QuNGG0LXQuSwg0YLQviDQv9C+0LvRg9GH0LjRgtGMINCy0YHQtSDQstC+0LfQvNC+0LbQvdC+0YHRgtC4INGN0YTRhNC10LrRgtC40LLQvdC+0LPQviDQv9GA0L7QtNCy0LjQttC10L3QuNGPINC90LAg0YHQsNC50YLQtSBGYWNlTWFzdGVyINCy0Ysg0LzQvtC20LXRgtC1INCyINC70Y7QsdC+0LUg0LLRgNC10LzRjywg0LLRi9Cx0YDQsNCyINGC0LDRgNC40YTQvdGL0Lkg0L/Qu9Cw0L0g0Lgg0L7Qv9C70LDRgtC40LIg0LXQs9C+LiDQldGB0LvQuCDQstGLINGD0LbQtSDRgdC+0LLQtdGA0YjQuNC70Lgg0L7Qv9C70LDRgtGDINC4INGF0L7RgtC40YLQtSDQv9C+0LzQtdC90Y/RgtGMINC+0LTQuNC9INGC0LDRgNC40YTQvdGL0Lkg0L/Qu9Cw0L0g0L3QsCDQtNGA0YPQs9C+0LksINGC0L4g0LLQsNC8INC90YPQttC90L4g0L/QvtC00L7QttC00LDRgtGMLCDQv9C+0LrQsCDQt9Cw0LrQvtC90YfQuNGC0YHRjyDQv9C10YDQstGL0LkuPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmFxX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJmYXFfX2l0ZW0tdGl0bGVcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwiZmFxX19pdGVtLXRpdGxlLWlubmVyXFxcXFwiPtCjINC80LXQvdGPINC10YHRgtGMINCy0L7Qv9GA0L7RgSE8L3NwYW4+PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImZhcV9faXRlbS10ZXh0XFxcXFwiPtCR0YPQtNC10Lwg0YDQsNC00Ysg0L/RgNC10LTRgdGC0LDQstC40YLRjCDQstCw0LxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdGD0Y4g0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0YDQsNCx0L7RgtC1INC/0LvQsNGC0YTQvtGA0LzRiyDQuCDQviDRhtC10L3QsNGFINC/0L4g0YLQtdC70LXRhNC+0L3RgyAoODQ4MikgNzQtNDQtMTkuPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvc2VjdGlvbj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAncmVnaXN0cmF0aW9uLWZvcm0nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24tZm9ybS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJyZWdpc3RyYXRpb24tZm9ybVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFxcXCJzZWN0aW9uLXJlZ1xcXFxcIj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImNvbnRhaW5lclxcXFxcIj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cXFxcXCJmb3JtIGZvcm1fcmVnLW1hc3RlclxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImZvcm1fX2NvbnRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cXFxcXCJmb3JtX190aXRsZVxcXFxcIj7QndCw0YfQsNGC0Ywg0YDQtdCz0LjRgdGC0YDQsNGG0LjRjjwvaDI+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGZvcm0gY2xhc3M9XFxcXFwiZm9ybV9fZm9ybVxcXFxcIiBhY3Rpb249XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCIgbWV0aG9kPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm1ldGhvZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWV0aG9kIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm1ldGhvZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiIGRhdGEtdXJsLWxrPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybExLIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmxMSyA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxMS1wiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmb3JtX19yb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcXFwidGV4dFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQmtCw0Log0JLQsNGBINC30L7QstGD0YI/XFxcXFwiIG5hbWU9XFxcXFwicmVnbWFzdGVyW25hbWVdXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImZvcm1fX3JvdyByb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmb3JtX19yb3dfaGFsZlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcXFwidGV4dFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQo9C60LDQttC40YLQtSDQktCw0Ygg0YLQtdC70LXRhNC+0L1cXFxcXCIgbmFtZT1cXFxcXCJyZWdtYXN0ZXJbcGhvbmVdXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZm9ybV9fcm93X2hhbGZcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXFxcInBhc3N3b3JkXFxcXFwiIHBsYWNlaG9sZGVyPVxcXFxcItCf0YDQuNC00YPQvNCw0LnRgtC1INC/0LDRgNC+0LvRjFxcXFxcIiBuYW1lPVxcXFxcInJlZ21hc3RlcltwYXNzd29yZF1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZm9ybV9fcm93XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cXFxcXCJmb3JtX19idG4gYnRuXFxcXFwiIHR5cGU9XFxcXFwic3VibWl0XFxcXFwiIHZhbHVlPVxcXFxcItCX0JDQoNCQ0JPQmNCh0KLQoNCY0KDQntCS0JDQotCs0KHQr1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJmb3JtX19yb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVxcXFxcImNoZWNrYm94XFxcXFwiIGNoZWNrZWQgdmFsdWU9XFxcXFwidHJ1ZVxcXFxcIj7RjyDRgdC+0LPQu9Cw0YHQtdC9INGBIDxhIGhyZWY9XFxcXFwiL29mZXJ0YVxcXFxcIj7Rg9GB0LvQvtCy0LjRj9C80Lg8L2E+IDwvbGFiZWw+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9zZWN0aW9uPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3JlZ2lzdHJhdGlvbi1oZWFkZXInLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24taGVhZGVyL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInJlZ2lzdHJhdGlvbi1oZWFkZXJcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcXFwiY29udGFpbmVyXFxcXFwiPlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwicm93XFxcXFwiPlxcXFxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cXFxcXCJsYW5kaW5nLWhlYWRlclxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxoMSBjbGFzcz1cXFxcXCJwYWdlLXRpdGxlIHBhZ2UtdGl0bGVfbGFuZGluZ1xcXFxcIj5GYWNlTWFzdGVyIOKAlCDRgdCw0LnRgiDQv9C+0LjRgdC60LAg0YHQv9C10YbQuNCw0LvQuNGB0YLQvtCyXFxcXG4gICAgICAgICAgICAgICAg0LIg0YHRhNC10YDQtSDRg9GB0LvRg9CzINCyINCi0L7Qu9GM0Y/RgtGC0Lg8L2gxPlxcXFxuICAgICAgICA8L3NlY3Rpb24+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdyZWdpc3RyYXRpb24tbW9yZS1wYWdlJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLW1vcmUtcGFnZS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJyZWdpc3RyYXRpb24tbW9yZS1wYWdlXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZS13clxcXFxcIj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImNvbnRhaW5lclxcXFxcIj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwicGFnZS10aXRsZSBwYWdlLXRpdGxlX2xhbmRpbmdcXFxcXCI+0J/QvtC00YDQvtCx0L3QtdC1INC+INGB0YLRgNCw0L3QuNGG0LDRhTo8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BpY1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19waWMtaW1nXFxcXFwiIGFsdD1cXFxcXCLRgdGC0YDQsNC90LjRhtCwINC4INC80LjQvdC4LdGB0YLRgNCw0L3QuNGG0LBcXFxcXCIgc3JjPVxcXFxcIi9pbWcvcmVnaXN0cmF0aW9uLzEucG5nXFxcXFwiIHdpZHRoPVxcXFxcIjEwMCVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0LXRpdGxlXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0LXRpdGxlLWNvdW50XFxcXFwiPjwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0LXRpdGxlLWhlYWRlciBtb3JlLXBhZ2VfX3RleHQtdGl0bGUtaGVhZGVyX25vLXZhbGlnblxcXFxcIj7QmtCw0YLQsNC70L7QsyDQvNCw0YHRgtC10YDQvtCyPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGUtc3ViLWhlYWRlclxcXFxcIj7QnNC40L3QuC3RgdGC0YDQsNC90LjRhtCwICsg0LvQuNGH0L3QsNGPINGB0YLRgNCw0L3QuNGG0LA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BhcmFncmFwaFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BhcmFncmFwaC10aXRsZVxcXFxcIj7Qm9C40YfQvdCw0Y8g0YHRgtGA0LDQvdC40YbQsDwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGFyYWdyYXBoLXRleHRcXFxcXCI+0JvQuNGH0L3QsNGPINGB0YLRgNCw0L3QuNGG0LAg4oCTINGN0YLQviDQstCw0YjQtSDRgdC+0LHRgdGC0LLQtdC90L3QvtC1INC40L3RhNC+0YDQvNCw0YbQuNC+0L3QvdC+0LUg0L/RgNC+0YHRgtGA0LDQvdGB0YLQstC+INC00LvRjyDQv9GA0L7QtNCy0LjQttC10L3QuNGPINCyINCh0LXRgtC4LiDQntC90LAg0LzQvtC20LXRgiDRgdGC0LDRgtGMINCw0L3QsNC70L7Qs9C+0Lwg0L/QtdGA0YHQvtC90LDQu9GM0L3QvtCz0L4g0YHQsNC50YLQsCwg0LvQuNCx0L4sINC10YHQu9C4INGDINCy0LDRgSDRg9C20LUg0LXRgdGC0Ywg0YHQstC+0Lkg0YHQsNC50YIsINC80Ysg0L/QvtC80L7QttC10Lwg0YDQsNGB0YjQuNGA0LjRgtGMINCw0YDRgdC10L3QsNC7INC00LvRjyDQv9GA0LjQstC70LXRh9C10L3QuNGPINC90LAg0L3QtdCz0L4g0LrQu9C40LXQvdGC0L7Qsi4g0JvQuNGH0L3QsNGPINGB0YLRgNCw0L3QuNGG0LAg0LTQsNGR0YIg0LTQvtGB0YLRg9C/INC6INC80L3QvtC20LXRgdGC0LLRgyDRgdC10YDQstC40YHQvtCyLCDRh9GC0L7QsdGLINC/0L7QvNC+0YfRjCDRgdC/0LXRhtC40LDQu9C40YHRgtGDINC4INC60LvQuNC10L3RgtGDINC90LDQudGC0Lgg0LTRgNGD0LMg0LTRgNGD0LPQsDog0L3QsNC/0LjRgdCw0L3QuNC1INGB0YLQsNGC0LXQuSwg0YTQvtGC0L7QsNC70YzQsdC+0LzRiywg0L7RgtC30YvQstGLLCDQv9GA0L7QtNCy0LjQttC10L3QuNC1INCyINGB0L7RhtC40LDQu9GM0L3Ri9GFINGB0LXRgtGP0YUsINCy0LjQtNC10L7QutCw0YLQsNC70L7Qsywg0YDRg9Cx0YDQuNC60LAgwqvQodC+0LLQtdGC0Ysg0JzQsNGB0YLQtdGA0L7QssK7LCDQutCw0YLQsNC70L7QsyDRhNC40YDQvCDQuCDQvNC90L7Qs9C+0LUg0LTRgNGD0LPQvtC1LjwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BhcmFncmFwaFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BhcmFncmFwaC10aXRsZVxcXFxcIj7QnNC40L3QuC3RgdGC0YDQsNC90LjRhtCwPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGgtdGV4dFxcXFxcIj7QnNC40L3QuC3RgdGC0YDQsNC90LjRhtCwIOKAlCDRjdGC0L4g0LLQsNGI0LAg0LLQuNC30LjRgtC60LAg0YEg0LrQvtC90YLQsNC60YLQvdC+0Lkg0LjQvdGE0L7RgNC80LDRhtC40LXQuS4g0JfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNCy0YjQuNGB0Ywg0L3QsCDQvdCw0YjQtdC8INGB0LDQudGC0LUg0LHQtdGB0L/Qu9Cw0YLQvdC+LCDQstGLINC/0L7Qu9GD0YfQsNC10YLQtSDRgtC+0LvRjNC60L4g0LzQtdGB0YLQviDQsiDQvtCx0YnQtdC8INC60LDRgtCw0LvQvtCz0LUg0JzQsNGB0YLQtdGA0L7Qsiwg0LPQtNC1INCy0LDRiNGDINCy0LjQt9C40YLQutGDINGB0LzQvtCz0YPRgiDRg9Cy0LjQtNC10YLRjCDQv9C+0YHQtdGC0LjRgtC10LvQuC4g0J3QviDQstGLINCy0YHQtdCz0LTQsCDQvNC+0LbQtdGC0LUg0YHQtNC10LvQsNGC0Ywg0LjQtyDQvdC10ZEg0LvQuNGH0L3Rg9GOINGB0YLRgNCw0L3QuNGG0YMg0Lgg0YLQtdC8INGB0LDQvNGL0Lwg0YPQstC10LvQuNGH0LjRgtGMINC/0YDQuNGC0L7QuiDQutC70LjQtdC90YLQvtCyLiDQlNC70Y8g0Y3RgtC+0LPQviDQstCw0Lwg0L3Rg9C20L3QviDQstGL0LHRgNCw0YLRjCDQuCDQvtC/0LvQsNGC0LjRgtGMINC+0LTQuNC9INC40Lcg0YLQsNGA0LjRhNC90YvRhSDQv9C70LDQvdC+0LIuPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGljXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BpYy1pbWcgbW9yZS1wYWdlX19waWMtaW1nX29mZnNldC0xXFxcXFwiIGFsdD1cXFxcXCLRgdGC0YDQsNC90LjRhtCwINC4INC80LjQvdC4LdGB0YLRgNCw0L3QuNGG0LBcXFxcXCIgc3JjPVxcXFxcIi9pbWcvcmVnaXN0cmF0aW9uLzIucG5nXFxcXFwiIHdpZHRoPVxcXFxcIjEwMCVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dFxcXFxcIj5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGUtY291bnRcXFxcXCI+PC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGUtaGVhZGVyXFxcXFwiPtCa0LDRgtCw0LvQvtCzINGB0LrQuNC00L7QuiDQuCDQv9C+0LTQsNGA0LrQvtCyPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGhcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGgtdGV4dFxcXFxcIj7Qo9GB0YLRgNCw0LjQstCw0LnRgtC1INCw0LrRhtC40Lgg0Lgg0YHQutC40LTQutC4LCDQv9C+0LvRg9GH0LDRjyDQtdGJ0ZEg0LHQvtC70YzRiNC1INC60LvQuNC10L3RgtC+0LIhINCc0L3QvtCz0LjQtSDQv9C+0YHQtdGC0LjRgtC10LvQuCDRgNC10LPRg9C70Y/RgNC90L4g0L7RgtGB0LvQtdC20LjQstCw0Y7RgiDQstGL0LPQvtC00L3Ri9C1INC/0YDQtdC00LvQvtC20LXQvdC40Y8g0LIg0L3QsNGI0LXQvCDQutCw0YLQsNC70L7Qs9C1IMKr0KHQutC40LTQutC4INC4INC/0L7QtNCw0YDQutC4wrsuINCf0L7RjdGC0L7QvNGDINC10YHQu9C4INCy0Ysg0YDQsNC30LzQtdGJ0LDQtdGC0LUg0LIg0L3RkdC8INC40L3RhNC+0YDQvNCw0YbQuNGOINC+INGB0LrQuNC00LrQtSwg0YLQviDRiNCw0L3RgdGLLCDRh9GC0L4g0LrQu9C40LXQvdGCINC30LDQuNC90YLQtdGA0LXRgdGD0LXRgtGB0Y8g0LLQsNGI0LjQvCDQv9GA0LXQtNC70L7QttC10L3QuNC10LwsINCy0L7Qt9GA0LDRgdGC0LDRjtGCINCy0LTQstC+0LUhINCa0YDQvtC80LUg0YLQvtCz0L4sINGB0LDQvNGL0LUg0LDQutGC0YPQsNC70YzQvdGL0LUg0Lgg0LjQvdGC0LXRgNC10YHQvdGL0LUg0LDQutGG0LjQuCDQvNGLINGA0LXQs9GD0LvRj9GA0L3QviDQvtGB0LLQtdGJ0LDQtdC8INCyINGB0L7RhtC40LDQu9GM0L3Ri9GFINGB0LXRgtGP0YUuPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19saW5lXFxcXFwiPjwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGljXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BpYy1pbWcgbW9yZS1wYWdlX19waWMtaW1nX29mZnNldC0xXFxcXFwiIGFsdD1cXFxcXCLRgdGC0YDQsNC90LjRhtCwINC4INC80LjQvdC4LdGB0YLRgNCw0L3QuNGG0LBcXFxcXCIgc3JjPVxcXFxcIi9pbWcvcmVnaXN0cmF0aW9uLzMucG5nXFxcXFwiIHdpZHRoPVxcXFxcIjEwMCVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0LXRpdGxlXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0LXRpdGxlLWNvdW50XFxcXFwiPjwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0LXRpdGxlLWhlYWRlclxcXFxcIj7QmtCw0YLQsNC70L7QsyDQstC40LTQtdC+PC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGhcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGgtdGV4dFxcXFxcIj7QkiDQstC40LTQtdC+0LrQsNGC0LDQu9C+0LPQtSDRg9C20LUg0YHQvtCx0YDQsNC90LAg0YbQtdC70LDRjyDQutC+0LvQu9C10LrRhtC40Y8g0YHQsNC80YvRhSDQv9C+0LvQtdC30L3Ri9GFINGA0L7Qu9C40LrQvtCyLCDQvdCw0LnQtNC10L3QvdGL0YUg0JzQsNGB0YLQtdGA0LDQvNC4INC90LAg0L/RgNC+0YHRgtC+0YDQsNGFINCY0L3RgtC10YDQvdC10YLQsC4g0JzQvdC+0LPQuNC1INGB0L/QtdGG0LjQsNC70LjRgdGC0Ysg0L3QtSDRgtC+0LvRjNC60L4g0L7RgtCx0LjRgNCw0Y7RgiDQu9GD0YfRiNC10LUsINC40YHRhdC+0LTRjyDQuNC3INGB0LLQvtC40YUg0LfQvdCw0L3QuNC5INC4INC+0L/Ri9GC0LAsINC90L4g0Lgg0YHQvtC30LTQsNGO0YIg0LXQs9C+ISDQktGLINC80L7QttC10YLQtSDQt9Cw0YHQvdGP0YLRjCDQvdCwINCy0LjQtNC10L4g0YHQtdCx0Y8sINGB0LLQvtGOINGA0LDQsdC+0YLRgywg0LTQvtCy0L7Qu9GM0L3Ri9GFINC60LvQuNC10L3RgtC+0LIsINC/0L7QutCw0LfQsNGC0YwsINC60LDQuiDRh9GC0L4t0YLQviDRgNCw0LHQvtGC0LDQtdGCLCDQuNC70Lgg0LTQsNGC0Ywg0LTQtdC70YzQvdGL0Lkg0YHQvtCy0LXRgiDQuNC3INGB0L7QsdGB0YLQstC10L3QvdC+0Lkg0L/RgNCw0LrRgtC40LrQuC4g0JLQuNC00LXQvtGA0L7Qu9C40LrQuCDRgdC/0L7RgdC+0LHQvdGLINC/0L7QutCw0LfQsNGC0Ywg0L/QvtGB0LXRgtC40YLQtdC70Y4g0YLQviwg0YfRgtC+INC/0L7RgNC+0Lkg0YHQu9C+0LbQvdC+INC/0LXRgNC10LTQsNGC0Ywg0L7QtNC90LjQvNC4INGE0L7RgtC+0LPRgNCw0YTQuNGP0LzQuCwg0L/QvtC80L7Qs9Cw0Y7RgiDRgdGE0L7RgNC80LjRgNC+0LLQsNGC0Ywg0LjQvdGC0LXRgNC10YEg0Log0LrQsNC60L7QuS3Qu9C40LHQviDRg9GB0LvRg9Cz0LUg0LjQu9C4INGC0L7QstCw0YDRgy48L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX2xpbmVcXFxcXCI+PC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19waWNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGljLWltZyBtb3JlLXBhZ2VfX3BpYy1pbWdfb2Zmc2V0LTFcXFxcXCIgYWx0PVxcXFxcItGB0YLRgNCw0L3QuNGG0LAg0Lgg0LzQuNC90Lgt0YHRgtGA0LDQvdC40YbQsFxcXFxcIiBzcmM9XFxcXFwiL2ltZy9yZWdpc3RyYXRpb24vNC5wbmdcXFxcXCIgd2lkdGg9XFxcXFwiMTAwJVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX190ZXh0XFxcXFwiPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dC10aXRsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dC10aXRsZS1jb3VudFxcXFxcIj48L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dC10aXRsZS1oZWFkZXJcXFxcXCI+0JrQsNGC0LDQu9C+0LMg0YHQvtCy0LXRgtC+0LIg0LzQsNGB0YLQtdGA0L7QsjwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGFyYWdyYXBoXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGFyYWdyYXBoLXRleHRcXFxcXCI+0KDRg9Cx0YDQuNC60LAgwqvQodC10LrRgNC10YLRiyDQnNCw0YHRgtC10YDQvtCywrsg4oCTINGN0YLQviDRgdCx0L7RgNC90LjQuiDRgdGC0LDRgtC10Lkg0L7RgiDQvdCw0YjQuNGFINGB0L/QtdGG0LjQsNC70LjRgdGC0L7QsiDQtNC70Y8g0L/QvtC80L7RidC4INC/0L7RgdC10YLQuNGC0LXQu9GP0Lwg0LIg0YHQsNC80YvRhSDRgNCw0LfQu9C40YfQvdGL0YUg0LbQuNC30L3QtdC90L3Ri9GFINGB0LjRgtGD0LDRhtC40Y/RhS4g0KfRgtC+0LHRiyDQv9C+0L/QsNGB0YLRjCDQsiDQutCw0YLQsNC70L7QsyDCq9Ch0LXQutGA0LXRgtC+0LLCuywg0LLQsNC8INC90YPQttC90L4g0L3QsNC/0LjRgdCw0YLRjCDQvdCwINC70LjRh9C90L7QuSDRgdGC0YDQsNC90LjRhtC1INGB0YLQsNGC0YzRji4g0JjQvdGC0LXRgNC10YHQvdGL0Lkg0Lgg0L/QvtC70LXQt9C90YvQuSDQvNCw0YLQtdGA0LjQsNC7INC00LXQvNC+0L3RgdGC0YDQuNGA0YPQtdGCINC60LvQuNC10L3RgtGDINCy0LDRiCDQsdC+0LPQsNGC0YvQuSDQvtC/0YvRgiDQuCDQstGL0YHQvtC60LjQuSDRg9GA0L7QstC10L3RjCDQv9GA0L7RhNC10YHRgdC40L7QvdCw0LvQuNC30LzQsC4g0JrQvtCz0LTQsCDRgdGC0LDRgtGM0Y8g0LHRg9C00LXRgiDQvtC/0YPQsdC70LjQutC+0LLQsNC90LAg0L3QsCDQstCw0YjQtdC5INGB0YLRgNCw0L3QuNGG0LUsINC80L7QtNC10YDQsNGC0L7RgNGLINC/0YDQvtCy0LXRgNGP0YIsINC/0L7QtNGF0L7QtNC40YIg0LvQuCDQvtC90LAg0LTQu9GPINC60LDRgtCw0LvQvtCz0LAg0YHQvtCy0LXRgtC+0LIuINCT0LvQsNCy0L3Ri9C80Lgg0LrRgNC40YLQtdGA0LjRj9C80Lgg0Y/QstC70Y/RjtGC0YHRjyDQv9GA0LDQutGC0LjRh9C90L7RgdGC0Ywg0Lgg0L/QvtC90Y/RgtC90L7RgdGC0Ywg0LTQu9GPINC/0L7RgdC10YLQuNGC0LXQu9GPLCDQvtGC0YHRg9GC0YHRgtCy0LjQtSDQv9GA0Y/QvNC+0Lkg0YDQtdC60LvQsNC80YsuPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19saW5lXFxcXFwiPjwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fcGljXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3BpYy1pbWcgbW9yZS1wYWdlX19waWMtaW1nX29mZnNldC0xXFxcXFwiIGFsdD1cXFxcXCLRgdGC0YDQsNC90LjRhtCwINC4INC80LjQvdC4LdGB0YLRgNCw0L3QuNGG0LBcXFxcXCIgc3JjPVxcXFxcIi9pbWcvcmVnaXN0cmF0aW9uLzUucG5nXFxcXFwiIHdpZHRoPVxcXFxcIjEwMCVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm1vcmUtcGFnZV9fdGV4dFxcXFxcIj5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGUtY291bnRcXFxcXCI+PC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJtb3JlLXBhZ2VfX3RleHQtdGl0bGUtaGVhZGVyXFxcXFwiPtCa0LDRgtCw0LvQvtCzINGE0LjRgNC8PC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGhcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwibW9yZS1wYWdlX19wYXJhZ3JhcGgtdGV4dFxcXFxcIj7Qn9C+0LzQuNC80L4g0L/QtdGA0LXRh9C90Y8g0L7RgtC00LXQu9GM0L3Ri9GFINGB0L/QtdGG0LjQsNC70LjRgdGC0L7QsiDRgyDQvdCw0YEg0YLQsNC60LbQtSDQtdGB0YLRjCDQutCw0YLQsNC70L7QsyDQutC+0LzQv9Cw0L3QuNC5LiDQndCwINGB0LXQs9C+0LTQvdGP0YjQvdC40Lkg0LTQtdC90Ywg0LIg0L3RkdC8INC90LDRhdC+0LTQuNGC0YHRjyDQsdC+0LvQtdC1IDEwMCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC5LCDQs9C00LUg0YDQsNCx0L7RgtCw0Y7RgiDQvdCw0YjQuCDQnNCw0YHRgtC10YDQsC4g0JLRgdC1INC60L7QvNC/0LDQvdC40Lgg0YDQsNGB0L/QvtC70LDQs9Cw0Y7RgtGB0Y8g0LIg0YHQvtC+0YLQstC10YLRgdGC0LLQuNC4INGBINC/0YDQuNCy0YvRh9C90YvQvCDRgNGD0LHRgNC40LrQsNGC0L7RgNC+0Lwg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINGC0L7Qs9C+LCDQsiDQutCw0LrQvtC5INGB0YTQtdGA0LUg0L/QvtGB0LXRgtC40YLQtdC70Ywg0LjRidC10YIg0YHQv9C10YbQuNCw0LvQuNGB0YLQsC4g0JTQsNC90L3Ri9C5INC60LDRgtCw0LvQvtCzINC/0L7QvNC+0LPQsNC10YIg0L7RgNCz0LDQvdC40LfQvtCy0LDRgtGMINGN0YTRhNC10LrRgtC40LLQvdC+0LUg0L/RgNC+0LTQstC40LbQtdC90LjQtSDQvdC1INGC0L7Qu9GM0LrQviDQtNC70Y8g0L7RgtC00LXQu9GM0L3QvtCz0L4g0YHQvtGC0YDRg9C00L3QuNC60LAsINC90L4g0Lgg0LTQu9GPINGG0LXQu9C+0Lkg0LrQvtC80L/QsNC90LjQuC4g0JrQsNC20LTQsNGPINC+0YDQs9Cw0L3QuNC30LDRhtC40Y8g0LzQvtC20LXRgiDQuNC80LXRgtGMINC+0LTQvdC+0LPQviDRgdCy0L7QtdCz0L4g0L/RgNC10LTRgdGC0LDQstC40YLQtdC70Y8g0L3QsCBGYWNlTWFzdGVyINC40LvQuCDQsdC+0LvRjNGI0LUuINCi0LDQutC20LUg0LIg0LrQsNGC0LDQu9C+0LPQtSDRhNC40YDQvCDQtdGB0YLRjCDRgdCy0L7QuSDRgNC10LnRgtC40L3QsyDRgNC10LrQvtC80LXQvdC00LDRhtC40LkuINCe0L0g0YHQutC70LDQtNGL0LLQsNC10YLRgdGPINC40Lcg0YHRg9C80LzRiyDCq9C70LDQudC60L7QssK7LCDQutC+0YLQvtGA0YvQtSDQv9C+0LvRg9GH0LjQu9C4INCy0YHQtSDQnNCw0YHRgtC10YDQsCDQuNC3INC+0LTQvdC+0Lkg0LrQvtC80L/QsNC90LjQuC4g0KLQsNC60LjQvCDQvtCx0YDQsNC30L7QvCwg0YfQtdC8INC/0L7Qv9GD0LvRj9GA0L3QtdC1INGB0L7RgtGA0YPQtNC90LjQutC4INGB0YDQtdC00Lgg0LrQu9C40LXQvdGC0L7Qsiwg0YLQtdC8INCy0YvRiNC1INGA0LXQudGC0LjQvdCzINC+0YDQs9Cw0L3QuNC30LDRhtC40LguPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9zZWN0aW9uPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAncmVnaXN0cmF0aW9uLXByaWNlJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLXByaWNlL2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcInJlZ2lzdHJhdGlvbi1wcmljZVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcXFwicHJpY2Utd3IgY29ybmVyIGNvcm5lcl9iZ1xcXFxcIj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcImNvbnRhaW5lclxcXFxcIj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cXFxcXCJwcmljZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJwYWdlLXRpdGxlIHBhZ2UtdGl0bGVfbGFuZGluZ1xcXFxcIj7QodC60L7Qu9GM0LrQviDRgdGC0L7QuNGCINC/0YDQtdC00LvQvtC20LXQvdC40LU/PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwic3ViLXRpdGxlIHN1Yi10aXRsZV9sYW5kaW5nXFxcXFwiPtCS0YvQsdC10YDQuNGC0LUg0L3Rg9C20L3Rg9GOINC30LDQutC70LDQtNC60YM6PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPCEtLTxkaXYgaWQ9XFxcXFwiaG9yaXpvbnRhbFRhYlxcXFxcIj4tLT5cXFxcbiAgICAgICAgICAgICAgICAgICAgPCEtLTx1bCBibG9jaz1cXFxcXCJwcmljZS10YWJzLWxpc3RcXFxcXCIgbWl4PVxcXFxcImJsb2NrOnJlc3AtdGFicy1saXN0IGhvcl8xXFxcXFwiPi0tPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLTxsaSBlbGVtPVxcXFxcIml0ZW1cXFxcXCI+0KPRgdC70L7QstC40Y8g0LTQu9GPINGE0LjQt9C40YfQtdGB0LrQuNGFINC70LjRhjwvbGk+LS0+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tPGxpIGVsZW09XFxcXFwiaXRlbVxcXFxcIj7Qo9GB0LvQvtCy0LjRjyDQtNC70Y8g0Y7RgNC40LTQuNGH0LXRgdC60LjRhSDQu9C40YY8L2xpPi0tPlxcXFxuICAgICAgICAgICAgICAgICAgICA8IS0tPC91bD4tLT5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJwcmljZS10YWJzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJ0YWItY29udGVudCB0YWItY29udGVudF9hY3RpdmVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJ0YWItY29udGVudF9fbmFtZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcInN0cmVsa2FcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KPRgdC70L7QstC40Y8g0LTQu9GPINGE0LjQt9C40YfQtdGB0LrQuNGFINC70LjRhlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2tcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2tfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtMVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fbWVkYWxzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtZWRhbF9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3RpdGxlXFxcXFwiPtCh0YLQsNGA0YI8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3N1Yi10aXRsZVxcXFxcIj7QkdC10YHQv9C70LDRgtC90L48L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fcGFydC0yXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXMgb2ZlcnMtYmxvY2stcGx1c19zaW5nbGVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX2l0ZW0gb2ZlcnMtYmxvY2stcGx1c19faXRlbV9zaW5nbGVcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWluaS1wYWdlX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19fdGV4dFxcXFxcIj7QnNC40L3QuDxicj7RgdGC0YDQsNC90LjRhtCwPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtM1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fYnRuXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiYnRuIGJ0bl9yZWctcGx1cyBqcy1zY3JvbGx0b1xcXFxcIiBocmVmPVxcXFxcIiNmb3JtMlxcXFxcIj7QktGL0LHRgNCw0YLRjDwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2tfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtMVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fbWVkYWxzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtZWRhbF9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNfX2ljb25cXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcIm1lZGFsX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fdGl0bGVcXFxcXCI+0KHQv9C10YbQuNCw0LvQuNGB0YI8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3N1Yi10aXRsZVxcXFxcIj44INGA0YPQsS4g0LIg0LTQtdC90Yw8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtaW5pLXBhZ2VfY29sb3JcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX190ZXh0XFxcXFwiPtCc0LjQvdC4PGJyPtGB0YLRgNCw0L3QuNGG0LA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJwYWdlX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19fdGV4dFxcXFxcIj7Qm9C40YfQvdCw0Y8g0YHRgtGA0LDQvdC40YbQsDwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX2J0blxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcImJ0biBidG5fcmVnLXBsdXMganMtc2Nyb2xsdG9cXFxcXCIgaHJlZj1cXFxcXCIjZm9ybTJcXFxcXCI+0JLRi9Cx0YDQsNGC0Yw8L2E+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTFcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX21lZGFsc1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLW1lZGFsc19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWVkYWxfY29sb3JcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtZWRhbF9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNfX2ljb25cXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcIm1lZGFsX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fdGl0bGVcXFxcXCI+0J/RgNC+0YTQtdGB0YHQuNC+0L3QsNC7PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19zdWItdGl0bGVcXFxcXCI+MTYg0YDRg9CxLiDQsiDQtNC10L3RjDwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1cyBvZmVycy1ibG9jay1wbHVzX3Byb2ZcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWluaS1wYWdlX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19fdGV4dFxcXFxcIj7QnNC40L3QuDxicj7RgdGC0YDQsNC90LjRhtCwPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGFnZV9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX3RleHRcXFxcXCI+0JvQuNGH0L3QsNGPINGB0YLRgNCw0L3QuNGG0LA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1cy1kb3BcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXMtZG9wX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXMtZG9wX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJ2aWRlb1wiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwiZ2lmdFwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGljdHVyZVwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwiZGlhbG9nXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19kZXNjci10ZXh0XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQutC40LTQutC4ICsg0YTQvtGC0L4gKyDQstC40LTQtdC+ICsg0L7RgtC30YvQstGLXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtM1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fYnRuXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiYnRuIGJ0bl9yZWctcGx1cyBqcy1zY3JvbGx0b1xcXFxcIiBocmVmPVxcXFxcIiNmb3JtMlxcXFxcIj7QktGL0LHRgNCw0YLRjDwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2hlYWRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fZW1wdHkgcHJpY2UtdGFibGUtZmlyc3QtY29sdW1uXFxcXFwiPiZuYnNwOzwvdGg+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9faGVhZC10ZXh0IHByaWNlLXRhYmxlLXNlY29uZC1jb2x1bW5cXFxcXCI+0J3QvtCy0LjRh9C+0Lo8L3RoPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2hlYWQtdGV4dCBwcmljZS10YWJsZS10aGlyZC1jb2x1bW5cXFxcXCI+0KHQv9C10YbQuNCw0LvQuNGB0YI8L3RoPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2hlYWQtdGV4dCBwcmljZS10YWJsZS1mb3J0aC1jb2x1bW5cXFxcXCI+0J/RgNC+0YTQtdGB0YHQuNC+0L3QsNC7PC90aD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19ib2R5XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj45MCDQtNC90LXQuTwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCR0LXRgdC/0LvQsNGC0L3QvjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjEgNTAwINGA0YPQsS48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj4xODAg0LTQvdC10Lk8L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj4xIDQ1MCDRgNGD0LEuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MiA3MDAg0YDRg9CxLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjM2MNC00L3QtdC5PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MiA2MDAg0YDRg9CxLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjQgODAwINGA0YPQsS48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj7QnNC40L3QuC3RgdGC0YDQsNC90LjRhtCwPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmVlblxcXFxcIj4rPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JlZW5cXFxcXCI+Kzwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZWVuXFxcXFwiPis8L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0JvQuNGH0L3QsNGPINGB0YLRgNCw0L3QuNGG0LA8L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZWVuXFxcXFwiPis8L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmVlblxcXFxcIj4rPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCQ0YHRgdC+0YDRgtC40LzQtdC90YIg0YPRgdC70YPQszwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjXRiNGCLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjjRiNGCLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjjRiNGCLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCh0LrQuNC00LrQuCDQuCDQv9C+0LTQsNGA0LrQuCArINGA0LDQt9C80LXRidC10L3QuNC1INCyINC60LDRgtCw0LvQvtCz0LUgXFxcXFwi0KHQutC40LTQutC4INC4INC/0L7QtNCw0YDQutC4XFxcXFwiPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MtGI0YIuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0KTQvtGC0L7QsNC70YzQsdC+0Lw8L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj4z0YjRgi48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj7QktC40LTQtdC+0YDQvtC70LjQuiArINGA0LDQt9C80LXRidC10L3QuNC1INCyINC60LDRgtCw0LvQvtCz0LUg0JLQuNC00LXQvjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjLRiNGCLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCh0YLQsNGC0YzRjyArINGA0LDQt9C80LXRidC10L3QuNC1INCyINC60LDRgtCw0LvQvtCz0LUg0KHQvtCy0LXRgtC+0LIg0JzQsNGB0YLQtdGA0L7QsjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjLRiNGCLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCb0LDQudC60LgsINC+0YLQt9GL0LLRiywg0YDQtdC60L7QvNC10L3QtNCw0YbQuNC4PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0LLQutC7LjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPiZuYnNwOzwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxhIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19idG4ganMtc2Nyb2xsdG9cXFxcXCIgaHJlZj1cXFxcXCIjZm9ybTJcXFxcXCI+0JzQvdC1INC/0L7QtNGF0L7QtNC40YIhPC9hPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxhIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19idG4ganMtc2Nyb2xsdG9cXFxcXCIgaHJlZj1cXFxcXCIjZm9ybTJcXFxcXCI+0JzQvdC1INC/0L7QtNGF0L7QtNC40YIhPC9hPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxhIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19idG4ganMtc2Nyb2xsdG9cXFxcXCIgaHJlZj1cXFxcXCIjZm9ybTJcXFxcXCI+0JzQvdC1INC/0L7QtNGF0L7QtNC40YIhPC9hPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJ0YWItY29udGVudFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInRhYi1jb250ZW50X19uYW1lXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwic3RyZWxrYVwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQo9GB0LvQvtCy0LjRjyDQtNC70Y8g0Y7RgNC40LTQuNGH0LXRgdC60LjRhSDQu9C40YZcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZiBkZXNjcmlwdGlvbi10YXJpZl9sb25nXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtMVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fbWVkYWxzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtZWRhbF9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3RpdGxlXFxcXFwiPtCh0YLQsNGA0YI8YnI+0JHQuNC30L3QtdGBPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19zdWItdGl0bGVcXFxcXCI+MTYg0YDRg9CxLiDQsiDQtNC10L3RjDwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1cyBvZmVycy1ibG9jay1wbHVzX3NpbmdsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faXRlbSBvZmVycy1ibG9jay1wbHVzX19pdGVtX3NpbmdsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtaW5pLXBhZ2VfY29sb3JcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX190ZXh0XFxcXFwiPtCc0LjQvdC4PGJyPtGB0YLRgNCw0L3QuNGG0LA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fcGFydC0zXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19idG5cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJidG4gYnRuX3JlZy1wbHVzIGpzLXNjcm9sbHRvXFxcXFwiIGhyZWY9XFxcXFwiI2Zvcm0yXFxcXFwiPtCS0YvQsdGA0LDRgtGMPC9hPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9ja19faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWYgZGVzY3JpcHRpb24tdGFyaWZfbG9uZ1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTFcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX21lZGFsc1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLW1lZGFsc19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWVkYWxfY29sb3JcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtZWRhbF9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3RpdGxlXFxcXFwiPtCh0L/QtdGG0LjQsNC70LjRgdGCINCR0LjQt9C90LXRgTwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fc3ViLXRpdGxlXFxcXFwiPjI1INGA0YPQsS4g0LIg0LTQtdC90Yw8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtaW5pLXBhZ2VfY29sb3JcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX190ZXh0XFxcXFwiPtCc0LjQvdC4PGJyPtGB0YLRgNCw0L3QuNGG0LA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJwYWdlX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19fdGV4dFxcXFxcIj7Qm9C40YfQvdCw0Y8g0YHRgtGA0LDQvdC40YbQsDwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX2J0blxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcImJ0biBidG5fcmVnLXBsdXMganMtc2Nyb2xsdG9cXFxcXCIgaHJlZj1cXFxcXCIjZm9ybTJcXFxcXCI+0JLRi9Cx0YDQsNGC0Yw8L2E+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZiBkZXNjcmlwdGlvbi10YXJpZl9sb25nXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtMVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fbWVkYWxzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stbWVkYWxzX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJtZWRhbF9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1tZWRhbHNfX2ljb25cXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcIm1lZGFsX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLW1lZGFsc19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWVkYWxfY29sb3JcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX190aXRsZVxcXFxcIj7Qn9GA0L7RhNC10YHRgdC40L7QvdCw0Lsg0JHQuNC30L3QtdGBPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19zdWItdGl0bGVcXFxcXCI+MzMg0YDRg9CxLiDQsiDQtNC10L3RjDwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19wYXJ0LTJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1cyBvZmVycy1ibG9jay1wbHVzX3Byb2ZcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWluaS1wYWdlX2NvbG9yXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19fdGV4dFxcXFxcIj7QnNC40L3QuDxicj7RgdGC0YDQsNC90LjRhtCwPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX2l0ZW1cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1c19faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGFnZV9jb2xvclwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXNfX3RleHRcXFxcXCI+0JvQuNGH0L3QsNGPINGB0YLRgNCw0L3QuNGG0LA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib2ZlcnMtYmxvY2stcGx1cy1kb3BcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXMtZG9wX19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXFxcIm9mZXJzLWJsb2NrLXBsdXMtZG9wX19pY29uXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJ2aWRlb1wiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwiZ2lmdFwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwicGljdHVyZVwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faXRlbVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFxcXCJvZmVycy1ibG9jay1wbHVzLWRvcF9faWNvblxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwiZGlhbG9nXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImRlc2NyaXB0aW9uLXRhcmlmX19kZXNjci10ZXh0XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0KHQutC40LTQutC4ICsg0YTQvtGC0L4gKyDQstC40LTQtdC+ICsg0L7RgtC30YvQstGLXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZGVzY3JpcHRpb24tdGFyaWZfX3BhcnQtM1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJkZXNjcmlwdGlvbi10YXJpZl9fYnRuXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiYnRuIGJ0bl9yZWctcGx1cyBqcy1zY3JvbGx0b1xcXFxcIiBocmVmPVxcXFxcIiNmb3JtMlxcXFxcIj7QktGL0LHRgNCw0YLRjDwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2hlYWRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fZW1wdHkgcHJpY2UtdGFibGUtZmlyc3QtY29sdW1uXFxcXFwiPiZuYnNwOzwvdGg+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9faGVhZC10ZXh0IHByaWNlLXRhYmxlLXNlY29uZC1jb2x1bW5cXFxcXCI+0KHRgtCw0YDRgjxicj7QkdC40LfQvdC10YE8L3RoPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2hlYWQtdGV4dCBwcmljZS10YWJsZS10aGlyZC1jb2x1bW5cXFxcXCI+0KHQv9C10YbQuNCw0LvQuNGB0YIg0JHQuNC30L3QtdGBPC90aD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19oZWFkLXRleHQgcHJpY2UtdGFibGUtZm9ydGgtY29sdW1uXFxcXFwiPtCf0YDQvtGE0LXRgdGB0LjQvtC90LDQuyDQkdC40LfQvdC10YE8L3RoPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2JvZHlcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjkwINC00L3QtdC5PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MSA1MDAg0YDRg9CxLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjIgMjUwINGA0YPQsS48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj4zIDAwMCDRgNGD0LEuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MTgwINC00L3QtdC5PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+NCAwNTAg0YDRg9CxLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjUgNDAwINGA0YPQsS48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj4zNjDQtNC90LXQuTwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjcgMjAwINGA0YPQsS48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj45IDYwMCDRgNGD0LEuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0JzQuNC90Lgt0YHRgtGA0LDQvdC40YbQsDwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JlZW5cXFxcXCI+Kzwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZWVuXFxcXFwiPis8L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmVlblxcXFxcIj4rPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCb0LjRh9C90LDRjyDRgdGC0YDQsNC90LjRhtCwPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmVlblxcXFxcIj4rPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JlZW5cXFxcXCI+Kzwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj7QkNGB0YHQvtGA0YLQuNC80LXQvdGCINGD0YHQu9GD0LM8L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj410YjRgi48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj440YjRgi48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj440YjRgi48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj7Qm9C+0LPQvtGC0LjQvyDQutC+0LzQv9Cw0L3QuNC4ICsg0YDQsNC30LzQtdGJ0LXQvdC40LUg0LIg0LrQsNGC0LDQu9C+0LPQtSDQutC+0LzQv9Cw0L3QuNC5PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmVlblxcXFxcIj4rPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JlZW5cXFxcXCI+Kzwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZWVuXFxcXFwiPis8L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0KHQutC40LTQutC4INC4INC/0L7QtNCw0YDQutC4ICsg0YDQsNC30LzQtdGJ0LXQvdC40LUg0LIg0LrQsNGC0LDQu9C+0LPQtSBcXFxcXCLQodC60LjQtNC60Lgg0Lgg0L/QvtC00LDRgNC60LhcXFxcXCI8L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj4y0YjRgi48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj7QpNC+0YLQvtCw0LvRjNCx0L7QvDwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjxzcGFuIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX19yb3VuZCBwcmljZS10YWJsZV9fcm91bmRfZ3JleVxcXFxcIj4tPC9zcGFuPjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPjPRiNGCLjwvdGQ+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdHJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3RkXFxcXFwiPtCS0LjQtNC10L7RgNC+0LvQuNC6ICsg0YDQsNC30LzQtdGJ0LXQvdC40LUg0LIg0LrQsNGC0LDQu9C+0LPQtSDQktC40LTQtdC+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MtGI0YIuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0KHRgtCw0YLRjNGPICsg0YDQsNC30LzQtdGJ0LXQvdC40LUg0LIg0LrQsNGC0LDQu9C+0LPQtSDQodC+0LLQtdGC0L7QsiDQnNCw0YHRgtC10YDQvtCyPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PHNwYW4gY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX3JvdW5kIHByaWNlLXRhYmxlX19yb3VuZF9ncmV5XFxcXFwiPi08L3NwYW4+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+MtGI0YIuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+0JvQsNC50LrQuCwg0L7RgtC30YvQstGLLCDRgNC10LrQvtC80LXQvdC00LDRhtC40Lg8L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj48c3BhbiBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fcm91bmQgcHJpY2UtdGFibGVfX3JvdW5kX2dyZXlcXFxcXCI+LTwvc3Bhbj48L3RkPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190ZFxcXFxcIj7QstC60LsuPC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVxcXFxcInByaWNlLXRhYmxlX190clxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+Jm5ic3A7PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PGEgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2J0biBqcy1zY3JvbGx0b1xcXFxcIiBocmVmPVxcXFxcIiNmb3JtMlxcXFxcIj7QnNC90LUg0L/QvtC00YXQvtC00LjRgiE8L2E+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PGEgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2J0biBqcy1zY3JvbGx0b1xcXFxcIiBocmVmPVxcXFxcIiNmb3JtMlxcXFxcIj7QnNC90LUg0L/QvtC00YXQvtC00LjRgiE8L2E+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJwcmljZS10YWJsZV9fdGRcXFxcXCI+PGEgY2xhc3M9XFxcXFwicHJpY2UtdGFibGVfX2J0biBqcy1zY3JvbGx0b1xcXFxcIiBocmVmPVxcXFxcIiNmb3JtMlxcXFxcIj7QnNC90LUg0L/QvtC00YXQvtC00LjRgiE8L2E+PC90ZD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDwhLS08L2Rpdj4tLT5cXFxcbiAgICAgICAgICAgIDwvc2VjdGlvbj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdyZWdpc3RyYXRpb24td2h5LXdlJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9yZWdpc3RyYXRpb24vcmVnaXN0cmF0aW9uLXdoeS13ZS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJyZWdpc3RyYXRpb24td2h5LXdlXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwid2h5LXdlLXdyXFxcXFwiPlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwiY29udGFpbmVyXFxcXFwiPlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInJvd1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPVxcXFxcIndoeS13ZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJwYWdlLXRpdGxlIHBhZ2UtdGl0bGVfbGFuZGluZ1xcXFxcIj7Qn9C+0YfQtdC80YMg0LLRi9Cx0LjRgNCw0Y7RgiDQvdCw0YE/PC9wPlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwid2h5LXdlX19saXN0XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInJvd1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib3VyLXBsdXNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvdXItcGx1c19fcm91bmRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm91ci1wbHVzX190aXRsZVxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXN0ZXIgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm91ci1wbHVzX190ZXh0XFxcXFwiPlwiO1xcbiAgc3RhY2sxID0gbGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5tYXN0ZXJOYW1lIDogc3RhY2sxKSwgZGVwdGgwKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCI8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib3VyLXBsdXNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvdXItcGx1c19fcm91bmRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm91ci1wbHVzX190aXRsZVxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS52aXNpdHMgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm91ci1wbHVzX190ZXh0XFxcXFwiPtC/0L7RgdC10YnQtdC90LjQuTxicj7QsiDQvdC10LTQtdC70Y48L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib3VyLXBsdXNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJvdXItcGx1c19fcm91bmRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm91ci1wbHVzX190aXRsZVxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5vcmRlcnMgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcIm91ci1wbHVzX190ZXh0XFxcXFwiPtC/0L7RgdGC0YPQv9C40LLRiNC40YU8YnI+0LfQsNGP0LLQvtC6PC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9zZWN0aW9uPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ3J1YnJpa2F0b3ItbGlzdCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvcnVicmlrYXRvci9ydWJyaWthdG9yLWxpc3QvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwicnVicmlrYXRvci1saXN0XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsZGVwdGhzKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBidWZmZXIgPSBcIlwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXJzLmlzIHx8IChkZXB0aDAgJiYgZGVwdGgwLmlzKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRhdGEgJiYgZGF0YS5pbmRleCksIFwiPT1cIiwgNywge1wibmFtZVwiOlwiaXNcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIsIGRhdGEsIGRlcHRocyksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiXFxcXG5cIjtcXG4gIHN0YWNrMSA9ICgoaGVscGVycy5pcyB8fCAoZGVwdGgwICYmIGRlcHRoMC5pcykgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIChkYXRhICYmIGRhdGEuaW5kZXgpLCBcIj09XCIsIDE1LCB7XCJuYW1lXCI6XCJpc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMiwgZGF0YSwgZGVwdGhzKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJydWJyaWthLWxpc3RcXFxcXCI+XFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInJ1YnJpa2EtbGlzdF9fdGl0bGUganMtcnVicmlrYS1saXN0XFxcXFwiIHN0eWxlPVxcXFxcImJvcmRlci1yaWdodC1jb2xvcjogXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5lbCA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuY29sb3IgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInJ1YnJpa2EtbGlzdF9fbmFtZVxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmVsIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5uYW1lIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInJ1YnJpa2EtbGlzdF9fY291bnRcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY291bnQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImNvdW50XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3A+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicnVicmlrYS1saXN0X19saXN0XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDx1bD5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucG9kcnVicmlrcyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDQsIGRhdGEsIGRlcHRocyksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCIgICAgICAgICAgICAgICAgPC91bD5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCIyXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJydWJyaWtzLWNvbHVtblxcXFxcIj5cXFxcblwiO1xcbiAgfSxcIjRcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhLGRlcHRocykge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZztcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJydWJyaWthLWxpc3RfX2xpc3QtbGlcXFxcXCI+PGEgY2xhc3M9XFxcXFwicnVicmlrYS1saXN0X19saXN0LWFcXFxcXCIgaHJlZj1cXFxcXCIvXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aHNbMV0gIT0gbnVsbCA/IGRlcHRoc1sxXS5lbCA6IGRlcHRoc1sxXSkpICE9IG51bGwgPyBzdGFjazEudW5pcXVlIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIi9cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51bmlxdWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVuaXF1ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1bmlxdWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcInJ1YnJpa2EtbGlzdF9fbGlzdC1jb3VudFxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5tYXN0ZXJDb3VudCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFzdGVyQ291bnQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibWFzdGVyQ291bnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvc3Bhbj48L2E+PC9saT5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEsZGVwdGhzKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwicnVicmlrcy1jb2x1bW5cXFxcXCI+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJydWJyaWthLWxpc3QgcnVicmlrYS1saXN0X3Rvb2wtY29sbGFwc2VkIGpzLXJ1YnJpa2EtY29sbGFwc2VkXFxcXFwiPlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInJ1YnJpa2EtbGlzdF9fdGl0bGVcXFxcXCI+XFxcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJydWJyaWthLWxpc3RfX25hbWVcXFxcXCI+0KDQsNC30LLQtdGA0L3Rg9GC0Ywg0LLRgdC1INGA0YPQsdGA0LjQutC4PC9wPlxcXFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcXFwicnVicmlrYS1saXN0X19pY29uXFxcXFwiPjwvaT5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgPC9kaXY+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJ1YnJpa2F0b3IgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhLCBkZXB0aHMpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9kaXY+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWUsXCJ1c2VEZXB0aHNcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ21hc3Rlci1ibG9jay1hYm91dCcsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1ibG9jay9tYXN0ZXItYmxvY2stYWJvdXQvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwibWFzdGVyLWJsb2NrLWFib3V0XCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGJ1ZmZlciA9IFwiICAgICAgICA8cCBjbGFzcz1cXFxcXCJhYm91dC1tZF9fdGV4dC1jYXB0aW9uXFxcXFwiPtCe0LHRgNCw0LfQvtCy0LDQvdC40LU6PC9wPlxcXFxuICAgICAgICA8cCBjbGFzcz1cXFxcXCJhYm91dC1tZF9fdGV4dFxcXFxcIj5cIjtcXG4gIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYWJvdXRFZHVjIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hYm91dEVkdWMgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiYWJvdXRFZHVjXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9wPlxcXFxuXCI7XFxufSxcIjNcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBidWZmZXIgPSBcIiAgICAgICAgPHAgY2xhc3M9XFxcXFwiYWJvdXQtbWRfX3RleHQtY2FwdGlvblxcXFxcIj7QntC/0YvRgiDRgNCw0LHQvtGC0Ys6PC9wPlxcXFxuICAgICAgICA8cCBjbGFzcz1cXFxcXCJhYm91dC1tZF9fdGV4dFxcXFxcIj5cIjtcXG4gIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYWJvdXRFeHAgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFib3V0RXhwIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImFib3V0RXhwXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9wPlxcXFxuXCI7XFxufSxcIjVcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBidWZmZXIgPSBcIiAgICAgICAgPHAgY2xhc3M9XFxcXFwiYWJvdXQtbWRfX3RleHQtY2FwdGlvblxcXFxcIj7QlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPOjwvcD5cXFxcbiAgICAgICAgPHAgY2xhc3M9XFxcXFwiYWJvdXQtbWRfX3RleHRcXFxcXCI+XCI7XFxuICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmFib3V0QWRkSW5mbyB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYWJvdXRBZGRJbmZvIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImFib3V0QWRkSW5mb1wiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvcD5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJhYm91dC1tZFxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hYm91dEVkdWMgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hYm91dEV4cCA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgzLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmFib3V0QWRkSW5mbyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg1LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvZGl2PjwhLS0gYWJvdXQtbWQgLS0+XFxcXG5cXFxcblxcXFxuXFxcXG5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdtYXN0ZXItYmxvY2stYXJ0aWNsZScsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1ibG9jay9tYXN0ZXItYmxvY2stYXJ0aWNsZS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItYmxvY2stYXJ0aWNsZVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiYXJ0aWNsZS1jb250LW1kX19pdGVtLWNvbnRcXFxcXCI+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiYXJ0aWNsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJhcnRpY2xlX19saW5rIGpzLW9wZW4tYXJ0aWNsZVxcXFxcIiBocmVmPVxcXFxcIiNcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiaWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJhcnRpY2xlX19waWNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVxcXFxcImFydGljbGVfX2ltZ1xcXFxcIiBzcmM9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pbWdTcmMgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaW1nU3JjKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmltZ0lEIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaW1nU3JjXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxcIiBhbHQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImFydGljbGVfX3RleHRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImFydGljbGVfX2F1dGhvclxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5hdXRob3IgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmF1dGhvciA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJhdXRob3JcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvcD5cXFxcbiAgICAgICAgICAgICAgICA8L2E+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcblxcXFxuICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJhcnRpY2xlLWNvbnQtbWRcXFxcXCI+XFxcXG5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYXJ0aWNsZXMgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuPC9kaXY+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLWJsb2NrLWxpbmsnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLWxpbmsvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwibWFzdGVyLWJsb2NrLWxpbmtcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcItGB0YHRi9C70LrQuFxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLWJsb2NrLXBob3RvJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLWJsb2NrL21hc3Rlci1ibG9jay1waG90by9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItYmxvY2stcGhvdG9cIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCI7XFxuICByZXR1cm4gXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicGhvdG8tbWRfX2FsYnVtLWNvdmVyIGpzLXNlbGVjdC1hbGJ1bVxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcXFwiL21hc3Rlci1kYXRhLWVkaXQvanNvbjMuanNvblxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmltZ1NyYyB8fCAoZGVwdGgwICYmIGRlcHRoMC5pbWdTcmMpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9ICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBob3RvcyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazFbXFwnMFxcJ10gOiBzdGFjazEpKSAhPSBudWxsID8gc3RhY2sxLmltZ0lEIDogc3RhY2sxKSwgMjAwLCB7XCJuYW1lXCI6XCJpbWdTcmNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXFwiIGFsdD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj48YnI+XFxcXG4gICAgICAgICAgICAgICAgPHNwYW4+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3NwYW4+XFxcXG4gICAgICAgICAgICA8L2E+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjNcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicGhvdG8tbWRfX2FsYnVtLWNvbnRcXFxcXCI+XFxcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJwaG90by1tZF9fYWxidW0tdGl0bGVcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwicGhvdG8tbWRfX3dyYXBwZXJcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBob3RvcyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiNFwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwicGhvdG8tbWRfX2ltZy1wcmV2XFxcXFwiIGhyZWY9XFxcXFwiI1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaW1nU3JjIHx8IChkZXB0aDAgJiYgZGVwdGgwLmltZ1NyYykgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbWdJRCA6IGRlcHRoMCksIDIwMCwge1wibmFtZVwiOlwiaW1nU3JjXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxcIiBhbHQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZGVzY3JpcHRpb24gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImRlc2NyaXB0aW9uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+PGJyPlxcXFxuICAgICAgICAgICAgICAgICAgICA8L2E+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwicGhvdG8tbWRcXFxcXCI+XFxcXG5cXFxcbiAgICA8IS0tIEVSUk9SIC0tPlxcXFxuICAgIDxwIHN0eWxlPVxcXFxcImNvbG9yOiByZWQ7IGZvbnQtd2VpZ2h0OiBib2xkXFxcXFwiPi0tLS0tLSBFUlJPUiEgLS0tLS0tPC9wPlxcXFxuICAgICEhIdGE0L7RgtC+LiBBUEkgLSDQvdC10LTQvtGB0YLQsNGC0L7Rh9C90L4g0LTQsNC90L3Ri9GFXFxcXG4gICAgPGJyPjxicj48YnI+XFxcXG4gICAgPCEtLSBFUlJPUiAtLT5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hbGJ1bXMgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5hbGJ1bXMgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgzLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvZGl2PjwhLS0gcGhvdG8tbWQgLS0+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLWJsb2NrLXJldmlldycsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1ibG9jay9tYXN0ZXItYmxvY2stcmV2aWV3L2luZGV4LmpzJyksIHByb3BlcnRpZXM6IHtcIm5hbWVcIjpcIm1hc3Rlci1ibG9jay1yZXZpZXdcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbnNfX3RvdGFsXFxcXFwiPtCc0LDRgdGC0LXRgNCwINGA0LXQutC+0LzQtdC90LTRg9GO0YIgPHNwYW4gY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25zX190b3RhbC1jb3VudFxcXFxcIj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnZrTGlrZXMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmNvdW50TGlrZXMgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiINGH0LXQu9C+0LLQtdC6PC9zcGFuPjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbnNfX2xpc3RcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmtMaWtlcyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZGF0YSA6IHN0YWNrMSksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25zX19pdGVtXFxcXFwiIHRhcmdldD1cXFxcXCJfYmxhbmtcXFxcXCIgaHJlZj1cXFxcXCJodHRwOi8vdmsuY29tL2lkXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudWlkIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51aWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidWlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5waG90b18xMDAgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBob3RvXzEwMCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJwaG90b18xMDBcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIiBhbHQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZmlyc3RfbmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZmlyc3RfbmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJmaXJzdF9uYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCIgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubGFzdF9uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sYXN0X25hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibGFzdF9uYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cXFxcblwiO1xcbn0sXCI0XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCIgICAgICAgIDxwIGNsYXNzPVxcXFxcInJldmlld3MtY29udC1tZF9fdGl0bGVcXFxcXCI+0JzQvtC4INC+0YLQt9GL0LLRizwvcD5cXFxcblxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInJldmlld3MtY29udC1tZF9fY29tbWVudHNcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbW1lbnRzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oNSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCIgICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjVcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZXZpZXdzLWNvbnQtbWRfX2l0ZW0tY29udFxcXFxcIj5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJyZXZpZXdzLWNvbnQtbWRfX25hbWVcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuYXV0aG9yTmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYXV0aG9yTmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJhdXRob3JOYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8c3BhbiBjbGFzcz1cXFxcXCJyZXZpZXdzLWNvbnQtbWRfX2RhdGVcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5mb3JtYXREYXRlIHx8IChkZXB0aDAgJiYgZGVwdGgwLmZvcm1hdERhdGUpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGF0ZSA6IGRlcHRoMCksIFwiJVIgfCAlZCAlWiAlWVwiLCB7XCJuYW1lXCI6XCJmb3JtYXREYXRlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvc3Bhbj48L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwicmV2aWV3cy1jb250LW1kX190ZXh0XFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRleHQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRleHQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGV4dFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcInJldmlld3MtY29udC1tZFxcXFxcIj5cXFxcblxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwicmVjb21tZW5kYXRpb25zXFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSAoKGhlbHBlcnMuaXMgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaXMpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC52a0xpa2VzIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jb3VudExpa2VzIDogc3RhY2sxKSwgXCI+XCIsIDAsIHtcIm5hbWVcIjpcImlzXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbnNfX2J1dHRvbnMtYmxvY2tcXFxcXCI+XFxcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJyZWNvbW1lbmRhdGlvbnNfX2J1dHRvbnMtYmxvY2stdGl0bGVcXFxcXCI+0J/QvtGA0LXQutC+0LzQtdC90LTRg9C50YLQtSDQvNCw0YHRgtC10YDQsDo8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgPHAgY2xhc3M9XFxcXFwicmV2aWV3cy1jb250LW1kX190aXRsZVxcXFxcIj7QntGB0YLQsNCy0LjRgtGMINC+0YLQt9GL0LI8L3A+XFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcInJldmlld3MtY29udC1tZF9fcm93XFxcXFwiPlxcXFxuICAgICAgICA8Zm9ybSBjbGFzcz1cXFxcXCJhZGQtY29tbWVudFxcXFxcIiBtZXRob2Q9XFxcXFwiUE9TVFxcXFxcIiBhY3Rpb249XFxcXFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGlucHV0IGNsYXNzPVxcXFxcImFkZC1jb21tZW50X190ZXh0LWlucHV0XFxcXFwiIHR5cGU9XFxcXFwidGV4dFxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQktCw0YjQtSDQuNC80Y9cXFxcXCIgbmFtZT1cXFxcXCJjb21tZW50X2Zvcm1bbmFtZV1cXFxcXCI+XFxcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcXFwiYWRkLWNvbW1lbnRfX3RleHQtaW5wdXRcXFxcXCIgdHlwZT1cXFxcXCJ0ZXh0XFxcXFwiIHBsYWNlaG9sZGVyPVxcXFxcItCS0LDRiCDQvdC+0LzQtdGAINGC0LXQu9C10YTQvtC90LBcXFxcXCIgbmFtZT1cXFxcXCJjb21tZW50X2Zvcm1bcGhvbmVdXFxcXFwiPlxcXFxuICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVxcXFxcImFkZC1jb21tZW50X190ZXh0YXJlYVxcXFxcIiBwbGFjZWhvbGRlcj1cXFxcXCLQotC10LrRgdGCINC+0YLQt9GL0LLQsFxcXFxcIiBuYW1lPVxcXFxcImNvbW1lbnRfZm9ybVtjb21tZW50X3RleHRdXFxcXFwiPjwvdGV4dGFyZWE+XFxcXG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XFxcXFwiYWRkLWNvbW1lbnRfX2J0blxcXFxcIiB0eXBlPVxcXFxcInN1Ym1pdFxcXFxcIiB2YWx1ZT1cXFxcXCLQvtGC0L/RgNCw0LLQuNGC0YxcXFxcXCI+XFxcXG5cXFxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcImFkZC1jb21tZW50X19zdWNjZXNzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgINCS0LDRiCDQvtGC0LfRi9CyINGD0YHQv9C10YjQvdC+INC+0YLQv9GA0LDQstC70LXQvSwg0YHQv9Cw0YHQuNCx0L4hXFxcXG4gICAgICAgICAgICA8L3A+XFxcXG4gICAgICAgIDwvZm9ybT5cXFxcblxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInNvY2lhbC1saW5rc1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwic29jaWFsLWxpbmtzX193cmFwcGVyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInNvY2lhbC1saW5rc19fdGl0bGVcXFxcXCI+0KDQsNC30LzQtdGB0YLQuNGC0Ywg0YHRgdGL0LvQutGDINC90LAmbmJzcDvRgdGC0YDQsCZzaHk70L3QuNGG0YMg0JzQsNGB0YLQtdGA0LAg0LImbmJzcDvRgdC+0YYuJm5ic3A70YHQtdGC0Lg6PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJzb2NpYWwtbGlua3NfX21hc3RlclxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJzb2NpYWwtbGlua3NfX3Bob3RvLWNvbnRcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmltZ1NyYyB8fCAoZGVwdGgwICYmIGRlcHRoMC5pbWdTcmMpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW1nSUQgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpbWdTcmNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiXFxcXFwiIGFsdD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwic29jaWFsLWxpbmtzX19uYW1lXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInNvY2lhbC1saW5rc19fbm90ZVxcXFxcIj7Qn9C+0YDQtdC60L7QvNC10L3QtNGD0LnRgtC1INGN0YLQvtCz0L4g0YHQv9C10YbQuNCw0LvQuNGB0YLQsCDRgdCy0L7QuNC8INC00YDRg9C30Y/QvCDQsiZuYnNwO9GB0L7RhtC40LDQu9GM0L3QvtC5INGB0LXRgtC4PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJzb2NpYWwtbGlua3NfX2J1dHRvbnNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVxcXFxcImNvbG9yOnJlZFxcXFxcIj7QodGB0YvQu9C60LghIFZLLCBPSywgRkIsIFRXPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgPC9kaXY+XFxcXG5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbW1lbnRzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiXFxcXG48L2Rpdj48IS0tbWRlLXJldmlld3MtLT5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdtYXN0ZXItYmxvY2stc2FsZScsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1ibG9jay9tYXN0ZXItYmxvY2stc2FsZS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItYmxvY2stc2FsZVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgPGRpdiBjbGFzcz1cXFxcXCJzYWxlLWNvbnQtbWRfX2l0ZW0tY29udFxcXFxcIj5cXFxcblxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInNhbGVcXFxcXCI+XFxcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJzYWxlX19saW5rIGpzLW9wZW4tc2FsZVxcXFxcIiBocmVmPVxcXFxcIiNcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiaWRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJzYWxlX190aXRsZVxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXJzLmlzIHx8IChkZXB0aDAgJiYgZGVwdGgwLmlzKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnR5cGUgOiBkZXB0aDApLCBcIj09XCIsIDEsIHtcIm5hbWVcIjpcImlzXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgyLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBzdGFjazEgPSAoKGhlbHBlcnMuaXMgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaXMpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudHlwZSA6IGRlcHRoMCksIFwiPT1cIiwgMiwge1wibmFtZVwiOlwiaXNcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSkpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHN0YWNrMSA9ICgoaGVscGVycy5pcyB8fCAoZGVwdGgwICYmIGRlcHRoMC5pcykgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50eXBlIDogZGVwdGgwKSwgXCI9PVwiLCAzLCB7XCJuYW1lXCI6XCJpc1wiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oNiwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgICAgIDwvcD5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInNhbGVfX3BpY1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJzYWxlX19pbWdcXFxcXCIgc3JjPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaW1nU3JjIHx8IChkZXB0aDAgJiYgZGVwdGgwLmltZ1NyYykgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbWdJRCA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImltZ1NyY1wiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCJcXFxcXCIgYWx0PVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRleHQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRleHQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidGV4dFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwic2FsZV9fdGV4dFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHA+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGV4dCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGV4dCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0ZXh0XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3A+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICA8L2E+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMlwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgINCf0L7QtNCw0YDQvtC6XFxcXG5cIjtcXG4gIH0sXCI0XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAg0KHQutC40LTQutCwIFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmRpc2NvdW50IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5kaXNjb3VudCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJkaXNjb3VudFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiJVxcXFxuXCI7XFxufSxcIjZcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgICAgICAgICAtXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuZGlzY291bnQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRpc2NvdW50IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImRpc2NvdW50XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCIg0YDRg9CxLlxcXFxuXCI7XFxufSxcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcInNhbGUtY29udC1tZFxcXFxcIj5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zYWxlcyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiXFxcXG48L2Rpdj5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLWJsb2NrLXZpZGVvJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLWJsb2NrL21hc3Rlci1ibG9jay12aWRlby9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItYmxvY2stdmlkZW9cIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGxhbWJkYT10aGlzLmxhbWJkYTtcXG4gIHJldHVybiBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJ2aWRlby1tZF9fdmlkZW8tY29udFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcInZpZGVvLW1kX192aWRlby1jb3ZlclxcXFxcIiBocmVmPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcInZpZGVvLW1kX190aXRsZS1wcmV2XFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9zcGFuPjxicj5cXFxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJ2aWRlby1tZF9faW1nLWNvbnRcXFxcXCI+PGltZyBzcmM9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wcmV2IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5zcmMgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXFwiIGFsdD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnByZXYgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmFsdCA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+PC9zcGFuPlxcXFxuICAgICAgICAgICAgPC9hPlxcXFxuICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJ2aWRlby1tZFxcXFxcIj5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC52aWRlb3MgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuPC9kaXY+PCEtLSB2aWRlby1tZCAtLT5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9LFxue25hbWU6ICdtYXN0ZXItYmxvY2stc2VydmljZScsIGNvbnN0cnVjdG9yOiByZXF1aXJlKCcuL2NhdGJlcnJ5X2NvbXBvbmVudHMvbWFzdGVyL21hc3Rlci1ibG9jay9tYXN0ZXItYmxvY2stc2VydmljZS9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItYmxvY2stc2VydmljZVwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcIjFcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxsaT5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKGRlcHRoMCwgZGVwdGgwKSlcXG4gICAgKyBcIjwvbGk+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIjxkaXYgY2xhc3M9XFxcXFwic2VydmljZS1tZFxcXFxcIj5cXFxcbiAgICA8dWwgY2xhc3M9XFxcXFwic2VydmljZS1tZF9fbGlzdFxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zZXJ2aWNlcyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGFydDEgOiBzdGFjazEpLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICA8L3VsPlxcXFxuXFxcXG4gICAgPHVsIGNsYXNzPVxcXFxcInNlcnZpY2UtbWRfX2xpc3RcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2VydmljZXMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnBhcnQyIDogc3RhY2sxKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCIgICAgPC91bD5cXFxcblxcXFxuICAgIDxiciBjbGFzcz1cXFxcXCJzZXJ2aWNlLW1kX19jbGVhclxcXFxcIj5cXFxcbjwvZGl2PjwhLS1tZGUtc2VydmljZS0tPlxcXFxuXFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLWJsb2NrLXdvcmsnLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItYmxvY2svbWFzdGVyLWJsb2NrLXdvcmsvaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwibWFzdGVyLWJsb2NrLXdvcmtcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDx0ZD5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5vcGVuIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5vcGVuIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcIm9wZW5cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjxicj5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5jbG9zZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY2xvc2UgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwiY2xvc2VcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIjwvdGQ+XFxcXG5cIjtcXG59LFwiM1wiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBidWZmZXIgPSBcIlwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXJzLmlzIHx8IChkZXB0aDAgJiYgZGVwdGgwLmlzKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnR5cGUgOiBkZXB0aDApLCBcIj09XCIsIDEsIHtcIm5hbWVcIjpcImlzXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg0LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyO1xcbn0sXCI0XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwibmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxcbiAgICArIFwiPC9saT5cXFxcblwiO1xcbn0sXCI2XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGJ1ZmZlciA9IFwiXCI7XFxuICBzdGFjazEgPSAoKGhlbHBlcnMuaXMgfHwgKGRlcHRoMCAmJiBkZXB0aDAuaXMpIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudHlwZSA6IGRlcHRoMCksIFwiPT1cIiwgMiwge1wibmFtZVwiOlwiaXNcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDQsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSkpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXI7XFxufSxcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBcXFxcXCI+XFxcXG5cXFxcbiAgICA8dGFibGUgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fdGltZXRhYmxlXFxcXFwiPlxcXFxuICAgICAgICA8dGhlYWQ+XFxcXG4gICAgICAgIDx0cj5cXFxcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJ0aW1lLWFuZC13b3JrLW1wX19kYXlcXFxcXCI+0J/QvTwvdGQ+XFxcXG4gICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fZGF5XFxcXFwiPtCS0YI8L3RkPlxcXFxuICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2RheVxcXFxcIj7QodGAPC90ZD5cXFxcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJ0aW1lLWFuZC13b3JrLW1wX19kYXkgdGltZS1hbmQtd29yay1tcF9fZGF5X3RvZGF5XFxcXFwiPtCn0YI8L3RkPlxcXFxuICAgICAgICAgICAgPHRkIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2RheVxcXFxcIj7Qn9GCPC90ZD5cXFxcbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFxcXCJ0aW1lLWFuZC13b3JrLW1wX19kYXlcXFxcXCI+0KHQsTwvdGQ+XFxcXG4gICAgICAgICAgICA8dGQgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fZGF5XFxcXFwiPtCS0YE8L3RkPlxcXFxuICAgICAgICA8L3RyPlxcXFxuICAgICAgICA8L3RoZWFkPlxcXFxuICAgICAgICA8dGJvZHk+XFxcXG4gICAgICAgIDx0cj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc2NoZWR1bGUgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgxLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICAgICAgPC90cj5cXFxcbiAgICAgICAgPC90Ym9keT5cXFxcbiAgICA8L3RhYmxlPlxcXFxuXFxcXG4gICAgPHAgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1jYXB0aW9uXFxcXFwiPtCS0YvQtdC30LQg0L3QsCDQtNC+0Lw8L3A+XFxcXG4gICAgPHVsIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3RcXFxcXCI+XFxcXG4gICAgICAgIDxsaT7QkdC10YHQv9C70LDRgtC90L4g0L/QviDQs9C+0YDQvtC00YM8L2xpPlxcXFxuICAgICAgICA8bGk+0JLRi9C10LfQtCDQt9CwINCz0L7RgNC+0LQg0L/Qu9Cw0YLQvdC+PC9saT5cXFxcbiAgICA8L3VsPlxcXFxuXFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3QtYmlnLWNvbnRcXFxcXCI+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3QtY2FwdGlvblxcXFxcIj7QoNCw0LnQvtC90Ysg0L7QsdGB0LvRg9C20LjQstCw0L3QuNGPPC9wPlxcXFxuXFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1jb250XFxcXFwiPlxcXFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1jYXB0aW9uIHRpbWUtYW5kLXdvcmstbXBfX2xpc3QtY2FwdGlvbl9taW5pXFxcXFwiPtCT0L7RgNC+0LQ8L3A+XFxcXG4gICAgICAgICAgICA8dWwgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdFxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGlzdHJpY3QgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgzLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICAgICAgICAgIDwvdWw+XFxcXG4gICAgICAgIDwvZGl2PjwhLS1saXN0LWNvbnQtLT5cXFxcblxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3QtY29udFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3QtY2FwdGlvbiB0aW1lLWFuZC13b3JrLW1wX19saXN0LWNhcHRpb25fbWluaVxcXFxcIj7Qn9GA0LjQs9C+0YDQvtC0PC9wPlxcXFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3RcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRpc3RyaWN0IDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oNiwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCIgICAgICAgICAgICA8L3VsPlxcXFxuICAgICAgICA8L2Rpdj48IS0tbGlzdC1jb250LS0+XFxcXG5cXFxcbiAgICAgICAgPGJyIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2NsZWFyXFxcXFwiPlxcXFxuICAgIDwvZGl2PjwhLS1saXN0LWJpZy1jb250LS0+XFxcXG5cXFxcblxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1iaWctY29udFxcXFxcIj5cXFxcbiAgICAgICAgPHAgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1jYXB0aW9uXFxcXFwiPtCe0L/Qu9Cw0YLQsDwvcD5cXFxcblxcXFxuXFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1jb250XFxcXFwiPlxcXFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fbGlzdC1jYXB0aW9uIHRpbWUtYW5kLXdvcmstbXBfX2xpc3QtY2FwdGlvbl9taW5pXFxcXFwiPtCk0L7RgNC80LAg0YHQvtGC0YDRg9C00L3QuCZzaHk70YfQtdGB0YLQstCwPC9wPlxcXFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3RcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGxpPtCf0YDQtdC00L7Qv9C70LDRgtCwPC9saT5cXFxcbiAgICAgICAgICAgICAgICA8bGk+0J/QviDRhNCw0LrRgtGDINCy0YvQv9C+0LvQvdC10L3QvdGL0YUg0YDQsNCx0L7RgjwvbGk+XFxcXG4gICAgICAgICAgICAgICAgPGxpPtCg0LDRgdGB0YDQvtGH0LrQsCDQv9C70LDRgtC10LbQsDwvbGk+XFxcXG4gICAgICAgICAgICA8L3VsPlxcXFxuICAgICAgICA8L2Rpdj48IS0tbGlzdC1jb250LS0+XFxcXG5cXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJ0aW1lLWFuZC13b3JrLW1wX19saXN0LWNvbnRcXFxcXCI+XFxcXG4gICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJ0aW1lLWFuZC13b3JrLW1wX19saXN0LWNhcHRpb24gdGltZS1hbmQtd29yay1tcF9fbGlzdC1jYXB0aW9uX21pbmlcXFxcXCI+0KHQv9C+0YHQvtCx0Ysg0L7Qv9C70LDRgtGLPC9wPlxcXFxuICAgICAgICAgICAgPHVsIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2xpc3RcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGxpPtCd0LDQu9C40YfQvdGL0Lk8L2xpPlxcXFxuICAgICAgICAgICAgICAgIDxsaT7QkdC10LfQvdCw0LvQuNGH0L3Ri9C5XFxcXG4gICAgICAgICAgICAgICAgICAgIDx1bD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7QntC/0LvQsNGC0LAg0YfQtdGA0LXQtyDRjdC70LXQutGC0YDQvtC90L3Ri9C1INC/0LvQsNGC0LXQttC90YvQtSDRgdC40YHRgtC10LzRizwvbGk+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+0J7Qv9C70LDRgtCwINC/0L4g0LrRgNC10LTQuNGC0L3QvtC5L9C00LXQsdC10YLQvtCy0L7QuSDQutCw0YDRgtC1PC9saT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7QntC/0LvQsNGC0LAg0YfQtdGA0LXQtyDRgtC10YDQvNC40L3QsNC70Ys8L2xpPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtCR0LDQvdC60L7QstGB0LrQuNC5INC/0LXRgNC10LLQvtC0PC9saT5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7Qn9GA0LXQtNC+0YHRgtCw0LLQu9C10L3QuNC1INGA0LDRgdGB0YDQvtGH0LrQuDwvbGk+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XFxcXG4gICAgICAgICAgICAgICAgPC9saT5cXFxcbiAgICAgICAgICAgIDwvdWw+XFxcXG4gICAgICAgIDwvZGl2PjwhLS1saXN0LWNvbnQtLT5cXFxcbiAgICAgICAgPGJyIGNsYXNzPVxcXFxcInRpbWUtYW5kLXdvcmstbXBfX2NsZWFyXFxcXFwiPlxcXFxuICAgIDwvZGl2PjwhLS1saXN0LWNvbnQtLT5cXFxcbiAgICA8YnIgY2xhc3M9XFxcXFwidGltZS1hbmQtd29yay1tcF9fY2xlYXJcXFxcXCI+XFxcXG5cXFxcbiAgICA8IS0tIEVSUk9SIC0tPlxcXFxuICAgIDxwIHN0eWxlPVxcXFxcImNvbG9yOiByZWQ7IGZvbnQtd2VpZ2h0OiBib2xkXFxcXFwiPi0tLS0tLSBFUlJPUiEgKNGD0YHQu9C+0LLQuNGPIC0g0LLRi9C10LfQtCDQvdCwINC00L7QvCwg0L7Qv9C70LDRgtCwKSAtLS0tLS08L3A+XFxcXG4gICAgISHQv9C10YDQtdC00LXQu9Cw0LXRgiDQuNC70YzRj1xcXFxuICAgINCj0YHQu9C+0LLQuNGPINC+0L/Qu9Cw0YLRizogXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC53b3JrQ29uZGl0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5wYXltZW50Rm9ybSA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcbiAgICDQo9GB0LvQvtCy0LjRjyDQvtC/0LvQsNGC0Ys6IFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAud29ya0NvbmRpdGlvbiA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuY29vcEZvcm0gOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXG4gICAg0JLRi9C10LfQtCDQvdCwINC00L7QvDogXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC53b3JrQ29uZGl0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jb21taW5nIDogc3RhY2sxKSwgZGVwdGgwKSlcXG4gICAgKyBcIlxcXFxuICAgIDwhLS0gRVJST1IgLS0+XFxcXG48L2Rpdj5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnbWFzdGVyLW1pbmljYXJkJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9tYXN0ZXIvbWFzdGVyLW1pbmljYXJkL21hc3Rlci1taW5pY2FyZC9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItbWluaWNhcmRcIixcInRlbXBsYXRlXCI6XCIuL3RlbXBsYXRlLmhic1wiLFwiZXJyb3JUZW1wbGF0ZVwiOlwiLi9lcnJvci5oYnNcIixcImxvZ2ljXCI6XCJpbmRleC5qc1wifSwgdGVtcGxhdGVTb3VyY2U6ICd7XCIxXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxkaXYgYmxvY2s9XFxcXFwibWFzdGVyX25hbWUtYW5kLXNwZWNcXFxcXCIgbW9kPVxcXFxcImhhbGZcXFxcXCI+XFxcXG5cIjtcXG4gIH0sXCIzXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxkaXYgYmxvY2s9XFxcXFwibWFzdGVyX25hbWUtYW5kLXNwZWNcXFxcXCIgbW9kPVxcXFxcIndpZGVcXFxcXCI+XFxcXG5cIjtcXG4gIH0sXCI1XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8cCBlbGVtPVxcXFxcInNwZWNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5zcGVjIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zcGVjIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInNwZWNcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICA8L3A+XFxcXG5cIjtcXG59LFwiN1wiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbiAgfSxcIjlcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgICAgICA8ZGl2IGJsb2NrPVxcXFxcIm1hc3Rlcl9jb21wYW55XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBlbGVtPVxcXFxcImxvZ29cXFxcXCIgc3JjPVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29tcGFueSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubG9nbyA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCIgYWx0PVxcXFxcIlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbihsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29tcGFueSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubmFtZSA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGVsZW09XFxcXFwibmFtZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbXBhbnkgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm5hbWUgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjExXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxkaXYgYmxvY2s9XFxcXFwibWFzdGVyX3NlcnZpY2VzXFxcXFwiIG1vZD1cXFxcXCJoYWxmXFxcXFwiIGNsYXNzPVxcXFxcImZvcm1hdFxcXFxcIj5cXFxcblwiO1xcbiAgfSxcIjEzXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiICAgICAgICAgICAgICAgIDxkaXYgYmxvY2s9XFxcXFwibWFzdGVyX3NlcnZpY2VzXFxcXFwiIG1vZD1cXFxcXCJ3aWRlXFxcXFwiIGNsYXNzPVxcXFxcImZvcm1hdFxcXFxcIj5cXFxcblwiO1xcbiAgfSxcIjE1XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGJsb2NrPVxcXFxcInNlYXJjaC1ub3RlXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+0KLQtdC60YHRgiDQvdCw0LnQtNC10L0g0L3QsCDRgdGC0YDQsNC90LjRhtC1INCc0LDRgdGC0LXRgNCwOjwvc3Ryb25nPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiO1xcbiAgc3RhY2sxID0gKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVyc1tcXCdzZWFyY2gtbm90ZVxcJ10gfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwW1xcJ3NlYXJjaC1ub3RlXFwnXSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJzZWFyY2gtbm90ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMTdcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBlbGVtPVxcXFxcInNlcnZpY2VcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XFxcXG5cIjtcXG59LFwiMTlcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBidWZmZXIgPSBcIlwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5naWZ0IDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIwLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGhvdG8gOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMjIsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC52aWRlbyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSgyNCwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbW1lbnRzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDI2LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXI7XFxufSxcIjIwXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBidWZmZXIgPSBcIiAgICAgICAgICAgICAgICA8ZGl2IGJsb2NrPVxcXFxcIm1hc3Rlcl9oYXZlLWNvbnRlbnQtd2lkZ2V0XFxcXFwiIG1vZD1cXFxcXCJnaWZ0XFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGVsZW09XFxcXFwibWFpblxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInRpdGxlXFxcXFwiPlwiO1xcbiAgc3RhY2sxID0gbGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmdpZnQgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnRpdGxlIDogc3RhY2sxKSwgZGVwdGgwKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCI8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBlbGVtPVxcXFxcImRlc2NcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcXG4gIHN0YWNrMSA9IGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5naWZ0IDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5kZXNjIDogc3RhY2sxKSwgZGVwdGgwKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXCI7XFxufSxcIjIyXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBidWZmZXIgPSBcIiAgICAgICAgICAgICAgICA8ZGl2IGJsb2NrPVxcXFxcIm1hc3Rlcl9oYXZlLWNvbnRlbnQtd2lkZ2V0XFxcXFwiIG1vZD1cXFxcXCJwaG90b1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBlbGVtPVxcXFxcIm1haW5cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJ0aXRsZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDQoyDQnNCw0YHRgtC10YDQsDo8YnI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcXFwiY291bnRcXFxcXCI+XCI7XFxuICBzdGFjazEgPSBsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGhvdG8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmNvdW50IDogc3RhY2sxKSwgZGVwdGgwKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCI8L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBlbGVtPVxcXFxcImRlc2NcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjtcXG4gIHN0YWNrMSA9IGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5waG90byA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuZGVzYyA6IHN0YWNrMSksIGRlcHRoMCk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiXFxcXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cXFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcblwiO1xcbn0sXCIyNFwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgPGRpdiBibG9jaz1cXFxcXCJtYXN0ZXJfaGF2ZS1jb250ZW50LXdpZGdldFxcXFxcIiBtb2Q9XFxcXFwidmlkZW9cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcXFwiXCI7XFxuICBzdGFjazEgPSBsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmlkZW8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnVybCA6IHN0YWNrMSksIGRlcHRoMCk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBlbGVtPVxcXFxcIm1haW5cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XFxcXFwiXCI7XFxuICBzdGFjazEgPSBsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmlkZW8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnByZXZpZXcgOiBzdGFjazEpLCBkZXB0aDApO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIlxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgICAgICA8L2E+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgZWxlbT1cXFxcXCJkZXNjXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XFxuICBzdGFjazEgPSBsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudmlkZW8gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmRlc2MgOiBzdGFjazEpLCBkZXB0aDApO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICA8L3A+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMjZcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBsYW1iZGE9dGhpcy5sYW1iZGEsIGJ1ZmZlciA9IFwiICAgICAgICAgICAgICAgIDxkaXYgYmxvY2s9XFxcXFwibWFzdGVyX2hhdmUtY29udGVudC13aWRnZXRcXFxcXCIgbW9kPVxcXFxcImNvbW1lbnRzXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGVsZW09XFxcXFwibWFpblxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFxcInRpdGxlXFxcXFwiPtCjINCc0LDRgdGC0LXRgNCwOjxicj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFxcXCJjb3VudFxcXFxcIj5cIjtcXG4gIHN0YWNrMSA9IGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb21tZW50cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucmVjb21tZW5kYXRpb25zIDogc3RhY2sxKSwgZGVwdGgwKTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCI8L3NwYW4+PGJyPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcImNvdW50XFxcXFwiPlwiO1xcbiAgc3RhY2sxID0gbGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbW1lbnRzIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jb21tZW50cyA6IHN0YWNrMSksIGRlcHRoMCk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiPC9zcGFuPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxcXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgZWxlbT1cXFxcXCJkZXNjXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCI7XFxuICBzdGFjazEgPSBsYW1iZGEoKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29tbWVudHMgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmRlc2MgOiBzdGFjazEpLCBkZXB0aDApO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICA8L3A+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cIjtcXG59LFwiMjhcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJtYXN0ZXItbWluaWNhcmRfZnJlZVwiO1xcbiAgfSxcIjMwXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3Npbmc7XFxuICByZXR1cm4gXCIgICAgICAgIDxhIGNsYXNzPVxcXFxcIm1hc3Rlci1taW5pY2FyZF9fdG8tcGFnZVxcXFxcIiBocmVmPVxcXFxcIi9cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2UgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm51bWJlciA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+0J3QsCDRgdGC0YDQsNC90LjRhtGDINC80LDRgdGC0LXRgNCwPGk+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcInN0cmVsa2FcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+PC9hPlxcXFxuXCI7XFxufSxcIjMyXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwibWFzdGVyLW1pbmljYXJkX19zZXJ2aWNlc19oYWxmXCI7XFxuICB9LFwiMzRcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbjtcXG4gIHJldHVybiBcIiAgICAgICAgICAgIDxsaT5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKGRlcHRoMCwgZGVwdGgwKSlcXG4gICAgKyBcIjwvbGk+XFxcXG5cIjtcXG59LFwiMzZcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uO1xcbiAgcmV0dXJuIFwiICAgIDx1bCBjbGFzcz1cXFxcXCJtYXN0ZXItY29udGVudC13aWRnZXRcXFxcXCI+XFxcXG4gICAgICAgIDxsaSBjbGFzcz1cXFxcXCJhY3QgbWFzdGVyLWNvbnRlbnQtd2lkZ2V0X19naWZ0XFxcXFwiPlxcXFxuICAgICAgICAgICAgPGk+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcImdpZnRcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXY+XFxcXG4gICAgICAgICAgICAgICAgPHA+PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPHA+PC9wPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvbGk+XFxcXG4gICAgICAgIDxsaSBjbGFzcz1cXFxcXCJhY3QgbWFzdGVyLWNvbnRlbnQtd2lkZ2V0X19waG90b1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxpPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJwaWN0dXJlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiPC9pPlxcXFxuXFxcXG4gICAgICAgICAgICA8ZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxwPjwvcD5cXFxcblxcXFxuICAgICAgICAgICAgICAgIDxwPjwvcD5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2xpPlxcXFxuICAgICAgICA8bGkgY2xhc3M9XFxcXFwiYWN0IG1hc3Rlci1jb250ZW50LXdpZGdldF9fdmlkZW9cXFxcXCI+XFxcXG4gICAgICAgICAgICA8aT5cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwidmlkZW9cIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCI8L2k+XFxcXG5cXFxcbiAgICAgICAgICAgIDxkaXY+XFxcXG4gICAgICAgICAgICAgICAgPHA+PC9wPlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgPHA+PC9wPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvbGk+XFxcXG4gICAgICAgIDxsaSBjbGFzcz1cXFxcXCJhY3QgbWFzdGVyLWNvbnRlbnQtd2lkZ2V0X19jb21tZW50XFxcXFwiPlxcXFxuICAgICAgICAgICAgPGk+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcImRpYWxvZ1wiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcblxcXFxuICAgICAgICAgICAgPGRpdj5cXFxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtYXN0ZXItY29udGVudC13aWRnZXRfX2luZm9cXFxcXCI+PHNwYW4+0KMg0JzQsNGB0YLQtdGA0LA6PGJyPjxzdHJvbmc+MSDRgNC10LrQvtC80LXQvdC00LDRhtC40Y88YnI+NSDQvtGC0LfRi9Cy0L7Qsjwvc3Ryb25nPjwvc3Bhbj48L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJtYXN0ZXItY29udGVudC13aWRnZXRfX3RleHRcXFxcXCI+wqvQnNGLINC+0LHRgNCw0YLQuNC70LjRgdGMINC6INCh0LXRgNCz0LXRjiDQutC+0LPQtNCwINC90LDQtNC+INCx0YvQu9C+INC00L7QtNC10LvQsNGC0Ywg0YDQtdC80L7QvdGCLCDQvtCx0YrQtdC8INGA0LDQsdC+0YIg0L7RgdGC0LDQstCw0LvRgdGPINC90LXQsdC+0LvRjNGI0L7QuVxcXFxuICAgICAgICAgICAgICAgICAgICDQuCDQvdC10L/RgNC+0YHRgtC+INCx0YvQu9C+INC90LDQudGC0Lgg0YDQsNCx0L7Rh9C40YUuIC4uLsK7PC9wPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvbGk+XFxcXG4gICAgPC91bD5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGhlbHBlciwgbGFtYmRhPXRoaXMubGFtYmRhLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgZnVuY3Rpb25UeXBlPVwiZnVuY3Rpb25cIiwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGJ1ZmZlciA9IFwiPCEtLTxkaXYgYmxvY2s9XFxcXFwibWFzdGVyX21pbmljYXJkXFxcXFwiIG1vZD1cXFxcXCJwcmVtaXVtXFxcXFwiPlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwicm93XFxcXFwiPlxcXFxuICAgICAgICA8ZGl2IGVsZW09XFxcXFwibGVmdC1jb2x1bW5cXFxcXCI+XFxcXG4gICAgICAgICAgICA8ZGl2IGJsb2NrPVxcXFxcIm1hc3Rlcl9waG90by1hbmQtY29udGFjdHNcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBlbGVtPVxcXFxcInBob3RvLXdyYXBcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgZWxlbT1cXFxcXCJwaG90b1xcXFxcIiBzcmM9XFxcXFwiL2ltZy9hc3NldHMvbWFzdGVyX21pbmljYXJkLzY0NjEuanBnXFxcXFwiIGFsdD1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwW1xcJ21hc3Rlci1waG90b1xcJ10gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmFsdCA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBlbGVtPVxcXFxcImNvbnRhY3Qtd3JhcFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGNhdC1tYXN0ZXItcGhvbmUtYnRuIGlkPVxcXFxcIm1hc3Rlci1waG9uZS1idG4tXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+PC9jYXQtbWFzdGVyLXBob25lLWJ0bj5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGJsb2NrPVxcXFxcInRpcFxcXFxcIiBtaXg9XFxcXFwiYmxvY2s6anMtdGlwXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgZWxlbT1cXFxcXCJ0ZXh0XFxcXFwiPtCf0L7QttCw0LvRg9C50YHRgtCwINGB0LrQsNC20LjRgtC1INC80LDRgdGC0LXRgNGDINGH0YLQviDQvdCw0YjQu9C4INC10LPQviDQvdCwINC90LDRiNC10Lwg0YHQsNC50YLQtTwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGVsZW09XFxcXFwiY2xvc2VcXFxcXCIgbWl4PVxcXFxcImJsb2NrOmpzLWNsb3NlLXRpcFxcXFxcIj48L2k+XFxcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgICAgICAgICAgICAgICAgIDxhIGVsZW09XFxcXFwidG8tcGFnZVxcXFxcIiBocmVmPVxcXFxcIi9cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2UgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm51bWJlciA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+0J3QsCDRgdGC0YDQsNC90LjRhtGDINC80LDRgdGC0LXRgNCwPGkgZWxlbT1cXFxcXCJpY29uXFxcXFwiPjwvaT48L2E+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxhIGVsZW09XFxcXFwic2hvdy1zZXJ2aWNlc1xcXFxcIiBocmVmPVxcXFxcIiNcXFxcXCIgbWl4PVxcXFxcImJsb2NrOmpzLXNlcnZpY2VzLXRvZ2dsZVxcXFxcIj7Qn9C+0LrQsNC30LDRgtGMINGD0YHQu9GD0LPQuDwvYT5cXFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPGRpdiBlbGVtPVxcXFxcInJpZ2h0LWNvbHVtblxcXFxcIj5cXFxcblxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJyb3dcXFxcXCI+XFxcXG5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb21wYW55IDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMucHJvZ3JhbSgzLCBkYXRhKSxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiICAgICAgICAgICAgICAgIDxwIGVsZW09XFxcXFwibmFtZVxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICA8L3A+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuc3BlYyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg1LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuY29tcGFueSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg3LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLnByb2dyYW0oNywgZGF0YSksXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbXBhbnkgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oOSwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCJcXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFtcXCdoYXZlLWNvbnRlbnRcXCddIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDExLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLnByb2dyYW0oMTMsIGRhdGEpLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICBidWZmZXIgKz0gXCIgICAgICAgICAgICAgICAgPHVsIGVsZW09XFxcXFwic2VydmljZS1saXN0XFxcXFwiIG1peD1cXFxcXCJibG9jazpqcy1zZXJ2aWNlcy1jdXRcXFxcXCI+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbXFwnc2VhcmNoLW5vdGVcXCddIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDE1LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNlcnZpY2VzIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMTcsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiICAgICAgICAgICAgICAgIDwvdWw+XFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDBbXFwnaGF2ZS1jb250ZW50XFwnXSA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg3LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLnByb2dyYW0oNywgZGF0YSksXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbiAgICA8ZGl2IGJsb2NrPVxcXFxcIm1hc3Rlcl9wcmVzZW50YXRpb25cXFxcXCI+XFxcXG4gICAgICAgIHsgez4gbWFzdGVyX2hhdmUtY29udGVudC1pY29ucy9tYXN0ZXJfaGF2ZS1jb250ZW50LWljb25zIGhhdmUtY29udGVudC1pY29uc30gfVxcXFxuXFxcXG5cIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnd2l0aFxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMFtcXCdoYXZlLWNvbnRlbnRcXCddIDogZGVwdGgwKSwge1wibmFtZVwiOlwid2l0aFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMTksIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiICAgIDwvZGl2PlxcXFxuPC9kaXY+LS0+XFxcXG5cXFxcbjxkaXYgY2xhc3M9XFxcXFwiXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLnVubGVzcy5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnZSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEuaWQgOiBzdGFjazEpLCB7XCJuYW1lXCI6XCJ1bmxlc3NcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDI4LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiBtYXN0ZXItbWluaWNhcmRcXFxcXCI+XFxcXG5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcIm1hc3Rlci1taW5pY2FyZF9fcGhvdG8tY29udFxcXFxcIj5cXFxcbiAgICAgICAgPGltZyBjbGFzcz1cXFxcXCJtYXN0ZXItbWluaWNhcmRfX3Bob3RvXFxcXFwiIHNyYz1cXFxcXCIvaW1nL2Fzc2V0cy9tYXN0ZXJfbWluaWNhcmQvNjQ2MS5qcGdcXFxcXCIgYWx0PVxcXFxcIlxcXFxcIj5cXFxcbiAgICAgICAgPGkgY2xhc3M9XFxcXFwibWFzdGVyLW1pbmljYXJkX19saWtlXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJsaWtlXCIsIHtcIm5hbWVcIjpcImljb25cIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpKVxcbiAgICArIFwiIDI5PC9pPlxcXFxuICAgIDwvZGl2PlxcXFxuXFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJtYXN0ZXItbWluaWNhcmRfX2NvbnRhY3Qtd3JhcFxcXFxcIj5cXFxcbiAgICAgICAgPGNhdC1tYXN0ZXItcGhvbmUtYnRuIGlkPVxcXFxcIm1hc3Rlci1waG9uZS1idG4tXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWQgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmlkIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImlkXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+PC9jYXQtbWFzdGVyLXBob25lLWJ0bj5cXFxcblxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnZSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubnVtYmVyIDogc3RhY2sxKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDMwLCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICAgICAgPGEgY2xhc3M9XFxcXFwibWFzdGVyLW1pbmljYXJkX19zaG93LXNlcnZpY2VzIGpzLXNlcnZpY2VzLXRvZ2dsZVxcXFxcIiBocmVmPVxcXFxcIiNcXFxcXCI+0J/QvtC60LDQt9Cw0YLRjCDRg9GB0LvRg9Cz0Lg8L2E+XFxcXG4gICAgPC9kaXY+XFxcXG5cXFxcbiAgICA8cCBjbGFzcz1cXFxcXCJtYXN0ZXItbWluaWNhcmRfX2NvbXBhbnlcXFxcXCI+XFxcXG4gICAgICAgIDxzcGFuPjxpbWcgY2xhc3M9XFxcXFwibWFzdGVyLW1pbmljYXJkX19sb2dvXFxcXFwiIHNyYz1cXFxcXCIvaW1nL2Fzc2V0cy9tYXN0ZXJfbWluaWNhcmQvMTAyMi5wbmdcXFxcXCIgYWx0PVxcXFxcIlxcXFxcIj48L3NwYW4+XFxcXG4gICAgICAgIDxzcGFuPtCa0L7QvNC/0LDQvdC40Y8g0JzQtdGA0LA8L3NwYW4+XFxcXG4gICAgPC9wPlxcXFxuXFxcXG4gICAgPHAgY2xhc3M9XFxcXFwibWFzdGVyLW1pbmljYXJkX19uYW1lXFxcXFwiPtCl0LDRgNGF0LDQstC60LjQvdCwINCV0LLQs9C10L3QuNGPINCU0LvQuNC90L3QvtC+0YLRh9C10LLRgdGC0LLQvtCy0LDRjzwvcD5cXFxcblxcXFxuICAgIDxwIGNsYXNzPVxcXFxcIm1hc3Rlci1taW5pY2FyZF9fc3BlY1xcXFxcIj7Qn9GA0L7QtNCw0LbQsCDQtNC+0LzQvtCyINC/0L7QtCDQutC70Y7RhyDQn9GA0L7QtNCw0LbQsCDQtNC+0LzQvtCyINC/0L7QtCDQutC70Y7RhyDQn9GA0L7QtNCw0LbQsCDQtNC+0LzQvtCyINC/0L7QtCDQutC70Y7RhzwvcD5cXFxcblxcXFxuICAgIDx1bCBjbGFzcz1cXFxcXCJcIjtcXG4gIHN0YWNrMSA9IGhlbHBlcnNbXFwnaWZcXCddLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaXNXaWRnZXQgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oMzIsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiIG1hc3Rlci1taW5pY2FyZF9fc2VydmljZXMganMtbWluaWNhcmQtc2VydmljZXMtY3V0XFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zZXJ2aWNlcyA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDM0LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICA8L3VsPlxcXFxuXFxcXG5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsICgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2UgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLmlkIDogc3RhY2sxKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDM2LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuPC9kaXY+XFxcXG5cXFxcblxcXFxuPGRpdiBjbGFzcz1cXFxcXCJmcmFtZSBjYWxsYmFja1xcXFxcIj5cXFxcblxcXFxuPC9kaXY+XFxcXG5cXFxcblxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ21hc3Rlci1waG9uZS1idG4nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL21hc3Rlci9tYXN0ZXItbWluaWNhcmQvbWFzdGVyLXBob25lLWJ0bi9pbmRleC5qcycpLCBwcm9wZXJ0aWVzOiB7XCJuYW1lXCI6XCJtYXN0ZXItcGhvbmUtYnRuXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGxhbWJkYT10aGlzLmxhbWJkYSwgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb247XFxuICByZXR1cm4gXCIgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJwaG9uZS1idG5fX3VybFxcXFxcIiBocmVmPVxcXFxcIi9cIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24obGFtYmRhKCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnBhZ2UgOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLm51bWJlciA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+0LXRidC1INC60L7QvdGC0LDQutGC0Ys8L2E+XFxcXG5cIjtcXG59LFwiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGxhbWJkYT10aGlzLmxhbWJkYSwgYnVmZmVyID0gXCI8ZGl2IGNsYXNzPVxcXFxcInBob25lLWJ0blxcXFxcIj5cXFxcbiAgICA8cCBjbGFzcz1cXFxcXCJwaG9uZS1idG5fX3RpcCBqcy1tYXN0ZXItcGhvbmUtdGlwXFxcXFwiPlxcXFxuICAgICAgICDQn9C+0LbQsNC70YPQudGB0YLQsCDRgdC60LDQttC40YLQtSDQvNCw0YHRgtC10YDRgyDRh9GC0L4g0L3QsNGI0LvQuCDQtdCz0L4g0L3QsCDQvdCw0YjQtdC8INGB0LDQudGC0LVcXFxcbiAgICAgICAgPGkgY2xhc3M9XFxcXFwianMtY2xvc2UtdGlwXFxcXFwiPlwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJjbG9zZVwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIjwvaT5cXFxcbiAgICA8L3A+XFxcXG4gICAgPGJ1dHRvbiBjbGFzcz1cXFxcXCJwaG9uZS1idG5fX2J1dHRvbiBqcy1zaG93LXBob25lXFxcXFwiIGRhdGEtaWQ9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEub3duZXJJRCA6IHN0YWNrMSksIGRlcHRoMCkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgINCf0L7QutCw0LfQsNGC0Ywg0YLQtdC70LXRhNC+0L1cXFxcbiAgICA8L2J1dHRvbj5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcInBob25lLWJ0bl9fcGhvbmUtZGV0YWlscyBqcy1zaG93LXBob25lLWRldGFpbHNcXFxcXCI+XFxcXG4gICAgICAgIDxwIGNsYXNzPVxcXFxcInBob25lLWJ0bl9fcGhvbmVcXFxcXCI+XCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKGxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb250YWN0cyA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucGhvbmUgOiBzdGFjazEpLCBkZXB0aDApKVxcbiAgICArIFwiPC9wPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzW1xcJ2lmXFwnXS5jYWxsKGRlcHRoMCwgKChzdGFjazEgPSAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFnZSA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEubnVtYmVyIDogc3RhY2sxKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgIDwvZGl2PlxcXFxuPC9kaXY+XFxcXG5cIjtcXG59LFwidXNlRGF0YVwiOnRydWV9JywgZXJyb3JUZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgcmV0dXJuIFwiXFxcXG5cIjtcXG4gIH0sXCJ1c2VEYXRhXCI6dHJ1ZX0nfSxcbntuYW1lOiAnZG9wLWZ1bmN0aW9uJywgY29uc3RydWN0b3I6IHJlcXVpcmUoJy4vY2F0YmVycnlfY29tcG9uZW50cy9wYWdlL3BhZ2UtbWFpbi9kb3AtZnVuY3Rpb24vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwiZG9wLWZ1bmN0aW9uXCIsXCJ0ZW1wbGF0ZVwiOlwiLi90ZW1wbGF0ZS5oYnNcIixcImVycm9yVGVtcGxhdGVcIjpcIi4vZXJyb3IuaGJzXCIsXCJsb2dpY1wiOlwiaW5kZXguanNcIn0sIHRlbXBsYXRlU291cmNlOiAne1wiMVwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcXFwiYmVjb21lLW1hc3Rlcl9faXRlbVxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVyc1tcXCdpZlxcJ10uY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pY29uIDogZGVwdGgwKSwge1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDIsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMucHJvZ3JhbSg0LCBkYXRhKSxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiICAgICAgICAgICAgICAgICAgICA8L2xpPlxcXFxuXCI7XFxufSxcIjJcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJiZWNvbWUtbWFzdGVyX19pdGVtLWxpbmsgYmVjb21lLW1hc3Rlcl9faXRlbS1saW5rX2hvdmVyXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcXFwiYmVjb21lLW1hc3Rlcl9faWNvblxcXFxcIj48L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XFxuICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcXFxuXCI7XFxufSxcIjRcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJiZWNvbWUtbWFzdGVyX19pdGVtLWxpbmtcXFxcXCIgaHJlZj1cXFxcXCJcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy51cmwgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnVybCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcXG4gICAgKyBcIlxcXFxcIj5cIjtcXG4gIHN0YWNrMSA9ICgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudGl0bGUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRpdGxlIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgcmV0dXJuIGJ1ZmZlciArIFwiPC9hPlxcXFxuXCI7XFxufSxcIjZcIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICB2YXIgc3RhY2sxLCBoZWxwZXIsIGZ1bmN0aW9uVHlwZT1cImZ1bmN0aW9uXCIsIGhlbHBlck1pc3Npbmc9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBlc2NhcGVFeHByZXNzaW9uPXRoaXMuZXNjYXBlRXhwcmVzc2lvbiwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJhYm91dC1jb21wYW55X19pdGVtXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiYWJvdXQtY29tcGFueV9faXRlbS1saW5rXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XCI7XFxuICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvYT5cXFxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXFxcblwiO1xcbn0sXCI4XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgYnVmZmVyID0gXCIgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXCJiYXlkYV9faXRlbS1jdWJlXFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLnVubGVzcy5jYWxsKGRlcHRoMCwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmVtcHR5IDogZGVwdGgwKSwge1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg5LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIiAgICAgICAgICAgICAgICAgICAgPC9saT5cXFxcblwiO1xcbn0sXCI5XCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIHN0YWNrMSwgaGVscGVyLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiLCBoZWxwZXJNaXNzaW5nPWhlbHBlcnMuaGVscGVyTWlzc2luZywgZXNjYXBlRXhwcmVzc2lvbj10aGlzLmVzY2FwZUV4cHJlc3Npb24sIGJ1ZmZlciA9IFwiICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiYmF5ZGFfX2l0ZW0tY3ViZS1saW5rXFxcXFwiIGhyZWY9XFxcXFwiXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVyTWlzc2luZyksKHR5cGVvZiBoZWxwZXIgPT09IGZ1bmN0aW9uVHlwZSA/IGhlbHBlci5jYWxsKGRlcHRoMCwge1wibmFtZVwiOlwidXJsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCJcXFxcXCI+XCI7XFxuICBzdGFjazEgPSAoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gZnVuY3Rpb25UeXBlID8gaGVscGVyLmNhbGwoZGVwdGgwLCB7XCJuYW1lXCI6XCJ0aXRsZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIHJldHVybiBidWZmZXIgKyBcIjwvYT5cXFxcblwiO1xcbn0sXCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHZhciBzdGFjazEsIGJ1ZmZlciA9IFwiPGRpdiBjbGFzcz1cXFxcXCJkb3AtZnVuY3Rpb25cXFxcXCI+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXCJkb3AtZnVuY3Rpb25fX2lubmVyXFxcXFwiPlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImJlY29tZS1tYXN0ZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImJlY29tZS1tYXN0ZXJfX2lubmVyXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiYmVjb21lLW1hc3Rlcl9fdGl0bGUgZG9wLWZ1bmN0aW9uLWJsb2NrLWpzXFxcXFwiPtCc0LDRgdGC0LXRgNCw0Lw8L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcXFwiYmVjb21lLW1hc3Rlcl9fbWVudVxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWVudU1hc3RlciA6IGRlcHRoMCksIHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6dGhpcy5wcm9ncmFtKDEsIGRhdGEpLFwiaW52ZXJzZVwiOnRoaXMubm9vcCxcImRhdGFcIjpkYXRhfSk7XFxuICBpZiAoc3RhY2sxICE9IG51bGwpIHsgYnVmZmVyICs9IHN0YWNrMTsgfVxcbiAgYnVmZmVyICs9IFwiICAgICAgICAgICAgICAgIDwvdWw+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiYWJvdXQtY29tcGFueVxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiYWJvdXQtY29tcGFueV9faW5uZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJhYm91dC1jb21wYW55X190aXRsZSBkb3AtZnVuY3Rpb24tYmxvY2stanNcXFxcXCI+0J4g0LrQvtC80L/QsNC90LjQuDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFxcXCJhYm91dC1jb21wYW55X19tZW51XFxcXFwiPlxcXFxuXCI7XFxuICBzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAsIChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5tZW51QWJvdXQgOiBkZXB0aDApLCB7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOnRoaXMucHJvZ3JhbSg2LCBkYXRhKSxcImludmVyc2VcIjp0aGlzLm5vb3AsXCJkYXRhXCI6ZGF0YX0pO1xcbiAgaWYgKHN0YWNrMSAhPSBudWxsKSB7IGJ1ZmZlciArPSBzdGFjazE7IH1cXG4gIGJ1ZmZlciArPSBcIiAgICAgICAgICAgICAgICA8L3VsPlxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImJheWRhXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJiYXlkYV9faW5uZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXCJiYXlkYV9fdGl0bGUgZG9wLWZ1bmN0aW9uLWJsb2NrLWpzXFxcXFwiPtCg0LDQt9Cy0LvQtdGH0LXQvdC40Y88L2Rpdj5cXFxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcXFwiYmF5ZGFfX21lbnUtY3ViZVxcXFxcIj5cXFxcblwiO1xcbiAgc3RhY2sxID0gaGVscGVycy5lYWNoLmNhbGwoZGVwdGgwLCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWVudUJheWRhIDogZGVwdGgwKSwge1wibmFtZVwiOlwiZWFjaFwiLFwiaGFzaFwiOnt9LFwiZm5cIjp0aGlzLnByb2dyYW0oOCwgZGF0YSksXCJpbnZlcnNlXCI6dGhpcy5ub29wLFwiZGF0YVwiOmRhdGF9KTtcXG4gIGlmIChzdGFjazEgIT0gbnVsbCkgeyBidWZmZXIgKz0gc3RhY2sxOyB9XFxuICByZXR1cm4gYnVmZmVyICsgXCIgICAgICAgICAgICAgICAgPC91bD5cXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8L2Rpdj5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvZGl2PlxcXFxuXCI7XFxufSxcInVzZURhdGFcIjp0cnVlfScsIGVycm9yVGVtcGxhdGVTb3VyY2U6ICd7XCJjb21waWxlclwiOls2LFwiPj0gMi4wLjAtYmV0YS4xXCJdLFwibWFpblwiOmZ1bmN0aW9uKGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcXG4gIHJldHVybiBcIlxcXFxuXCI7XFxuICB9LFwidXNlRGF0YVwiOnRydWV9J30sXG57bmFtZTogJ21haW4tZnVuY3Rpb24nLCBjb25zdHJ1Y3RvcjogcmVxdWlyZSgnLi9jYXRiZXJyeV9jb21wb25lbnRzL3BhZ2UvcGFnZS1tYWluL21haW4tZnVuY3Rpb24vaW5kZXguanMnKSwgcHJvcGVydGllczoge1wibmFtZVwiOlwibWFpbi1mdW5jdGlvblwiLFwidGVtcGxhdGVcIjpcIi4vdGVtcGxhdGUuaGJzXCIsXCJlcnJvclRlbXBsYXRlXCI6XCIuL2Vycm9yLmhic1wiLFwibG9naWNcIjpcImluZGV4LmpzXCJ9LCB0ZW1wbGF0ZVNvdXJjZTogJ3tcImNvbXBpbGVyXCI6WzYsXCI+PSAyLjAuMC1iZXRhLjFcIl0sXCJtYWluXCI6ZnVuY3Rpb24oZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xcbiAgdmFyIGhlbHBlciwgaGVscGVyTWlzc2luZz1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGVzY2FwZUV4cHJlc3Npb249dGhpcy5lc2NhcGVFeHByZXNzaW9uLCBmdW5jdGlvblR5cGU9XCJmdW5jdGlvblwiO1xcbiAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFxcXCJtYWluLWZ1bmN0aW9uXFxcXFwiPlxcXFxuICAgIDxkaXYgY2xhc3M9XFxcXFwibWFpbi1mdW5jdGlvbl9faW5uZXJcXFxcXCI+XFxcXG4gICAgICAgIDxjYXQtc2VhcmNoIGlkPVxcXFxcInNlYXJjaFxcXFxcIj48L2NhdC1zZWFyY2g+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwib3JcXFxcXCI+0LjQu9C4PC9kaXY+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmluZC1tYXN0ZXIganMtZmluZC1tYXN0ZXJcXFxcXCI+XFxcXG4gICAgICAgICAgICA8YSBjbGFzcz1cXFxcXCJmaW5kLW1hc3Rlcl9faW5uZXJcXFxcXCIgaHJlZj1cXFxcXCIvY2F0YWxvZ1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImZpbmQtbWFzdGVyX19pbm5lci1yZWxcXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiZmluZC1tYXN0ZXJfX2ljb25cXFxcXCI+XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICArIGVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXJzLmljb24gfHwgKGRlcHRoMCAmJiBkZXB0aDAuaWNvbikgfHwgaGVscGVyTWlzc2luZykuY2FsbChkZXB0aDAsIFwibWFuLWluLXN1blwiLCBcImljb25fd2hpdGVcIiwge1wibmFtZVwiOlwiaWNvblwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSkpXFxuICAgICsgXCJcXFxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiZmluZC1tYXN0ZXJfX3RpdGxlXFxcXFwiPtCS0YvQsdC10YDQuCDQnNCw0YHRgtC10YDQsDwvcD5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcXFwiZmluZC1tYXN0ZXJfX2J0blxcXFxcIj7QoyDQvdCw0YEgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuY291bnRNYXN0ZXIgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvdW50TWFzdGVyIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBmdW5jdGlvblR5cGUgPyBoZWxwZXIuY2FsbChkZXB0aDAsIHtcIm5hbWVcIjpcImNvdW50TWFzdGVyXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXFxuICAgICsgXCI8L3NwYW4+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICA8L2E+XFxcXG4gICAgICAgIDwvZGl2PlxcXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhbGwtYmFja1xcXFxcIj5cXFxcbiAgICAgICAgICAgIDxhIGNsYXNzPVxcXFxcImNhbGwtYmFja19faW5uZXJcXFxcXCIgaHJlZj1cXFxcXCIvcmVxdWVzdFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhbGwtYmFja19faW5uZXItcmVsXFxcXFwiPlxcXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhbGwtYmFja19faWNvblxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICsgZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlcnMuaWNvbiB8fCAoZGVwdGgwICYmIGRlcHRoMC5pY29uKSB8fCBoZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCwgXCJzdGFyLWluLXN1blwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgKyBlc2NhcGVFeHByZXNzaW9uKCgoaGVscGVycy5pY29uIHx8IChkZXB0aDAgJiYgZGVwdGgwLmljb24pIHx8IGhlbHBlck1pc3NpbmcpLmNhbGwoZGVwdGgwLCBcInN0YXItbGluZVwiLCB7XCJuYW1lXCI6XCJpY29uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKSlcXG4gICAgKyBcIlxcXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFxcXCJjYWxsLWJhY2tfX3RpdGxlXFxcXFwiPtCX0LDQutCw0LbQuCDRg9GB0LvRg9Cz0YM8L3A+XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcXFwiY2FsbC1iYWNrX190ZXh0XFxcXFwiPtCc0Ysg0LHQtdGB0L/Qu9Cw0YLQvdC+INC+0YLQv9GA0LDQstC40Lwg0LLQsNGI0YMg0LfQsNGP0LLQutGDINCy0YHQtdC8INC/0L7QtNGF0L7QtNGP0YnQuNC8INCc0LDRgdGC0LXRgNCw0Lw8L3A+XFxcXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXFxcImNhbGwtYmFja19fYnRuXFxcXFwiPtCh0L7Qt9C00LDRgtGMINC30LDRj9Cy0LrRgzwvc3Bhbj5cXFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgICAgIDwvYT5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiY2F0YWxvZ3NcXFxcXCI+XFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhdGFsb2dzX19pbm5lclxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFxcImNhdGFsb2dzX19zZXJ2aWNlc1xcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XFxcXFwiY2F0YWxvZ3NfX3NlcnZpY2VzLWxpbmtcXFxcXCIgaHJlZj1cXFxcXCIvY2F0YWxvZ1xcXFxcIj7QktC10YHRjCDQutCw0YLQsNC70L7QsyDRg9GB0LvRg9CzPC9hPlxcXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcXFwiY2F0YWxvZ3NfX2RvcFxcXFxcIj5cXFxcbiAgICAgICAgICAgICAgICAgICAgPGNhdC1jYXRhbG9nLWxpc3QgaWQ9XFxcXFwiY2F0YWxvZy1saXN0XFxcXFwiIGRhdGEtbW9kPVxcXFxcInBhZ2VfbWFpblxcXFxcIj48L2NhdC1jYXRhbG9nLWxpc3Q+XFxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcbiAgICAgICAgPC9kaXY+XFxcXG4gICAgPC9kaXY+XFxcXG48L2Rpdj5cXFxcblwiO1xcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0nLCBlcnJvclRlbXBsYXRlU291cmNlOiAne1wiY29tcGlsZXJcIjpbNixcIj49IDIuMC4wLWJldGEuMVwiXSxcIm1haW5cIjpmdW5jdGlvbihkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XFxuICByZXR1cm4gXCJcXFxcblwiO1xcbiAgfSxcInVzZURhdGFcIjp0cnVlfSd9XG5dO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKSxcblx0cm91dGVEZWZpbml0aW9ucyA9IHJlcXVpcmUoJy4vcm91dGVzLmpzJykgfHwgW10sXG5cdENhdGJlcnJ5ID0gcmVxdWlyZSgnLi9ub2RlX21vZHVsZXMvY2F0YmVycnkvYnJvd3Nlci9DYXRiZXJyeS5qcycpLFxuXHRMb2dnZXIgPSByZXF1aXJlKCcuL25vZGVfbW9kdWxlcy9jYXRiZXJyeS9icm93c2VyL0xvZ2dlci5qcycpLFxuXHRCb290c3RyYXBwZXJCYXNlID1cblx0XHRyZXF1aXJlKCcuL25vZGVfbW9kdWxlcy9jYXRiZXJyeS9saWIvYmFzZS9Cb290c3RyYXBwZXJCYXNlLmpzJyksXG5cdFN0b3JlRGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vbm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2xpYi9TdG9yZURpc3BhdGNoZXInKSxcblx0TW9kdWxlQXBpUHJvdmlkZXIgPVxuXHRcdHJlcXVpcmUoJy4vbm9kZV9tb2R1bGVzL2NhdGJlcnJ5L2Jyb3dzZXIvcHJvdmlkZXJzL01vZHVsZUFwaVByb3ZpZGVyJyksXG5cdENvb2tpZVdyYXBwZXIgPSByZXF1aXJlKCcuL25vZGVfbW9kdWxlcy9jYXRiZXJyeS9icm93c2VyL0Nvb2tpZVdyYXBwZXInKTtcblxudmFyIERFQlVHX0RPQ1VNRU5UX1VQREFURUQgPSAnRG9jdW1lbnQgdXBkYXRlZCAoJWQgc3RvcmUocykgY2hhbmdlZCknLFxuXHRERUJVR19DT01QT05FTlRfQk9VTkQgPSAnQ29tcG9uZW50IFwiJXNcIiBpcyBib3VuZCcsXG5cdERFQlVHX0NPTVBPTkVOVF9VTkJPVU5EID0gJ0NvbXBvbmVudCBcIiVzXCIgaXMgdW5ib3VuZCc7XG5cbnV0aWwuaW5oZXJpdHMoQm9vdHN0cmFwcGVyLCBCb290c3RyYXBwZXJCYXNlKTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgYnJvd3NlciBDYXRiZXJyeSdzIGJvb3RzdHJhcHBlci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQm9vdHN0cmFwcGVyQmFzZVxuICovXG5mdW5jdGlvbiBCb290c3RyYXBwZXIoKSB7XG5cdEJvb3RzdHJhcHBlckJhc2UuY2FsbCh0aGlzLCBDYXRiZXJyeSk7XG59XG5cbi8qKlxuICogQ29uZmlndXJlcyBDYXRiZXJyeSdzIHNlcnZpY2UgbG9jYXRvci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmplY3QgQXBwbGljYXRpb24gY29uZmlnIG9iamVjdC5cbiAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9IGxvY2F0b3IgU2VydmljZSBsb2NhdG9yIHRvIGNvbmZpZ3VyZS5cbiAqL1xuQm9vdHN0cmFwcGVyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoY29uZmlnT2JqZWN0LCBsb2NhdG9yKSB7XG5cdEJvb3RzdHJhcHBlckJhc2UucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIGNvbmZpZ09iamVjdCwgbG9jYXRvcik7XG5cblx0Ly8gaWYgYnJvd3NlciBzdGlsbCBkb2VzIG5vdCBoYXZlIHByb21pc2VzIHRoZW4gYWRkIGl0LlxuXHRpZiAoISgnUHJvbWlzZScgaW4gd2luZG93KSkge1xuXHRcdHdpbmRvdy5Qcm9taXNlID0gbG9jYXRvci5yZXNvbHZlKCdwcm9taXNlJyk7XG5cdH1cblxuXHRsb2NhdG9yLnJlZ2lzdGVyKCdzdG9yZURpc3BhdGNoZXInLCBTdG9yZURpc3BhdGNoZXIsIGNvbmZpZ09iamVjdCwgdHJ1ZSk7XG5cdGxvY2F0b3IucmVnaXN0ZXIoXG5cdFx0J21vZHVsZUFwaVByb3ZpZGVyJywgTW9kdWxlQXBpUHJvdmlkZXIsIGNvbmZpZ09iamVjdCwgdHJ1ZVxuXHQpO1xuXHRsb2NhdG9yLnJlZ2lzdGVyKCdjb29raWVXcmFwcGVyJywgQ29va2llV3JhcHBlciwgY29uZmlnT2JqZWN0LCB0cnVlKTtcblxuXHRsb2NhdG9yLnJlZ2lzdGVySW5zdGFuY2UoJ3dpbmRvdycsIHdpbmRvdyk7XG5cblx0dmFyIGxvZ2dlckNvbmZpZyA9IGNvbmZpZ09iamVjdC5sb2dnZXIgfHwge30sXG5cdFx0bG9nZ2VyID0gbmV3IExvZ2dlcihsb2dnZXJDb25maWcubGV2ZWxzKTtcblx0bG9jYXRvci5yZWdpc3Rlckluc3RhbmNlKCdsb2dnZXInLCBsb2dnZXIpO1xuXHR3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uIGVycm9ySGFuZGxlcihtc2csIHVyaSwgbGluZSkge1xuXHRcdGxvZ2dlci5mYXRhbCh1cmkgKyAnOicgKyBsaW5lICsgJyAnICsgbXNnKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblx0dmFyIGV2ZW50QnVzID0gbG9jYXRvci5yZXNvbHZlKCdldmVudEJ1cycpO1xuXHR0aGlzLl93cmFwRXZlbnRzV2l0aExvZ2dlcihjb25maWdPYmplY3QsIGV2ZW50QnVzLCBsb2dnZXIpO1xuXG5cdHJvdXRlRGVmaW5pdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocm91dGVEZWZpbml0aW9uKSB7XG5cdFx0bG9jYXRvci5yZWdpc3Rlckluc3RhbmNlKCdyb3V0ZURlZmluaXRpb24nLCByb3V0ZURlZmluaXRpb24pO1xuXHR9KTtcblxuXHRzdG9yZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmUpIHtcblx0XHRsb2NhdG9yLnJlZ2lzdGVySW5zdGFuY2UoJ3N0b3JlJywgc3RvcmUpO1xuXHR9KTtcblxuXHRjb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuXHRcdGxvY2F0b3IucmVnaXN0ZXJJbnN0YW5jZSgnY29tcG9uZW50JywgY29tcG9uZW50KTtcblx0fSk7XG59O1xuXG4vKipcbiAqIFdyYXBzIGV2ZW50IGJ1cyB3aXRoIGxvZyBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgQXBwbGljYXRpb24gY29uZmlnLlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGV2ZW50QnVzIEV2ZW50IGVtaXR0ZXIgdGhhdCBpbXBsZW1lbnRzIGV2ZW50IGJ1cy5cbiAqIEBwYXJhbSB7TG9nZ2VyfSBsb2dnZXIgTG9nZ2VyIHRvIHdyaXRlIG1lc3NhZ2VzLlxuICogQHByb3RlY3RlZFxuICovXG5Cb290c3RyYXBwZXIucHJvdG90eXBlLl93cmFwRXZlbnRzV2l0aExvZ2dlciA9XG5cdGZ1bmN0aW9uIChjb25maWcsIGV2ZW50QnVzLCBsb2dnZXIpIHtcblx0XHRCb290c3RyYXBwZXJCYXNlLnByb3RvdHlwZS5fd3JhcEV2ZW50c1dpdGhMb2dnZXJcblx0XHRcdC5jYWxsKHRoaXMsIGNvbmZpZywgZXZlbnRCdXMsIGxvZ2dlcik7XG5cblx0XHR2YXIgaXNSZWxlYXNlID0gQm9vbGVhbihjb25maWcuaXNSZWxlYXNlKTtcblx0XHRpZiAoaXNSZWxlYXNlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50QnVzXG5cdFx0XHQub24oJ2RvY3VtZW50VXBkYXRlZCcsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdGxvZ2dlci5kZWJ1Zyh1dGlsLmZvcm1hdChERUJVR19ET0NVTUVOVF9VUERBVEVELCBhcmdzLmxlbmd0aCkpO1xuXHRcdFx0fSlcblx0XHRcdC5vbignY29tcG9uZW50Qm91bmQnLCBmdW5jdGlvbiAoYXJncykge1xuXHRcdFx0XHRsb2dnZXIuZGVidWcodXRpbC5mb3JtYXQoXG5cdFx0XHRcdFx0REVCVUdfQ09NUE9ORU5UX0JPVU5ELFxuXHRcdFx0XHRcdGFyZ3MuZWxlbWVudC50YWdOYW1lICsgKGFyZ3MuaWQgPyAnIycgKyBhcmdzLmlkIDogJycpXG5cdFx0XHRcdCkpO1xuXHRcdFx0fSlcblx0XHRcdC5vbignY29tcG9uZW50VW5ib3VuZCcsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdGxvZ2dlci5kZWJ1Zyh1dGlsLmZvcm1hdChcblx0XHRcdFx0XHRERUJVR19DT01QT05FTlRfVU5CT1VORCxcblx0XHRcdFx0XHRhcmdzLmVsZW1lbnQudGFnTmFtZSArIChhcmdzLmlkID8gJyMnICsgYXJncy5pZCA6ICcnKVxuXHRcdFx0XHQpKTtcblx0XHRcdH0pO1xuXHR9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBCb290c3RyYXBwZXIoKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBjYXRiZXJyeSA9IHJlcXVpcmUoJ2NhdGJlcnJ5JyksXG4vLyB0aGlzIGNvbmZpZyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGAuL2NvbmZpZy9icm93c2VyLmpzb25gIHdoZW4gYnVpbGRpbmdcbi8vIGJlY2F1c2Ugb2YgYGJyb3dzZXJgIGZpZWxkIGluIGBwYWNrYWdlLmpzb25gXG4gICAgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcvZW52aXJvbm1lbnQuanNvbicpLFxuICAgIHRlbXBsYXRlRW5naW5lID0gcmVxdWlyZSgnLi9zcGVjaWFsX21vZHVsZXMvY2F0YmVycnktaGFuZGxlYmFycycpLFxuICAgIGhlbHBlcnMgPSByZXF1aXJlKCcuL3NwZWNpYWxfbW9kdWxlcy9jYXRiZXJyeS1oYW5kbGViYXJzLWhlbHBlcnMnKSxcbiAgICBjYXQgPSBjYXRiZXJyeS5jcmVhdGUoY29uZmlnKTtcblxuLy8gcmVnaXN0ZXIgdGVtcGxhdGUgcHJvdmlkZXIgdG8gQ2F0YmVycnkgU2VydmljZSBMb2NhdG9yXG50ZW1wbGF0ZUVuZ2luZS5yZWdpc3RlcihjYXQubG9jYXRvcik7XG5oZWxwZXJzLnJlZ2lzdGVyKGNhdC5sb2NhdG9yKVxuXG5jYXQuc3RhcnRXaGVuUmVhZHkoKTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbW1vbkgxO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImNvbW1vbi1oMVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBDb21tb25IMSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbkNvbW1vbkgxLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuYXR0cmlidXRlcztcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuQ29tbW9uSDEucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuQ29tbW9uSDEucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBDb21tb25QYWdpbmF0b3I7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwiY29tbW9uLXBhZ2luYXRvclwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBDb21tb25QYWdpbmF0b3IoKSB7XG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuQ29tbW9uUGFnaW5hdG9yLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBtb2RlbCA9IHRoaXMuJGNvbnRleHQuYXR0cmlidXRlcy5tb2RlbDtcbiAgICBpZiAoIW1vZGVsKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJpcy1wYWdpbmF0b3JcIjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgIHJldHVybiB0aGlzLiRjb250ZXh0LnNlbmRBY3Rpb24oXCJzZXRNb2RlbFwiLCBtb2RlbClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCk7XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5Db21tb25QYWdpbmF0b3IucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICAgICcucGFnaW5hdG9yX19udW1iZXInOiB0aGlzLl9oYW5kbGVDbGlja1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5Db21tb25QYWdpbmF0b3IucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbkNvbW1vblBhZ2luYXRvci5wcm90b3R5cGUuX2hhbmRsZUNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJyZWFkY3J1bXBzO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImJyZWFkY3J1bXBzXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEJyZWFkY3J1bXBzKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuQnJlYWRjcnVtcHMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuQnJlYWRjcnVtcHMucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICAgICcuanMtcGFyZW50LXJ1Yic6IHRoaXMuX2NsaWNrSGFuZGxlcixcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuQnJlYWRjcnVtcHMucHJvdG90eXBlLl9jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgLy92YXIgZWwgPSBvYmoudGFyZ2V0O1xuICAgIHZhciBwb3MgPSAkKCcuanMtcGFyZW50LXJ1YicpLnBvc2l0aW9uKCkubGVmdCArICQoJy5qcy1wYXJlbnQtcnViJykud2lkdGgoKTtcbiAgICAkKCcuanMtYnJlYWRjcnVtYnMtbGlzdCcpLmNzcygnbGVmdCcsIHBvcykudG9nZ2xlKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5CcmVhZGNydW1wcy5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvcENhdGFsb2dzO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImRvcC1jYXRhbG9nc1wiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEb3BDYXRhbG9ncygpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbkRvcENhdGFsb2dzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAnZGF0YS1tb2QnOiB0aGlzLiRjb250ZXh0LmF0dHJpYnV0ZXNbJ2RhdGEtbW9kJ10sXG4gICAgICAgIGNhdGFsb2dzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9zYWxlXCIsXG4gICAgICAgICAgICAgICAgaWNvOiBcImdpZnRcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCLQn9C+0LjRgdC6INC/0L4g0YHQutC40LTQutC1XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi92aWRlb1wiLFxuICAgICAgICAgICAgICAgIGljbzogXCJ2aWRlb1wiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcItCf0L7QuNGB0Log0L/QviDQstC40LTQtdC+XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9zb3ZldHlcIixcbiAgICAgICAgICAgICAgICBpY286IFwicXdlc3Rpb25cIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCLQodC10LrRgNC10YLRiyDQnNCw0YHRgtC10YDQvtCyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsOiBcIi9jb21wYW55XCIsXG4gICAgICAgICAgICAgICAgaWNvOiBcImNhc2VcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCLQmtCw0YLQsNC70L7QsyDRhNC40YDQvFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5Eb3BDYXRhbG9ncy5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5Eb3BDYXRhbG9ncy5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvY3VtZW50O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImRvY3VtZW50XCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERvY3VtZW50KCkgeyB9XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gSGVhZDtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJoZWFkXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhlYWQoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5IZWFkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpO1xufTtcblxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvYWRlcjtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJsb2FkZXJcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTG9hZGVyKCkgeyB9XG5cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJCbG9ja0Fib3V0O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1ibG9jay1hYm91dFwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJCbG9ja0Fib3V0KCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyQmxvY2tBYm91dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLiRjb250ZXh0LmF0dHJpYnV0ZXNbJ21hc3Rlci1wYWdlJ10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5hYm91dEVkdWMgPSBkYXRhLmFib3V0RWR1Yy5yZXBsYWNlKC9cXG4vZywgXCI8YnI+XCIpO1xuICAgICAgICAgICAgICAgIGRhdGEuYWJvdXRFeHAgPSBkYXRhLmFib3V0RXhwLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIik7XG4gICAgICAgICAgICAgICAgZGF0YS5hYm91dEFkZEluZm8gPSBkYXRhLmFib3V0QWRkSW5mby5yZXBsYWNlKC9cXG4vZywgXCI8YnI+XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFib3V0RWR1YzogZGF0YS5hYm91dEVkdWMsXG4gICAgICAgICAgICAgICAgICAgIGFib3V0RXhwOiBkYXRhLmFib3V0RXhwLFxuICAgICAgICAgICAgICAgICAgICBhYm91dEFkZEluZm86IGRhdGEuYWJvdXRBZGRJbmZvXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5NYXN0ZXJCbG9ja0Fib3V0LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk1hc3RlckJsb2NrQWJvdXQucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJCbG9ja0FydGljbGU7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyLWJsb2NrLWFydGljbGVcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFzdGVyQmxvY2tBcnRpY2xlKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyQmxvY2tBcnRpY2xlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuJGNvbnRleHQuYXR0cmlidXRlc1snbWFzdGVyLXBhZ2UnXSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmFydGljbGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hdXRob3IgPSBkYXRhLm5hbWU7IC8v0LTQvtCx0LDQstC70Y/QtdC8INCw0LLRgtC+0YDQsCDQtNC70Y8g0LrQsNC20LTQvtC5INGB0YLQsNGC0YzQuFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5hcnRpY2xlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZXM6IGRhdGEuYXJ0aWNsZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cbk1hc3RlckJsb2NrQXJ0aWNsZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJCbG9ja0FydGljbGUucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJCbG9ja0xpbms7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyLWJsb2NrLWxpbmtcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFzdGVyQmxvY2tMaW5rKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyQmxvY2tMaW5rLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyQmxvY2tMaW5rLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk1hc3RlckJsb2NrTGluay5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3RlckJsb2NrUGhvdG87XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyLWJsb2NrLXBob3RvXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hc3RlckJsb2NrUGhvdG8oKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5NYXN0ZXJCbG9ja1Bob3RvLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuJGNvbnRleHQuYXR0cmlidXRlc1snbWFzdGVyLXBhZ2UnXSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEuYWxidW1zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhbGJ1bXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDE5OTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvd25lclR5cGVcIjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm93bmVySURcIjogMTAxOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCLQkNC70YzQsdC+0Lwg4oSWMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RhdHVzXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwaG90b3NcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDYzODUzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGJ1bUlEXCI6IDE5OTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltZ0lEXCI6IFwiNTY5MzQ1ODYyMzA0MVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNjM4NTQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsYnVtSURcIjogMTk5MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1nSURcIjogXCI1NjkzNDU4NjhiYmIzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA2Mzg1NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxidW1JRFwiOiAxOTkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWdJRFwiOiBcIjU2OTM0NTg3MDEzNjdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDYzODU2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGJ1bUlEXCI6IDE5OTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltZ0lEXCI6IFwiNTY5MzQ1ODc3MTg0MFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNjM4NTcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsYnVtSURcIjogMTk5MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1nSURcIjogXCI1NjkzNDU4N2Q4ZTA1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA2Mzg1OCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxidW1JRFwiOiAxOTkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWdJRFwiOiBcIjU2OTM0NTg4NDVlYjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDYzODU5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGJ1bUlEXCI6IDE5OTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltZ0lEXCI6IFwiNTY5MzQ1ODhhZjc2NlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogMTk5MyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm93bmVyVHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3duZXJJRFwiOiAxMDU4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcItCh0LXRgNGC0LjRhNC40LrQsNGC0YtcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXR1c1wiOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGhvdG9zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA2NDA2OCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxidW1JRFwiOiAxOTkzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWdJRFwiOiBcIjU2OTM0NWJhMjBkYzlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDY0MDY5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGJ1bUlEXCI6IDE5OTMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltZ0lEXCI6IFwiNTY5MzQ1YmE4MGY4NFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNjQwNzAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsYnVtSURcIjogMTk5MyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1nSURcIjogXCI1NjkzNDViYWViNGQ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA2NDA3MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxidW1JRFwiOiAxOTkzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWdJRFwiOiBcIjU2OTM0NWJiNWY5MmFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDY0MDcyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbGJ1bUlEXCI6IDE5OTMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImltZ0lEXCI6IFwiNTY5MzQ1YmM2YWVlOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogODgzMzIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFsYnVtSURcIjogMTk5MyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW1nSURcIjogXCI1NjkzNTAzZTYxMjg0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA4ODMzMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxidW1JRFwiOiAxOTkzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWdJRFwiOiBcIjU2OTM1MDNlYzUzNzdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDExOTc2MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWxidW1JRFwiOiAxOTkzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbWdJRFwiOiBcIjU2OTM2ZTA4NDlhZTlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5NYXN0ZXJCbG9ja1Bob3RvLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk1hc3RlckJsb2NrUGhvdG8ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJCbG9ja1JldmlldztcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJtYXN0ZXItYmxvY2stcmV2aWV3XCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hc3RlckJsb2NrUmV2aWV3KCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyQmxvY2tSZXZpZXcucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy4kY29udGV4dC5hdHRyaWJ1dGVzWydtYXN0ZXItcGFnZSddKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmtMaWtlcy5kYXRhID0gSlNPTi5wYXJzZShkYXRhLnZrTGlrZXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgZGF0YS52a0xpa2VzLmRhdGEubGVuZ3RoID0gOTsgLy/Rg9C60L7RgNCw0YfQuNCy0LDQtdC8INC80LDRgdGB0LjQsiDQtNC+IDkg0Y3Qu9C10LzQtdC90YLQvtCyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhLmNvbW1lbnRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjb21tZW50czogZGF0YS5jb21tZW50cyxcbiAgICAgICAgICAgICAgICAgICAgdmtMaWtlczogZGF0YS52a0xpa2VzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGltZ0lEOiBkYXRhLmltZ0lEXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5NYXN0ZXJCbG9ja1Jldmlldy5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJCbG9ja1Jldmlldy5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3RlckJsb2NrU2FsZTtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJtYXN0ZXItYmxvY2stc2FsZVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJCbG9ja1NhbGUoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5NYXN0ZXJCbG9ja1NhbGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy4kY29udGV4dC5hdHRyaWJ1dGVzWydtYXN0ZXItcGFnZSddKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5zYWxlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2FsZXM6IGRhdGEuc2FsZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cbk1hc3RlckJsb2NrU2FsZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJCbG9ja1NhbGUucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJCbG9ja1NlcnZpY2U7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyLWJsb2NrLXNlcnZpY2VcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFzdGVyQmxvY2tTZXJ2aWNlKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyQmxvY2tTZXJ2aWNlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuJGNvbnRleHQuYXR0cmlidXRlc1snbWFzdGVyLXBhZ2UnXSkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGRhdGEuc2VydmljZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgICfQrdC60YHQv9C10YDRgiDQv9C+INGA0LDQt9Cy0LjRgtC40Y4gKNC60L7QvNGE0L7RgNGC0L3Ri9GFLCDQvdCw0LTQtdC20L3Ri9GFLCDQsdC70LDQs9C+0L/QvtC70YPRh9C90YvRhSwg0LTQvtCy0LXRgNC40YLQtdC70YzQvdGL0YUpINGB0LXQvNC10LnQvdGL0YUg0L7RgtC90L7RiNC10L3QuNC5JyxcbiAgICAgICAgICAgICAgICAgICAgJ9Cf0YHQuNGF0L7Qu9C+0LPQuNGH0LXRgdC60L7QtSDRgdC+0L/RgNC+0LLQvtC20LTQtdC90LjQtSDRgdC10LzRjNC4INC+0YIg0JfQkNCT0KHQsCDQuCDQv9C+INC20LjQt9C90LgnLFxuICAgICAgICAgICAgICAgICAgICAn0J/RgdC40YXQvtC70L7Qs9C40Y8g0YHQtdC80LXQudC90YvRhSDQvtGC0L3QvtGI0LXQvdC40LknLFxuICAgICAgICAgICAgICAgICAgICAn0J/RgdC40YXQvtGC0LXRgNCw0L/QuNGPICjQuNC90LTQuNCy0LjQtNGD0LDQu9GM0L3QsNGPINC4INCz0YDRg9C/0L/QvtCy0LDRjyknLFxuICAgICAgICAgICAgICAgICAgICAn0JvQuNGH0L3Ri9C1INC/0YDQvtCx0LvQtdC80Ysg4oCTINCx0LXRgdC/0L7QutC+0LnRgdGC0LLQsCDQuCDRgdGC0YDQsNGF0LgsINC90LXRg9Cy0LXRgNC10L3QvdC+0YHRgtGMINCyINGB0LXQsdC1LCDQtNC10L/RgNC10YHRgdC40Y8nLFxuICAgICAgICAgICAgICAgICAgICAn0J7QtNC40L3QvtGH0LXRgdGC0LLQviwg0L3QtSDRgdC60LvQsNC00YvQstCw0LXRgtGB0Y8g0LvQuNGH0L3QsNGPINC20LjQt9C90YwnLFxuICAgICAgICAgICAgICAgICAgICAn0J/RgNC+0LHQu9C10LzRiyDQsiDQvtCx0YnQtdC90LjQuCDigJMg0YHQu9C+0LbQvdC+0YHRgtC4INCy0L4g0LLQt9Cw0LjQvNC+0L7RgtC90L7RiNC10L3QuNGP0YUsINC90LXQv9C+0L3QuNC80LDQvdC40LUnLFxuICAgICAgICAgICAgICAgICAgICAn0J/RgdC40YXQvtGB0L7QvNCw0YLQuNGH0LXRgdC60LjQtSDRgNCw0YHRgdGC0YDQvtC50YHRgtCy0LAg0YMg0LTQtdGC0LXQuSDQuCDQstC30YDQvtGB0LvRi9GFJyxcbiAgICAgICAgICAgICAgICAgICAgJ9CX0LDQstC40YHQuNC80L7RgdGC0YwgKNCw0LvQutC+0LPQvtC70YzQvdCw0Y8sINC90LjQutC+0YLQuNC90L7QstCw0Y8sINC40LPRgNC+0LLQsNGPINC4INGCLtC0LiknLFxuICAgICAgICAgICAgICAgICAgICAn0J/QvtCy0YvRiNC10L3QvdCw0Y8g0LrQvtC90YTQu9C40LrRgtC90L7RgdGC0YwsINC60L7QvdGE0LvQuNC60YLRiyDQvdCwINGA0LDQsdC+0YLQtSDQuCDQvdC1INGC0L7Qu9GM0LrQvicsXG4gICAgICAgICAgICAgICAgICAgICfQn9GB0LjRhdC+0LvQvtCz0LjRjyDQtNC10YLRgdC60L4t0YDQvtC00LjRgtC10LvRjNGB0LrQuNGFINC+0YLQvdC+0YjQtdC90LjQuScsXG4gICAgICAgICAgICAgICAgICAgICfQn9GB0LjRhdC+0LTQuNCw0LPQvdC+0YHRgtC40LrQsCcsXG4gICAgICAgICAgICAgICAgICAgICfQpNC40L3QsNC90YHQvtCy0L7QtSDQsdC70LDQs9C+0L/QvtC70YPRh9C40LUg0YHQtdC80YzQuCDigJMg0LTQtdC90YzQs9C4INC4INGB0LXQvNC10LnQvdGL0LUg0LrQvtC90YTQu9C40LrRgtGLLCDQvNC+0Lgg0LLQt9Cw0LjQvNC+0L7RgtC90L7RiNC10L3QuNGPINGBINC00LXQvdGM0LPQsNC80LgsINGA0LDQt9Cy0LjRgtC40LUg0YTQuNC90LDQvdGB0L7QstC+0Lkg0LPRgNCw0LzQvtGC0L3QvtGB0YLQuCwg0YTQuNC90LDQvdGB0L7QstGL0Lkg0LTQuNCw0LPQvdC+0LcnLFxuICAgICAgICAgICAgICAgICAgICAn0J7RgNCz0LDQvdC40LfQsNGG0LjQvtC90L3QsNGPINC/0YHQuNGF0L7Qu9C+0LPQuNGPINC4INCx0LjQt9C90LXRgS3RgtGA0LXQvdC40L3Qs9C4JyxcbiAgICAgICAgICAgICAgICAgICAgJ9CS0L7Qv9GA0L7RgdGLINCy0L7RgdC/0LjRgtCw0L3QuNGPINC4INGA0LDQt9Cy0LjRgtC40Y8nLFxuICAgICAgICAgICAgICAgICAgICAn0J/RgdC40YXQvtC70L7Qs9C40YfQtdGB0LrQvtC1INC60L7QvdGB0YPQu9GM0YLQuNGA0L7QstCw0L3QuNC1JyxcbiAgICAgICAgICAgICAgICAgICAgJ9CY0L3QtNC40LLQuNC00YPQsNC70YzQvdCw0Y8g0L/RgdC40YXQvtGC0LXRgNCw0L/QuNGPJyxcbiAgICAgICAgICAgICAgICAgICAgJ9CT0YDRg9C/0L/QvtCy0LDRjyDQv9GB0LjRhdC+0YLQtdGA0LDQv9C40Y8nLFxuICAgICAgICAgICAgICAgICAgICAn0JTQtdGC0YHQutC+LdGA0L7QtNC40YLQtdC70YzRgdC60LjQtSDQvtGC0L3QvtGI0LXQvdC40Y8nLFxuICAgICAgICAgICAgICAgICAgICAn0J/RgNC+0LHQu9C10LzRiyDRgdC10LzQtdC50L3Ri9GFINC+0YLQvdC+0YjQtdC90LjQuScsXG4gICAgICAgICAgICAgICAgICAgICfQn9GA0L7QsdC70LXQvNGLINCy0LfQsNC40LzQvtC+0YLQvdC+0YjQtdC90LjQuScsXG4gICAgICAgICAgICAgICAgICAgICfQm9C40YfQvdC+0YHRgtC90YvQtSDQv9GA0L7QsdC70LXQvNGLJyxcbiAgICAgICAgICAgICAgICAgICAgJ9Cf0YHQuNGF0L7RgdC+0LzQsNGC0LjRh9C10YHQutC40LUg0YDQsNGB0YHRgtGA0L7QudGB0YLQstCwJyxcbiAgICAgICAgICAgICAgICAgICAgJ9Ct0LrQt9C40YHRgtC10L3RhtC40LDQu9GM0L3Ri9C1INCy0L7Qv9GA0L7RgdGLJyxcbiAgICAgICAgICAgICAgICAgICAgJ9Cg0LDQsdC+0YLQsCDRgdC+INGB0L3QsNC80Lgg0Lgg0LzQuNGE0LDQvNC4J1xuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkc1ZhbFN1bSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkc1ZhbEhhbGZTdW0gPSAwO1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0MSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0MiA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5zZXJ2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpLCBhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgZmllbGRzVmFsSGFsZlN1bSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZHNWYWxMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgZmllbGRzVmFsTGVuZ3RoID0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZHNWYWxMZW5ndGggPCAzMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzVmFsTGVuZ3RoID0gMzA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmllbGRzVmFsU3VtICs9IGZpZWxkc1ZhbExlbmd0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhLnNlcnZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGksIGFycikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRzVmFsTGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkc1ZhbExlbmd0aCA9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRzVmFsSGFsZlN1bSA8IGZpZWxkc1ZhbFN1bSAvIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQxLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0Mi5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkc1ZhbEhhbGZTdW0gKz0gZmllbGRzVmFsTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGEuc2VydmljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBkYXRhLnNlcnZpY2VzLnBhcnQxID0gcGFydDE7XG4gICAgICAgICAgICAgICAgZGF0YS5zZXJ2aWNlcy5wYXJ0MiA9IHBhcnQyO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5zZXJ2aWNlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZXM6IGRhdGEuc2VydmljZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cbk1hc3RlckJsb2NrU2VydmljZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJCbG9ja1NlcnZpY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJCbG9ja1ZpZGVvO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1ibG9jay12aWRlb1wiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJCbG9ja1ZpZGVvKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyQmxvY2tWaWRlby5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLiRjb250ZXh0LmF0dHJpYnV0ZXNbJ21hc3Rlci1wYWdlJ10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkYXRhLnZpZGVvcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9zOiBkYXRhLnZpZGVvc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyQmxvY2tWaWRlby5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJCbG9ja1ZpZGVvLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFzdGVyQmxvY2tXb3JrO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1ibG9jay13b3JrXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hc3RlckJsb2NrV29yaygpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk1hc3RlckJsb2NrV29yay5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLiRjb250ZXh0LmF0dHJpYnV0ZXNbJ21hc3Rlci1wYWdlJ10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBBcnIgPSBuZXcgQXJyYXkoNyk7XG4gICAgICAgICAgICAgICAgZGF0YS5zY2hlZHVsZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ub3BlbiA9IGl0ZW0ub3Blbi5zdWJzdHIoMCwgNSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xvc2UgPSBpdGVtLmNsb3NlLnN1YnN0cigwLCA1KTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcEFycltpdGVtLmRheSAtIDFdID0gaXRlbTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhLnNjaGVkdWxlID0gdGVtcEFycjtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZTogZGF0YS5zY2hlZHVsZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRhdGEuZGlzdHJpY3RzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrQ29uZGl0aW9uOiBkYXRhLndvcmtDb25kaXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cbk1hc3RlckJsb2NrV29yay5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJCbG9ja1dvcmsucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gTWFzdGVyRmlsdGVyO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1maWx0ZXJcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFzdGVyRmlsdGVyKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuTWFzdGVyRmlsdGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwYXRoLCBjdXJyZW50VGFnO1xuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBwYXRoID0gJy8nICsgZGF0YS5ydWJyaWthLnBhcmVudC51bmlxdWUgKyAnLycgKyBkYXRhLnJ1YnJpa2EudW5pcXVlO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VsZi4kY29udGV4dC5nZXRTdG9yZURhdGEoJ21hc3Rlci9NYXN0ZXJMaXN0JylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWFzdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhtYXN0ZXIpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25OYW1lOiBcIm1hc3RlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcItCc0LDRgdGC0LXRgNCwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvOiBcIm1hblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdtYXN0ZXIvTWFzdGVyVmlkZW8nKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKE9iamVjdC5rZXlzKG1hc3RlcikubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoICsgJy92aWRlbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uTmFtZTogXCJ2aWRlb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi0JLQuNC00LXQviDQnNCw0YHRgtC10YDQvtCyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY286IFwidmlkZW9cIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZXR1cm4gc2VsZi4kY29udGV4dC5nZXRTdG9yZURhdGEoJ21hc3Rlci9NYXN0ZXJWaWRlbycpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2FsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoT2JqZWN0LmtleXMobWFzdGVyKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBhdGggKyAnL3NhbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbk5hbWU6IFwic2FsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi0KHQutC40LTQutC4INCc0LDRgdGC0LXRgNC+0LJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljbzogXCJnaWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdtYXN0ZXIvTWFzdGVyVmlkZW8nKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHNlY3JldHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9pZiAoT2JqZWN0LmtleXMobWFzdGVyKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBhdGggKyAnL3NvdmV0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uTmFtZTogXCJzb3ZldHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcItCh0LXQutGA0LXRgtGLINCc0LDRgdGC0LXRgNC+0LJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljbzogXCJxd2VzdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBzZWxmLiRjb250ZXh0LmdldFN0b3JlRGF0YSgnbWFzdGVyL01hc3RlclZpZGVvJylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjb21wYW55KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKE9iamVjdC5rZXlzKG1hc3RlcikubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXRoICsgJy9jb21wYW55JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25OYW1lOiBcImNvbXBhbnlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcItCa0LDRgtCw0LvQvtCzINGE0LjRgNC8XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY286IFwiY2FzZVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZWNvcmVPcGVuU2VjdGlvbihyZXN1bHQsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge2ZpbHRlclNlY3Rpb246IHJlc3VsdH07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG59O1xuLyoqXG4gKiDQlNC10LrQsNGA0LjRgNC+0LLQsNC90LjQtSDQvtGC0LrRgNGL0YLQvtC5INGB0LXQutGG0LjQuCAo0LTQvtCx0LDQstC70LXQvdC40LUg0YLQtdCz0L7Qsiwg0L7RgNGC0LjRgNC+0LLQutC4KVxuICogQHBhcmFtIHJlc3VsdCDQvNCw0YHRgdC40LIg0LTQu9GPINC00LXQutC+0YDQuNGA0L7QstCw0L3QuNGPXG4gKiBAcGFyYW0gcnVicmlrYSDRgNGD0LHRgNC40LrQsCDQuNC3INGB0YLQvtGA0LBcbiAqIEBwcml2YXRlXG4gKi9cbk1hc3RlckZpbHRlci5wcm90b3R5cGUuX2RlY29yZU9wZW5TZWN0aW9uID0gZnVuY3Rpb24gKHJlc3VsdCwgZGF0YSkge1xuICAgIHZhciBjdXJyZW50U2VjdGlvbiA9IGRhdGEuc2VjdGlvbjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChyZXN1bHRbaV0uc2VjdGlvbk5hbWUgPT0gY3VycmVudFNlY3Rpb24pIHtcblxuICAgICAgICAgICAgdmFyIHRhZ3MgPSB0aGlzLl9nZXRUYWdzKGRhdGEpO1xuICAgICAgICAgICAgcmVzdWx0W2ldLm9wZW5TZWN0aW9uID0ge3RhZ3NHcm91cDogdGFnc307XG4gICAgICAgICAgICBpZiAoY3VycmVudFNlY3Rpb24gPT0gJ21hc3RlcnMnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldLm9wZW5TZWN0aW9uLnNvcnRCeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgXCJtZXRob2RcIjogXCJnZXRcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqINCf0LXRgNC10YHRgtGA0L7QudC60LAg0YLQtdCz0L7QslxuICogQHBhcmFtIHRhZ3NKc29uINGC0Y3Qs9C4INC40LcganNvblxuICogQHBhcmFtIHBhdGgg0LDQsdGB0L7Qu9GO0YLQvdGL0Lkg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC/0YPRgtGMINC00LvRjyDRgdGB0YvQu9C+0Log0LIg0YLQtdCz0LDRhVxuICogQHBhcmFtIGN1cnJlbnRUYWcg0YLQtdC60YPRidC40Lkg0YLQtdCzINC00LvRjyDQstGL0LTQtdC70LXQvdC40Y9cbiAqIEByZXR1cm5zIHtBcnJheX0g0YLQtdCz0Lgg0YDQsNC30LHQuNGC0YvQtSDQv9C+INCz0YDRg9C/0L/QsNC8XG4gKiBAcHJpdmF0ZVxuICovXG5NYXN0ZXJGaWx0ZXIucHJvdG90eXBlLl9nZXRUYWdzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgcGF0aCA9ICcvJyArIGRhdGEucnVicmlrYS5wYXJlbnQudW5pcXVlICsgJy8nICsgZGF0YS5ydWJyaWthLnVuaXF1ZTtcbiAgICB2YXIgdGFnc0pzb24gPSBkYXRhLnJ1YnJpa2EudGFncztcbiAgICB2YXIgY3VycmVudFRhZyA9IGRhdGEudGFnLnVuaXF1ZSA7XG4gICAgdmFyIGN1cnJlbnRTZWN0aW9uID0gZGF0YS5zZWN0aW9uO1xuICAgIHZhciB0YWdzID0gW107XG5cbiAgICBPYmplY3Qua2V5cyh0YWdzSnNvbilcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciB0YWcgPSB0YWdzSnNvbltuXTtcbiAgICAgICAgICAgIHRhZy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoIXRhZ3NbdGFnLmdyb3VwXSlcbiAgICAgICAgICAgICAgICB0YWdzW3RhZy5ncm91cF0gPSBbXTtcblxuICAgICAgICAgICAgaWYgKHRhZy51bmlxdWUgPT0gY3VycmVudFRhZykge1xuICAgICAgICAgICAgICAgIHRhZy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGFnLnVybEJhY2sgPSBwYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZWN0aW9uID09ICdtYXN0ZXInKSB7XG4gICAgICAgICAgICAgICAgdGFnLnBhdGggPSBwYXRoICsgJy8nICsgdGFnLnVuaXF1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFnLnBhdGggPSBwYXRoICsgJy8nICsgdGFnLnVuaXF1ZSArICcvJyArIGN1cnJlbnRTZWN0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0YWdzW3RhZy5ncm91cF0ucHVzaCh0YWcpO1xuICAgICAgICB9KTtcblxuICAgIC8v0YHQvtGA0YLQuNGA0YPQtdC8XG4gICAgdmFyIHRhZ3NHcm91cCA9IFtdO1xuICAgIE9iamVjdC5rZXlzKHRhZ3MpLnNvcnQoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGFnc0dyb3VwLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IGtleSxcbiAgICAgICAgICAgIHRhZ3M6IHRhZ3Nba2V5XVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFnc0dyb3VwO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5NYXN0ZXJGaWx0ZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICAgICcuanMtZmlsdGVyLXRvZ2dsZS1idG4uYWN0aXZlJzogdGhpcy5fY2xpY2tTZWN0aW9uXG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5NYXN0ZXJGaWx0ZXIucHJvdG90eXBlLl9jbGlja1NlY3Rpb24gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIGRvbSA9IG9iai50YXJnZXQ7XG4gICAgdmFyIGVsO1xuICAgIGlmICghKCQoZG9tKS5oYXNDbGFzcygnanMtZmlsdGVyLXRvZ2dsZS1idG4nKSAmJiAkKGRvbSkuaGFzQ2xhc3MoJ2FjdGl2ZScpKSlcbiAgICAgICAgZWwgPSAkKGRvbSkucGFyZW50cygnLmpzLWZpbHRlci10b2dnbGUtYnRuJyk7XG4gICAgZWxzZVxuICAgICAgICBlbCA9ICQoZG9tKTtcbiAgICBlbC5wYXJlbnQoKS5maW5kKCcuanMtZmlsdGVyLXRvZ2dsZS1zZWN0aW9uJykuc2xpZGVUb2dnbGUoKTtcbiAgICBlbC5maW5kKCcuZmlsdGVyLXNlY3Rpb25fX2Fycm93LWljb24nKS50b2dnbGVDbGFzcygnZG93bicpO1xufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJGaWx0ZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJMaXN0O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1saXN0XCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hc3Rlckxpc3QoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5NYXN0ZXJMaXN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9yZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKTtcbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICBcImlkXCI6IDEwMDMsXG4gICAgICAgICAgICBcInVzZXJJRFwiOiAyMDY4MixcbiAgICAgICAgICAgIFwicnVicmlrYUlEXCI6IDExLFxuICAgICAgICAgICAgXCJzb3J0XCI6IDQ5NSxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcItCa0L7QstCw0LvQtdC90LrQviDQktC40YLQsNC70LjQuVwiLFxuICAgICAgICAgICAgXCJpbWdJRFwiOiBudWxsLFxuICAgICAgICAgICAgXCJzZXJ2aWNlc1wiOiBcIltcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0MzhcXHUwNDNjXFx1MDQzZlxcdTA0M2VcXHUwNDQwXFx1MDQ0MlxcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDQxXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0M2VcXHUwNDQyXFx1MDQzNVxcdTA0NDdcXHUwNDM1XFx1MDQ0MVxcdTA0NDJcXHUwNDMyXFx1MDQzNVxcdTA0M2RcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQ0MVxcdTA0NDJcXHUwNDM4XFx1MDQ0MFxcdTA0MzBcXHUwNDNiXFx1MDQ0Y1xcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDNjXFx1MDQzMFxcdTA0NDhcXHUwNDM4XFx1MDQzZFxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDNjXFx1MDQzOFxcdTA0M2FcXHUwNDQwXFx1MDQzZVxcdTA0MzJcXHUwNDNlXFx1MDQzYlxcdTA0M2RcXHUwNDNlXFx1MDQzMlxcdTA0NGJcXHUwNDQ1IFxcdTA0M2ZcXHUwNDM1XFx1MDQ0N1xcdTA0MzVcXHUwNDM5XFxcIixcXFwiXFx1MDQxN1xcdTA0MzBcXHUwNDNmXFx1MDQzMFxcdTA0NDFcXHUwNDNkXFx1MDQ0YlxcdTA0MzUgXFx1MDQ0N1xcdTA0MzBcXHUwNDQxXFx1MDQ0MlxcdTA0MzggXFx1MDQzZFxcdTA0MzAgXFx1MDQ0MVxcdTA0NDJcXHUwNDM4XFx1MDQ0MFxcdTA0MzBcXHUwNDNiXFx1MDQ0Y1xcdTA0M2RcXHUwNDRiXFx1MDQzNSBcXHUwNDNjXFx1MDQzMFxcdTA0NDhcXHUwNDM4XFx1MDQzZFxcdTA0NGIgXFx1MDQzMiBcXHUwNDNkXFx1MDQzMFxcdTA0M2JcXHUwNDM4XFx1MDQ0N1xcdTA0MzhcXHUwNDM4IFxcdTA0MzggXFx1MDQzZFxcdTA0MzAgXFx1MDQzN1xcdTA0MzBcXHUwNDNhXFx1MDQzMFxcdTA0MzcgKCBcXHUwNDNkXFx1MDQzMFxcdTA0NDFcXHUwNDNlXFx1MDQ0MVxcdTA0NGIsIFxcdTA0MjJcXHUwNDJkXFx1MDQxZFxcdTA0NGIsIFxcdTA0M2ZcXHUwNDNlXFx1MDQzNFxcdTA0NDhcXHUwNDM4XFx1MDQzZlxcdTA0M2RcXHUwNDM4XFx1MDQzYVxcdTA0MzgsIFxcdTA0NDBcXHUwNDM1XFx1MDQzY1xcdTA0M2RcXHUwNDM4LCBcXHUwNDQxXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0MzhcXHUwNDNhXFx1MDQzOCwgXFx1MDQ0MFxcdTA0NDNcXHUwNDQ3XFx1MDQzYVxcdTA0MzggXFx1MDQzYlxcdTA0NGVcXHUwNDNhXFx1MDQzMCBcXHUwNDM4IFxcdTA0NDIuXFx1MDQzNC4pXFxcIixcXFwiXFx1MDQyM1xcdTA0NDFcXHUwNDQyXFx1MDQzMFxcdTA0M2RcXHUwNDNlXFx1MDQzMlxcdTA0M2FcXHUwNDMwIFxcdTA0MzggXFx1MDQzZlxcdTA0M2VcXHUwNDM0XFx1MDQzYVxcdTA0M2JcXHUwNDRlXFx1MDQ0N1xcdTA0MzVcXHUwNDNkXFx1MDQzOFxcdTA0MzUgXFx1MDQ0MVxcdTA0NDJcXHUwNDM4XFx1MDQ0MFxcdTA0MzBcXHUwNDNiXFx1MDQ0Y1xcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDNjXFx1MDQzMFxcdTA0NDhcXHUwNDM4XFx1MDQzZFxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDQ1XFx1MDQzZVxcdTA0M2JcXHUwNDNlXFx1MDQzNFxcdTA0MzhcXHUwNDNiXFx1MDQ0Y1xcdTA0M2RcXHUwNDM4XFx1MDQzYVxcdTA0M2VcXHUwNDMyIFxcdTA0MzggXFx1MDQzY1xcdTA0M2VcXHUwNDQwXFx1MDQzZVxcdTA0MzdcXHUwNDM4XFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQzYVxcdTA0MzBcXHUwNDNjXFx1MDQzNVxcdTA0NDBcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzZlxcdTA0NGJcXHUwNDNiXFx1MDQzNVxcdTA0NDFcXHUwNDNlXFx1MDQ0MVxcdTA0M2VcXHUwNDMyLCBcXHUwNDNlXFx1MDQzMVxcdTA0M2VcXHUwNDMzXFx1MDQ0MFxcdTA0MzVcXHUwNDMyXFx1MDQzMFxcdTA0NDJcXHUwNDM1XFx1MDQzYlxcdTA0MzVcXHUwNDM5XFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0NDdcXHUwNDMwXFx1MDQzOVxcdTA0M2RcXHUwNDM4XFx1MDQzYVxcdTA0M2VcXHUwNDMyLCBcXHUwNDQzXFx1MDQ0MlxcdTA0NGVcXHUwNDMzXFx1MDQzZVxcdTA0MzIsIFxcdTA0NDRcXHUwNDM1XFx1MDQzZFxcdTA0M2VcXHUwNDMyXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0M2FcXHUwNDQzXFx1MDQ0NVxcdTA0M2VcXHUwNDNkXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2FcXHUwNDNlXFx1MDQzY1xcdTA0MzFcXHUwNDMwXFx1MDQzOVxcdTA0M2RcXHUwNDNlXFx1MDQzMiwgXFx1MDQzMVxcdTA0M2JcXHUwNDM1XFx1MDQzZFxcdTA0MzRcXHUwNDM1XFx1MDQ0MFxcdTA0M2VcXHUwNDMyXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0NGRcXHUwNDNiXFx1MDQzNVxcdTA0M2FcXHUwNDQyXFx1MDQ0MFxcdTA0M2VcXHUwNDM4XFx1MDQzZFxcdTA0NDFcXHUwNDQyXFx1MDQ0MFxcdTA0NDNcXHUwNDNjXFx1MDQzNVxcdTA0M2RcXHUwNDQyXFx1MDQzMFxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDMyXFx1MDQ0MVxcdTA0MzVcXHUwNDMzXFx1MDQzZSwgXFx1MDQ0N1xcdTA0NDJcXHUwNDNlIFxcdTA0MzJcXHUwNDNhXFx1MDQzYlxcdTA0NGVcXHUwNDQ3XFx1MDQzMFxcdTA0MzVcXHUwNDQyXFx1MDQ0MVxcdTA0NGYgXFx1MDQzMiBcXHUwNDQwXFx1MDQzZVxcdTA0MzdcXHUwNDM1XFx1MDQ0MlxcdTA0M2FcXHUwNDQzXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0M2ZcXHUwNDQzXFx1MDQzYlxcdTA0NGNcXHUwNDQyXFx1MDQzZVxcdTA0MzIgXFx1MDQzNFxcdTA0MzhcXHUwNDQxXFx1MDQ0MlxcdTA0MzBcXHUwNDNkXFx1MDQ0NlxcdTA0MzhcXHUwNDNlXFx1MDQzZFxcdTA0M2RcXHUwNDNlXFx1MDQzM1xcdTA0M2UgXFx1MDQ0M1xcdTA0M2ZcXHUwNDQwXFx1MDQzMFxcdTA0MzJcXHUwNDNiXFx1MDQzNVxcdTA0M2RcXHUwNDM4XFx1MDQ0ZiwgXFx1MDQ0MFxcdTA0MzBcXHUwNDM0XFx1MDQzOFxcdTA0M2VcXHUwNDQyXFx1MDQzNVxcdTA0M2JcXHUwNDM1XFx1MDQ0NFxcdTA0M2VcXHUwNDNkXFx1MDQzZVxcdTA0MzJcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQ0ZFxcdTA0M2JcXHUwNDM1XFx1MDQ0MlxcdTA0NDBcXHUwNDNlXFx1MDQzZlxcdTA0M2JcXHUwNDM4XFx1MDQ0MiBcXHUwNDM4IFxcdTA0MzRcXHUwNDQzXFx1MDQ0NVxcdTA0M2VcXHUwNDMyXFx1MDQzZVxcdTA0M2FcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQ0OFxcdTA0MzJcXHUwNDM1XFx1MDQzOVxcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDNjXFx1MDQzMFxcdTA0NDhcXHUwNDM4XFx1MDQzZCBcXHUwNDM4IFxcdTA0M2VcXHUwNDMyXFx1MDQzNVxcdTA0NDBcXHUwNDNiXFx1MDQzZVxcdTA0M2FcXHUwNDNlXFx1MDQzMlxcXCIsXFxcIlxcdTA0MTggXFx1MDQzMlxcdTA0NDFcXHUwNDM1XFx1MDQzM1xcdTA0M2UsIFxcdTA0NDdcXHUwNDQyXFx1MDQzZSBcXHUwNDQyXFx1MDQ0MFxcdTA0MzVcXHUwNDMxXFx1MDQ0M1xcdTA0MzVcXHUwNDQyIFxcdTA0NDBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MlxcdTA0MzBcXFwiXVwiLFxuICAgICAgICAgICAgXCJzcGVjXCI6IFwi0KDQtdC80L7QvdGCINGB0YLQuNGA0LDQu9GM0L3Ri9GFINC80LDRiNC40L0sINGF0L7Qu9C+0LTQuNC70YzQvdC40LrQvtCyINC4INC/0YDQvtGH0LXQuSDQsdGL0YLQvtCy0L7QuSDRgtC10YXQvdC40LrQuFwiLFxuICAgICAgICAgICAgXCJhYm91dEVkdWNcIjogXCLQltC40LPRg9C70ZHQstGB0LrQuNC5INGA0LDQtNC40L7RgtC10YXQvdC40LrRg9C8XCIsXG4gICAgICAgICAgICBcImFib3V0RXhwXCI6IFwiMjUg0LvQtdGCINCyINGB0YTQtdGA0LUg0YDQtdC80L7QvdGC0LAg0LHRi9GC0L7QstC+0Lkg0YLQtdGF0L3QuNC60LhcIixcbiAgICAgICAgICAgIFwiYWJvdXRBZGRJbmZvXCI6IFwiXCIsXG4gICAgICAgICAgICBcInB1YmxpY1N0YXR1c1wiOiAxLFxuICAgICAgICAgICAgXCJwdWJsaWNEYXRlRW5kXCI6IFwiMjAxNi0wNy0yNlwiLFxuICAgICAgICAgICAgXCJtb2RlclN0YXR1c1wiOiAzLFxuICAgICAgICAgICAgXCJtb2RlckNvbW1lbnRcIjogXCJcIixcbiAgICAgICAgICAgIFwiY29udGFjdHNcIjoge1xuICAgICAgICAgICAgICAgIFwiaWRcIjogNTYyLFxuICAgICAgICAgICAgICAgIFwib3duZXJUeXBlXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJvd25lcklEXCI6IDEwMDMsXG4gICAgICAgICAgICAgICAgXCJwaG9uZVwiOiBcIjk2MDg1MDA2MjJcIixcbiAgICAgICAgICAgICAgICBcIndvcmtQaG9uZVwiOiBcIjc0LTI5LTcwXCIsXG4gICAgICAgICAgICAgICAgXCJlbWFpbFwiOiBcImtvdmFsZW5rby42OTc0QHlhbmRleC5ydSBcXHRcIixcbiAgICAgICAgICAgICAgICBcImFkZHJcIjogXCJcIixcbiAgICAgICAgICAgICAgICBcImFkZHJDb29yZFwiOiBcIlwiLFxuICAgICAgICAgICAgICAgIFwic2t5cGVcIjogXCJcIixcbiAgICAgICAgICAgICAgICBcImljcVwiOiBcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJwYWdlXCI6IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IDQ1NTAsXG4gICAgICAgICAgICAgICAgXCJtYXN0ZXJJRFwiOiAxMDAzLFxuICAgICAgICAgICAgICAgIFwidHJhbnNhY3Rpb25JRFwiOiAwLFxuICAgICAgICAgICAgICAgIFwiZGF0ZVN0YXJ0XCI6IFwiMjAxNS0wOC0wMVwiLFxuICAgICAgICAgICAgICAgIFwiZGF0ZUVuZFwiOiBcIjIwMTYtMDctMjZcIixcbiAgICAgICAgICAgICAgICBcIm51bWJlclwiOiAxMDAzLFxuICAgICAgICAgICAgICAgIFwic2FsZXNcIjogMSxcbiAgICAgICAgICAgICAgICBcImFydGljbGVzXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJhbGJ1bXNcIjogMSxcbiAgICAgICAgICAgICAgICBcInZpZGVvc1wiOiAwLFxuICAgICAgICAgICAgICAgIFwiY29tbWVudHNcIjogMSxcbiAgICAgICAgICAgICAgICBcInNlcnZpY2VzXCI6IDgsXG4gICAgICAgICAgICAgICAgXCJsaW5rc1wiOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiaWRcIjogMTAwNSxcbiAgICAgICAgICAgIFwidXNlcklEXCI6IDIwNjg0LFxuICAgICAgICAgICAgXCJydWJyaWthSURcIjogOCxcbiAgICAgICAgICAgIFwic29ydFwiOiAzNTgsXG4gICAgICAgICAgICBcIm5hbWVcIjogXCLQl9Cy0LXQt9C00LjQu9C40L3QsCDQmNGA0LjQvdCwXCIsXG4gICAgICAgICAgICBcImltZ0lEXCI6IG51bGwsXG4gICAgICAgICAgICBcInNlcnZpY2VzXCI6IFwiW1xcXCJcXHUwNDIwXFx1MDQzNVxcdTA0MzNcXHUwNDM4XFx1MDQ0MVxcdTA0NDJcXHUwNDQwXFx1MDQzMFxcdTA0NDZcXHUwNDM4XFx1MDQ0ZiBcXHUwNDQ0XFx1MDQzOFxcdTA0NDBcXHUwNDNjXFxcIixcXFwiXFx1MDQxYlxcdTA0MzhcXHUwNDNhXFx1MDQzMlxcdTA0MzhcXHUwNDM0XFx1MDQzMFxcdTA0NDZcXHUwNDM4XFx1MDQ0ZiBcXHUwNDQ0XFx1MDQzOFxcdTA0NDBcXHUwNDNjXFxcIixcXFwiXFx1MDQxMVxcdTA0NDNcXHUwNDQ1XFx1MDQzM1xcdTA0MzBcXHUwNDNiXFx1MDQ0MlxcdTA0MzVcXHUwNDQwXFx1MDQ0MVxcdTA0M2FcXHUwNDM4XFx1MDQzNSBcXHUwNDQzXFx1MDQ0MVxcdTA0M2JcXHUwNDQzXFx1MDQzM1xcdTA0MzhcXFwiLFxcXCJcXHUwNDE3XFx1MDQzMFxcdTA0M2ZcXHUwNDNlXFx1MDQzYlxcdTA0M2RcXHUwNDM1XFx1MDQzZFxcdTA0MzhcXHUwNDM1IFxcdTA0MzRcXHUwNDM1XFx1MDQzYVxcdTA0M2JcXHUwNDMwXFx1MDQ0MFxcdTA0MzBcXHUwNDQ2XFx1MDQzOFxcdTA0MzhcXFwiLFxcXCJcXHUwNDEyXFx1MDQzZVxcdTA0MzdcXHUwNDMyXFx1MDQ0MFxcdTA0MzBcXHUwNDQyIFxcdTA0M2RcXHUwNDMwXFx1MDQzYlxcdTA0M2VcXHUwNDMzXFx1MDQzMCAoXFx1MDQzNlxcdTA0MzhcXHUwNDNiXFx1MDQ0Y1xcdTA0MzUsIFxcdTA0M2VcXHUwNDMxXFx1MDQ0M1xcdTA0NDdcXHUwNDM1XFx1MDQzZFxcdTA0MzhcXHUwNDM1LCBcXHUwNDNiXFx1MDQzNVxcdTA0NDdcXHUwNDM1XFx1MDQzZFxcdTA0MzhcXHUwNDM1KSBcXC8gMy1cXHUwNDFkXFx1MDQxNFxcdTA0MjRcXHUwNDFiXFxcIixcXFwiXFx1MDQxOFxcdTA0MzdcXHUwNDNjXFx1MDQzNVxcdTA0M2RcXHUwNDM1XFx1MDQzZFxcdTA0MzhcXHUwNDRmIFxcdTA0MzIgXFx1MDQ0M1xcdTA0NDFcXHUwNDQyXFx1MDQzMFxcdTA0MzIsIFxcdTA0MzNcXHUwNDNlXFx1MDQ0MS4gXFx1MDQ0MFxcdTA0MzVcXHUwNDM1XFx1MDQ0MVxcdTA0NDJcXHUwNDQwXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDMzXFx1MDQzOFxcdTA0NDFcXHUwNDQyXFx1MDQ0MFxcdTA0MzBcXHUwNDQ2XFx1MDQzOFxcdTA0NGYgXFx1MDQxOFxcdTA0MWZcXFwiXVwiLFxuICAgICAgICAgICAgXCJzcGVjXCI6IFwi0JHRg9GF0LPQsNC70YLQtdGA0YHQutC40LUg0YPRgdC70YPQs9C4LiDQoNC10LPQuNGB0YLRgNCw0YbQuNGPINCY0J8sINCe0J7QnlwiLFxuICAgICAgICAgICAgXCJhYm91dEVkdWNcIjogXCLQktGL0YHRiNC10LUg0Y3QutC+0L3QvtC80LjRh9C10YHQutC+0LVcIixcbiAgICAgICAgICAgIFwiYWJvdXRFeHBcIjogXCI0INCz0L7QtNCwXCIsXG4gICAgICAgICAgICBcImFib3V0QWRkSW5mb1wiOiBcIlwiLFxuICAgICAgICAgICAgXCJwdWJsaWNTdGF0dXNcIjogMSxcbiAgICAgICAgICAgIFwicHVibGljRGF0ZUVuZFwiOiBcIjIwMTUtMTItMjhcIixcbiAgICAgICAgICAgIFwibW9kZXJTdGF0dXNcIjogMyxcbiAgICAgICAgICAgIFwibW9kZXJDb21tZW50XCI6IFwiXCIsXG4gICAgICAgICAgICBcImNvbnRhY3RzXCI6IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IDQzOSxcbiAgICAgICAgICAgICAgICBcIm93bmVyVHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgIFwib3duZXJJRFwiOiAxMDA1LFxuICAgICAgICAgICAgICAgIFwicGhvbmVcIjogXCIzNjUxNTFcIixcbiAgICAgICAgICAgICAgICBcIndvcmtQaG9uZVwiOiBcIlwiLFxuICAgICAgICAgICAgICAgIFwiZW1haWxcIjogXCJhdmlzdGEtdGx0QHlhbmRleC5ydVwiLFxuICAgICAgICAgICAgICAgIFwiYWRkclwiOiBcItCh0YLQtdC/0LDQvdCwINCg0LDQt9C40L3QsCA00JAsIDMg0Y3RgtCw0LYsINC+0YQuIDQsINCU0L7QvVwiLFxuICAgICAgICAgICAgICAgIFwiYWRkckNvb3JkXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJza3lwZVwiOiBcIlwiLFxuICAgICAgICAgICAgICAgIFwiaWNxXCI6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInBhZ2VcIjoge1xuICAgICAgICAgICAgICAgIFwiaWRcIjogNDM5NSxcbiAgICAgICAgICAgICAgICBcIm1hc3RlcklEXCI6IDEwMDUsXG4gICAgICAgICAgICAgICAgXCJ0cmFuc2FjdGlvbklEXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJkYXRlU3RhcnRcIjogXCIyMDE1LTA3LTAxXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRlRW5kXCI6IFwiMjAxNS0xMi0yOFwiLFxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCI6IDEwMDUsXG4gICAgICAgICAgICAgICAgXCJzYWxlc1wiOiAwLFxuICAgICAgICAgICAgICAgIFwiYXJ0aWNsZXNcIjogMCxcbiAgICAgICAgICAgICAgICBcImFsYnVtc1wiOiAwLFxuICAgICAgICAgICAgICAgIFwidmlkZW9zXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJjb21tZW50c1wiOiAxLFxuICAgICAgICAgICAgICAgIFwic2VydmljZXNcIjogOCxcbiAgICAgICAgICAgICAgICBcImxpbmtzXCI6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJpZFwiOiAxMDA2LFxuICAgICAgICAgICAgXCJ1c2VySURcIjogMjA2ODUsXG4gICAgICAgICAgICBcInJ1YnJpa2FJRFwiOiAxMSxcbiAgICAgICAgICAgIFwic29ydFwiOiAyODIsXG4gICAgICAgICAgICBcIm5hbWVcIjogXCLQodGC0LXQv9Cw0L3QvtCyINCS0LXQvdC40LDQvNC40L1cIixcbiAgICAgICAgICAgIFwiaW1nSURcIjogbnVsbCxcbiAgICAgICAgICAgIFwic2VydmljZXNcIjogXCJbXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDNlXFx1MDQ0MlxcdTA0MzVcXHUwNDQ3XFx1MDQzNVxcdTA0NDFcXHUwNDQyXFx1MDQzMlxcdTA0MzVcXHUwNDNkXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0NDVcXHUwNDNlXFx1MDQzYlxcdTA0M2VcXHUwNDM0XFx1MDQzOFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0MzhcXHUwNDNhXFx1MDQzZVxcdTA0MzJcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzOFxcdTA0M2NcXHUwNDNmXFx1MDQzZVxcdTA0NDBcXHUwNDQyXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0NDVcXHUwNDNlXFx1MDQzYlxcdTA0M2VcXHUwNDM0XFx1MDQzOFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0MzhcXHUwNDNhXFx1MDQzZVxcdTA0MzJcXFwiLFxcXCJcXHUwNDIzXFx1MDQ0MVxcdTA0NDJcXHUwNDMwXFx1MDQzZFxcdTA0M2VcXHUwNDMyXFx1MDQzYVxcdTA0MzAgXFx1MDQ0M1xcdTA0M2ZcXHUwNDNiXFx1MDQzZVxcdTA0NDJcXHUwNDNkXFx1MDQzOFxcdTA0NDJcXHUwNDM1XFx1MDQzYlxcdTA0MzVcXHUwNDM5LCBcXHUwNDQwXFx1MDQzNVxcdTA0MzdcXHUwNDM4XFx1MDQzZFxcdTA0NGJcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzZVxcdTA0NDJcXHUwNDM1XFx1MDQ0N1xcdTA0MzVcXHUwNDQxXFx1MDQ0MlxcdTA0MzJcXHUwNDM1XFx1MDQzZFxcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDQxXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0MzhcXHUwNDNjXFx1MDQzZlxcdTA0M2VcXHUwNDQwXFx1MDQ0MlxcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDQxXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkXFxcIl1cIixcbiAgICAgICAgICAgIFwic3BlY1wiOiBcItCg0LXQvNC+0L3RgiDRhdC+0LvQvtC00LjQu9GM0L3QuNC60L7QsiDQuCDRgdGC0LjRgNCw0LvRjNC90YvRhSDQvNCw0YjQuNC9XCIsXG4gICAgICAgICAgICBcImFib3V0RWR1Y1wiOiBcItCh0YDQtdC00L3QtdC1LdGB0L/QtdGG0LjQsNC70YzQvdC+0LUg0YHQu9C10YHQsNGA0Ywt0Y3Qu9C10LrRgtGA0LjQuiDQv9C+INGA0LXQvNC+0L3RgtGDINGN0LvQtdC60YLRgNC+0L7QsdC+0YDRg9C00L7QstCw0L3QuNGPLCDQsdGL0YLQvtCy0YvRhSDQvNCw0YjQuNC9LCDQv9GA0LjQsdC+0YDQvtCyLiA0INGA0LDQt9GA0Y/QtFwiLFxuICAgICAgICAgICAgXCJhYm91dEV4cFwiOiBcIjI4INC70LXRglwiLFxuICAgICAgICAgICAgXCJhYm91dEFkZEluZm9cIjogXCJcIixcbiAgICAgICAgICAgIFwicHVibGljU3RhdHVzXCI6IDEsXG4gICAgICAgICAgICBcInB1YmxpY0RhdGVFbmRcIjogXCIyMDE2LTA4LTI2XCIsXG4gICAgICAgICAgICBcIm1vZGVyU3RhdHVzXCI6IDMsXG4gICAgICAgICAgICBcIm1vZGVyQ29tbWVudFwiOiBcIlwiLFxuICAgICAgICAgICAgXCJjb250YWN0c1wiOiB7XG4gICAgICAgICAgICAgICAgXCJpZFwiOiA1NjMsXG4gICAgICAgICAgICAgICAgXCJvd25lclR5cGVcIjogMSxcbiAgICAgICAgICAgICAgICBcIm93bmVySURcIjogMTAwNixcbiAgICAgICAgICAgICAgICBcInBob25lXCI6IFwiNjExMzQ2XCIsXG4gICAgICAgICAgICAgICAgXCJ3b3JrUGhvbmVcIjogXCI2MTI0OTFcIixcbiAgICAgICAgICAgICAgICBcImVtYWlsXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJhZGRyXCI6IFwi0JTQkSDQl9Cw0YDRj1wiLFxuICAgICAgICAgICAgICAgIFwiYWRkckNvb3JkXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJza3lwZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwiaWNxXCI6IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInBhZ2VcIjoge31cbiAgICAgICAgfVxuICAgIF07XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cbk1hc3Rlckxpc3QucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHdpbmRvdyA9IHRoaXMuJGNvbnRleHQubG9jYXRvci5yZXNvbHZlKCd3aW5kb3cnKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYWxsTWluaWNhcmRTZXJ2aWNlc0N1dCk7XG59O1xuTWFzdGVyTGlzdC5wcm90b3R5cGUuX2FsbE1pbmljYXJkU2VydmljZXNDdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLm1hc3Rlci1taW5pY2FyZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWluaWNhcmRTZXJ2aWNlcyA9ICQodGhpcykuZmluZCgnLm1hc3Rlci1taW5pY2FyZF9fc2VydmljZXMnKTtcbiAgICAgICAgdmFyIHNlcnZpY2VzTGlzdCA9IG1pbmljYXJkU2VydmljZXMuZmluZCgnbGknKTtcbiAgICAgICAgdmFyIG1heEhlaWdodCA9XG4gICAgICAgICAgICAkKHRoaXMpLmhlaWdodCgpIC0gKCQodGhpcykuZmluZCgnLm1hc3Rlci1taW5pY2FyZF9fbmFtZScpLmhlaWdodCgpICsgJCh0aGlzKS5maW5kKCcubWFzdGVyLW1pbmljYXJkX19zcGVjJykuaGVpZ2h0KCkpO1xuICAgICAgICB2YXIgc2VydmljZXNDb3VudCA9IG1pbmljYXJkU2VydmljZXMuZmluZCgnbGknKS5sZW5ndGg7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ21heEhlaWdodCA9ICcgKyBtYXhIZWlnaHQpO1xuICAgICAgICBpZiAobWluaWNhcmRTZXJ2aWNlcy5oZWlnaHQoKSA+IG1heEhlaWdodCkge1xuICAgICAgICAgICAgd2hpbGUgKG1pbmljYXJkU2VydmljZXMuaGVpZ2h0KCkgPiBtYXhIZWlnaHQgJiYgc2VydmljZXNDb3VudCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgJChzZXJ2aWNlc0xpc3Rbc2VydmljZXNDb3VudCAtIDFdKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgc2VydmljZXNDb3VudC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKChtaW5pY2FyZFNlcnZpY2VzLmhlaWdodCgpICsgMTApIDwgbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAobWluaWNhcmRTZXJ2aWNlcy5oZWlnaHQoKSA8IG1heEhlaWdodCAmJiBpIDwgc2VydmljZXNDb3VudCArIDEpIHtcbiAgICAgICAgICAgICAgICAkKHNlcnZpY2VzTGlzdFtpXSkuc2hvdygpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtaW5pY2FyZFNlcnZpY2VzLmhlaWdodCgpID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgJChzZXJ2aWNlc0xpc3RbaSAtIDFdKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk1hc3Rlckxpc3QucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2luZG93ID0gdGhpcy4kY29udGV4dC5sb2NhdG9yLnJlc29sdmUoJ3dpbmRvdycpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlcigncmVzaXplJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3Rlck1pbmljYXJkO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1taW5pY2FyZFwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJNaW5pY2FyZCgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk1hc3Rlck1pbmljYXJkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiaWRcIjogMTAwMyxcbiAgICAgICAgICAgIFwidXNlcklEXCI6IDIwNjgyLFxuICAgICAgICAgICAgXCJydWJyaWthSURcIjogMTEsXG4gICAgICAgICAgICBcInNvcnRcIjogNDk1LFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwi0JrQvtCy0LDQu9C10L3QutC+INCS0LjRgtCw0LvQuNC5XCIsXG4gICAgICAgICAgICBcImltZ0lEXCI6IG51bGwsXG4gICAgICAgICAgICBcInNlcnZpY2VzXCI6IFwiW1xcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzOFxcdTA0M2NcXHUwNDNmXFx1MDQzZVxcdTA0NDBcXHUwNDQyXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0NDFcXHUwNDQyXFx1MDQzOFxcdTA0NDBcXHUwNDMwXFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQzY1xcdTA0MzBcXHUwNDQ4XFx1MDQzOFxcdTA0M2RcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzZVxcdTA0NDJcXHUwNDM1XFx1MDQ0N1xcdTA0MzVcXHUwNDQxXFx1MDQ0MlxcdTA0MzJcXHUwNDM1XFx1MDQzZFxcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDQxXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0M2NcXHUwNDM4XFx1MDQzYVxcdTA0NDBcXHUwNDNlXFx1MDQzMlxcdTA0M2VcXHUwNDNiXFx1MDQzZFxcdTA0M2VcXHUwNDMyXFx1MDQ0YlxcdTA0NDUgXFx1MDQzZlxcdTA0MzVcXHUwNDQ3XFx1MDQzNVxcdTA0MzlcXFwiLFxcXCJcXHUwNDE3XFx1MDQzMFxcdTA0M2ZcXHUwNDMwXFx1MDQ0MVxcdTA0M2RcXHUwNDRiXFx1MDQzNSBcXHUwNDQ3XFx1MDQzMFxcdTA0NDFcXHUwNDQyXFx1MDQzOCBcXHUwNDNkXFx1MDQzMCBcXHUwNDQxXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0NGJcXHUwNDM1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkXFx1MDQ0YiBcXHUwNDMyIFxcdTA0M2RcXHUwNDMwXFx1MDQzYlxcdTA0MzhcXHUwNDQ3XFx1MDQzOFxcdTA0MzggXFx1MDQzOCBcXHUwNDNkXFx1MDQzMCBcXHUwNDM3XFx1MDQzMFxcdTA0M2FcXHUwNDMwXFx1MDQzNyAoIFxcdTA0M2RcXHUwNDMwXFx1MDQ0MVxcdTA0M2VcXHUwNDQxXFx1MDQ0YiwgXFx1MDQyMlxcdTA0MmRcXHUwNDFkXFx1MDQ0YiwgXFx1MDQzZlxcdTA0M2VcXHUwNDM0XFx1MDQ0OFxcdTA0MzhcXHUwNDNmXFx1MDQzZFxcdTA0MzhcXHUwNDNhXFx1MDQzOCwgXFx1MDQ0MFxcdTA0MzVcXHUwNDNjXFx1MDQzZFxcdTA0MzgsIFxcdTA0NDFcXHUwNDMwXFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQzOFxcdTA0M2FcXHUwNDM4LCBcXHUwNDQwXFx1MDQ0M1xcdTA0NDdcXHUwNDNhXFx1MDQzOCBcXHUwNDNiXFx1MDQ0ZVxcdTA0M2FcXHUwNDMwIFxcdTA0MzggXFx1MDQ0Mi5cXHUwNDM0LilcXFwiLFxcXCJcXHUwNDIzXFx1MDQ0MVxcdTA0NDJcXHUwNDMwXFx1MDQzZFxcdTA0M2VcXHUwNDMyXFx1MDQzYVxcdTA0MzAgXFx1MDQzOCBcXHUwNDNmXFx1MDQzZVxcdTA0MzRcXHUwNDNhXFx1MDQzYlxcdTA0NGVcXHUwNDQ3XFx1MDQzNVxcdTA0M2RcXHUwNDM4XFx1MDQzNSBcXHUwNDQxXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzMFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0NDVcXHUwNDNlXFx1MDQzYlxcdTA0M2VcXHUwNDM0XFx1MDQzOFxcdTA0M2JcXHUwNDRjXFx1MDQzZFxcdTA0MzhcXHUwNDNhXFx1MDQzZVxcdTA0MzIgXFx1MDQzOCBcXHUwNDNjXFx1MDQzZVxcdTA0NDBcXHUwNDNlXFx1MDQzN1xcdTA0MzhcXHUwNDNiXFx1MDQ0Y1xcdTA0M2RcXHUwNDRiXFx1MDQ0NSBcXHUwNDNhXFx1MDQzMFxcdTA0M2NcXHUwNDM1XFx1MDQ0MFxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDNmXFx1MDQ0YlxcdTA0M2JcXHUwNDM1XFx1MDQ0MVxcdTA0M2VcXHUwNDQxXFx1MDQzZVxcdTA0MzIsIFxcdTA0M2VcXHUwNDMxXFx1MDQzZVxcdTA0MzNcXHUwNDQwXFx1MDQzNVxcdTA0MzJcXHUwNDMwXFx1MDQ0MlxcdTA0MzVcXHUwNDNiXFx1MDQzNVxcdTA0MzlcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQ0N1xcdTA0MzBcXHUwNDM5XFx1MDQzZFxcdTA0MzhcXHUwNDNhXFx1MDQzZVxcdTA0MzIsIFxcdTA0NDNcXHUwNDQyXFx1MDQ0ZVxcdTA0MzNcXHUwNDNlXFx1MDQzMiwgXFx1MDQ0NFxcdTA0MzVcXHUwNDNkXFx1MDQzZVxcdTA0MzJcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzYVxcdTA0NDNcXHUwNDQ1XFx1MDQzZVxcdTA0M2RcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQzYVxcdTA0M2VcXHUwNDNjXFx1MDQzMVxcdTA0MzBcXHUwNDM5XFx1MDQzZFxcdTA0M2VcXHUwNDMyLCBcXHUwNDMxXFx1MDQzYlxcdTA0MzVcXHUwNDNkXFx1MDQzNFxcdTA0MzVcXHUwNDQwXFx1MDQzZVxcdTA0MzJcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQ0ZFxcdTA0M2JcXHUwNDM1XFx1MDQzYVxcdTA0NDJcXHUwNDQwXFx1MDQzZVxcdTA0MzhcXHUwNDNkXFx1MDQ0MVxcdTA0NDJcXHUwNDQwXFx1MDQ0M1xcdTA0M2NcXHUwNDM1XFx1MDQzZFxcdTA0NDJcXHUwNDMwXFxcIixcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0MzJcXHUwNDQxXFx1MDQzNVxcdTA0MzNcXHUwNDNlLCBcXHUwNDQ3XFx1MDQ0MlxcdTA0M2UgXFx1MDQzMlxcdTA0M2FcXHUwNDNiXFx1MDQ0ZVxcdTA0NDdcXHUwNDMwXFx1MDQzNVxcdTA0NDJcXHUwNDQxXFx1MDQ0ZiBcXHUwNDMyIFxcdTA0NDBcXHUwNDNlXFx1MDQzN1xcdTA0MzVcXHUwNDQyXFx1MDQzYVxcdTA0NDNcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzZlxcdTA0NDNcXHUwNDNiXFx1MDQ0Y1xcdTA0NDJcXHUwNDNlXFx1MDQzMiBcXHUwNDM0XFx1MDQzOFxcdTA0NDFcXHUwNDQyXFx1MDQzMFxcdTA0M2RcXHUwNDQ2XFx1MDQzOFxcdTA0M2VcXHUwNDNkXFx1MDQzZFxcdTA0M2VcXHUwNDMzXFx1MDQzZSBcXHUwNDQzXFx1MDQzZlxcdTA0NDBcXHUwNDMwXFx1MDQzMlxcdTA0M2JcXHUwNDM1XFx1MDQzZFxcdTA0MzhcXHUwNDRmLCBcXHUwNDQwXFx1MDQzMFxcdTA0MzRcXHUwNDM4XFx1MDQzZVxcdTA0NDJcXHUwNDM1XFx1MDQzYlxcdTA0MzVcXHUwNDQ0XFx1MDQzZVxcdTA0M2RcXHUwNDNlXFx1MDQzMlxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDRkXFx1MDQzYlxcdTA0MzVcXHUwNDQyXFx1MDQ0MFxcdTA0M2VcXHUwNDNmXFx1MDQzYlxcdTA0MzhcXHUwNDQyIFxcdTA0MzggXFx1MDQzNFxcdTA0NDNcXHUwNDQ1XFx1MDQzZVxcdTA0MzJcXHUwNDNlXFx1MDQzYVxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDQ4XFx1MDQzMlxcdTA0MzVcXHUwNDM5XFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0M2NcXHUwNDMwXFx1MDQ0OFxcdTA0MzhcXHUwNDNkIFxcdTA0MzggXFx1MDQzZVxcdTA0MzJcXHUwNDM1XFx1MDQ0MFxcdTA0M2JcXHUwNDNlXFx1MDQzYVxcdTA0M2VcXHUwNDMyXFxcIixcXFwiXFx1MDQxOCBcXHUwNDMyXFx1MDQ0MVxcdTA0MzVcXHUwNDMzXFx1MDQzZSwgXFx1MDQ0N1xcdTA0NDJcXHUwNDNlIFxcdTA0NDJcXHUwNDQwXFx1MDQzNVxcdTA0MzFcXHUwNDQzXFx1MDQzNVxcdTA0NDIgXFx1MDQ0MFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyXFx1MDQzMFxcXCJdXCIsXG4gICAgICAgICAgICBcInNwZWNcIjogXCLQoNC10LzQvtC90YIg0YHRgtC40YDQsNC70YzQvdGL0YUg0LzQsNGI0LjQvSwg0YXQvtC70L7QtNC40LvRjNC90LjQutC+0LIg0Lgg0L/RgNC+0YfQtdC5INCx0YvRgtC+0LLQvtC5INGC0LXRhdC90LjQutC4XCIsXG4gICAgICAgICAgICBcImFib3V0RWR1Y1wiOiBcItCW0LjQs9GD0LvRkdCy0YHQutC40Lkg0YDQsNC00LjQvtGC0LXRhdC90LjQutGD0LxcIixcbiAgICAgICAgICAgIFwiYWJvdXRFeHBcIjogXCIyNSDQu9C10YIg0LIg0YHRhNC10YDQtSDRgNC10LzQvtC90YLQsCDQsdGL0YLQvtCy0L7QuSDRgtC10YXQvdC40LrQuFwiLFxuICAgICAgICAgICAgXCJhYm91dEFkZEluZm9cIjogXCJcIixcbiAgICAgICAgICAgIFwicHVibGljU3RhdHVzXCI6IDEsXG4gICAgICAgICAgICBcInB1YmxpY0RhdGVFbmRcIjogXCIyMDE2LTA3LTI2XCIsXG4gICAgICAgICAgICBcIm1vZGVyU3RhdHVzXCI6IDMsXG4gICAgICAgICAgICBcIm1vZGVyQ29tbWVudFwiOiBcIlwiLFxuICAgICAgICAgICAgXCJjb250YWN0c1wiOiB7XG4gICAgICAgICAgICAgICAgXCJpZFwiOiA1NjIsXG4gICAgICAgICAgICAgICAgXCJvd25lclR5cGVcIjogMSxcbiAgICAgICAgICAgICAgICBcIm93bmVySURcIjogMTAwMyxcbiAgICAgICAgICAgICAgICBcInBob25lXCI6IFwiOTYwODUwMDYyMlwiLFxuICAgICAgICAgICAgICAgIFwid29ya1Bob25lXCI6IFwiNzQtMjktNzBcIixcbiAgICAgICAgICAgICAgICBcImVtYWlsXCI6IFwia292YWxlbmtvLjY5NzRAeWFuZGV4LnJ1IFxcdFwiLFxuICAgICAgICAgICAgICAgIFwiYWRkclwiOiBcIlwiLFxuICAgICAgICAgICAgICAgIFwiYWRkckNvb3JkXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJza3lwZVwiOiBcIlwiLFxuICAgICAgICAgICAgICAgIFwiaWNxXCI6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInBhZ2VcIjoge1xuICAgICAgICAgICAgICAgIFwiaWRcIjogNDU1MCxcbiAgICAgICAgICAgICAgICBcIm1hc3RlcklEXCI6IDEwMDMsXG4gICAgICAgICAgICAgICAgXCJ0cmFuc2FjdGlvbklEXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJkYXRlU3RhcnRcIjogXCIyMDE1LTA4LTAxXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRlRW5kXCI6IFwiMjAxNi0wNy0yNlwiLFxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCI6IDEwMDMsXG4gICAgICAgICAgICAgICAgXCJzYWxlc1wiOiAxLFxuICAgICAgICAgICAgICAgIFwiYXJ0aWNsZXNcIjogMCxcbiAgICAgICAgICAgICAgICBcImFsYnVtc1wiOiAxLFxuICAgICAgICAgICAgICAgIFwidmlkZW9zXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJjb21tZW50c1wiOiAxLFxuICAgICAgICAgICAgICAgIFwic2VydmljZXNcIjogOCxcbiAgICAgICAgICAgICAgICBcImxpbmtzXCI6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJpZFwiOiAxMDA1LFxuICAgICAgICAgICAgXCJ1c2VySURcIjogMjA2ODQsXG4gICAgICAgICAgICBcInJ1YnJpa2FJRFwiOiA4LFxuICAgICAgICAgICAgXCJzb3J0XCI6IDM1OCxcbiAgICAgICAgICAgIFwibmFtZVwiOiBcItCX0LLQtdC30LTQuNC70LjQvdCwINCY0YDQuNC90LBcIixcbiAgICAgICAgICAgIFwiaW1nSURcIjogbnVsbCxcbiAgICAgICAgICAgIFwic2VydmljZXNcIjogXCJbXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzM1xcdTA0MzhcXHUwNDQxXFx1MDQ0MlxcdTA0NDBcXHUwNDMwXFx1MDQ0NlxcdTA0MzhcXHUwNDRmIFxcdTA0NDRcXHUwNDM4XFx1MDQ0MFxcdTA0M2NcXFwiLFxcXCJcXHUwNDFiXFx1MDQzOFxcdTA0M2FcXHUwNDMyXFx1MDQzOFxcdTA0MzRcXHUwNDMwXFx1MDQ0NlxcdTA0MzhcXHUwNDRmIFxcdTA0NDRcXHUwNDM4XFx1MDQ0MFxcdTA0M2NcXFwiLFxcXCJcXHUwNDExXFx1MDQ0M1xcdTA0NDVcXHUwNDMzXFx1MDQzMFxcdTA0M2JcXHUwNDQyXFx1MDQzNVxcdTA0NDBcXHUwNDQxXFx1MDQzYVxcdTA0MzhcXHUwNDM1IFxcdTA0NDNcXHUwNDQxXFx1MDQzYlxcdTA0NDNcXHUwNDMzXFx1MDQzOFxcXCIsXFxcIlxcdTA0MTdcXHUwNDMwXFx1MDQzZlxcdTA0M2VcXHUwNDNiXFx1MDQzZFxcdTA0MzVcXHUwNDNkXFx1MDQzOFxcdTA0MzUgXFx1MDQzNFxcdTA0MzVcXHUwNDNhXFx1MDQzYlxcdTA0MzBcXHUwNDQwXFx1MDQzMFxcdTA0NDZcXHUwNDM4XFx1MDQzOFxcXCIsXFxcIlxcdTA0MTJcXHUwNDNlXFx1MDQzN1xcdTA0MzJcXHUwNDQwXFx1MDQzMFxcdTA0NDIgXFx1MDQzZFxcdTA0MzBcXHUwNDNiXFx1MDQzZVxcdTA0MzNcXHUwNDMwIChcXHUwNDM2XFx1MDQzOFxcdTA0M2JcXHUwNDRjXFx1MDQzNSwgXFx1MDQzZVxcdTA0MzFcXHUwNDQzXFx1MDQ0N1xcdTA0MzVcXHUwNDNkXFx1MDQzOFxcdTA0MzUsIFxcdTA0M2JcXHUwNDM1XFx1MDQ0N1xcdTA0MzVcXHUwNDNkXFx1MDQzOFxcdTA0MzUpIFxcLyAzLVxcdTA0MWRcXHUwNDE0XFx1MDQyNFxcdTA0MWJcXFwiLFxcXCJcXHUwNDE4XFx1MDQzN1xcdTA0M2NcXHUwNDM1XFx1MDQzZFxcdTA0MzVcXHUwNDNkXFx1MDQzOFxcdTA0NGYgXFx1MDQzMiBcXHUwNDQzXFx1MDQ0MVxcdTA0NDJcXHUwNDMwXFx1MDQzMiwgXFx1MDQzM1xcdTA0M2VcXHUwNDQxLiBcXHUwNDQwXFx1MDQzNVxcdTA0MzVcXHUwNDQxXFx1MDQ0MlxcdTA0NDBcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0MzNcXHUwNDM4XFx1MDQ0MVxcdTA0NDJcXHUwNDQwXFx1MDQzMFxcdTA0NDZcXHUwNDM4XFx1MDQ0ZiBcXHUwNDE4XFx1MDQxZlxcXCJdXCIsXG4gICAgICAgICAgICBcInNwZWNcIjogXCLQkdGD0YXQs9Cw0LvRgtC10YDRgdC60LjQtSDRg9GB0LvRg9Cz0LguINCg0LXQs9C40YHRgtGA0LDRhtC40Y8g0JjQnywg0J7QntCeXCIsXG4gICAgICAgICAgICBcImFib3V0RWR1Y1wiOiBcItCS0YvRgdGI0LXQtSDRjdC60L7QvdC+0LzQuNGH0LXRgdC60L7QtVwiLFxuICAgICAgICAgICAgXCJhYm91dEV4cFwiOiBcIjQg0LPQvtC00LBcIixcbiAgICAgICAgICAgIFwiYWJvdXRBZGRJbmZvXCI6IFwiXCIsXG4gICAgICAgICAgICBcInB1YmxpY1N0YXR1c1wiOiAxLFxuICAgICAgICAgICAgXCJwdWJsaWNEYXRlRW5kXCI6IFwiMjAxNS0xMi0yOFwiLFxuICAgICAgICAgICAgXCJtb2RlclN0YXR1c1wiOiAzLFxuICAgICAgICAgICAgXCJtb2RlckNvbW1lbnRcIjogXCJcIixcbiAgICAgICAgICAgIFwiY29udGFjdHNcIjoge1xuICAgICAgICAgICAgICAgIFwiaWRcIjogNDM5LFxuICAgICAgICAgICAgICAgIFwib3duZXJUeXBlXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJvd25lcklEXCI6IDEwMDUsXG4gICAgICAgICAgICAgICAgXCJwaG9uZVwiOiBcIjM2NTE1MVwiLFxuICAgICAgICAgICAgICAgIFwid29ya1Bob25lXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJlbWFpbFwiOiBcImF2aXN0YS10bHRAeWFuZGV4LnJ1XCIsXG4gICAgICAgICAgICAgICAgXCJhZGRyXCI6IFwi0KHRgtC10L/QsNC90LAg0KDQsNC30LjQvdCwIDTQkCwgMyDRjdGC0LDQtiwg0L7RhC4gNCwg0JTQvtC9XCIsXG4gICAgICAgICAgICAgICAgXCJhZGRyQ29vcmRcIjogXCJcIixcbiAgICAgICAgICAgICAgICBcInNreXBlXCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJpY3FcIjogXCJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicGFnZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJpZFwiOiA0Mzk1LFxuICAgICAgICAgICAgICAgIFwibWFzdGVySURcIjogMTAwNSxcbiAgICAgICAgICAgICAgICBcInRyYW5zYWN0aW9uSURcIjogMCxcbiAgICAgICAgICAgICAgICBcImRhdGVTdGFydFwiOiBcIjIwMTUtMDctMDFcIixcbiAgICAgICAgICAgICAgICBcImRhdGVFbmRcIjogXCIyMDE1LTEyLTI4XCIsXG4gICAgICAgICAgICAgICAgXCJudW1iZXJcIjogMTAwNSxcbiAgICAgICAgICAgICAgICBcInNhbGVzXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJhcnRpY2xlc1wiOiAwLFxuICAgICAgICAgICAgICAgIFwiYWxidW1zXCI6IDAsXG4gICAgICAgICAgICAgICAgXCJ2aWRlb3NcIjogMCxcbiAgICAgICAgICAgICAgICBcImNvbW1lbnRzXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJzZXJ2aWNlc1wiOiA4LFxuICAgICAgICAgICAgICAgIFwibGlua3NcIjogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcImlkXCI6IDEwMDYsXG4gICAgICAgICAgICBcInVzZXJJRFwiOiAyMDY4NSxcbiAgICAgICAgICAgIFwicnVicmlrYUlEXCI6IDExLFxuICAgICAgICAgICAgXCJzb3J0XCI6IDI4MixcbiAgICAgICAgICAgIFwibmFtZVwiOiBcItCh0YLQtdC/0LDQvdC+0LIg0JLQtdC90LjQsNC80LjQvVwiLFxuICAgICAgICAgICAgXCJpbWdJRFwiOiBudWxsLFxuICAgICAgICAgICAgXCJzZXJ2aWNlc1wiOiBcIltcXFwiXFx1MDQyMFxcdTA0MzVcXHUwNDNjXFx1MDQzZVxcdTA0M2RcXHUwNDQyIFxcdTA0M2VcXHUwNDQyXFx1MDQzNVxcdTA0NDdcXHUwNDM1XFx1MDQ0MVxcdTA0NDJcXHUwNDMyXFx1MDQzNVxcdTA0M2RcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQ0NVxcdTA0M2VcXHUwNDNiXFx1MDQzZVxcdTA0MzRcXHUwNDM4XFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQzOFxcdTA0M2FcXHUwNDNlXFx1MDQzMlxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDM4XFx1MDQzY1xcdTA0M2ZcXHUwNDNlXFx1MDQ0MFxcdTA0NDJcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQ0NVxcdTA0M2VcXHUwNDNiXFx1MDQzZVxcdTA0MzRcXHUwNDM4XFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQzOFxcdTA0M2FcXHUwNDNlXFx1MDQzMlxcXCIsXFxcIlxcdTA0MjNcXHUwNDQxXFx1MDQ0MlxcdTA0MzBcXHUwNDNkXFx1MDQzZVxcdTA0MzJcXHUwNDNhXFx1MDQzMCBcXHUwNDQzXFx1MDQzZlxcdTA0M2JcXHUwNDNlXFx1MDQ0MlxcdTA0M2RcXHUwNDM4XFx1MDQ0MlxcdTA0MzVcXHUwNDNiXFx1MDQzNVxcdTA0MzksIFxcdTA0NDBcXHUwNDM1XFx1MDQzN1xcdTA0MzhcXHUwNDNkXFx1MDQ0YlxcXCIsXFxcIlxcdTA0MjBcXHUwNDM1XFx1MDQzY1xcdTA0M2VcXHUwNDNkXFx1MDQ0MiBcXHUwNDNlXFx1MDQ0MlxcdTA0MzVcXHUwNDQ3XFx1MDQzNVxcdTA0NDFcXHUwNDQyXFx1MDQzMlxcdTA0MzVcXHUwNDNkXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0NDFcXHUwNDQyXFx1MDQzOFxcdTA0NDBcXHUwNDMwXFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQzY1xcdTA0MzBcXHUwNDQ4XFx1MDQzOFxcdTA0M2RcXFwiLFxcXCJcXHUwNDIwXFx1MDQzNVxcdTA0M2NcXHUwNDNlXFx1MDQzZFxcdTA0NDIgXFx1MDQzOFxcdTA0M2NcXHUwNDNmXFx1MDQzZVxcdTA0NDBcXHUwNDQyXFx1MDQzZFxcdTA0NGJcXHUwNDQ1IFxcdTA0NDFcXHUwNDQyXFx1MDQzOFxcdTA0NDBcXHUwNDMwXFx1MDQzYlxcdTA0NGNcXHUwNDNkXFx1MDQ0YlxcdTA0NDUgXFx1MDQzY1xcdTA0MzBcXHUwNDQ4XFx1MDQzOFxcdTA0M2RcXFwiXVwiLFxuICAgICAgICAgICAgXCJzcGVjXCI6IFwi0KDQtdC80L7QvdGCINGF0L7Qu9C+0LTQuNC70YzQvdC40LrQvtCyINC4INGB0YLQuNGA0LDQu9GM0L3Ri9GFINC80LDRiNC40L1cIixcbiAgICAgICAgICAgIFwiYWJvdXRFZHVjXCI6IFwi0KHRgNC10LTQvdC10LUt0YHQv9C10YbQuNCw0LvRjNC90L7QtSDRgdC70LXRgdCw0YDRjC3RjdC70LXQutGC0YDQuNC6INC/0L4g0YDQtdC80L7QvdGC0YMg0Y3Qu9C10LrRgtGA0L7QvtCx0L7RgNGD0LTQvtCy0LDQvdC40Y8sINCx0YvRgtC+0LLRi9GFINC80LDRiNC40L0sINC/0YDQuNCx0L7RgNC+0LIuIDQg0YDQsNC30YDRj9C0XCIsXG4gICAgICAgICAgICBcImFib3V0RXhwXCI6IFwiMjgg0LvQtdGCXCIsXG4gICAgICAgICAgICBcImFib3V0QWRkSW5mb1wiOiBcIlwiLFxuICAgICAgICAgICAgXCJwdWJsaWNTdGF0dXNcIjogMSxcbiAgICAgICAgICAgIFwicHVibGljRGF0ZUVuZFwiOiBcIjIwMTYtMDgtMjZcIixcbiAgICAgICAgICAgIFwibW9kZXJTdGF0dXNcIjogMyxcbiAgICAgICAgICAgIFwibW9kZXJDb21tZW50XCI6IFwiXCIsXG4gICAgICAgICAgICBcImNvbnRhY3RzXCI6IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IDU2MyxcbiAgICAgICAgICAgICAgICBcIm93bmVyVHlwZVwiOiAxLFxuICAgICAgICAgICAgICAgIFwib3duZXJJRFwiOiAxMDA2LFxuICAgICAgICAgICAgICAgIFwicGhvbmVcIjogXCI2MTEzNDZcIixcbiAgICAgICAgICAgICAgICBcIndvcmtQaG9uZVwiOiBcIjYxMjQ5MVwiLFxuICAgICAgICAgICAgICAgIFwiZW1haWxcIjogXCJcIixcbiAgICAgICAgICAgICAgICBcImFkZHJcIjogXCLQlNCRINCX0LDRgNGPXCIsXG4gICAgICAgICAgICAgICAgXCJhZGRyQ29vcmRcIjogXCJcIixcbiAgICAgICAgICAgICAgICBcInNreXBlXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCJpY3FcIjogbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicGFnZVwiOiB7fVxuICAgICAgICB9XG4gICAgXTtcbiAgICB2YXIgbWFzdGVyID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiAoZWwuaWQgPT0gdGhpcy4kY29udGV4dC5hdHRyaWJ1dGVzWydtYXN0ZXItaWQnXSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICBtYXN0ZXJbMF1bJ3NlcnZpY2VzJ10gPSBKU09OLnBhcnNlKG1hc3RlclswXVsnc2VydmljZXMnXSk7XG4gICAgaWYgKG1hc3RlclswXS5wYWdlLnNhbGVzIHx8IG1hc3RlclswXS5wYWdlLmFsYnVtcyB8fCBtYXN0ZXJbMF0ucGFnZS52aWRlb3MgfHwgbWFzdGVyWzBdLnBhZ2UuY29tbWVudHMpIHtcbiAgICAgICAgbWFzdGVyWzBdLmlzV2lkZ2V0ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG1hc3RlclswXTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyTWluaWNhcmQucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fbWluaWNhcmRTZXJ2aWNlc0N1dCgpO1xuICAgIHJldHVybiB7fTtcbn07XG5NYXN0ZXJNaW5pY2FyZC5wcm90b3R5cGUuX21pbmljYXJkU2VydmljZXNDdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1pbmljYXJkID0gJCgnIycgKyB0aGlzLiRjb250ZXh0LmVsZW1lbnQuaWQpO1xuICAgIHZhciBtaW5pY2FyZFNlcnZpY2VzID0gbWluaWNhcmQuZmluZCgnLm1hc3Rlci1taW5pY2FyZF9fc2VydmljZXMnKTtcbiAgICB2YXIgbWF4SGVpZ2h0ID1cbiAgICAgICAgbWluaWNhcmQuZmluZCgnLm1hc3Rlci1taW5pY2FyZCcpLmhlaWdodCgpIC0gKG1pbmljYXJkLmZpbmQoJy5tYXN0ZXItbWluaWNhcmRfX25hbWUnKS5oZWlnaHQoKSArIG1pbmljYXJkLmZpbmQoJy5tYXN0ZXItbWluaWNhcmRfX3NwZWMnKS5oZWlnaHQoKSk7XG4gICAgdmFyIHNlcnZpY2VzQ291bnQgPSBtaW5pY2FyZFNlcnZpY2VzLmZpbmQoJ2xpJykubGVuZ3RoO1xuXG4gICAgd2hpbGUgKG1pbmljYXJkU2VydmljZXMuaGVpZ2h0KCkgPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgJChtaW5pY2FyZFNlcnZpY2VzLmZpbmQoJ2xpJylbc2VydmljZXNDb3VudF0pLmhpZGUoKTtcbiAgICAgICAgc2VydmljZXNDb3VudC0tO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhzZXJ2aWNlc0NvdW50KTtcbn07XG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk1hc3Rlck1pbmljYXJkLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFzdGVyUGhvbmVCdG47XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyLXBob25lLWJ0blwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJQaG9uZUJ0bigpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk1hc3RlclBob25lQnRuLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJjb250YWN0c1wiOiB7XG4gICAgICAgICAgICBcImlkXCI6IDQzOSxcbiAgICAgICAgICAgIFwib3duZXJUeXBlXCI6IDEsXG4gICAgICAgICAgICBcIm93bmVySURcIjogMTAwNSxcbiAgICAgICAgICAgIFwicGhvbmVcIjogXCIzNjUxNTFcIixcbiAgICAgICAgICAgIFwid29ya1Bob25lXCI6IFwiXCIsXG4gICAgICAgICAgICBcImVtYWlsXCI6IFwiYXZpc3RhLXRsdEB5YW5kZXgucnVcIixcbiAgICAgICAgICAgIFwiYWRkclwiOiBcItCh0YLQtdC/0LDQvdCwINCg0LDQt9C40L3QsCA00JAsIDMg0Y3RgtCw0LYsINC+0YQuIDQsINCU0L7QvVwiLFxuICAgICAgICAgICAgXCJhZGRyQ29vcmRcIjogXCJcIixcbiAgICAgICAgICAgIFwic2t5cGVcIjogXCJcIixcbiAgICAgICAgICAgIFwiaWNxXCI6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlXCI6IHtcbiAgICAgICAgICAgIFwiaWRcIjogNDM5NSxcbiAgICAgICAgICAgIFwibWFzdGVySURcIjogMTAwNSxcbiAgICAgICAgICAgIFwidHJhbnNhY3Rpb25JRFwiOiAwLFxuICAgICAgICAgICAgXCJkYXRlU3RhcnRcIjogXCIyMDE1LTA3LTAxXCIsXG4gICAgICAgICAgICBcImRhdGVFbmRcIjogXCIyMDE1LTEyLTI4XCIsXG4gICAgICAgICAgICBcIm51bWJlclwiOiAxMDA1LFxuICAgICAgICAgICAgXCJzYWxlc1wiOiAwLFxuICAgICAgICAgICAgXCJhcnRpY2xlc1wiOiAwLFxuICAgICAgICAgICAgXCJhbGJ1bXNcIjogMCxcbiAgICAgICAgICAgIFwidmlkZW9zXCI6IDAsXG4gICAgICAgICAgICBcImNvbW1lbnRzXCI6IDEsXG4gICAgICAgICAgICBcInNlcnZpY2VzXCI6IDgsXG4gICAgICAgICAgICBcImxpbmtzXCI6IDBcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyUGhvbmVCdG4ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICAgICcuanMtc2hvdy1waG9uZSc6IHRoaXMuX2NsaWNrUGhvbmVIYW5kbGVyLFxuICAgICAgICAgICAgJy5qcy1jbG9zZS10aXAnOiB0aGlzLl9jbGlja0Nsb3NlVGlwSGFuZGxlclxuICAgICAgICB9XG4gICAgfVxufTtcblxuTWFzdGVyUGhvbmVCdG4ucHJvdG90eXBlLl9jbGlja1Bob25lSGFuZGxlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgZWwgPSBvYmoudGFyZ2V0O1xuICAgICQoZWwpLmhpZGUoKTtcbiAgICAkKGVsKS5zaWJsaW5ncygnLmpzLXNob3ctcGhvbmUtZGV0YWlscycpLnNob3coKTtcbiAgICAkKGVsKS5jbG9zZXN0KCcubWFzdGVyLW1pbmljYXJkJykuZmluZCgnLmpzLW1hc3Rlci1waG9uZS10aXAnKS5mYWRlSW4oNDAwKS5kZWxheSg0MDAwKS5mYWRlT3V0KDUwMCk7XG59O1xuTWFzdGVyUGhvbmVCdG4ucHJvdG90eXBlLl9jbGlja0Nsb3NlVGlwSGFuZGxlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgZWwgPSBvYmoudGFyZ2V0O1xuICAgICQoZWwpLmNsb3Nlc3QoJy5qcy1tYXN0ZXItcGhvbmUtdGlwJykuc3RvcCgpLmZhZGVPdXQoNTAwKTtcbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuTWFzdGVyUGhvbmVCdG4ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJQYWdlO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1wYWdlXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1hc3RlclBhZ2UoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5NYXN0ZXJQYWdlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmNvbXBhbnkpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyUGFnZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb2Zmc2V0ID0gJCgnLm1lbnUtbXAnKS5vZmZzZXQoKTtcbiAgICAkKHdpbmRvdykuYmluZCgnc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgMzAgPiBvZmZzZXQudG9wKSB7XG4gICAgICAgICAgICAkKCcubWVudS1tcCcpLmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLm1lbnUtbXAnKS5yZW1vdmVDbGFzcygnZml4ZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJQYWdlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCh3aW5kb3cpLnVuYmluZCgnc2Nyb2xsJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3RlclJlY29tbWVuZGVkO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci1yZWNvbW1lbmRlZFwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJSZWNvbW1lbmRlZCgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk1hc3RlclJlY29tbWVuZGVkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9yZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBcImlzLXJlY29tbWVuZGVkLW1hc3RlcnNcIjogdHJ1ZSxcbiAgICAgICAgXCJ1cmwtYXJyb3ctbGVmdFwiOiBcIjQwNFwiLFxuICAgICAgICBcInVybC1hcnJvdy1yaWdodFwiOiBcIjQwNFwiLFxuICAgICAgICBcInJlY29tbWVuZGVkLW1hc3RlclwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJtYXN0ZXItdXJsXCI6IFwiNDA0XCIsXG4gICAgICAgICAgICAgICAgXCJzcmNcIjogXCIvaW1nL2Fzc2V0cy9tYXN0ZXJfcmVjb21tZW5kZWQvMzcyMC5qcGdcIixcbiAgICAgICAgICAgICAgICBcImFsdFwiOiBcItCa0L3Rj9C30LXQsiDQkC7Qri5cIixcbiAgICAgICAgICAgICAgICBcIm1hc3Rlci1uYW1lXCI6IFwi0JrQvdGP0LfQtdCyINCQLtCuLlwiLFxuICAgICAgICAgICAgICAgIFwicmVjb21tZW5kYXRpb24tbnVtYmVyXCI6IFwiMjcg0YfQtdC70L7QstC10LpcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIm1hc3Rlci11cmxcIjogXCI0MDRcIixcbiAgICAgICAgICAgICAgICBcInNyY1wiOiBcIi9pbWcvYXNzZXRzL21hc3Rlcl9yZWNvbW1lbmRlZC80NjE3LmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiYWx0XCI6IFwi0KXQsNC70YzQt9C+0LIg0JAuXCIsXG4gICAgICAgICAgICAgICAgXCJtYXN0ZXItbmFtZVwiOiBcItCl0LDQu9GM0LfQvtCyINCQLlwiLFxuICAgICAgICAgICAgICAgIFwicmVjb21tZW5kYXRpb24tbnVtYmVyXCI6IFwiNiDRh9C10LvQvtCy0LXQulwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwibWFzdGVyLXVybFwiOiBcIjQwNFwiLFxuICAgICAgICAgICAgICAgIFwic3JjXCI6IFwiL2ltZy9hc3NldHMvbWFzdGVyX3JlY29tbWVuZGVkLzc0MjguanBnXCIsXG4gICAgICAgICAgICAgICAgXCJhbHRcIjogXCLQkdGD0LvQs9Cw0LrQvtCyINCSLtCQLlwiLFxuICAgICAgICAgICAgICAgIFwibWFzdGVyLW5hbWVcIjogXCLQkdGD0LvQs9Cw0LrQvtCyINCSLtCQLlwiLFxuICAgICAgICAgICAgICAgIFwicmVjb21tZW5kYXRpb24tbnVtYmVyXCI6IFwiNSDRh9C10LvQvtCy0LXQulwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwibWFzdGVyLXVybFwiOiBcIjQwNFwiLFxuICAgICAgICAgICAgICAgIFwic3JjXCI6IFwiL2ltZy9hc3NldHMvbWFzdGVyX3JlY29tbWVuZGVkLzM3MjAuanBnXCIsXG4gICAgICAgICAgICAgICAgXCJhbHRcIjogXCLQmtC90Y/Qt9C10LIg0JAu0K4uXCIsXG4gICAgICAgICAgICAgICAgXCJtYXN0ZXItbmFtZVwiOiBcItCa0L3Rj9C30LXQsiDQkC7Qri5cIixcbiAgICAgICAgICAgICAgICBcInJlY29tbWVuZGF0aW9uLW51bWJlclwiOiBcIjI3INGH0LXQu9C+0LLQtdC6XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJtYXN0ZXItdXJsXCI6IFwiNDA0XCIsXG4gICAgICAgICAgICAgICAgXCJzcmNcIjogXCIvaW1nL2Fzc2V0cy9tYXN0ZXJfcmVjb21tZW5kZWQvNDYxNy5qcGdcIixcbiAgICAgICAgICAgICAgICBcImFsdFwiOiBcItCl0LDQu9GM0LfQvtCyINCQLlwiLFxuICAgICAgICAgICAgICAgIFwibWFzdGVyLW5hbWVcIjogXCLQpdCw0LvRjNC30L7QsiDQkC5cIixcbiAgICAgICAgICAgICAgICBcInJlY29tbWVuZGF0aW9uLW51bWJlclwiOiBcIjYg0YfQtdC70L7QstC10LpcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIm1hc3Rlci11cmxcIjogXCI0MDRcIixcbiAgICAgICAgICAgICAgICBcInNyY1wiOiBcIi9pbWcvYXNzZXRzL21hc3Rlcl9yZWNvbW1lbmRlZC83NDI4LmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiYWx0XCI6IFwi0JHRg9C70LPQsNC60L7QsiDQki7QkC5cIixcbiAgICAgICAgICAgICAgICBcIm1hc3Rlci1uYW1lXCI6IFwi0JHRg9C70LPQsNC60L7QsiDQki7QkC5cIixcbiAgICAgICAgICAgICAgICBcInJlY29tbWVuZGF0aW9uLW51bWJlclwiOiBcIjUg0YfQtdC70L7QstC10LpcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIm1hc3Rlci11cmxcIjogXCI0MDRcIixcbiAgICAgICAgICAgICAgICBcInNyY1wiOiBcIi9pbWcvYXNzZXRzL21hc3Rlcl9yZWNvbW1lbmRlZC8zNzIwLmpwZ1wiLFxuICAgICAgICAgICAgICAgIFwiYWx0XCI6IFwi0JrQvdGP0LfQtdCyINCQLtCuLlwiLFxuICAgICAgICAgICAgICAgIFwibWFzdGVyLW5hbWVcIjogXCLQmtC90Y/Qt9C10LIg0JAu0K4uXCIsXG4gICAgICAgICAgICAgICAgXCJyZWNvbW1lbmRhdGlvbi1udW1iZXJcIjogXCIyNyDRh9C10LvQvtCy0LXQulwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwibWFzdGVyLXVybFwiOiBcIjQwNFwiLFxuICAgICAgICAgICAgICAgIFwic3JjXCI6IFwiL2ltZy9hc3NldHMvbWFzdGVyX3JlY29tbWVuZGVkLzQ2MTcuanBnXCIsXG4gICAgICAgICAgICAgICAgXCJhbHRcIjogXCLQpdCw0LvRjNC30L7QsiDQkC5cIixcbiAgICAgICAgICAgICAgICBcIm1hc3Rlci1uYW1lXCI6IFwi0KXQsNC70YzQt9C+0LIg0JAuXCIsXG4gICAgICAgICAgICAgICAgXCJyZWNvbW1lbmRhdGlvbi1udW1iZXJcIjogXCI2INGH0LXQu9C+0LLQtdC6XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJtYXN0ZXItdXJsXCI6IFwiNDA0XCIsXG4gICAgICAgICAgICAgICAgXCJzcmNcIjogXCIvaW1nL2Fzc2V0cy9tYXN0ZXJfcmVjb21tZW5kZWQvNzQyOC5qcGdcIixcbiAgICAgICAgICAgICAgICBcImFsdFwiOiBcItCR0YPQu9Cz0LDQutC+0LIg0JIu0JAuXCIsXG4gICAgICAgICAgICAgICAgXCJtYXN0ZXItbmFtZVwiOiBcItCR0YPQu9Cz0LDQutC+0LIg0JIu0JAuXCIsXG4gICAgICAgICAgICAgICAgXCJyZWNvbW1lbmRhdGlvbi1udW1iZXJcIjogXCI1INGH0LXQu9C+0LLQtdC6XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyUmVjb21tZW5kZWQucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5iaW5kU2xpY2soKTtcbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuTWFzdGVyUmVjb21tZW5kZWQucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnVuYmluZFNsaWNrKCk7XG59O1xuXG5NYXN0ZXJSZWNvbW1lbmRlZC5wcm90b3R5cGUuYmluZFNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy5tYXN0ZXJfcmVjb21tZW5kZWRfX3NsaWRlcicpLnNsaWNrKHtcbiAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICAgICAgc3BlZWQ6IDcwMCxcbiAgICAgICAgc2xpZGVzVG9TaG93OiA0LFxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMyxcbiAgICAgICAgcHJldkFycm93OiAnPGRpdiBjbGFzcz1cInNsaWNrLXByZXZcIj4nICtcbiAgICAgICAgJzxzdmcgY2xhc3M9XCJpY29uIGljb25fc3RyZWxrYVwiIHRpdGxlPVwiaWNvbl9zdHJlbGthXCIgcm9sZT1cImltZ1wiPicgK1xuICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiL2ljb24tc3ZnL3N2Zy1zeW1ib2xzLnN2ZyNpY29uX3N0cmVsa2FcIi8+JyArXG4gICAgICAgICc8L3N2Zz4nICtcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJzbGljay1uZXh0XCI+JyArXG4gICAgICAgICc8c3ZnIGNsYXNzPVwiaWNvbiBpY29uX3N0cmVsa2FcIiB0aXRsZT1cImljb25fc3RyZWxrYVwiIHJvbGU9XCJpbWdcIj4nICtcbiAgICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIi9pY29uLXN2Zy9zdmctc3ltYm9scy5zdmcjaWNvbl9zdHJlbGthXCIvPicgK1xuICAgICAgICAnPC9zdmc+JyArXG4gICAgICAgICc8L2Rpdj4nXG4gICAgfSk7XG59O1xuTWFzdGVyUmVjb21tZW5kZWQucHJvdG90eXBlLnVuYmluZFNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy5tYXN0ZXJfcmVjb21tZW5kZWRfX3NsaWRlcicpLnNsaWNrKFwidW5zbGlja1wiKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3RlclJ1YnJpa2E7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyLXJ1YnJpa2FcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFzdGVyUnVicmlrYSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk1hc3RlclJ1YnJpa2EucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuTWFzdGVyUnVicmlrYS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYXN0ZXJSdWJyaWthLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gT3RoZXJOZXdzSXRlbTtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJvdGhlci1uZXdzLWl0ZW1cIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gT3RoZXJOZXdzSXRlbSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk90aGVyTmV3c0l0ZW0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuT3RoZXJOZXdzSXRlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5PdGhlck5ld3NJdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gT3RoZXJOZXdzO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm90aGVyLW5ld3NcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gT3RoZXJOZXdzKCkge1xufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk90aGVyTmV3cy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5PdGhlck5ld3MucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuT3RoZXJOZXdzLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gT3RoZXJSZWNvbW1lbmRhdGlvbjtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJvdGhlci1yZWNvbW1lbmRhdGlvblwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBPdGhlclJlY29tbWVuZGF0aW9uKCkge1xufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk90aGVyUmVjb21tZW5kYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5PdGhlclJlY29tbWVuZGF0aW9uLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk90aGVyUmVjb21tZW5kYXRpb24ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBPdGhlclZhY2FuY3lJdGVtO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm90aGVyLXZhY2FuY3ktaXRlbVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBPdGhlclZhY2FuY3lJdGVtKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuT3RoZXJWYWNhbmN5SXRlbS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5PdGhlclZhY2FuY3lJdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk90aGVyVmFjYW5jeUl0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBPdGhlclZhY2FuY3k7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwib3RoZXItdmFjYW5jeVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBPdGhlclZhY2FuY3koKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5PdGhlclZhY2FuY3kucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxuICAgICAgICAudGhlbiAoZnVuY3Rpb24gKHJlcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFjYW5jeTogcmVzXG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuT3RoZXJWYWNhbmN5LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk90aGVyVmFjYW5jeS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1YmlrYXRvcjtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJydWJpa2F0b3JcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUnViaWthdG9yKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUnViaWthdG9yLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUnViaWthdG9yLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblJ1YmlrYXRvci5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VDb250YWN0O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtY29udGFjdFwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlQ29udGFjdCgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblBhZ2VDb250YWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJwaG9uZVwiOiBcIig4NDgyKSA3NDEtMTQ3XCIsXG4gICAgICAgIFwiZW1haWxcIjogXCJpbmZvQGZhY2VtYXN0ZXIucnVcIixcbiAgICAgICAgXCJhZHJlc3NcIjogXCLQsy4g0KLQvtC70YzRj9GC0YLQuCwg0YPQuy4g0JDQstGC0L7RgdGC0YDQvtC40YLQtdC70LXQuSA0MdCQLTFcIlxuICAgIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZUNvbnRhY3QucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZUNvbnRhY3QucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlRmVlZGJhY2s7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS1mZWVkYmFja1wiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlRmVlZGJhY2soKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5QYWdlRmVlZGJhY2sucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlRmVlZGJhY2sucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZUZlZWRiYWNrLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZUxvZ2luO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtbG9naW5cIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUGFnZUxvZ2luKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZUxvZ2luLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZUxvZ2luLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblBhZ2VMb2dpbi5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvcEZ1bmN0aW9uO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImRvcC1mdW5jdGlvblwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEb3BGdW5jdGlvbigpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbkRvcEZ1bmN0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJtZW51TWFzdGVyXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcIi9yZWdpc3RyYXRpb25cIixcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi0KHRgtCw0YLRjCDQnNCw0YHRgtC10YDQvtC8XCIsXG4gICAgICAgICAgICAgICAgXCJpY29uXCI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCIvcmVjb21tZW5kYXRpb25cIixcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi0JzQsNGB0YLQtdGA0LAg0L4g0YHQsNC50YLQtVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwibWVudUFib3V0XCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcIi9uZXdzXCIsXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcItCd0L7QstC+0YHRgtC4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCIvdmFjYW5jeVwiLFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLQktCw0LrQsNC90YHQuNC4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJtZW51QmF5ZGFcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiLzQwNFwiLFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLQmtC+0L3QutGD0YDRgdGLINCz0LDQt9C10YLRiyDQn9GA0LXQt9C10L3RglwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiLzQwNFwiLFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLQnNCw0YDRiNGA0YPRgtC60Lgg0KLQvtC70YzRj9GC0YLQuCDRgSAwMS4wMS4yMDE1XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCIvNDA0XCIsXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcItCU0LDRh9C90YvQtSDQv9C10YDQtdCy0L7Qt9C60LhcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImVtcHR5XCI6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuRG9wRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuRG9wRnVuY3Rpb24ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYWluO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1haW5cIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFpbigpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbk1haW4ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5NYWluLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cbk1haW4ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYWluRnVuY3Rpb247XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFpbi1mdW5jdGlvblwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYWluRnVuY3Rpb24oKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5NYWluRnVuY3Rpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBjb3VudE1hc3RlcjogJzEgMjM0INCc0LDRgdGC0LXRgNCwJ1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cbk1haW5GdW5jdGlvbi5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5NYWluRnVuY3Rpb24ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlTWFzdGVyUGFnZTtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJwYWdlLW1hc3Rlci1wYWdlXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VNYXN0ZXJQYWdlKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZU1hc3RlclBhZ2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlTWFzdGVyUGFnZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5QYWdlTWFzdGVyUGFnZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VNYXN0ZXJSdWJyaWthO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtbWFzdGVyLXJ1YnJpa2FcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUGFnZU1hc3RlclJ1YnJpa2EoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5QYWdlTWFzdGVyUnVicmlrYS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cblBhZ2VNYXN0ZXJSdWJyaWthLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblBhZ2VNYXN0ZXJSdWJyaWthLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZU5ld3NJdGVtO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtbmV3cy1pdGVtXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VOZXdzSXRlbSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblBhZ2VOZXdzSXRlbS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlTmV3c0l0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZU5ld3NJdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZU5ld3M7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS1uZXdzXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VOZXdzKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZU5ld3MucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlTmV3cy5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5QYWdlTmV3cy5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VPZmVydGE7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS1vZmVydGFcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUGFnZU9mZXJ0YSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblBhZ2VPZmVydGEucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlT2ZlcnRhLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblBhZ2VPZmVydGEucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlUmVjb21tZW5kYXRpb247XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS1yZWNvbW1lbmRhdGlvblwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlUmVjb21tZW5kYXRpb24oKSB7XG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZVJlY29tbWVuZGF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cblBhZ2VSZWNvbW1lbmRhdGlvbi5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5QYWdlUmVjb21tZW5kYXRpb24ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlUmVnaXN0cmF0aW9uO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtcmVnaXN0cmF0aW9uXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VSZWdpc3RyYXRpb24oKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5QYWdlUmVnaXN0cmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZVJlZ2lzdHJhdGlvbi5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5QYWdlUmVnaXN0cmF0aW9uLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZVJlcXVlc3Q7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS1yZXF1ZXN0XCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VSZXF1ZXN0KCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZVJlcXVlc3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlUmVxdWVzdC5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5QYWdlUmVxdWVzdC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VTYWxlQ2F0YWxvZztcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJwYWdlLXNhbGUtY2F0YWxvZ1wiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlU2FsZUNhdGFsb2coKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5QYWdlU2FsZUNhdGFsb2cucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlU2FsZUNhdGFsb2cucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZVNhbGVDYXRhbG9nLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZVNvdmV0eUNhdGFsb2c7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS1zb3ZldHktY2F0YWxvZ1wiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlU292ZXR5Q2F0YWxvZygpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblBhZ2VTb3ZldHlDYXRhbG9nLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZVNvdmV0eUNhdGFsb2cucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZVNvdmV0eUNhdGFsb2cucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlVmFjYW5jeUl0ZW07XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZS12YWNhbmN5LWl0ZW1cIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUGFnZVZhY2FuY3lJdGVtKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZVZhY2FuY3lJdGVtLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZVZhY2FuY3lJdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblBhZ2VWYWNhbmN5SXRlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VWYWNhbmN5O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtdmFjYW5jeVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlVmFjYW5jeSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblBhZ2VWYWNhbmN5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZVZhY2FuY3kucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZVZhY2FuY3kucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlVmlkZW9DYXRhbG9nO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2UtdmlkZW8tY2F0YWxvZ1wiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlVmlkZW9DYXRhbG9nKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZVZpZGVvQ2F0YWxvZy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5QYWdlVmlkZW9DYXRhbG9nLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblBhZ2VWaWRlb0NhdGFsb2cucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlc0NvbnRlbnQ7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZXMtY29udGVudFwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQYWdlc0NvbnRlbnQoKSB7IH1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5QYWdlc0NvbnRlbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqL1xuUGFnZXNDb250ZW50LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLmhpZGVMb2FkZXIoKTtcbn07XG5cbi8qKlxuICogSGlkZXMgbG9hZGVyIGluIHRlbXBsYXRlLlxuICovXG5QYWdlc0NvbnRlbnQucHJvdG90eXBlLmhpZGVMb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBsb2FkZXJzID0gdGhpcy4kY29udGV4dC5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYXQtbG9hZGVyJyk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZGVycy5sZW5ndGg7IGkrKykge1xuXHRcdGxvYWRlcnNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0fVxuXHR3aW5kb3cuc2Nyb2xsVG8oMCwwKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gRm9vdGVyO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInBhZ2VzLWZvb3RlclwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBGb290ZXIoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5Gb290ZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBsaW5rczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiL29mZXJ0YVwiLFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLQntGE0LXRgNGC0LBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcIi9jb250YWN0XCIsXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcItCa0L7QvdGC0LDQutGC0YtcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcIi9mZWVkYmFja1wiLFxuICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLQntCx0YDQsNGC0L3QsNGPINGB0LLRj9C30YxcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5Gb290ZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuRm9vdGVyLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZXNIZWFkZXI7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicGFnZXMtaGVhZGVyXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VzSGVhZGVyKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUGFnZXNIZWFkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEuaGVhZGVyO1xuICAgICAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUGFnZXNIZWFkZXIucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUGFnZXNIZWFkZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFBBR0VTID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbmZpZy9wYWdlcy5qc29uXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VzTmF2aWdhdGlvbjtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJwYWdlcy1uYXZpZ2F0aW9uXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2VzTmF2aWdhdGlvbigpIHtcbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5QYWdlc05hdmlnYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBtZW51OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluazogJy9jYXRhbG9nJyxcbiAgICAgICAgICAgICAgICBuYW1lOiBQQUdFUy5jYXRhbG9nLnRpdGxlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbms6ICcvcmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgbmFtZTogUEFHRVMucmVxdWVzdC50aXRsZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaW5rOiAnL3JlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICAgICAgbmFtZTogUEFHRVMucmVnaXN0cmF0aW9uLnRpdGxlXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWdpc3RyYXRpb25BYm91dDtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJyZWdpc3RyYXRpb24tYWJvdXRcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUmVnaXN0cmF0aW9uQWJvdXQoKSB7XG5cbn1cblxuLyoqXG4gKiBHZXRzIGRhdGEgY29udGV4dCBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gRGF0YSBjb250ZXh0XG4gKiBmb3IgdGVtcGxhdGUgZW5naW5lLlxuICovXG5SZWdpc3RyYXRpb25BYm91dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cblJlZ2lzdHJhdGlvbkFib3V0LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblJlZ2lzdHJhdGlvbkFib3V0LnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVnaXN0cmF0aW9uRmFxO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInJlZ2lzdHJhdGlvbi1mYXFcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUmVnaXN0cmF0aW9uRmFxKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUmVnaXN0cmF0aW9uRmFxLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUmVnaXN0cmF0aW9uRmFxLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblJlZ2lzdHJhdGlvbkZhcS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlZ2lzdHJhdGlvbkZvcm07XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicmVnaXN0cmF0aW9uLWZvcm1cIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUmVnaXN0cmF0aW9uRm9ybSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblJlZ2lzdHJhdGlvbkZvcm0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IFwiL3JlZy1tYXN0ZXIvc3VjY2Vzcy5qc29uXCIsXG4gICAgICAgIHVybExLOiBcIjQwNFwiLFxuICAgICAgICBtZXRob2Q6IFwiZ2V0XCJcbiAgICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cblJlZ2lzdHJhdGlvbkZvcm0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUmVnaXN0cmF0aW9uRm9ybS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlZ2lzdHJhdGlvbkhlYWRlcjtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJyZWdpc3RyYXRpb24taGVhZGVyXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFJlZ2lzdHJhdGlvbkhlYWRlcigpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblJlZ2lzdHJhdGlvbkhlYWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIFJldHVybnMgZXZlbnQgYmluZGluZyBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IEJpbmRpbmcgc2V0dGluZ3MuXG4gKi9cblJlZ2lzdHJhdGlvbkhlYWRlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5SZWdpc3RyYXRpb25IZWFkZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWdpc3RyYXRpb25Nb3JlUGFnZTtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBDYXQtY29tcG9uZW50IGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI2NhdC1jb21wb25lbnRzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJyZWdpc3RyYXRpb24tbW9yZS1wYWdlXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFJlZ2lzdHJhdGlvbk1vcmVQYWdlKCkge1xuXG59XG5cbi8qKlxuICogR2V0cyBkYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IERhdGEgY29udGV4dFxuICogZm9yIHRlbXBsYXRlIGVuZ2luZS5cbiAqL1xuUmVnaXN0cmF0aW9uTW9yZVBhZ2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5SZWdpc3RyYXRpb25Nb3JlUGFnZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5SZWdpc3RyYXRpb25Nb3JlUGFnZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlZ2lzdHJhdGlvblByaWNlO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInJlZ2lzdHJhdGlvbi1wcmljZVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSZWdpc3RyYXRpb25QcmljZSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblJlZ2lzdHJhdGlvblByaWNlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUmVnaXN0cmF0aW9uUHJpY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2xpY2s6IHtcbiAgICAgICAgICAgICcudGFiLWNvbnRlbnRfX25hbWUnOiB0aGlzLl9jbGlja0hhbmRsZVxuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBEb2VzIGNsZWFuaW5nIGZvciBldmVyeXRoaW5nIHRoYXQgaGF2ZSBOT1QgYmVlbiBzZXQgYnkgLmJpbmQoKSBtZXRob2QuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfHVuZGVmaW5lZH0gUHJvbWlzZSBvciBub3RoaW5nLlxuICovXG5SZWdpc3RyYXRpb25QcmljZS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5SZWdpc3RyYXRpb25QcmljZS5wcm90b3R5cGUuX2NsaWNrSGFuZGxlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBlbCA9ICQob2JqLnRhcmdldCk7XG4gICAgaWYgKCFlbC5oYXNDbGFzcygndGFiLWNvbnRlbnRfX25hbWUnKSlcbiAgICAgICAgZWwgPSBlbC5wYXJlbnRzKCcudGFiLWNvbnRlbnRfX25hbWUnKTtcblxuICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnRzKCcudGFiLWNvbnRlbnQnKTtcbiAgICBpZiAocGFyZW50Lmhhc0NsYXNzKCd0YWItY29udGVudF9hY3RpdmUnKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICQoJy50YWItY29udGVudF9hY3RpdmUnKS5yZW1vdmVDbGFzcygndGFiLWNvbnRlbnRfYWN0aXZlJyk7XG4gICAgcGFyZW50LmFkZENsYXNzKCd0YWItY29udGVudF9hY3RpdmUnKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVnaXN0cmF0aW9uV2h5V2U7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwicmVnaXN0cmF0aW9uLXdoeS13ZVwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSZWdpc3RyYXRpb25XaHlXZSgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblJlZ2lzdHJhdGlvbldoeVdlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY291bnQ6IHtcbiAgICAgICAgICAgIG1hc3RlcjogXCIxIDAwMFwiLFxuICAgICAgICAgICAgbWFzdGVyTmFtZTogXCLQvNCw0YHRgtC10YDQvtCyPGJyPtC90LAg0YHQsNC50YLQtVwiLFxuICAgICAgICAgICAgdmlzaXRzOiBcIjEyIDAwMFwiLFxuICAgICAgICAgICAgb3JkZXJzOiBcIjEgMDAwXCJcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuUmVnaXN0cmF0aW9uV2h5V2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuUmVnaXN0cmF0aW9uV2h5V2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBDYXRhbG9nO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImNhdGFsb2dcIiBjb21wb25lbnQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQ2F0YWxvZygpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cbkNhdGFsb2cucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBydWJyaWthdG9yOiBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5DYXRhbG9nLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNsaWNrOiB7XG4gICAgICAgICAgICAnLmpzLXJ1YnJpa2EtbGlzdCc6IHRoaXMuX2NsaWNrSGFuZGxlcixcbiAgICAgICAgICAgICcuanMtcnVicmlrYS1jb2xsYXBzZWQnOiB0aGlzLl9jbGlja0FsbEhhbmRsZXJcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbkNhdGFsb2cucHJvdG90eXBlLl9jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIGVsID0gb2JqLnRhcmdldDtcbiAgICAkKGVsKS5wYXJlbnRzKCcucnVicmlrYS1saXN0JykuZmluZCgnLnJ1YnJpa2EtbGlzdF9fbGlzdCcpLnRvZ2dsZSgpO1xufVxuXG5DYXRhbG9nLnByb3RvdHlwZS5fY2xpY2tBbGxIYW5kbGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBlbCA9IG9iai50YXJnZXQ7XG4gICAgdmFyIHNlbGYgPSAkKGVsKS5wYXJlbnRzKCcuanMtcnVicmlrYS1jb2xsYXBzZWQnKTtcblxuICAgIHZhciBjbCA9ICdtYXN0ZXItcnVicmlrYXRvci1wYWdlJztcbiAgICB2YXIgY2xfY29sID0gY2wgKyAnX2NvbGxhcHNlZCc7XG4gICAgdmFyIGVsID0gJCgnLm1hc3Rlci1ydWJyaWthdG9yLXBhZ2UnKTtcblxuICAgIGlmIChlbC5oYXNDbGFzcyhjbF9jb2wpKSB7XG4gICAgICAgIGVsLnJlbW92ZUNsYXNzKGNsX2NvbCk7XG4gICAgICAgICQoJy5ydWJyaWthLWxpc3RfX2xpc3QnKS5zaG93KCk7XG4gICAgICAgIHNlbGYuZmluZCgnLnJ1YnJpa2EtbGlzdF9fbmFtZScpLmh0bWwoJ9Ch0LLQtdGA0L3Rg9GC0Ywg0LLRgdC1INGA0YPQsdGA0LjQutC4JylcbiAgICAgICAgICAgIC5lbmQoKS5maW5kKCcucnVicmlrYS1saXN0X19pY29uJykuYWRkQ2xhc3MoJ3J1YnJpa2EtbGlzdF9faWNvbl9yb3RhdGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbC5hZGRDbGFzcyhjbF9jb2wpO1xuICAgICAgICAkKCcucnVicmlrYS1saXN0X19saXN0JykuaGlkZSgpO1xuICAgICAgICBzZWxmLmZpbmQoJy5ydWJyaWthLWxpc3RfX25hbWUnKS5odG1sKCfQoNCw0LfQstC10YDQvdGD0YLRjCDQstGB0LUg0YDRg9Cx0YDQuNC60LgnKVxuICAgICAgICAgICAgLmVuZCgpLmZpbmQoJy5ydWJyaWthLWxpc3RfX2ljb24nKS5yZW1vdmVDbGFzcygncnVicmlrYS1saXN0X19pY29uX3JvdGF0ZScpO1xuICAgIH1cbn1cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuQ2F0YWxvZy5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2g7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwic2VhcmNoXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFNlYXJjaCgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblNlYXJjaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIG1vZGlmaWNhdG9yOiB0aGlzLiRjb250ZXh0LmF0dHJpYnV0ZXMubW9kaWZpY2F0b3IsXG4gICAgdXJsOiAnJyxcbiAgICBtZXRob2Q6ICcnXG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuU2VhcmNoLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG4vKipcbiAqIERvZXMgY2xlYW5pbmcgZm9yIGV2ZXJ5dGhpbmcgdGhhdCBoYXZlIE5PVCBiZWVuIHNldCBieSAuYmluZCgpIG1ldGhvZC5cbiAqIFRoaXMgbWV0aG9kIGlzIG9wdGlvbmFsLlxuICogQHJldHVybnMge1Byb21pc2V8dW5kZWZpbmVkfSBQcm9taXNlIG9yIG5vdGhpbmcuXG4gKi9cblNlYXJjaC5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcnZpY2VSZXF1ZXN0O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IENhdC1jb21wb25lbnQgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjY2F0LWNvbXBvbmVudHNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInNlcnZpY2UtcmVxdWVzdFwiIGNvbXBvbmVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBTZXJ2aWNlUmVxdWVzdCgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblNlcnZpY2VSZXF1ZXN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogUmV0dXJucyBldmVudCBiaW5kaW5nIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50LlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gQmluZGluZyBzZXR0aW5ncy5cbiAqL1xuU2VydmljZVJlcXVlc3QucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuU2VydmljZVJlcXVlc3QucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uICgpIHtcblxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBTb2NpYWw7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgQ2F0LWNvbXBvbmVudCBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNjYXQtY29tcG9uZW50c1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwic29jaWFsXCIgY29tcG9uZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFNvY2lhbCgpIHtcblxufVxuXG4vKipcbiAqIEdldHMgZGF0YSBjb250ZXh0IGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBEYXRhIGNvbnRleHRcbiAqIGZvciB0ZW1wbGF0ZSBlbmdpbmUuXG4gKi9cblNvY2lhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHVybDogJ2h0dHA6Ly92ay5jb20vZm1fbWYnLFxuICAgICAgaWNvOiAndmsnXG4gICAgfSxcbiAgICB7XG4gICAgICB1cmw6ICdodHRwOi8vd3d3LmZhY2Vib29rLmNvbS9mYWNlLm1hc3QnLFxuICAgICAgaWNvOiAnZmInXG4gICAgfSxcbiAgICB7XG4gICAgICB1cmw6ICdodHRwOi8vd3d3Lm9kbm9rbGFzc25pa2kucnUvZmFjZW1hc3RlcicsXG4gICAgICBpY286ICdvaydcbiAgICB9LFxuICAgIHtcbiAgICAgIHVybDogJ2h0dHA6Ly90d2l0dGVyLmNvbS9GYWNlbWFzdGVyUnUnLFxuICAgICAgaWNvOiAndHcnXG4gICAgfVxuICBdO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGV2ZW50IGJpbmRpbmcgc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnQuXG4gKiBUaGlzIG1ldGhvZCBpcyBvcHRpb25hbC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBCaW5kaW5nIHNldHRpbmdzLlxuICovXG5Tb2NpYWwucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG5cbi8qKlxuICogRG9lcyBjbGVhbmluZyBmb3IgZXZlcnl0aGluZyB0aGF0IGhhdmUgTk9UIGJlZW4gc2V0IGJ5IC5iaW5kKCkgbWV0aG9kLlxuICogVGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gKiBAcmV0dXJucyB7UHJvbWlzZXx1bmRlZmluZWR9IFByb21pc2Ugb3Igbm90aGluZy5cbiAqL1xuU29jaWFsLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiAoKSB7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQQUdFUyA9IHJlcXVpcmUoXCIuLi9jb25maWcvcGFnZXMuanNvblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCcmVhZGNydW1wcztcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcImJyZWFkY3J1bXBzXCIgc3RvcmUuXG4gKiBAcGFyYW0ge1VIUn0gJHVociBVbml2ZXJzYWwgSFRUUCByZXF1ZXN0LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEJyZWFkY3J1bXBzKCR1aHIpIHtcbiAgICB0aGlzLl91aHIgPSAkdWhyO1xuICAgIHRoaXMuJGNvbnRleHQuc2V0RGVwZW5kZW5jeSgnUGFnZXMnKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuQnJlYWRjcnVtcHMucHJvdG90eXBlLl91aHIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbGlmZXRpbWUgb2YgZGF0YSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IGlzIHJldHVybmVkIGJ5IHRoaXMgc3RvcmUuXG4gKiBAdHlwZSB7bnVtYmVyfSBMaWZldGltZSBpbiBtaWxsaXNlY29uZHMuXG4gKi9cbkJyZWFkY3J1bXBzLnByb3RvdHlwZS4kbGlmZXRpbWUgPSA2MDAwMDtcblxuLyoqXG4gKiBMb2FkcyBkYXRhIGZyb20gcmVtb3RlIHNvdXJjZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBMb2FkZWQgZGF0YS5cbiAqL1xuQnJlYWRjcnVtcHMucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBicmNybXAgPSBbXTtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoJ1BhZ2VzJylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIGlmIChwYWdlLmN1cnJlbnQgPT0gXCJtYXN0ZXItcnVicmlrYVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9sb2FkRm9yUnVicmlrYSgpO1xuXG4gICAgICAgICAgICBpZiAocGFnZS5jdXJyZW50ID09IFwibmV3cy1pdGVtXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2xvYWRGb3JOZXdzSXRlbSgpO1xuXG4gICAgICAgICAgICBicmNybXAucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFBBR0VTW3BhZ2UuY3VycmVudF0udGl0bGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGJyY3JtcDtcbiAgICAgICAgfSk7XG59O1xuXG5CcmVhZGNydW1wcy5wcm90b3R5cGUuX2xvYWRGb3JSdWJyaWthID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoJ1RhZycpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgbGlua3M7XG4gICAgICAgICAgICBpZiAoZGF0YS50YWcudW5pcXVlKSB7XG4gICAgICAgICAgICAgICAgbGlua3MgPSBzZWxmLl9nZXRGb3JUYWcoZGF0YSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpbmtzID0gc2VsZi5fZ2V0Rm9yUnVicmlrYShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaW5rcztcbiAgICAgICAgfSk7XG59O1xuXG5CcmVhZGNydW1wcy5wcm90b3R5cGUuX2dldEZvclRhZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGxpbmtzID0gdGhpcy5fZ2V0Rm9yUnViQW5kVGFnKGRhdGEpO1xuICAgIGxpbmtzLnB1c2goe1xuICAgICAgICB0aXRsZTogZGF0YS5ydWJyaWthLm5hbWUsXG4gICAgICAgIHVybDogJy8nICsgZGF0YS5ydWJyaWthLnBhcmVudC51bmlxdWUgKyAnLycgKyBkYXRhLnJ1YnJpa2EudW5pcXVlXG4gICAgfSk7XG4gICAgbGlua3MucHVzaCh7XG4gICAgICAgIHRpdGxlOiBkYXRhLnRhZy5uYW1lXG4gICAgfSk7XG4gICAgcmV0dXJuIGxpbmtzO1xufTtcblxuQnJlYWRjcnVtcHMucHJvdG90eXBlLl9nZXRGb3JSdWJyaWthID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgbGlua3MgPSB0aGlzLl9nZXRGb3JSdWJBbmRUYWcoZGF0YSk7XG4gICAgbGlua3MucHVzaCh7XG4gICAgICAgIHRpdGxlOiBkYXRhLnJ1YnJpa2EubmFtZVxuICAgIH0pO1xuICAgIHJldHVybiBsaW5rcztcbn07XG5cbkJyZWFkY3J1bXBzLnByb3RvdHlwZS5fZ2V0Rm9yUnViQW5kVGFnID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgcG9kcnVicmlrcyA9IGRhdGEucnVicmlrYS5uZWFyYnk7XG4gICAgdmFyIGxpbmtzUG9kcnVicmlrcyA9IFtdO1xuICAgIHZhciBsaW5rcyA9IFtdO1xuXG4gICAgT2JqZWN0LmtleXMocG9kcnVicmlrcylcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgbGlua3NQb2RydWJyaWtzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBwb2RydWJyaWtzW251bV0ubmFtZSxcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyArIGRhdGEucnVicmlrYS5wYXJlbnQudW5pcXVlICsgJy8nICsgcG9kcnVicmlrc1tudW1dLnVuaXF1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgbGlua3MucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcItCa0LDRgtCw0LvQvtCzINGD0YHQu9GD0LNcIixcbiAgICAgICAgdXJsOiBcIi9jYXRhbG9nXCJcbiAgICB9KTtcblxuICAgIGxpbmtzLnB1c2goe1xuICAgICAgICB0aXRsZTogZGF0YS5ydWJyaWthLnBhcmVudC5uYW1lLFxuICAgICAgICB1cmw6IFwiL1wiICsgZGF0YS5ydWJyaWthLnBhcmVudC51bmlxdWUsXG4gICAgICAgIGxpbmtzOiBsaW5rc1BvZHJ1YnJpa3NcbiAgICB9KTtcbiAgICByZXR1cm4gbGlua3M7XG59O1xuXG5CcmVhZGNydW1wcy5wcm90b3R5cGUuX2xvYWRGb3JOZXdzSXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdvdGhlci9OZXdzSXRlbScpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgbGlua3MgPSBbXTtcbiAgICAgICAgICAgIGxpbmtzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcItCd0L7QstC+0YHRgtC4XCIsXG4gICAgICAgICAgICAgICAgdXJsOiBcIi9uZXdzXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGlua3MucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IGRhdGEudGl0bGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGxpbmtzO1xuICAgICAgICB9KTtcbn07XG4vKipcbiAqIEhhbmRsZXMgYWN0aW9uIG5hbWVkIFwic29tZS1hY3Rpb25cIiBmcm9tIGFueSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gUmVzcG9uc2UgdG8gY29tcG9uZW50LlxuICovXG5CcmVhZGNydW1wcy5wcm90b3R5cGUuaGFuZGxlU29tZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBIZXJlIHlvdSBjYW4gY2FsbCB0aGlzLiRjb250ZXh0LmNoYW5nZWQoKSBpZiB5b3Uga25vd1xuICAgIC8vIHRoYXQgcmVtb3RlIGRhdGEgc291cmNlIGhhcyBiZWVuIGNoYW5nZWQuXG4gICAgLy8gQWxzbyB5b3UgY2FuIGhhdmUgbWFueSBoYW5kbGUgbWV0aG9kcyBmb3Igb3RoZXIgYWN0aW9ucy5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQQUdFUyA9IHJlcXVpcmUoXCIuLi9jb25maWcvcGFnZXMuanNvblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBIZWFkO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IFN0b3JlIGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI3N0b3Jlc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwiaGVhZFwiIHN0b3JlLlxuICogQHBhcmFtIHtVSFJ9ICR1aHIgVW5pdmVyc2FsIEhUVFAgcmVxdWVzdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBIZWFkKCR1aHIpIHtcbiAgICB0aGlzLl91aHIgPSAkdWhyO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBcIm1haW5cIjtcbiAgICB0aGlzLiRjb250ZXh0LnNldERlcGVuZGVuY3koJ1BhZ2VzJyk7XG59XG5cbi8qKlxuICogQ3VycmVudCB1bml2ZXJzYWwgSFRUUCByZXF1ZXN0IHRvIGRvIGl0IGluIGlzb21vcnBoaWMgd2F5LlxuICogQHR5cGUge1VIUn1cbiAqIEBwcml2YXRlXG4gKi9cbkhlYWQucHJvdG90eXBlLl91aHIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbGlmZXRpbWUgb2YgZGF0YSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IGlzIHJldHVybmVkIGJ5IHRoaXMgc3RvcmUuXG4gKiBAdHlwZSB7bnVtYmVyfSBMaWZldGltZSBpbiBtaWxsaXNlY29uZHMuXG4gKi9cbkhlYWQucHJvdG90eXBlLiRsaWZldGltZSA9IDYwMDAwO1xuXG4vKipcbiAqIExvYWRzIGRhdGEgZnJvbSByZW1vdGUgc291cmNlLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IExvYWRlZCBkYXRhLlxuICovXG5IZWFkLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5nZXRTdG9yZURhdGEoJ1BhZ2VzJylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIGlmIChwYWdlLmN1cnJlbnQgPT0gXCJtYXN0ZXItcnVicmlrYVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9sb2FkRm9yUnVicmlrYSgpO1xuICAgICAgICAgICAgaWYgKHBhZ2UuY3VycmVudCA9PSBcIm5ld3MtaXRlbVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9sb2FkRm9yTmV3c0l0ZW0oKTtcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSBQQUdFU1twYWdlLmN1cnJlbnRdO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAvL3RpdGxlOiBkYXRhLnRpdGxlICsgJy4gRmFjZU1hc3Rlci5ydS4g0KHQv9C10YbQuNCw0LvQuNGB0YLRiyDQotC+0LvRjNGP0YLRgtC4JyxcbiAgICAgICAgICAgICAgICAvL2Rlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIC8va2V5d29yZHM6IGRhdGEua2V5d29yZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59O1xuXG5IZWFkLnByb3RvdHlwZS5fbG9hZEZvclJ1YnJpa2EgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdUYWcnKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS5jdXJyZW50U2VvLmhlYWRUaXRsZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5jdXJyZW50U2VvLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGtleXdvcmRzOiBkYXRhLmN1cnJlbnRTZW8ua2V5d29yZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59O1xuXG5IZWFkLnByb3RvdHlwZS5fbG9hZEZvck5ld3NJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLiRjb250ZXh0LmdldFN0b3JlRGF0YSgnb3RoZXIvTmV3c0l0ZW0nKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5wcmV2aWV3LFxuICAgICAgICAgICAgICAgIGtleXdvcmRzOiAn0L3QvtCy0L7RgdGC0YwsIGZhY2VtYXN0ZXInXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufTtcbi8qKlxuICogSGFuZGxlcyBhY3Rpb24gbmFtZWQgXCJzb21lLWFjdGlvblwiIGZyb20gYW55IGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBSZXNwb25zZSB0byBjb21wb25lbnQuXG4gKi9cbkhlYWQucHJvdG90eXBlLmhhbmRsZVNldEN1cnJlbnRQYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTtcbiAgICB0aGlzLiRjb250ZXh0LmNoYW5nZWQoKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQQUdFUyA9IHJlcXVpcmUoXCIuLi9jb25maWcvcGFnZXMuanNvblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlcztcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIlBhZ2VzXCIgc3RvcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gJGNvbmZpZyBBcHBsaWNhdGlvbiBjb25maWcuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUGFnZXMoJGNvbmZpZykge1xuICAgIHRoaXMuX2NvbmZpZyA9ICRjb25maWc7XG4gICAgdGhpcy4kY29udGV4dC5zZXREZXBlbmRlbmN5KCdUYWcnKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IGFwcGxpY2F0aW9uIGNvbmZpZy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5QYWdlcy5wcm90b3R5cGUuX2NvbmZpZyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBsaWZldGltZSBvZiBkYXRhIChpbiBtaWxsaXNlY29uZHMpIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBzdG9yZS5cbiAqIEB0eXBlIHtudW1iZXJ9IExpZmV0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuUGFnZXMucHJvdG90eXBlLiRsaWZldGltZSA9IDM2MDAwMDA7XG5cbi8qKlxuICogTG9hZHMgZGF0YSBmcm9tIHJlbW90ZSBzb3VyY2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gTG9hZGVkIGRhdGEuXG4gKi9cblBhZ2VzLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY3VycmVudFBhZ2UgPSBzZWxmLiRjb250ZXh0LnN0YXRlLnBhZ2U7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKDEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSBcIm1hc3Rlci1ydWJyaWthXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdUYWcnKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSBcIm1hc3Rlci1wYWdlXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdtYXN0ZXIvTWFzdGVySXRlbScpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IFwibmV3cy1pdGVtXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdvdGhlci9OZXdzSXRlbScpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IFwidmFjYW5jeS1pdGVtXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKCdvdGhlci9WYWNhbmN5SXRlbScpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQucmVkaXJlY3QoJy9tYWluJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghUEFHRVMuaGFzT3duUHJvcGVydHkoY3VycmVudFBhZ2UpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi4kY29udGV4dC5ub3RGb3VuZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgIGlzQWN0aXZlOiB7fSxcblxuICAgICAgICAgICAgICAgIGhlYWRlcjogc2VsZi5nZXRIZWFkZXJEYXRhKCksXG4gICAgICAgICAgICAgICAgZm9vdGVyOiBzZWxmLmdldEZvb3RlckRhdGEoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKFBBR0VTKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pc0FjdGl2ZVtwYWdlXSA9IChjdXJyZW50UGFnZSA9PT0gcGFnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbn07XG5cblBhZ2VzLnByb3RvdHlwZS5nZXRIZWFkZXJEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZpc2l0Q291bnQ6ICcxMiAzMjMg0L/QvtGB0LXRidC10L3QuNC5JyxcbiAgICAgICAgaXNHdWVzdDogdHJ1ZVxuICAgIH07XG59O1xuXG5QYWdlcy5wcm90b3R5cGUuZ2V0Rm9vdGVyRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwaG9uZTogJyg4NDgyKSA3NC00NC0xOSdcbiAgICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnaW5hdG9yO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IFN0b3JlIGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI3N0b3Jlc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwiUGFnaW5hdG9yXCIgc3RvcmUuXG4gKiBAcGFyYW0ge1VIUn0gJHVociBVbml2ZXJzYWwgSFRUUCByZXF1ZXN0LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhZ2luYXRvcigkdWhyKSB7XG4gICAgdGhpcy5fdWhyID0gJHVocjtcbiAgICB0aGlzLl9tb2RlbDtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuUGFnaW5hdG9yLnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5QYWdpbmF0b3IucHJvdG90eXBlLiRsaWZldGltZSA9IDYwMDAwO1xuXG4vKipcbiAqIExvYWRzIGRhdGEgZnJvbSByZW1vdGUgc291cmNlLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IExvYWRlZCBkYXRhLlxuICovXG5QYWdpbmF0b3IucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLl9tb2RlbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjdXJyZW50UGFnZSA9IHRoaXMuJGNvbnRleHQuc3RhdGUuY3VycmVudFBhZ2UgfHwgMTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoMSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKHNlbGYuX21vZGVsKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuc2VuZEFjdGlvbihzZWxmLl9tb2RlbCwgXCJnZXRQYWdpbmF0b3JcIilcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhWydpcy1wYWdpbmF0b3InXSA9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IGRhdGEuY3VycmVudCAtIDQgPCAwID8gMSA6IGRhdGEuY3VycmVudCAtIDQ7XG4gICAgICAgICAgICB2YXIgZW5kID0gc3RhcnQgKyA5IDwgZGF0YS5jb3VudCA/IHN0YXJ0ICsgOSA6IGRhdGEuY291bnQ7XG4gICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgXCJpcy1zZWxlY3RlZFwiOiAoZGF0YS5jdXJyZW50ID09IGkpLFxuICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBkYXRhLnVybCArIGksXG4gICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCI6IGlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogc2VsZi5fbW9kZWwsXG4gICAgICAgICAgICAgICAgXCJpcy1wYWdpbmF0b3JcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGRhdGEudXJsICsgMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZGF0YS51cmwgKyBkYXRhLmNvdW50XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsaXN0OiBsaXN0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGFjdGlvbiBuYW1lZCBcInNvbWUtYWN0aW9uXCIgZnJvbSBhbnkgY29tcG9uZW50LlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IFJlc3BvbnNlIHRvIGNvbXBvbmVudC5cbiAqL1xuUGFnaW5hdG9yLnByb3RvdHlwZS5oYW5kbGVTZXRNb2RlbCA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG59O1xuUGFnaW5hdG9yLnByb3RvdHlwZS5oYW5kbGVHZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dC5zdGF0ZS5jdXJyZW50UGFnZSB8fCAxO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhZztcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInRhZ1wiIHN0b3JlLlxuICogQHBhcmFtIHtVSFJ9ICR1aHIgVW5pdmVyc2FsIEhUVFAgcmVxdWVzdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUYWcoJHVocikge1xuICAgIHRoaXMuX3VociA9ICR1aHI7XG4gICAgdGhpcy4kY29udGV4dC5zZXREZXBlbmRlbmN5KCdydWJyaWthL1J1YnJpa2EnKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuVGFnLnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5UYWcucHJvdG90eXBlLiRsaWZldGltZSA9IDYwMDAwO1xuXG4vKipcbiAqIExvYWRzIGRhdGEgZnJvbSByZW1vdGUgc291cmNlLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IExvYWRlZCBkYXRhLlxuICovXG5UYWcucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBzZWN0aW9uID0gdGhpcy4kY29udGV4dC5zdGF0ZS5zZWN0aW9uIHx8ICdtYXN0ZXInO1xuICAgIHZhciB0YWcgPSB0aGlzLiRjb250ZXh0LnN0YXRlLnRhZyB8fCAnJztcbiAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuJGNvbnRleHQuZ2V0U3RvcmVEYXRhKFwicnVicmlrYS9SdWJyaWthXCIpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChydWJyaWthKSB7XG4gICAgICAgICAgICBkYXRhLnJ1YnJpa2EgPSBydWJyaWthO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSAnaHR0cDovL2FwaS1mbS5wcmVzZW50LXRsdC5ydS90YWcnO1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogJ1tbXCI9XCIsIFwidW5pcXVlXCIsIFwiJyArIHRhZyArICdcIl1dJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZDogJ3NlbydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3Voci5nZXQocGF0aCwgb3B0aW9uKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5jb2RlID49IDQwMCAmJiByZXN1bHQuc3RhdHVzLmNvZGUgPCA2MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LnN0YXR1cy50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuY29udGVudFswXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRhZ0RhdGEpIHtcbiAgICAgICAgICAgIGlmICh0YWcgJiYgdGFnRGF0YSA9PSB7fSlcbiAgICAgICAgICAgICAgICBzZWxmLiRjb250ZXh0Lm5vdEZvdW5kKCk7XG5cbiAgICAgICAgICAgIGRhdGEudGFnID0gdGFnRGF0YTtcbiAgICAgICAgICAgIGRhdGEuc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgICAgICAgICBkYXRhLmN1cnJlbnRTZW8gPSB0YWcgPyBzZWxmLl9nZXRDdXJyZW50U2VvKGRhdGEudGFnLCBkYXRhLnNlY3Rpb24pIDogc2VsZi5fZ2V0Q3VycmVudFNlbyhkYXRhLnJ1YnJpa2EsIGRhdGEuc2VjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgYWN0aW9uIG5hbWVkIFwic29tZS1hY3Rpb25cIiBmcm9tIGFueSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gUmVzcG9uc2UgdG8gY29tcG9uZW50LlxuICovXG5UYWcucHJvdG90eXBlLmhhbmRsZVNvbWVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSGVyZSB5b3UgY2FuIGNhbGwgdGhpcy4kY29udGV4dC5jaGFuZ2VkKCkgaWYgeW91IGtub3dcbiAgICAvLyB0aGF0IHJlbW90ZSBkYXRhIHNvdXJjZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgIC8vIEFsc28geW91IGNhbiBoYXZlIG1hbnkgaGFuZGxlIG1ldGhvZHMgZm9yIG90aGVyIGFjdGlvbnMuXG59O1xuXG5UYWcucHJvdG90eXBlLl9nZXRDdXJyZW50U2VvID0gZnVuY3Rpb24gKGRhdGEsIHNlY3Rpb24pIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIHZhciBzZW8gPSBkYXRhLnNlbztcblxuICAgIE9iamVjdC5rZXlzKHNlbylcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKHNlY3Rpb24gPT0gc2VvW2tleV0uc2VjdGlvbilcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzZW9ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgaWYgKCFyZXN1bHQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWFkVGl0bGU6IGRhdGEubmFtZSxcbiAgICAgICAgICAgIHBhZ2VUaXRsZTogZGF0YS5uYW1lXG4gICAgICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGF0ZUZvcm1hdCA9IHJlcXVpcmUoJy4uLy4uL2xpYi91dGlsL0RhdGVGb3JtYXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJJdGVtO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IFN0b3JlIGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI3N0b3Jlc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwibWFzdGVyL01hc3Rlckl0ZW1cIiBzdG9yZS5cbiAqIEBwYXJhbSB7VUhSfSAkdWhyIFVuaXZlcnNhbCBIVFRQIHJlcXVlc3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFzdGVySXRlbSgkdWhyKSB7XG4gICAgdGhpcy5fdWhyID0gJHVocjtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuTWFzdGVySXRlbS5wcm90b3R5cGUuX3VociA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBsaWZldGltZSBvZiBkYXRhIChpbiBtaWxsaXNlY29uZHMpIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBzdG9yZS5cbiAqIEB0eXBlIHtudW1iZXJ9IExpZmV0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuTWFzdGVySXRlbS5wcm90b3R5cGUuJGxpZmV0aW1lID0gNjAwMDA7XG5cbi8qKlxuICogTG9hZHMgZGF0YSBmcm9tIHJlbW90ZSBzb3VyY2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gTG9hZGVkIGRhdGEuXG4gKi9cbk1hc3Rlckl0ZW0ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBpZCA9IHRoaXMuJGNvbnRleHQuc3RhdGUuaXRlbTtcbiAgICBpZiAoIWlkKVxuICAgICAgICByZXR1cm47XG5cbiAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBub3cgPSBkYXRlRm9ybWF0KG5vdywgXCJ5eXl5LW1tLWRkXCIpO1xuICAgIHZhciBwYXRoID0gJ2h0dHA6Ly9hcGktZm0ucHJlc2VudC10bHQucnUvbWFzdGVyLXBhZ2UnO1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmaWx0ZXI6ICdbXCJhbmRcIiwgW1wiPVwiLFwibnVtYmVyXCIsIFwiJyArIGlkICsgJ1wiXSxbXCI8PVwiLCBcImRhdGVTdGFydFwiLCBcIicgKyBub3cgKyAnXCJdLFtcIj49XCIsIFwiZGF0ZUVuZFwiLCBcIicgKyBub3cgKyAnXCJdXSdcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Voci5nZXQocGF0aCwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuY29kZSA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cy5jb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXMudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmNvbnRlbnQubGVuZ3RoID09IDApXG4gICAgICAgICAgICAgICAgc2VsZi4kY29udGV4dC5ub3RGb3VuZCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvbnRlbnRbMF07XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICB2YXIgcGF0aE0gPSAnaHR0cDovL2FwaS1mbS5wcmVzZW50LXRsdC5ydS9tYXN0ZXInO1xuICAgICAgICAgICAgdmFyIG9wdGlvbk0gPSB7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXI6ICdbXCJhbmRcIiwgW1wiPVwiLCBcImlkXCIsIFwiJyArIHBhZ2UubWFzdGVySUQgKyAnXCJdLFtcIj1cIixcInB1YmxpY1N0YXR1c1wiLCBcIjFcIl1dJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kOiAnY29udGFjdHMsYXJ0aWNsZXMsY29tbWVudHMsZGlzdHJpY3RzLGFsYnVtcyxzYWxlcyxzY2hlZHVsZSx2aWRlb3Msd29ya0NvbmRpdGlvbixjYWxsYmFja3MsdmtMaWtlcyxydWJyaWthLHRhZ3MsY29tcGFueSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3Voci5nZXQocGF0aE0sIG9wdGlvbk0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5jb2RlID49IDQwMCAmJiByZXN1bHQuc3RhdHVzLmNvZGUgPCA2MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuc3RhdHVzLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuY29udGVudC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJGNvbnRleHQubm90Rm91bmQoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3VsdC5jb250ZW50WzBdO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnNlcnZpY2VzID0gSlNPTi5wYXJzZShkYXRhLnNlcnZpY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pc0Jsb2NrID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VzczogcGFnZS5zZXJ2aWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcItCj0YHQu9GD0LPQuFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcms6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLQo9GB0LvQvtCy0LjRjyDRgNCw0LHQvtGC0YtcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzYWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzOiBwYWdlLnNhbGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi0KHQutC40LTQutC4INC4INC/0L7QtNCw0YDQutC4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoZGF0YS5zYWxlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi0J4g0YHQtdCx0LVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGRhdGEuYWJvdXRFZHVjIHx8IGRhdGEuYWJvdXRFeHAgfHxkYXRhLmFib3V0QWRkSW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3M6IHBhZ2UuYXJ0aWNsZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLQn9C+0LvQtdC30L3QviDQv9C+0YfQuNGC0LDRgtGMXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoZGF0YS5hcnRpY2xlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzOiBwYWdlLmFsYnVtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcItCk0L7RgtC+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoZGF0YS5hbGJ1bXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VzczogcGFnZS52aWRlb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLQktC40LTQtdC+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoZGF0YS52aWRlb3MubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzOiBwYWdlLmxpbmtzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwi0KHRgdGL0LvQutC4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoZGF0YS5saW5rcylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3M6IHBhZ2UuY29tbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCLQntGC0LfRi9Cy0Ysg0Lgg0YDQtdC60L7QvNC10L3QtNCw0YbQuNC4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRhdGEucGFnZSA9IHBhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbn07XG5cbi8qKlxuICogSGFuZGxlcyBhY3Rpb24gbmFtZWQgXCJzb21lLWFjdGlvblwiIGZyb20gYW55IGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBSZXNwb25zZSB0byBjb21wb25lbnQuXG4gKi9cbk1hc3Rlckl0ZW0ucHJvdG90eXBlLmhhbmRsZVNvbWVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSGVyZSB5b3UgY2FuIGNhbGwgdGhpcy4kY29udGV4dC5jaGFuZ2VkKCkgaWYgeW91IGtub3dcbiAgICAvLyB0aGF0IHJlbW90ZSBkYXRhIHNvdXJjZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgIC8vIEFsc28geW91IGNhbiBoYXZlIG1hbnkgaGFuZGxlIG1ldGhvZHMgZm9yIG90aGVyIGFjdGlvbnMuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hc3Rlckxpc3Q7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgU3RvcmUgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjc3RvcmVzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJtYXN0ZXIvbWFzdGVyTGlzdFwiIHN0b3JlLlxuICogQHBhcmFtIHtVSFJ9ICR1aHIgVW5pdmVyc2FsIEhUVFAgcmVxdWVzdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYXN0ZXJMaXN0KCR1aHIpIHtcbiAgICB0aGlzLl91aHIgPSAkdWhyO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgdW5pdmVyc2FsIEhUVFAgcmVxdWVzdCB0byBkbyBpdCBpbiBpc29tb3JwaGljIHdheS5cbiAqIEB0eXBlIHtVSFJ9XG4gKiBAcHJpdmF0ZVxuICovXG5NYXN0ZXJMaXN0LnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5NYXN0ZXJMaXN0LnByb3RvdHlwZS4kbGlmZXRpbWUgPSA2MDAwMDtcblxuLyoqXG4gKiBMb2FkcyBkYXRhIGZyb20gcmVtb3RlIHNvdXJjZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBMb2FkZWQgZGF0YS5cbiAqL1xuTWFzdGVyTGlzdC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcG9kcnVicmlrYSA9IHRoaXMuJGNvbnRleHQuc3RhdGUucG9kcnVicmlrYTtcbiAgICBpZiAoIXBvZHJ1YnJpa2EpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdWhyLmdldChcbiAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvZGF0YS1qc29uL21hc3Rlci5qc29uJ1xuICAgICAgICApXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLmNvZGUgPj0gNDAwICYmIHJlc3VsdC5zdGF0dXMuY29kZSA8IDYwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuc3RhdHVzLnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LmNvbnRlbnQucG9kcnVicmlrYSA9IHBvZHJ1YnJpa2E7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuY29udGVudDtcbiAgICAgICAgfSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgYWN0aW9uIG5hbWVkIFwic29tZS1hY3Rpb25cIiBmcm9tIGFueSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gUmVzcG9uc2UgdG8gY29tcG9uZW50LlxuICovXG5NYXN0ZXJMaXN0LnByb3RvdHlwZS5oYW5kbGVTb21lQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEhlcmUgeW91IGNhbiBjYWxsIHRoaXMuJGNvbnRleHQuY2hhbmdlZCgpIGlmIHlvdSBrbm93XG4gICAgLy8gdGhhdCByZW1vdGUgZGF0YSBzb3VyY2UgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAvLyBBbHNvIHlvdSBjYW4gaGF2ZSBtYW55IGhhbmRsZSBtZXRob2RzIGZvciBvdGhlciBhY3Rpb25zLlxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBNYXN0ZXJTb3ZldHk7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRcdFN0b3JlUGFnaW5hdG9yID0gcmVxdWlyZSgnLi4vLi4vbGliL1N0b3JlUGFnaW5hdG9yJyk7XG5cbnV0aWwuaW5oZXJpdHMoTWFzdGVyU292ZXR5LCBTdG9yZVBhZ2luYXRvcik7XG5cbmZ1bmN0aW9uIE1hc3RlclNvdmV0eSgpIHtcblx0U3RvcmVQYWdpbmF0b3IuY2FsbCh0aGlzKTtcblx0dGhpcy5fcGF0aCA9ICdodHRwOi8vYXBpLWZtLnByZXNlbnQtdGx0LnJ1L2FydGljbGUvYWN0aXZlJztcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRkYXRhOiB7XG5cdFx0XHRvcmRlcjogJ2lkIERFU0MnXG5cdFx0fVxuXHR9O1xuXHR0aGlzLl91cmwgPSBcIi9zb3ZldHkvcGFnZS9cIjtcblx0dGhpcy5fY2F0YWxvZyA9IHRoaXMuJGNvbnRleHQuc3RhdGUuY2F0YWxvZztcblx0aWYgKHRoaXMuX2NhdGFsb2cpIHtcblx0XHR0aGlzLl9vcHRpb25zLmRhdGEuZmlsdGVyID0gJ1tbXCI9XCIsXCJydWJyaWthSURcIixcIicgKyB0aGlzLl9jYXRhbG9nICsgJ1wiXV0nO1xuXHRcdHRoaXMuX3VybCA9IFwiL3NvdmV0eS9jYXRhbG9nL1wiICsgdGhpcy5fY2F0YWxvZyArIFwiL3BhZ2UvXCI7XG5cdH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gTWFzdGVyVmlkZW87XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuICAgIFN0b3JlUGFnaW5hdG9yID0gcmVxdWlyZSgnLi4vLi4vbGliL1N0b3JlUGFnaW5hdG9yJyk7XG5cbnV0aWwuaW5oZXJpdHMoTWFzdGVyVmlkZW8sIFN0b3JlUGFnaW5hdG9yKTtcblxuZnVuY3Rpb24gTWFzdGVyVmlkZW8oKSB7XG4gICAgU3RvcmVQYWdpbmF0b3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLl9wYXRoID0gJ2h0dHA6Ly9hcGktZm0ucHJlc2VudC10bHQucnUvdmlkZW8vYWN0aXZlJztcbiAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBvcmRlcjogJ2lkIERFU0MnXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX3VybCA9IFwiL3ZpZGVvL3BhZ2UvXCI7XG4gICAgdGhpcy5fY2F0YWxvZyA9IHRoaXMuJGNvbnRleHQuc3RhdGUuY2F0YWxvZztcbiAgICBpZiAodGhpcy5fY2F0YWxvZykge1xuICAgICAgICB0aGlzLl9vcHRpb25zLmRhdGEuZmlsdGVyID0gJ1tbXCI9XCIsXCJydWJyaWthSURcIixcIicgKyB0aGlzLl9jYXRhbG9nICsgJ1wiXV0nO1xuICAgICAgICB0aGlzLl91cmwgPSBcIi92aWRlby9jYXRhbG9nL1wiICsgdGhpcy5fY2F0YWxvZyArIFwiL3BhZ2UvXCI7XG4gICAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWNvbW1lbmRlZDtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm1hc3Rlci9SZWNvbW1lbmRlZFwiIHN0b3JlLlxuICogQHBhcmFtIHtVSFJ9ICR1aHIgVW5pdmVyc2FsIEhUVFAgcmVxdWVzdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSZWNvbW1lbmRlZCgkdWhyKSB7XG5cdHRoaXMuX3VociA9ICR1aHI7XG59XG5cbi8qKlxuICogQ3VycmVudCB1bml2ZXJzYWwgSFRUUCByZXF1ZXN0IHRvIGRvIGl0IGluIGlzb21vcnBoaWMgd2F5LlxuICogQHR5cGUge1VIUn1cbiAqIEBwcml2YXRlXG4gKi9cblJlY29tbWVuZGVkLnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5SZWNvbW1lbmRlZC5wcm90b3R5cGUuJGxpZmV0aW1lID0gNjAwMDA7XG5cbi8qKlxuICogTG9hZHMgZGF0YSBmcm9tIHJlbW90ZSBzb3VyY2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gTG9hZGVkIGRhdGEuXG4gKi9cblJlY29tbWVuZGVkLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQvLyBIZXJlIHlvdSBjYW4gZG8gYW55IEhUVFAgcmVxdWVzdHMgdXNpbmcgdGhpcy5fdWhyLlxuXHQvLyBQbGVhc2UgcmVhZCBkZXRhaWxzIGhlcmUgaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5LXVoci5cbn07XG5cbi8qKlxuICogSGFuZGxlcyBhY3Rpb24gbmFtZWQgXCJzb21lLWFjdGlvblwiIGZyb20gYW55IGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBSZXNwb25zZSB0byBjb21wb25lbnQuXG4gKi9cblJlY29tbWVuZGVkLnByb3RvdHlwZS5oYW5kbGVTb21lQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQvLyBIZXJlIHlvdSBjYW4gY2FsbCB0aGlzLiRjb250ZXh0LmNoYW5nZWQoKSBpZiB5b3Uga25vd1xuXHQvLyB0aGF0IHJlbW90ZSBkYXRhIHNvdXJjZSBoYXMgYmVlbiBjaGFuZ2VkLlxuXHQvLyBBbHNvIHlvdSBjYW4gaGF2ZSBtYW55IGhhbmRsZSBtZXRob2RzIGZvciBvdGhlciBhY3Rpb25zLlxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBOZXdzO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgICBTdG9yZVBhZ2luYXRvciA9IHJlcXVpcmUoJy4uLy4uL2xpYi9TdG9yZVBhZ2luYXRvcicpO1xuXG51dGlsLmluaGVyaXRzKE5ld3MsIFN0b3JlUGFnaW5hdG9yKTtcblxuZnVuY3Rpb24gTmV3cygpIHtcbiAgICBTdG9yZVBhZ2luYXRvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuX3BhdGggPSAnaHR0cDovL2FwaS1mbS5wcmVzZW50LXRsdC5ydS9hYm91dC1uZXdzJztcbiAgICB0aGlzLl9vcHRpb25zID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmaWx0ZXI6ICdbW1wiPVwiLFwic3RhdHVzXCIsXCIxXCJdXScsXG4gICAgICAgICAgICBvcmRlcjogJ2RhdGUgREVTQydcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5fdXJsID0gXCIvbmV3cy9wYWdlL1wiO1xufSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBOZXdzSXRlbTtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcIm90aGVyL05ld3NJdGVtXCIgc3RvcmUuXG4gKiBAcGFyYW0ge1VIUn0gJHVociBVbml2ZXJzYWwgSFRUUCByZXF1ZXN0LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE5ld3NJdGVtKCR1aHIpIHtcbiAgICB0aGlzLl91aHIgPSAkdWhyO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgdW5pdmVyc2FsIEhUVFAgcmVxdWVzdCB0byBkbyBpdCBpbiBpc29tb3JwaGljIHdheS5cbiAqIEB0eXBlIHtVSFJ9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXdzSXRlbS5wcm90b3R5cGUuX3VociA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBsaWZldGltZSBvZiBkYXRhIChpbiBtaWxsaXNlY29uZHMpIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBzdG9yZS5cbiAqIEB0eXBlIHtudW1iZXJ9IExpZmV0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuTmV3c0l0ZW0ucHJvdG90eXBlLiRsaWZldGltZSA9IDYwMDAwO1xuXG4vKipcbiAqIExvYWRzIGRhdGEgZnJvbSByZW1vdGUgc291cmNlLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IExvYWRlZCBkYXRhLlxuICovXG5OZXdzSXRlbS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLiRjb250ZXh0LnN0YXRlLml0ZW07XG4gICAgdmFyIHBhdGggPSAnaHR0cDovL2FwaS1mbS5wcmVzZW50LXRsdC5ydS9hYm91dC1uZXdzJztcbiAgICBpZiAoIWl0ZW0pXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBvcHRpb24gPSB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZpbHRlcjogJ1tbXCI9XCIsXCJpZFwiLFwiJyArIGl0ZW0gKyAnXCJdLFtcIj1cIiwgXCJzdGF0dXNcIiwgXCIxXCJdXSdcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Voci5nZXQocGF0aCwgb3B0aW9uKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuY29kZSA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cy5jb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXMudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmNvbnRlbnQubGVuZ3RoID09IDApXG4gICAgICAgICAgICAgICAgc2VsZi4kY29udGV4dC5ub3RGb3VuZCgpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvbnRlbnRbMF07XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGFjdGlvbiBuYW1lZCBcInNvbWUtYWN0aW9uXCIgZnJvbSBhbnkgY29tcG9uZW50LlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IFJlc3BvbnNlIHRvIGNvbXBvbmVudC5cbiAqL1xuTmV3c0l0ZW0ucHJvdG90eXBlLmhhbmRsZVNvbWVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBIZXJlIHlvdSBjYW4gY2FsbCB0aGlzLiRjb250ZXh0LmNoYW5nZWQoKSBpZiB5b3Uga25vd1xuICAgIC8vIHRoYXQgcmVtb3RlIGRhdGEgc291cmNlIGhhcyBiZWVuIGNoYW5nZWQuXG4gICAgLy8gQWxzbyB5b3UgY2FuIGhhdmUgbWFueSBoYW5kbGUgbWV0aG9kcyBmb3Igb3RoZXIgYWN0aW9ucy5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjb21tZW5kYXRpb247XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuICAgIFN0b3JlUGFnaW5hdG9yID0gcmVxdWlyZSgnLi4vLi4vbGliL1N0b3JlUGFnaW5hdG9yJyk7XG5cbnV0aWwuaW5oZXJpdHMoUmVjb21tZW5kYXRpb24sIFN0b3JlUGFnaW5hdG9yKTtcblxuZnVuY3Rpb24gUmVjb21tZW5kYXRpb24oKSB7XG4gICAgU3RvcmVQYWdpbmF0b3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLl9wYXRoID0gJ2h0dHA6Ly9hcGktZm0ucHJlc2VudC10bHQucnUvYWJvdXQtY29tbWVudCc7XG4gICAgdGhpcy5fdXJsID0gXCIvcmVjb21tZW5kYXRpb24vcGFnZS9cIjtcbn0iLCIndXNlIHN0cmljdCc7XG52YXIgZGF0ZUZvcm1hdCA9IHJlcXVpcmUoJy4uLy4uL2xpYi91dGlsL0RhdGVGb3JtYXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBWYWNhbmN5O1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IFN0b3JlIGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI3N0b3Jlc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwib3RoZXIvdmFjYW5jeVwiIHN0b3JlLlxuICogQHBhcmFtIHtVSFJ9ICR1aHIgVW5pdmVyc2FsIEhUVFAgcmVxdWVzdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBWYWNhbmN5KCR1aHIpIHtcbiAgICB0aGlzLl91aHIgPSAkdWhyO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgdW5pdmVyc2FsIEhUVFAgcmVxdWVzdCB0byBkbyBpdCBpbiBpc29tb3JwaGljIHdheS5cbiAqIEB0eXBlIHtVSFJ9XG4gKiBAcHJpdmF0ZVxuICovXG5WYWNhbmN5LnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5WYWNhbmN5LnByb3RvdHlwZS4kbGlmZXRpbWUgPSA2MDAwMDtcblxuLyoqXG4gKiBMb2FkcyBkYXRhIGZyb20gcmVtb3RlIHNvdXJjZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBMb2FkZWQgZGF0YS5cbiAqL1xuVmFjYW5jeS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGF0aCA9ICdodHRwOi8vYXBpLWZtLnByZXNlbnQtdGx0LnJ1L2Fib3V0LXZhY2FuY3knO1xuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgIG5vdyA9IGRhdGVGb3JtYXQobm93LCBcInl5eXktbW0tZGRcIik7XG4gICAgbm93ID0gXCIyMDE0LTAzLTIwXCI7IC8v0LTQu9GPINGC0LXRgdGC0LAgLSDRg9Cx0YDQsNGC0YwhXG5cbiAgICB2YXIgb3B0aW9uID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmaWx0ZXI6ICdbXCJhbmRcIixbXCI8PVwiLFwiY3JlYXRlRGF0ZVwiLFwiJyArIG5vdyArICdcIl0sW1wiPj1cIiwgXCJlbmREYXRlXCIsIFwiJyArIG5vdyArICdcIl0sW1wiPVwiLCBcInN0YXR1c1wiLCBcIjFcIl1dJ1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5fdWhyLmdldChwYXRoLCBvcHRpb24pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLmNvZGUgPj0gNDAwICYmIHJlc3VsdC5zdGF0dXMuY29kZSA8IDYwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuc3RhdHVzLnRleHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvbnRlbnQ7XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGFjdGlvbiBuYW1lZCBcInNvbWUtYWN0aW9uXCIgZnJvbSBhbnkgY29tcG9uZW50LlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IFJlc3BvbnNlIHRvIGNvbXBvbmVudC5cbiAqL1xuVmFjYW5jeS5wcm90b3R5cGUuaGFuZGxlU29tZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBIZXJlIHlvdSBjYW4gY2FsbCB0aGlzLiRjb250ZXh0LmNoYW5nZWQoKSBpZiB5b3Uga25vd1xuICAgIC8vIHRoYXQgcmVtb3RlIGRhdGEgc291cmNlIGhhcyBiZWVuIGNoYW5nZWQuXG4gICAgLy8gQWxzbyB5b3UgY2FuIGhhdmUgbWFueSBoYW5kbGUgbWV0aG9kcyBmb3Igb3RoZXIgYWN0aW9ucy5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkYXRlRm9ybWF0ID0gcmVxdWlyZSgnLi4vLi4vbGliL3V0aWwvRGF0ZUZvcm1hdCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZhY2FuY3lJdGVtO1xuXG4vKlxuICogVGhpcyBpcyBhIENhdGJlcnJ5IFN0b3JlIGZpbGUuXG4gKiBNb3JlIGRldGFpbHMgY2FuIGJlIGZvdW5kIGhlcmVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI3N0b3Jlc1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFwib3RoZXIvdmFjYW5jeUl0ZW1cIiBzdG9yZS5cbiAqIEBwYXJhbSB7VUhSfSAkdWhyIFVuaXZlcnNhbCBIVFRQIHJlcXVlc3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVmFjYW5jeUl0ZW0oJHVocikge1xuICAgIHRoaXMuX3VociA9ICR1aHI7XG59XG5cbi8qKlxuICogQ3VycmVudCB1bml2ZXJzYWwgSFRUUCByZXF1ZXN0IHRvIGRvIGl0IGluIGlzb21vcnBoaWMgd2F5LlxuICogQHR5cGUge1VIUn1cbiAqIEBwcml2YXRlXG4gKi9cblZhY2FuY3lJdGVtLnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5WYWNhbmN5SXRlbS5wcm90b3R5cGUuJGxpZmV0aW1lID0gNjAwMDA7XG5cbi8qKlxuICogTG9hZHMgZGF0YSBmcm9tIHJlbW90ZSBzb3VyY2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gTG9hZGVkIGRhdGEuXG4gKi9cblZhY2FuY3lJdGVtLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaWQgPSB0aGlzLiRjb250ZXh0LnN0YXRlLml0ZW07XG4gICAgaWYgKCFpZClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciBwYXRoID0gJ2h0dHA6Ly9hcGktZm0ucHJlc2VudC10bHQucnUvYWJvdXQtdmFjYW5jeSc7XG4gICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgbm93ID0gZGF0ZUZvcm1hdChub3csIFwieXl5eS1tbS1kZFwiKTtcbiAgICBub3cgPSBcIjIwMTQtMDMtMjBcIjsgLy/QtNC70Y8g0YLQtdGB0YLQsCAtINGD0LHRgNCw0YLRjCFcblxuICAgIHZhciBvcHRpb24gPSB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZpbHRlcjogJ1tcImFuZFwiLFtcIj1cIiwgXCJpZFwiLCBcIicgKyBpZCArICdcIl0sW1wiPD1cIixcImNyZWF0ZURhdGVcIixcIicgKyBub3cgKyAnXCJdLFtcIj49XCIsIFwiZW5kRGF0ZVwiLCBcIicgKyBub3cgKyAnXCJdLFtcIj1cIiwgXCJzdGF0dXNcIiwgXCIxXCJdXSdcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Voci5nZXQocGF0aCwgb3B0aW9uKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5jb2RlID49IDQwMCAmJiByZXN1bHQuc3RhdHVzLmNvZGUgPCA2MDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LnN0YXR1cy50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQuY29udGVudC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICBzZWxmLiRjb250ZXh0Lm5vdEZvdW5kKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuY29udGVudFswXSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvbnRlbnRbMF07XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGFjdGlvbiBuYW1lZCBcInNvbWUtYWN0aW9uXCIgZnJvbSBhbnkgY29tcG9uZW50LlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IFJlc3BvbnNlIHRvIGNvbXBvbmVudC5cbiAqL1xuVmFjYW5jeUl0ZW0ucHJvdG90eXBlLmhhbmRsZVNvbWVBY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSGVyZSB5b3UgY2FuIGNhbGwgdGhpcy4kY29udGV4dC5jaGFuZ2VkKCkgaWYgeW91IGtub3dcbiAgICAvLyB0aGF0IHJlbW90ZSBkYXRhIHNvdXJjZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgIC8vIEFsc28geW91IGNhbiBoYXZlIG1hbnkgaGFuZGxlIG1ldGhvZHMgZm9yIG90aGVyIGFjdGlvbnMuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1YnJpa2E7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgU3RvcmUgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjc3RvcmVzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJydWJyaWthL1J1YnJpa2FcIiBzdG9yZS5cbiAqIEBwYXJhbSB7VUhSfSAkdWhyIFVuaXZlcnNhbCBIVFRQIHJlcXVlc3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUnVicmlrYSgkdWhyKSB7XG4gICAgdGhpcy5fdWhyID0gJHVocjtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuUnVicmlrYS5wcm90b3R5cGUuX3VociA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBsaWZldGltZSBvZiBkYXRhIChpbiBtaWxsaXNlY29uZHMpIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBzdG9yZS5cbiAqIEB0eXBlIHtudW1iZXJ9IExpZmV0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuUnVicmlrYS5wcm90b3R5cGUuJGxpZmV0aW1lID0gNjAwMDA7XG5cbi8qKlxuICogTG9hZHMgZGF0YSBmcm9tIHJlbW90ZSBzb3VyY2UuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gTG9hZGVkIGRhdGEuXG4gKi9cblJ1YnJpa2EucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBydWJyaWthID0gdGhpcy4kY29udGV4dC5zdGF0ZS5ydWJyaWthO1xuICAgIHZhciBwb2RydWJyaWthID0gdGhpcy4kY29udGV4dC5zdGF0ZS5wb2RydWJyaWthO1xuXG4gICAgaWYgKCFwb2RydWJyaWthKSB7XG4gICAgICAgIHNlbGYuJGNvbnRleHQubm90Rm91bmQoKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gJ2h0dHA6Ly9hcGktZm0ucHJlc2VudC10bHQucnUvcnVicmlrYSc7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZpbHRlcjogJ1tbXCI9XCIsIFwidW5pcXVlXCIsIFwiJyArIHBvZHJ1YnJpa2EgKyAnXCJdXScsXG4gICAgICAgICAgICBleHBhbmQ6IFwidGFncyxwYXJlbnQsbmVhcmJ5LHNlb1wiXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl91aHIuZ2V0KHVybCwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuY29kZSA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cy5jb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXMudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmNvbnRlbnQubGVuZ3RoID09IDApXG4gICAgICAgICAgICAgICAgc2VsZi4kY29udGV4dC5ub3RGb3VuZCgpO1xuXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3VsdC5jb250ZW50WzBdO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wYXJlbnRJRCA9PSAwKVxuICAgICAgICAgICAgICAgIHNlbGYuJGNvbnRleHQubm90Rm91bmQoKTtcblxuICAgICAgICAgICAgaWYgKHJ1YnJpa2EgIT0gZGF0YS5wYXJlbnQudW5pcXVlKVxuICAgICAgICAgICAgICAgIHNlbGYuJGNvbnRleHQubm90Rm91bmQoKTtcblxuICAgICAgICAgICAgZGF0YS5wb2RydWJyaWthID0gcG9kcnVicmlrYTtcbiAgICAgICAgICAgIGRhdGEucnVicmlrYSA9IHJ1YnJpa2E7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgYWN0aW9uIG5hbWVkIFwic29tZS1hY3Rpb25cIiBmcm9tIGFueSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gUmVzcG9uc2UgdG8gY29tcG9uZW50LlxuICovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1YnJpa2F0b3I7XG5cbi8qXG4gKiBUaGlzIGlzIGEgQ2F0YmVycnkgU3RvcmUgZmlsZS5cbiAqIE1vcmUgZGV0YWlscyBjYW4gYmUgZm91bmQgaGVyZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhdGJlcnJ5L2NhdGJlcnJ5L2Jsb2IvbWFzdGVyL2RvY3MvaW5kZXgubWQjc3RvcmVzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgXCJydWJyaWthL1J1YnJpa2F0b3JcIiBzdG9yZS5cbiAqIEBwYXJhbSB7VUhSfSAkdWhyIFVuaXZlcnNhbCBIVFRQIHJlcXVlc3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gUnVicmlrYXRvcigkdWhyKSB7XG4gICAgdGhpcy5fdWhyID0gJHVocjtcbiAgICB0aGlzLl9wYXRoID0gJ2h0dHA6Ly9hcGktZm0ucHJlc2VudC10bHQucnUvcnVicmlrYSc7XG4gICAgdGhpcy5fb3B0aW9ucyA9IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZmlsdGVyOiAnW1tcIj1cIiwgXCJzdGF0dXNcIiwgXCIxXCJdXScsXG4gICAgICAgICAgICBleHBhbmQ6ICdtYXN0ZXJDb3VudCcsXG4gICAgICAgICAgICBvcmRlcjogJ3NvcnQnLFxuICAgICAgICAgICAgbGltaXQ6IDIwMFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuUnVicmlrYXRvci5wcm90b3R5cGUuX3VociA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBsaWZldGltZSBvZiBkYXRhIChpbiBtaWxsaXNlY29uZHMpIHRoYXQgaXMgcmV0dXJuZWQgYnkgdGhpcyBzdG9yZS5cbiAqIEB0eXBlIHtudW1iZXJ9IExpZmV0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuUnVicmlrYXRvci5wcm90b3R5cGUuJGxpZmV0aW1lID0gNjAwMDAwO1xuXG4vKipcbiAqIExvYWRzIGRhdGEgZnJvbSByZW1vdGUgc291cmNlLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IExvYWRlZCBkYXRhLlxuICovXG5cblJ1YnJpa2F0b3IucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Voci5nZXQodGhpcy5fcGF0aCwgdGhpcy5fb3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuY29kZSA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cy5jb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXMudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3VsdC5jb250ZW50O1xuICAgICAgICAgICAgdmFyIHBvZHJ1YnJpa3NUcmVlID0ge307XG4gICAgICAgICAgICB2YXIgcm9vdFRyZWUgPSB7fTtcbiAgICAgICAgICAgIHZhciByb290VHJlZUNvdW50ID0ge307XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBkYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5wYXJlbnRJRCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290VHJlZVtlbC5zb3J0XSA9IHtlbDogZWx9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwb2RydWJyaWtzVHJlZVtlbC5wYXJlbnRJRF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9kcnVicmlrc1RyZWVbZWwucGFyZW50SURdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBwb2RydWJyaWtzVHJlZVtlbC5wYXJlbnRJRF0ucHVzaChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290VHJlZUNvdW50W2VsLnBhcmVudElEXSA9ICtlbC5tYXN0ZXJDb3VudCArIChyb290VHJlZUNvdW50W2VsLnBhcmVudElEXSA/IHJvb3RUcmVlQ291bnRbZWwucGFyZW50SURdIDogIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHJvb3RUcmVlKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9kcnVicmlrc1RyZWVbcm9vdFRyZWVba2V5XS5lbC5pZF0uc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEubmFtZSA+IGIubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RUcmVlW2tleV0ucG9kcnVicmlrcyA9IHBvZHJ1YnJpa3NUcmVlW3Jvb3RUcmVlW2tleV0uZWwuaWRdO1xuICAgICAgICAgICAgICAgICAgICByb290VHJlZVtrZXldLmNvdW50ID0gcm9vdFRyZWVDb3VudFtyb290VHJlZVtrZXldLmVsLmlkXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByb290VHJlZTtcbiAgICAgICAgfSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgYWN0aW9uIG5hbWVkIFwic29tZS1hY3Rpb25cIiBmcm9tIGFueSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fE9iamVjdHxudWxsfHVuZGVmaW5lZH0gUmVzcG9uc2UgdG8gY29tcG9uZW50LlxuICovXG5SdWJyaWthdG9yLnByb3RvdHlwZS5oYW5kbGVTb21lQWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEhlcmUgeW91IGNhbiBjYWxsIHRoaXMuJGNvbnRleHQuY2hhbmdlZCgpIGlmIHlvdSBrbm93XG4gICAgLy8gdGhhdCByZW1vdGUgZGF0YSBzb3VyY2UgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAvLyBBbHNvIHlvdSBjYW4gaGF2ZSBtYW55IGhhbmRsZSBtZXRob2RzIGZvciBvdGhlciBhY3Rpb25zLlxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBSdWJyaWthdG9yQ29tcGFueTtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG5cdFx0UnVicmlrYXRvciA9IHJlcXVpcmUoJy4vUnVicmlrYXRvcicpO1xuXG51dGlsLmluaGVyaXRzKFJ1YnJpa2F0b3JDb21wYW55LCBSdWJyaWthdG9yKTtcblxuZnVuY3Rpb24gUnVicmlrYXRvckNvbXBhbnkoKSB7XG5cdFJ1YnJpa2F0b3IuY2FsbCh0aGlzKTtcblx0dGhpcy5fcGF0aCA9ICdodHRwOi8vYXBpLWZtLnByZXNlbnQtdGx0LnJ1L3J1YnJpa2EtY29tcGFueSc7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0ZGF0YToge1xuXHRcdFx0ZmlsdGVyOiAnW1tcIj1cIiwgXCJzdGF0dXNcIiwgXCIxXCJdXScsXG5cdFx0XHRvcmRlcjogJ3NvcnQnLFxuXHRcdFx0bGltaXQ6IDIwMFxuXHRcdH1cblx0fTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUnVicmlrYXRvclBhcmVudDtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBcInJ1YnJpa2EvUnVicmlrYXRvclBhcmVudFwiIHN0b3JlLlxuICogQHBhcmFtIHtVSFJ9ICR1aHIgVW5pdmVyc2FsIEhUVFAgcmVxdWVzdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSdWJyaWthdG9yUGFyZW50KCR1aHIpIHtcbiAgICB0aGlzLl91aHIgPSAkdWhyO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgdW5pdmVyc2FsIEhUVFAgcmVxdWVzdCB0byBkbyBpdCBpbiBpc29tb3JwaGljIHdheS5cbiAqIEB0eXBlIHtVSFJ9XG4gKiBAcHJpdmF0ZVxuICovXG5SdWJyaWthdG9yUGFyZW50LnByb3RvdHlwZS5fdWhyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGxpZmV0aW1lIG9mIGRhdGEgKGluIG1pbGxpc2Vjb25kcykgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIHN0b3JlLlxuICogQHR5cGUge251bWJlcn0gTGlmZXRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICovXG5SdWJyaWthdG9yUGFyZW50LnByb3RvdHlwZS4kbGlmZXRpbWUgPSA2MDAwMDtcblxuLyoqXG4gKiBMb2FkcyBkYXRhIGZyb20gcmVtb3RlIHNvdXJjZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBMb2FkZWQgZGF0YS5cbiAqL1xuUnVicmlrYXRvclBhcmVudC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGF0aCA9ICdodHRwOi8vYXBpLWZtLnByZXNlbnQtdGx0LnJ1L3J1YnJpa2EnO1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBmaWx0ZXI6ICdbW1wiPVwiLCBcInBhcmVudElEXCIsIFwiMFwiXV0nLFxuICAgICAgICAgICAgb3JkZXI6ICduYW1lJyxcbiAgICAgICAgICAgIGxpbWl0OiAyMDBcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Voci5nZXQocGF0aCwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuY29kZSA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cy5jb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXMudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmNvbnRlbnQ7XG4gICAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGFjdGlvbiBuYW1lZCBcInNvbWUtYWN0aW9uXCIgZnJvbSBhbnkgY29tcG9uZW50LlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0PnxPYmplY3R8bnVsbHx1bmRlZmluZWR9IFJlc3BvbnNlIHRvIGNvbXBvbmVudC5cbiAqL1xuUnVicmlrYXRvclBhcmVudC5wcm90b3R5cGUuaGFuZGxlU29tZUFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBIZXJlIHlvdSBjYW4gY2FsbCB0aGlzLiRjb250ZXh0LmNoYW5nZWQoKSBpZiB5b3Uga25vd1xuICAgIC8vIHRoYXQgcmVtb3RlIGRhdGEgc291cmNlIGhhcyBiZWVuIGNoYW5nZWQuXG4gICAgLy8gQWxzbyB5b3UgY2FuIGhhdmUgbWFueSBoYW5kbGUgbWV0aG9kcyBmb3Igb3RoZXIgYWN0aW9ucy5cbn07XG4iLCJtb2R1bGUuZXhwb3J0cz17XG5cdFwidGl0bGVcIjogXCJGYWNlTWFzdGVyLnJ1XCIsXG5cdFwiaXNSZWxlYXNlXCI6IHRydWVcbn1cbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJtYWluXCI6IHtcbiAgICBcInRpdGxlXCI6IFwi0J/QvtC40YHQuiDQnNCw0YHRgtC10YDQvtCyINCyINGB0YTQtdGA0LUg0YPRgdC70YPQs1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCLQn9C+0LjRgdC6INCc0LDRgdGC0LXRgNC+0LIg0LIg0YHRhNC10YDQtSDRg9GB0LvRg9CzXCIsXG4gICAgXCJrZXl3b3Jkc1wiOiBcItC/0L7QuNGB0Log0YPRgdC70YPQsywg0LzQsNGB0YLQtdGA0LAsINGB0L/QtdGG0LjQsNC70LjRgdGC0Ysg0KLQvtC70YzRj9GC0YLQuFwiXG4gIH0sXG4gIFwiY2F0YWxvZ1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCa0LDRgtCw0LvQvtCzINGD0YHQu9GD0LNcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgXCJrZXl3b3Jkc1wiOiBcIlwiXG4gIH0sXG4gIFwicmVxdWVzdFwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCX0LDQutCw0LfQsNGC0Ywg0YPRgdC70YPQs9GDXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgIFwia2V5d29yZHNcIjogXCJcIlxuICB9LFxuICBcInJlZ2lzdHJhdGlvblwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCh0YLQsNGC0Ywg0JzQsNGB0YLQtdGA0L7QvFwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICBcImtleXdvcmRzXCI6IFwiXCJcbiAgfSxcbiAgXCJsb2dpblwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCS0YXQvtC0INC00LvRjyDQnNCw0YHRgtC10YDQvtCyXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgIFwia2V5d29yZHNcIjogXCJcIlxuICB9LFxuICBcInNhbGVcIjoge1xuICAgIFwidGl0bGVcIjogXCIg0JrQsNGC0LDQu9C+0LMg0YHQutC40LTQutC4INC4INC/0L7QtNCw0YDQutC4XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgIFwia2V5d29yZHNcIjogXCJcIlxuICB9LFxuICBcInZpZGVvXCI6IHtcbiAgICBcInRpdGxlXCI6IFwi0JLQuNC00LXQviDQnNCw0YHRgtC10YDQvtCyXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgIFwia2V5d29yZHNcIjogXCJcIlxuICB9LFxuICBcInNvdmV0eVwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCh0LXQutGA0LXRgtGLINC80LDRgdGC0LXRgNC+0LJcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgXCJrZXl3b3Jkc1wiOiBcIlwiXG4gIH0sXG4gIFwiY29tcGFueVwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCa0LDRgtCw0LvQvtCzINC60L7QvNC/0LDQvdC40LlcIixcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiXCIsXG4gICAgXCJrZXl3b3Jkc1wiOiBcIlwiXG4gIH0sXG4gIFwicmVjb21tZW5kYXRpb25cIjoge1xuICAgIFwidGl0bGVcIjogXCLQoNC10LrQvtC80LXQvdC00LDRhtC40Lgg0JzQsNGB0YLQtdGA0L7QslwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCLQoNC10LrQvtC80LXQvdC00LDRhtC40Lgg0JzQsNGB0YLQtdGA0L7QslwiLFxuICAgIFwia2V5d29yZHNcIjogXCLQvtGC0LfRi9Cy0YssINGA0LXQutC+0LzQtdC90LTQsNGG0LjQuFwiXG4gIH0sXG4gIFwibmV3c1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCd0L7QstC+0YHRgtC4XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgIFwia2V5d29yZHNcIjogXCJcIlxuICB9LFxuICBcInZhY2FuY3lcIjoge1xuICAgIFwidGl0bGVcIjogXCLQktCw0LrQsNC90YHQuNC4XCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlwiLFxuICAgIFwia2V5d29yZHNcIjogXCJcIlxuICB9LFxuICBcIm9mZXJ0YVwiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCe0YTQtdGA0YLQsFwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICBcImtleXdvcmRzXCI6IFwiXCJcbiAgfSxcbiAgXCJjb250YWN0XCI6IHtcbiAgICBcInRpdGxlXCI6IFwi0JrQvtC90YLQsNC60YLRi1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICBcImtleXdvcmRzXCI6IFwiXCJcbiAgfSxcbiAgXCJmZWVkYmFja1wiOiB7XG4gICAgXCJ0aXRsZVwiOiBcItCe0LHRgNCw0YLQvdCw0Y8g0YHQstGP0LfRjFwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJcIixcbiAgICBcImtleXdvcmRzXCI6IFwiXCJcbiAgfSxcbiAgXCJtYXN0ZXItcnVicmlrYVwiOiB7fSxcbiAgXCJtYXN0ZXItcGFnZVwiOiB7fSxcbiAgXCJuZXdzLWl0ZW1cIjoge30sXG4gIFwidmFjYW5jeS1pdGVtXCI6IHt9LFxuICBcImtvbmt1cnMtaXRlbVwiOiB7fVxufSIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBTdG9yZVBhZ2luYXRvcjtcblxuLypcbiAqIFRoaXMgaXMgYSBDYXRiZXJyeSBTdG9yZSBmaWxlLlxuICogTW9yZSBkZXRhaWxzIGNhbiBiZSBmb3VuZCBoZXJlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2F0YmVycnkvY2F0YmVycnkvYmxvYi9tYXN0ZXIvZG9jcy9pbmRleC5tZCNzdG9yZXNcbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7VUhSfSAkdWhyIFVuaXZlcnNhbCBIVFRQIHJlcXVlc3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gU3RvcmVQYWdpbmF0b3IoKSB7XG4gICAgdGhpcy5fdWhyID0gdGhpcy4kY29udGV4dC5sb2NhdG9yLnJlc29sdmUoJ3VocicpO1xuICAgIHRoaXMuX3BhZ2VDb3VudCA9IDE7XG4gICAgdGhpcy5fY3VycmVudFBhZ2UgPSAxO1xuICAgIHRoaXMuX3BhdGggPSAnJztcbiAgICB0aGlzLl9vcHRpb25zID0ge2RhdGE6IHt9fTtcbiAgICB0aGlzLl91cmwgPSAnJztcblxuICAgIHRoaXMuJGNvbnRleHQuc2V0RGVwZW5kZW5jeShcIlBhZ2luYXRvclwiKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHVuaXZlcnNhbCBIVFRQIHJlcXVlc3QgdG8gZG8gaXQgaW4gaXNvbW9ycGhpYyB3YXkuXG4gKiBAdHlwZSB7VUhSfVxuICogQHByaXZhdGVcbiAqL1xuU3RvcmVQYWdpbmF0b3IucHJvdG90eXBlLl91aHIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbGlmZXRpbWUgb2YgZGF0YSAoaW4gbWlsbGlzZWNvbmRzKSB0aGF0IGlzIHJldHVybmVkIGJ5IHRoaXMgc3RvcmUuXG4gKiBAdHlwZSB7bnVtYmVyfSBMaWZldGltZSBpbiBtaWxsaXNlY29uZHMuXG4gKi9cblN0b3JlUGFnaW5hdG9yLnByb3RvdHlwZS4kbGlmZXRpbWUgPSA2MDAwMDtcblxuLyoqXG4gKiBMb2FkcyBkYXRhIGZyb20gcmVtb3RlIHNvdXJjZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD58T2JqZWN0fG51bGx8dW5kZWZpbmVkfSBMb2FkZWQgZGF0YS5cbiAqL1xuU3RvcmVQYWdpbmF0b3IucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwYXRoID0gdGhpcy5fcGF0aDtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoMSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuJGNvbnRleHQuc2VuZEFjdGlvbihcIlBhZ2luYXRvclwiLCBcImdldEN1cnJlbnRQYWdlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgc2VsZi5fY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgc2VsZi5fb3B0aW9ucy5kYXRhLnBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3Voci5nZXQocGF0aCwgc2VsZi5fb3B0aW9ucylcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuY29kZSA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cy5jb2RlIDwgNjAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5zdGF0dXMudGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGYuX3BhZ2VDb3VudCA9IHJlc3VsdC5zdGF0dXMuaGVhZGVyc1sneC1wYWdpbmF0aW9uLXBhZ2UtY291bnQnXTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHNlbGYuX2N1cnJlbnRQYWdlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VsdC5jb250ZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbn07XG5cblxuU3RvcmVQYWdpbmF0b3IucHJvdG90eXBlLmhhbmRsZUdldFBhZ2luYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuX3BhZ2VDb3VudCB8fCB0aGlzLl9wYWdlQ291bnQgPT0gMSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJpcy1wYWdpbmF0b3JcIjogZmFsc2VcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBcImlzLXBhZ2luYXRvclwiOiB0cnVlLFxuICAgICAgICBcInVybFwiOiB0aGlzLl91cmwsXG4gICAgICAgIFwiY291bnRcIjogdGhpcy5fcGFnZUNvdW50LFxuICAgICAgICBcImN1cnJlbnRcIjogdGhpcy5fY3VycmVudFBhZ2VcbiAgICB9O1xufTsiLCIvKlxuICogRGF0ZSBGb3JtYXQgMS4yLjNcbiAqIChjKSAyMDA3LTIwMDkgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4gKiBNSVQgbGljZW5zZVxuICpcbiAqIEluY2x1ZGVzIGVuaGFuY2VtZW50cyBieSBTY290dCBUcmVuZGEgPHNjb3R0LnRyZW5kYS5uZXQ+XG4gKiBhbmQgS3JpcyBLb3dhbCA8Y2l4YXIuY29tL35rcmlzLmtvd2FsLz5cbiAqXG4gKiBBY2NlcHRzIGEgZGF0ZSwgYSBtYXNrLCBvciBhIGRhdGUgYW5kIGEgbWFzay5cbiAqIFJldHVybnMgYSBmb3JtYXR0ZWQgdmVyc2lvbiBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSBkYXRlIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRhdGUvdGltZS5cbiAqIFRoZSBtYXNrIGRlZmF1bHRzIHRvIGRhdGVGb3JtYXQubWFza3MuZGVmYXVsdC5cbiAqL1xuXG52YXIgZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXJcdHRva2VuID0gL2R7MSw0fXxtezEsNH18eXkoPzp5eSk/fChbSGhNc1R0XSlcXDE/fFtMbG9TWl18XCJbXlwiXSpcInwnW14nXSonL2csXG4gICAgICAgIHRpbWV6b25lID0gL1xcYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXFxkezR9KT8pXFxiL2csXG4gICAgICAgIHRpbWV6b25lQ2xpcCA9IC9bXi0rXFxkQS1aXS9nLFxuICAgICAgICBwYWQgPSBmdW5jdGlvbiAodmFsLCBsZW4pIHtcbiAgICAgICAgICAgIHZhbCA9IFN0cmluZyh2YWwpO1xuICAgICAgICAgICAgbGVuID0gbGVuIHx8IDI7XG4gICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IGxlbikgdmFsID0gXCIwXCIgKyB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9O1xuXG4gICAgLy8gUmVnZXhlcyBhbmQgc3VwcG9ydGluZyBmdW5jdGlvbnMgYXJlIGNhY2hlZCB0aHJvdWdoIGNsb3N1cmVcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGUsIG1hc2ssIHV0Yykge1xuICAgICAgICB2YXIgZEYgPSBkYXRlRm9ybWF0O1xuXG4gICAgICAgIC8vIFlvdSBjYW4ndCBwcm92aWRlIHV0YyBpZiB5b3Ugc2tpcCBvdGhlciBhcmdzICh1c2UgdGhlIFwiVVRDOlwiIG1hc2sgcHJlZml4KVxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRlKSA9PSBcIltvYmplY3QgU3RyaW5nXVwiICYmICEvXFxkLy50ZXN0KGRhdGUpKSB7XG4gICAgICAgICAgICBtYXNrID0gZGF0ZTtcbiAgICAgICAgICAgIGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYXNzaW5nIGRhdGUgdGhyb3VnaCBEYXRlIGFwcGxpZXMgRGF0ZS5wYXJzZSwgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGRhdGUgPSBkYXRlID8gbmV3IERhdGUoZGF0ZSkgOiBuZXcgRGF0ZTtcbiAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB0aHJvdyBTeW50YXhFcnJvcihcImludmFsaWQgZGF0ZVwiKTtcblxuICAgICAgICBtYXNrID0gU3RyaW5nKGRGLm1hc2tzW21hc2tdIHx8IG1hc2sgfHwgZEYubWFza3NbXCJkZWZhdWx0XCJdKTtcblxuICAgICAgICAvLyBBbGxvdyBzZXR0aW5nIHRoZSB1dGMgYXJndW1lbnQgdmlhIHRoZSBtYXNrXG4gICAgICAgIGlmIChtYXNrLnNsaWNlKDAsIDQpID09IFwiVVRDOlwiKSB7XG4gICAgICAgICAgICBtYXNrID0gbWFzay5zbGljZSg0KTtcbiAgICAgICAgICAgIHV0YyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXJcdF8gPSB1dGMgPyBcImdldFVUQ1wiIDogXCJnZXRcIixcbiAgICAgICAgICAgIGQgPSBkYXRlW18gKyBcIkRhdGVcIl0oKSxcbiAgICAgICAgICAgIEQgPSBkYXRlW18gKyBcIkRheVwiXSgpLFxuICAgICAgICAgICAgbSA9IGRhdGVbXyArIFwiTW9udGhcIl0oKSxcbiAgICAgICAgICAgIHkgPSBkYXRlW18gKyBcIkZ1bGxZZWFyXCJdKCksXG4gICAgICAgICAgICBIID0gZGF0ZVtfICsgXCJIb3Vyc1wiXSgpLFxuICAgICAgICAgICAgTSA9IGRhdGVbXyArIFwiTWludXRlc1wiXSgpLFxuICAgICAgICAgICAgcyA9IGRhdGVbXyArIFwiU2Vjb25kc1wiXSgpLFxuICAgICAgICAgICAgTCA9IGRhdGVbXyArIFwiTWlsbGlzZWNvbmRzXCJdKCksXG4gICAgICAgICAgICBvID0gdXRjID8gMCA6IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSxcbiAgICAgICAgICAgIGZsYWdzID0ge1xuICAgICAgICAgICAgICAgIGQ6ICAgIGQsXG4gICAgICAgICAgICAgICAgZGQ6ICAgcGFkKGQpLFxuICAgICAgICAgICAgICAgIGRkZDogIGRGLmkxOG4uZGF5TmFtZXNbRF0sXG4gICAgICAgICAgICAgICAgZGRkZDogZEYuaTE4bi5kYXlOYW1lc1tEICsgN10sXG4gICAgICAgICAgICAgICAgbTogICAgbSArIDEsXG4gICAgICAgICAgICAgICAgbW06ICAgcGFkKG0gKyAxKSxcbiAgICAgICAgICAgICAgICBtbW06ICBkRi5pMThuLm1vbnRoTmFtZXNbbV0sXG4gICAgICAgICAgICAgICAgbW1tbTogZEYuaTE4bi5tb250aE5hbWVzW20gKyAxMl0sXG4gICAgICAgICAgICAgICAgeXk6ICAgU3RyaW5nKHkpLnNsaWNlKDIpLFxuICAgICAgICAgICAgICAgIHl5eXk6IHksXG4gICAgICAgICAgICAgICAgaDogICAgSCAlIDEyIHx8IDEyLFxuICAgICAgICAgICAgICAgIGhoOiAgIHBhZChIICUgMTIgfHwgMTIpLFxuICAgICAgICAgICAgICAgIEg6ICAgIEgsXG4gICAgICAgICAgICAgICAgSEg6ICAgcGFkKEgpLFxuICAgICAgICAgICAgICAgIE06ICAgIE0sXG4gICAgICAgICAgICAgICAgTU06ICAgcGFkKE0pLFxuICAgICAgICAgICAgICAgIHM6ICAgIHMsXG4gICAgICAgICAgICAgICAgc3M6ICAgcGFkKHMpLFxuICAgICAgICAgICAgICAgIGw6ICAgIHBhZChMLCAzKSxcbiAgICAgICAgICAgICAgICBMOiAgICBwYWQoTCA+IDk5ID8gTWF0aC5yb3VuZChMIC8gMTApIDogTCksXG4gICAgICAgICAgICAgICAgdDogICAgSCA8IDEyID8gXCJhXCIgIDogXCJwXCIsXG4gICAgICAgICAgICAgICAgdHQ6ICAgSCA8IDEyID8gXCJhbVwiIDogXCJwbVwiLFxuICAgICAgICAgICAgICAgIFQ6ICAgIEggPCAxMiA/IFwiQVwiICA6IFwiUFwiLFxuICAgICAgICAgICAgICAgIFRUOiAgIEggPCAxMiA/IFwiQU1cIiA6IFwiUE1cIixcbiAgICAgICAgICAgICAgICBaOiAgICB1dGMgPyBcIlVUQ1wiIDogKFN0cmluZyhkYXRlKS5tYXRjaCh0aW1lem9uZSkgfHwgW1wiXCJdKS5wb3AoKS5yZXBsYWNlKHRpbWV6b25lQ2xpcCwgXCJcIiksXG4gICAgICAgICAgICAgICAgbzogICAgKG8gPiAwID8gXCItXCIgOiBcIitcIikgKyBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvKSAvIDYwKSAqIDEwMCArIE1hdGguYWJzKG8pICUgNjAsIDQpLFxuICAgICAgICAgICAgICAgIFM6ICAgIFtcInRoXCIsIFwic3RcIiwgXCJuZFwiLCBcInJkXCJdW2QgJSAxMCA+IDMgPyAwIDogKGQgJSAxMDAgLSBkICUgMTAgIT0gMTApICogZCAlIDEwXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbWFzay5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAkMCBpbiBmbGFncyA/IGZsYWdzWyQwXSA6ICQwLnNsaWNlKDEsICQwLmxlbmd0aCAtIDEpO1xuICAgICAgICB9KTtcbiAgICB9O1xufSgpO1xuXG4vLyBTb21lIGNvbW1vbiBmb3JtYXQgc3RyaW5nc1xuZGF0ZUZvcm1hdC5tYXNrcyA9IHtcbiAgICBcImRlZmF1bHRcIjogICAgICBcImRkZCBtbW0gZGQgeXl5eSBISDpNTTpzc1wiLFxuICAgIHNob3J0RGF0ZTogICAgICBcIm0vZC95eVwiLFxuICAgIG1lZGl1bURhdGU6ICAgICBcIm1tbSBkLCB5eXl5XCIsXG4gICAgbG9uZ0RhdGU6ICAgICAgIFwibW1tbSBkLCB5eXl5XCIsXG4gICAgZnVsbERhdGU6ICAgICAgIFwiZGRkZCwgbW1tbSBkLCB5eXl5XCIsXG4gICAgc2hvcnRUaW1lOiAgICAgIFwiaDpNTSBUVFwiLFxuICAgIG1lZGl1bVRpbWU6ICAgICBcImg6TU06c3MgVFRcIixcbiAgICBsb25nVGltZTogICAgICAgXCJoOk1NOnNzIFRUIFpcIixcbiAgICBpc29EYXRlOiAgICAgICAgXCJ5eXl5LW1tLWRkXCIsXG4gICAgaXNvVGltZTogICAgICAgIFwiSEg6TU06c3NcIixcbiAgICBpc29EYXRlVGltZTogICAgXCJ5eXl5LW1tLWRkJ1QnSEg6TU06c3NcIixcbiAgICBpc29VdGNEYXRlVGltZTogXCJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onXCJcbn07XG5cbi8vIEludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3NcbmRhdGVGb3JtYXQuaTE4biA9IHtcbiAgICBkYXlOYW1lczogW1xuICAgICAgICBcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiLFxuICAgICAgICBcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJcbiAgICBdLFxuICAgIG1vbnRoTmFtZXM6IFtcbiAgICAgICAgXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIixcbiAgICAgICAgXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXG4gICAgXVxufTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZGF0ZUZvcm1hdDsiLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBDYXRiZXJyeTtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG5cdENhdGJlcnJ5QmFzZSA9IHJlcXVpcmUoJy4uL2xpYi9iYXNlL0NhdGJlcnJ5QmFzZScpO1xuXG51dGlsLmluaGVyaXRzKENhdGJlcnJ5LCBDYXRiZXJyeUJhc2UpO1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBicm93c2VyIHZlcnNpb24gb2YgQ2F0YmVycnkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIENhdGJlcnJ5QmFzZVxuICovXG5mdW5jdGlvbiBDYXRiZXJyeSgpIHtcblx0Q2F0YmVycnlCYXNlLmNhbGwodGhpcyk7XG59XG5cbi8qKlxuICogQ3VycmVudCByZXF1ZXN0IHJvdXRlci5cbiAqIEB0eXBlIHtSZXF1ZXN0Um91dGVyfVxuICogQHByaXZhdGVcbiAqL1xuQ2F0YmVycnkucHJvdG90eXBlLl9yb3V0ZXIgPSBudWxsO1xuXG4vKipcbiAqIFdyYXBzIGN1cnJlbnQgSFRNTCBkb2N1bWVudCB3aXRoIENhdGJlcnJ5IGV2ZW50IGhhbmRsZXJzLlxuICovXG5DYXRiZXJyeS5wcm90b3R5cGUud3JhcERvY3VtZW50ID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLl9yb3V0ZXIgPSB0aGlzLmxvY2F0b3IucmVzb2x2ZSgncmVxdWVzdFJvdXRlcicpO1xufTtcblxuLyoqXG4gKiBTdGFydHMgQ2F0YmVycnkgYXBwbGljYXRpb24gd2hlbiBET00gaXMgcmVhZHkuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSBmb3Igbm90aGluZy5cbiAqL1xuQ2F0YmVycnkucHJvdG90eXBlLnN0YXJ0V2hlblJlYWR5ID0gZnVuY3Rpb24gKCkge1xuXHRpZiAod2luZG93LmNhdGJlcnJ5KSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHR9XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwpIHtcblx0XHR3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHNlbGYud3JhcERvY3VtZW50KCk7XG5cdFx0XHR3aW5kb3cuY2F0YmVycnkgPSBzZWxmO1xuXHRcdFx0ZnVsZmlsbCgpO1xuXHRcdH0pO1xuXHR9KTtcbn07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29va2llV3JhcHBlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG5cdENvb2tpZVdyYXBwZXJCYXNlID0gcmVxdWlyZSgnLi4vbGliL2Jhc2UvQ29va2llV3JhcHBlckJhc2UnKTtcblxudXRpbC5pbmhlcml0cyhDb29raWVXcmFwcGVyLCBDb29raWVXcmFwcGVyQmFzZSk7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIGJyb3dzZXIgY29va2llIHdyYXBwZXIuXG4gKiBAcGFyYW0ge1dpbmRvd30gJHdpbmRvdyBXaW5kb3cgb2JqZWN0LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvb2tpZVdyYXBwZXIoJHdpbmRvdykge1xuXHRDb29raWVXcmFwcGVyQmFzZS5jYWxsKHRoaXMpO1xuXHR0aGlzLl93aW5kb3cgPSAkd2luZG93O1xufVxuXG4vKipcbiAqIEN1cnJlbnQgYnJvd3NlciB3aW5kb3cuXG4gKiBAdHlwZSB7V2luZG93fVxuICogQHByaXZhdGVcbiAqL1xuQ29va2llV3JhcHBlci5wcm90b3R5cGUuX3dpbmRvdyA9IG51bGw7XG5cbi8qKlxuICogR2V0cyBjdXJyZW50IGNvb2tpZSBzdHJpbmcuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDb29raWUgc3RyaW5nLlxuICovXG5Db29raWVXcmFwcGVyLnByb3RvdHlwZS5nZXRDb29raWVTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB0aGlzLl93aW5kb3cuZG9jdW1lbnQuY29va2llID9cblx0XHR0aGlzLl93aW5kb3cuZG9jdW1lbnQuY29va2llLnRvU3RyaW5nKCkgOlxuXHRcdCcnO1xufTtcblxuLyoqXG4gKiBTZXRzIGNvb2tpZSB0byB0aGlzIHdyYXBwZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gY29va2llU2V0dXAgQ29va2llIHNldHVwIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb29raWVTZXR1cC5rZXkgQ29va2llIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb29raWVTZXR1cC52YWx1ZSBDb29raWUgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcj99IGNvb2tpZVNldHVwLm1heEFnZSBNYXggY29va2llIGFnZSBpbiBzZWNvbmRzLlxuICogQHBhcmFtIHtEYXRlP30gY29va2llU2V0dXAuZXhwaXJlcyBFeHBpcmUgZGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nP30gY29va2llU2V0dXAucGF0aCBVUkkgcGF0aCBmb3IgY29va2llLlxuICogQHBhcmFtIHtzdHJpbmc/fSBjb29raWVTZXR1cC5kb21haW4gQ29va2llIGRvbWFpbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGNvb2tpZVNldHVwLnNlY3VyZSBJcyBjb29raWUgc2VjdXJlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGNvb2tpZVNldHVwLmh0dHBPbmx5IElzIGNvb2tpZSBIVFRQIG9ubHkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDb29raWUgc2V0dXAgc3RyaW5nLlxuICovXG5Db29raWVXcmFwcGVyLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoY29va2llU2V0dXApIHtcblx0dmFyIGNvb2tpZSA9IHRoaXMuX2NvbnZlcnRUb0Nvb2tpZVNldHVwKGNvb2tpZVNldHVwKTtcblx0dGhpcy5fd2luZG93LmRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZTtcblx0cmV0dXJuIGNvb2tpZTtcbn07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gRG9jdW1lbnRSZW5kZXJlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG5cdG1vcnBoZG9tID0gcmVxdWlyZSgnbW9ycGhkb20nKSxcblx0ZXJyb3JIZWxwZXIgPSByZXF1aXJlKCcuLi9saWIvaGVscGVycy9lcnJvckhlbHBlcicpLFxuXHRtb2R1bGVIZWxwZXIgPSByZXF1aXJlKCcuLi9saWIvaGVscGVycy9tb2R1bGVIZWxwZXInKSxcblx0aHJUaW1lSGVscGVyID0gcmVxdWlyZSgnLi4vbGliL2hlbHBlcnMvaHJUaW1lSGVscGVyJyksXG5cdERvY3VtZW50UmVuZGVyZXJCYXNlID0gcmVxdWlyZSgnLi4vbGliL2Jhc2UvRG9jdW1lbnRSZW5kZXJlckJhc2UnKTtcblxudXRpbC5pbmhlcml0cyhEb2N1bWVudFJlbmRlcmVyLCBEb2N1bWVudFJlbmRlcmVyQmFzZSk7XG5cbnZhciBXQVJOX0lEX05PVF9TUEVDSUZJRUQgPSAnQ29tcG9uZW50IFwiJXNcIiBkb2VzIG5vdCBoYXZlIGFuIElELCBza2lwcGluZy4uLicsXG5cdFdBUk5fU0FNRV9JRCA9XG5cdFx0J1RoZSBkdXBsaWNhdGVkIElEIFwiJXNcIiBoYXMgYmVlbiBmb3VuZCwgc2tpcHBpbmcgY29tcG9uZW50IFwiJXNcIi4uLic7XG5cbnZhciBTUEVDSUFMX0lEUyA9IHtcblx0XHQkJGhlYWQ6ICckJGhlYWQnLFxuXHRcdCQkZG9jdW1lbnQ6ICckJGRvY3VtZW50J1xuXHR9LFxuXHRUQUdfTkFNRVMgPSB7XG5cdFx0VElUTEU6ICdUSVRMRScsXG5cdFx0SFRNTDogJ0hUTUwnLFxuXHRcdEhFQUQ6ICdIRUFEJyxcblx0XHRCQVNFOiAnQkFTRScsXG5cdFx0U1RZTEU6ICdTVFlMRScsXG5cdFx0U0NSSVBUOiAnU0NSSVBUJyxcblx0XHROT1NDUklQVDogJ05PU0NSSVBUJyxcblx0XHRNRVRBOiAnTUVUQScsXG5cdFx0TElOSzogJ0xJTksnXG5cdH0sXG5cdE5PREVfVFlQRVMgPSB7XG5cdFx0RUxFTUVOVF9OT0RFOiAxLFxuXHRcdFRFWFRfTk9ERTogMyxcblx0XHRQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU6IDcsXG5cdFx0Q09NTUVOVF9OT0RFOiA4XG5cdH0sXG5cdEVSUk9SX0NSRUFURV9XUk9OR19BUkdVTUVOVFMgPSAnVGFnIG5hbWUgc2hvdWxkIGJlIGEgc3RyaW5nICcgK1xuXHRcdCdhbmQgYXR0cmlidXRlcyBzaG91bGQgYmUgYW4gb2JqZWN0Jyxcblx0RVJST1JfQ1JFQVRFX1dST05HX05BTUUgPSAnQ29tcG9uZW50IGZvciB0YWcgXCIlc1wiIG5vdCBmb3VuZCcsXG5cdEVSUk9SX0NSRUFURV9XUk9OR19JRCA9ICdUaGUgSUQgaXMgbm90IHNwZWNpZmllZCBvciBhbHJlYWR5IHVzZWQnLFxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDE1L1dELXVpZXZlbnRzLTIwMTUwMzE5LyNldmVudC10eXBlcy1saXN0XG5cdE5PTl9CVUJCTElOR19FVkVOVFMgPSB7XG5cdFx0YWJvcnQ6IHRydWUsXG5cdFx0Ymx1cjogdHJ1ZSxcblx0XHRlcnJvcjogdHJ1ZSxcblx0XHRmb2N1czogdHJ1ZSxcblx0XHRsb2FkOiB0cnVlLFxuXHRcdG1vdXNlZW50ZXI6IHRydWUsXG5cdFx0bW91c2VsZWF2ZTogdHJ1ZSxcblx0XHRyZXNpemU6IHRydWUsXG5cdFx0dW5sb2FkOiB0cnVlXG5cdH07XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIGRvY3VtZW50IHJlbmRlcmVyLlxuICogQHBhcmFtIHtTZXJ2aWNlTG9jYXRvcn0gJHNlcnZpY2VMb2NhdG9yIExvY2F0b3IgdG8gcmVzb2x2ZSBkZXBlbmRlbmNpZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIERvY3VtZW50UmVuZGVyZXJCYXNlXG4gKi9cbmZ1bmN0aW9uIERvY3VtZW50UmVuZGVyZXIoJHNlcnZpY2VMb2NhdG9yKSB7XG5cdERvY3VtZW50UmVuZGVyZXJCYXNlLmNhbGwodGhpcywgJHNlcnZpY2VMb2NhdG9yKTtcblx0dGhpcy5fY29tcG9uZW50SW5zdGFuY2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0dGhpcy5fY29tcG9uZW50RWxlbWVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHR0aGlzLl9jb21wb25lbnRCaW5kaW5ncyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdHRoaXMuX2N1cnJlbnRDaGFuZ2VkU3RvcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0dGhpcy5fd2luZG93ID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ3dpbmRvdycpO1xuXHR0aGlzLl9sb2dnZXIgPSAkc2VydmljZUxvY2F0b3IucmVzb2x2ZSgnbG9nZ2VyJyk7XG5cdHRoaXMuX2NvbmZpZyA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdjb25maWcnKTtcblx0dGhpcy5fc3RvcmVEaXNwYXRjaGVyID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ3N0b3JlRGlzcGF0Y2hlcicpO1xuXG5cdHZhciBzZWxmID0gdGhpcztcblxuXHR0aGlzLl9ldmVudEJ1cy5vbignc3RvcmVDaGFuZ2VkJywgZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuXHRcdHNlbGYuX2N1cnJlbnRDaGFuZ2VkU3RvcmVzW3N0b3JlTmFtZV0gPSB0cnVlO1xuXHRcdGlmIChzZWxmLl9pc1N0YXRlQ2hhbmdpbmcpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0c2VsZi5fdXBkYXRlU3RvcmVDb21wb25lbnRzKCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgYXBwbGljYXRpb24gY29uZmlnLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9jb25maWcgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbG9nZ2VyLlxuICogQHR5cGUge0xvZ2dlcn1cbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9sb2dnZXIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgc3RvcmUgZGlzcGF0Y2hlci5cbiAqIEB0eXBlIHtTdG9yZURpc3BhdGNoZXJ9XG4gKiBAcHJvdGVjdGVkXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9zdG9yZURpc3BhdGNoZXIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgc2V0IG9mIGNvbXBvbmVudCBpbnN0YW5jZXMgYnkgdW5pcXVlIGtleXMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2NvbXBvbmVudEluc3RhbmNlcyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXQgb2YgY29tcG9uZW50IGVsZW1lbnRzIGJ5IHVuaXF1ZSBrZXlzLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9jb21wb25lbnRFbGVtZW50cyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXQgb2YgY29tcG9uZW50IGJpbmRpbmdzIGJ5IHVuaXF1ZSBrZXlzLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9jb21wb25lbnRCaW5kaW5ncyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCByb3V0aW5nIGNvbnRleHQuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2N1cnJlbnRSb3V0aW5nQ29udGV4dCA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXQgb2YgY2hhbmdlZCBzdG9yZXMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2N1cnJlbnRDaGFuZ2VkU3RvcmVzID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHByb21pc2UgZm9yIHJlbmRlcmVkIHBhZ2UuXG4gKiBAdHlwZSB7UHJvbWlzZX1cbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9yZW5kZXJlZFByb21pc2UgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgc3RhdGUgb2YgdXBkYXRpbmcgY29tcG9uZW50cy5cbiAqIEB0eXBlIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2lzVXBkYXRpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBDdXJyZW50IGF3YWl0aW5nIHJvdXRpbmcuXG4gKiBAdHlwZSB7e3N0YXRlOiBPYmplY3QsIHJvdXRpbmdDb250ZXh0OiBPYmplY3R9fVxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2F3YWl0aW5nUm91dGluZyA9IG51bGw7XG5cbi8qKlxuICogU2V0cyB0aGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgTmV3IHN0YXRlIG9mIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IHJvdXRpbmdDb250ZXh0IFJvdXRpbmcgY29udGV4dC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5pbml0V2l0aFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCByb3V0aW5nQ29udGV4dCkge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHJldHVybiBzZWxmLl9nZXRQcm9taXNlRm9yUmVhZHlTdGF0ZSgpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0c2VsZi5fY3VycmVudFJvdXRpbmdDb250ZXh0ID0gcm91dGluZ0NvbnRleHQ7XG5cdFx0XHRyZXR1cm4gc2VsZi5fc3RvcmVEaXNwYXRjaGVyLnNldFN0YXRlKHN0YXRlLCByb3V0aW5nQ29udGV4dCk7XG5cdFx0fSlcblx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgY29tcG9uZW50cyA9IHNlbGYuX2NvbXBvbmVudExvYWRlci5nZXRDb21wb25lbnRzQnlOYW1lcygpLFxuXHRcdFx0XHRlbGVtZW50cyA9IHNlbGYuX2ZpbmRDb21wb25lbnRzKFxuXHRcdFx0XHRcdHNlbGYuX3dpbmRvdy5kb2N1bWVudC5ib2R5LCBjb21wb25lbnRzLCB0cnVlXG5cdFx0XHRcdCk7XG5cdFx0XHRlbGVtZW50cy51bnNoaWZ0KHNlbGYuX3dpbmRvdy5kb2N1bWVudC5oZWFkKTtcblx0XHRcdGVsZW1lbnRzLnVuc2hpZnQoc2VsZi5fd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG5cdFx0XHRyZXR1cm4gc2VsZi5faW5pdGlhbFdyYXAoY29tcG9uZW50cywgZWxlbWVudHMpO1xuXHRcdH0pO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIG5ldyBzdGF0ZSBvZiBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBOZXcgc3RhdGUgb2YgYXBwbGljYXRpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gcm91dGluZ0NvbnRleHQgUm91dGluZyBjb250ZXh0LlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChzdGF0ZSwgcm91dGluZ0NvbnRleHQpIHtcblx0dGhpcy5fYXdhaXRpbmdSb3V0aW5nID0ge1xuXHRcdHN0YXRlOiBzdGF0ZSxcblx0XHRyb3V0aW5nQ29udGV4dDogcm91dGluZ0NvbnRleHRcblx0fTtcblx0aWYgKHRoaXMuX2lzU3RhdGVDaGFuZ2luZykge1xuXHRcdHJldHVybiB0aGlzLl9yZW5kZXJlZFByb21pc2U7XG5cdH1cblxuXHQvLyB3ZSBzaG91bGQgc2V0IHRoaXMgZmxhZyB0byBhdm9pZCBcInN0b3JlQ2hhbmdlZFwiXG5cdC8vIGV2ZW50IGhhbmRsaW5nIGZvciBub3dcblx0dGhpcy5faXNTdGF0ZUNoYW5naW5nID0gdHJ1ZTtcblxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHNlbGYuX3JlbmRlcmVkUHJvbWlzZSA9IHRoaXMuX2dldFByb21pc2VGb3JSZWFkeVN0YXRlKClcblx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBhbmQgdGhlbiB3ZSB1cGRhdGUgYWxsIGNvbXBvbmVudHMgb2YgdGhlc2Ugc3RvcmVzIGluIGEgYmF0Y2guXG5cdFx0XHRyZXR1cm4gc2VsZi5fdXBkYXRlU3RvcmVDb21wb25lbnRzKCk7XG5cdFx0fSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnZXJyb3InLCByZWFzb24pO1xuXHRcdH0pXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0c2VsZi5faXNTdGF0ZUNoYW5naW5nID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0cmV0dXJuIHRoaXMuX3JlbmRlcmVkUHJvbWlzZTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBjb21wb25lbnQgaW50byBIVE1MIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgSFRNTCBlbGVtZW50IG9mIGNvbXBvbmVudFxuICogQHBhcmFtIHtPYmplY3Q/fSByZW5kZXJpbmdDb250ZXh0IFJlbmRlcmluZyBjb250ZXh0IGZvciBncm91cCByZW5kZXJpbmcuXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckNvbXBvbmVudCA9XG5cdGZ1bmN0aW9uIChlbGVtZW50LCByZW5kZXJpbmdDb250ZXh0KSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHJldHVybiB0aGlzLl9nZXRQcm9taXNlRm9yUmVhZHlTdGF0ZSgpXG5cdFx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHZhciBpZCA9IHNlbGYuX2dldElkKGVsZW1lbnQpO1xuXHRcdFx0XHRpZiAoIWlkKSB7XG5cdFx0XHRcdFx0c2VsZi5fbG9nZ2VyLndhcm4oXG5cdFx0XHRcdFx0XHR1dGlsLmZvcm1hdChXQVJOX0lEX05PVF9TUEVDSUZJRUQsIGNvbXBvbmVudE5hbWUpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXJlbmRlcmluZ0NvbnRleHQpIHtcblx0XHRcdFx0XHRyZW5kZXJpbmdDb250ZXh0ID0gc2VsZi5fY3JlYXRlUmVuZGVyaW5nQ29udGV4dChbXSk7XG5cdFx0XHRcdFx0cmVuZGVyaW5nQ29udGV4dC5yb290SWRzW2lkXSA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgY29tcG9uZW50TmFtZSA9IG1vZHVsZUhlbHBlci5nZXRPcmlnaW5hbENvbXBvbmVudE5hbWUoXG5cdFx0XHRcdFx0XHRlbGVtZW50LnRhZ05hbWVcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdGhhZENoaWxkcmVuID0gZWxlbWVudC5oYXNDaGlsZE5vZGVzKCksXG5cdFx0XHRcdFx0Y29tcG9uZW50ID0gcmVuZGVyaW5nQ29udGV4dC5jb21wb25lbnRzW2NvbXBvbmVudE5hbWVdLFxuXHRcdFx0XHRcdGluc3RhbmNlID0gc2VsZi5fY29tcG9uZW50SW5zdGFuY2VzW2lkXTtcblxuXHRcdFx0XHRpZiAoIWNvbXBvbmVudCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpZCBpbiByZW5kZXJpbmdDb250ZXh0LnJlbmRlcmVkSWRzKSB7XG5cdFx0XHRcdFx0c2VsZi5fbG9nZ2VyLndhcm4oXG5cdFx0XHRcdFx0XHR1dGlsLmZvcm1hdChXQVJOX1NBTUVfSUQsIGlkLCBjb21wb25lbnROYW1lKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVuZGVyaW5nQ29udGV4dC5yZW5kZXJlZElkc1tpZF0gPSB0cnVlO1xuXG5cdFx0XHRcdGlmICghaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IucHJvdG90eXBlLiRjb250ZXh0ID1cblx0XHRcdFx0XHRcdHNlbGYuX2dldENvbXBvbmVudENvbnRleHQoY29tcG9uZW50LCBlbGVtZW50KTtcblx0XHRcdFx0XHRpbnN0YW5jZSA9IHNlbGYuX3NlcnZpY2VMb2NhdG9yLnJlc29sdmVJbnN0YW5jZShcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3RvciwgcmVuZGVyaW5nQ29udGV4dC5jb25maWdcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGluc3RhbmNlLiRjb250ZXh0ID0gY29tcG9uZW50LmNvbnN0cnVjdG9yLnByb3RvdHlwZS4kY29udGV4dDtcblx0XHRcdFx0XHRzZWxmLl9jb21wb25lbnRJbnN0YW5jZXNbaWRdID0gaW5zdGFuY2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgZXZlbnRBcmdzID0ge1xuXHRcdFx0XHRcdG5hbWU6IGNvbXBvbmVudE5hbWUsXG5cdFx0XHRcdFx0Y29udGV4dDogaW5zdGFuY2UuJGNvbnRleHRcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRzZWxmLl9jb21wb25lbnRFbGVtZW50c1tpZF0gPSBlbGVtZW50O1xuXG5cdFx0XHRcdHZhciBzdGFydFRpbWUgPSBoclRpbWVIZWxwZXIuZ2V0KCk7XG5cdFx0XHRcdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ2NvbXBvbmVudFJlbmRlcicsIGV2ZW50QXJncyk7XG5cblx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0Ly8gd2UgbmVlZCB1bmJpbmQgdGhlIHdob2xlIGhpZXJhcmNoeSBvbmx5IGF0XG5cdFx0XHRcdFx0XHQvLyB0aGUgYmVnaW5uaW5nIGFuZCBub3QgZm9yIG5ldyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0aWYgKCEoaWQgaW4gcmVuZGVyaW5nQ29udGV4dC5yb290SWRzKSB8fFxuXHRcdFx0XHRcdFx0XHQhaGFkQ2hpbGRyZW4pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gc2VsZi5fdW5iaW5kQWxsKGVsZW1lbnQsIHJlbmRlcmluZ0NvbnRleHQpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHtcblx0XHRcdFx0XHRcdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ2Vycm9yJywgcmVhc29uKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGlmIChpbnN0YW5jZS4kY29udGV4dC5lbGVtZW50ICE9PSBlbGVtZW50KSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlLiRjb250ZXh0ID0gc2VsZi5fZ2V0Q29tcG9uZW50Q29udGV4dChcblx0XHRcdFx0XHRcdFx0XHRjb21wb25lbnQsIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciByZW5kZXJNZXRob2QgPSBtb2R1bGVIZWxwZXIuZ2V0TWV0aG9kVG9JbnZva2UoXG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlLCAncmVuZGVyJ1xuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHJldHVybiBtb2R1bGVIZWxwZXIuZ2V0U2FmZVByb21pc2UocmVuZGVyTWV0aG9kKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uIChkYXRhQ29udGV4dCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGNvbXBvbmVudC50ZW1wbGF0ZS5yZW5kZXIoZGF0YUNvbnRleHQpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHtcblx0XHRcdFx0XHRcdHJldHVybiBzZWxmLl9oYW5kbGVSZW5kZXJFcnJvcihcblx0XHRcdFx0XHRcdFx0ZWxlbWVudCwgY29tcG9uZW50LCByZWFzb25cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQudGhlbihmdW5jdGlvbiAoaHRtbCkge1xuXHRcdFx0XHRcdFx0dmFyIGlzSGVhZCA9IGVsZW1lbnQudGFnTmFtZSA9PT0gVEFHX05BTUVTLkhFQUQ7XG5cdFx0XHRcdFx0XHRpZiAoaHRtbCA9PT0gJycgJiYgaXNIZWFkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciB0bXBFbGVtZW50ID0gc2VsZi5fY3JlYXRlVGVtcG9yYXJ5RWxlbWVudChlbGVtZW50KTtcblx0XHRcdFx0XHRcdHRtcEVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcblxuXHRcdFx0XHRcdFx0aWYgKGlzSGVhZCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLl9tZXJnZUhlYWQoZWxlbWVudCwgdG1wRWxlbWVudCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0bW9ycGhkb20oZWxlbWVudCwgdG1wRWxlbWVudCwge1xuXHRcdFx0XHRcdFx0XHRvbkJlZm9yZU1vcnBoRWxDaGlsZHJlbjogZnVuY3Rpb24gKGZvdW5kRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmb3VuZEVsZW1lbnQgPT09IGVsZW1lbnQgfHxcblx0XHRcdFx0XHRcdFx0XHRcdCFzZWxmLl9pc0NvbXBvbmVudChcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVuZGVyaW5nQ29udGV4dC5jb21wb25lbnRzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3VuZEVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHR2YXIgcHJvbWlzZXMgPSBzZWxmLl9maW5kQ29tcG9uZW50cyhcblx0XHRcdFx0XHRcdFx0ZWxlbWVudCwgcmVuZGVyaW5nQ29udGV4dC5jb21wb25lbnRzLCBmYWxzZVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0XHQubWFwKGZ1bmN0aW9uIChpbm5lckNvbXBvbmVudCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZWxmLnJlbmRlckNvbXBvbmVudChcblx0XHRcdFx0XHRcdFx0XHRcdGlubmVyQ29tcG9uZW50LCByZW5kZXJpbmdDb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0ZXZlbnRBcmdzLmhyVGltZSA9IGhyVGltZUhlbHBlci5nZXQoc3RhcnRUaW1lKTtcblx0XHRcdFx0XHRcdGV2ZW50QXJncy50aW1lID0gaHJUaW1lSGVscGVyLnRvTWlsbGlzZWNvbmRzKFxuXHRcdFx0XHRcdFx0XHRldmVudEFyZ3MuaHJUaW1lXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnY29tcG9uZW50UmVuZGVyZWQnLCBldmVudEFyZ3MpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNlbGYuX2JpbmRDb21wb25lbnQoZWxlbWVudCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQvLyBjb2xsZWN0aW5nIGdhcmJhZ2Ugb25seSB3aGVuXG5cdFx0XHRcdFx0XHQvLyB0aGUgZW50aXJlIHJlbmRlcmluZyBpcyBmaW5pc2hlZFxuXHRcdFx0XHRcdFx0aWYgKCEoaWQgaW4gcmVuZGVyaW5nQ29udGV4dC5yb290SWRzKSB8fFxuXHRcdFx0XHRcdFx0XHQhaGFkQ2hpbGRyZW4pIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c2VsZi5fY29sbGVjdFJlbmRlcmluZ0dhcmJhZ2UocmVuZGVyaW5nQ29udGV4dCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuXHRcdFx0XHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnZXJyb3InLCByZWFzb24pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdH07XG5cbi8qKlxuICogR2V0cyBjb21wb25lbnQgaW5zdGFuY2UgYnkgSUQuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ29tcG9uZW50IElELlxuICogQHJldHVybnMge09iamVjdHxudWxsfSBDb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLmdldENvbXBvbmVudEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcblx0cmV0dXJuIHRoaXMuX2NvbXBvbmVudEluc3RhbmNlc1tpZF0gfHwgbnVsbDtcbn07XG5cbi8qKlxuICogR2V0cyBjb21wb25lbnQgaW5zdGFuY2UgYnkgYSBET00gZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBDb21wb25lbnQncyBFbGVtZW50LlxuICogQHJldHVybnMge09iamVjdHxudWxsfSBDb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLmdldENvbXBvbmVudEJ5RWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdGlmICghZWxlbWVudCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBpZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG1vZHVsZUhlbHBlci5BVFRSSUJVVEVfSUQpO1xuXHRyZXR1cm4gdGhpcy5nZXRDb21wb25lbnRCeUlkKGlkKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHRoYXQgZXZlcnkgaW5zdGFuY2Ugb2YgY29tcG9uZW50IGhhcyBlbGVtZW50IG9uIHRoZSBwYWdlIGFuZFxuICogcmVtb3ZlcyBhbGwgcmVmZXJlbmNlcyB0byBjb21wb25lbnRzIHJlbW92ZWQgZnJvbSBET00uXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSBmb3Igbm90aGluZy5cbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuY29sbGVjdEdhcmJhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0cmV0dXJuIHRoaXMuX2dldFByb21pc2VGb3JSZWFkeVN0YXRlKClcblx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcblx0XHRcdE9iamVjdC5rZXlzKHNlbGYuX2NvbXBvbmVudEVsZW1lbnRzKVxuXHRcdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcblx0XHRcdFx0XHRpZiAoU1BFQ0lBTF9JRFMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBlbGVtZW50ID0gc2VsZi5fd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcblx0XHRcdFx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBwcm9taXNlID0gc2VsZi5fdW5iaW5kQ29tcG9uZW50KHNlbGYuX2NvbXBvbmVudEVsZW1lbnRzW2lkXSlcblx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi5fcmVtb3ZlQ29tcG9uZW50KGlkKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmVuZGVycyBjb21wb25lbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdOYW1lIE5hbWUgb2YgSFRNTCB0YWcuXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBFbGVtZW50IGF0dHJpYnV0ZXMuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxFbGVtZW50Pn0gUHJvbWlzZSBmb3IgSFRNTCBlbGVtZW50IHdpdGggcmVuZGVyZWQgY29tcG9uZW50LlxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAodGFnTmFtZSwgYXR0cmlidXRlcykge1xuXHRpZiAodHlwZW9mICh0YWdOYW1lKSAhPT0gJ3N0cmluZycgfHwgIWF0dHJpYnV0ZXMgfHxcblx0XHR0eXBlb2YgKGF0dHJpYnV0ZXMpICE9PSAnb2JqZWN0Jykge1xuXHRcdHJldHVybiBQcm9taXNlLnJlamVjdChcblx0XHRcdG5ldyBFcnJvcihFUlJPUl9DUkVBVEVfV1JPTkdfQVJHVU1FTlRTKVxuXHRcdCk7XG5cdH1cblxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHJldHVybiB0aGlzLl9nZXRQcm9taXNlRm9yUmVhZHlTdGF0ZSgpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGNvbXBvbmVudHMgPSBzZWxmLl9jb21wb25lbnRMb2FkZXIuZ2V0Q29tcG9uZW50c0J5TmFtZXMoKSxcblx0XHRcdFx0Y29tcG9uZW50TmFtZSA9IG1vZHVsZUhlbHBlci5nZXRPcmlnaW5hbENvbXBvbmVudE5hbWUodGFnTmFtZSk7XG5cblx0XHRcdGlmIChtb2R1bGVIZWxwZXIuaXNIZWFkQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpIHx8XG5cdFx0XHRcdG1vZHVsZUhlbHBlci5pc0RvY3VtZW50Q29tcG9uZW50KGNvbXBvbmVudE5hbWUpIHx8XG5cdFx0XHRcdCEoY29tcG9uZW50TmFtZSBpbiBjb21wb25lbnRzKSkge1xuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoXG5cdFx0XHRcdFx0bmV3IEVycm9yKHV0aWwuZm9ybWF0KEVSUk9SX0NSRUFURV9XUk9OR19OQU1FLCB0YWdOYW1lKSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNhZmVUYWdOYW1lID0gbW9kdWxlSGVscGVyLmdldFRhZ05hbWVGb3JDb21wb25lbnROYW1lKGNvbXBvbmVudE5hbWUpO1xuXG5cdFx0XHR2YXIgaWQgPSBhdHRyaWJ1dGVzW21vZHVsZUhlbHBlci5BVFRSSUJVVEVfSURdO1xuXHRcdFx0aWYgKCFpZCB8fCBpZCBpbiBzZWxmLl9jb21wb25lbnRJbnN0YW5jZXMpIHtcblx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihFUlJPUl9DUkVBVEVfV1JPTkdfSUQpKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVsZW1lbnQgPSBzZWxmLl93aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChzYWZlVGFnTmFtZSk7XG5cdFx0XHRPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKVxuXHRcdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuXHRcdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHNlbGYucmVuZGVyQ29tcG9uZW50KGVsZW1lbnQpXG5cdFx0XHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG59O1xuXG4vKipcbiAqIENsZWFycyBhbGwgcmVmZXJlbmNlcyB0byByZW1vdmVkIGNvbXBvbmVudHMgZHVyaW5nIHJlbmRlcmluZyBwcm9jZXNzLlxuICogQHBhcmFtIHtPYmplY3R9IHJlbmRlcmluZ0NvbnRleHQgQ29udGV4dCBvZiByZW5kZXJpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5fY29sbGVjdFJlbmRlcmluZ0dhcmJhZ2UgPVxuXHRmdW5jdGlvbiAocmVuZGVyaW5nQ29udGV4dCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRPYmplY3Qua2V5cyhyZW5kZXJpbmdDb250ZXh0LnVuYm91bmRJZHMpXG5cdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcblx0XHRcdFx0Ly8gdGhpcyBjb21wb25lbnQgaGFzIGJlZW4gcmVuZGVyZWQgYWdhaW4gYW5kIHdlIGRvIG5vdCBuZWVkIHRvXG5cdFx0XHRcdC8vIHJlbW92ZSBpdC5cblx0XHRcdFx0aWYgKGlkIGluIHJlbmRlcmluZ0NvbnRleHQucmVuZGVyZWRJZHMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBzb21lb25lIGFkZGVkIGFuIGVsZW1lbnQgd2l0aCB0aGUgc2FtZSBJRCBkdXJpbmcgdGhlXG5cdFx0XHRcdC8vIHJlbmRlcmluZyBwcm9jZXNzXG5cdFx0XHRcdGlmIChzZWxmLl93aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2VsZi5fcmVtb3ZlQ29tcG9uZW50KGlkKTtcblx0XHRcdH0pO1xuXHR9O1xuXG4vKipcbiAqIFVuYmluZHMgYWxsIGV2ZW50IGhhbmRsZXJzIGZyb20gc3BlY2lmaWVkIGNvbXBvbmVudCBhbmQgYWxsIGl0J3MgZGVzY2VuZGFudHMuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgQ29tcG9uZW50IEhUTUwgZWxlbWVudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSByZW5kZXJpbmdDb250ZXh0IENvbnRleHQgb2YgcmVuZGVyaW5nLlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5fdW5iaW5kQWxsID0gZnVuY3Rpb24gKGVsZW1lbnQsIHJlbmRlcmluZ0NvbnRleHQpIHtcblx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdHJvb3RJZCA9IHRoaXMuX2dldElkKGVsZW1lbnQpLFxuXHRcdHByb21pc2VzID0gW107XG5cblx0c2VsZi5fZmluZENvbXBvbmVudHMoZWxlbWVudCwgcmVuZGVyaW5nQ29udGV4dC5jb21wb25lbnRzLCB0cnVlKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChpbm5lckVsZW1lbnQpIHtcblx0XHRcdHZhciBpZCA9IHNlbGYuX2dldElkKGlubmVyRWxlbWVudCk7XG5cdFx0XHRyZW5kZXJpbmdDb250ZXh0LnVuYm91bmRJZHNbaWRdID0gdHJ1ZTtcblx0XHRcdHByb21pc2VzLnB1c2goc2VsZi5fdW5iaW5kQ29tcG9uZW50KGlubmVyRWxlbWVudCkpO1xuXHRcdH0pO1xuXG5cdHJlbmRlcmluZ0NvbnRleHQudW5ib3VuZElkc1tyb290SWRdID0gdHJ1ZTtcblx0cHJvbWlzZXMucHVzaCh0aGlzLl91bmJpbmRDb21wb25lbnQoZWxlbWVudCkpO1xuXG5cdHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG4vKipcbiAqIFVuYmluZHMgYWxsIGV2ZW50IGhhbmRsZXJzIGZyb20gc3BlY2lmaWVkIGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBDb21wb25lbnQgSFRNTCBlbGVtZW50LlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5fdW5iaW5kQ29tcG9uZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0dmFyIGlkID0gdGhpcy5fZ2V0SWQoZWxlbWVudCksXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0aW5zdGFuY2UgPSB0aGlzLl9jb21wb25lbnRJbnN0YW5jZXNbaWRdO1xuXHRpZiAoIWluc3RhbmNlKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHR9XG5cdGlmIChpZCBpbiB0aGlzLl9jb21wb25lbnRCaW5kaW5ncykge1xuXHRcdE9iamVjdC5rZXlzKHRoaXMuX2NvbXBvbmVudEJpbmRpbmdzW2lkXSlcblx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcblx0XHRcdFx0ZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuXHRcdFx0XHRcdGV2ZW50TmFtZSxcblx0XHRcdFx0XHRzZWxmLl9jb21wb25lbnRCaW5kaW5nc1tpZF1bZXZlbnROYW1lXS5oYW5kbGVyLFxuXHRcdFx0XHRcdE5PTl9CVUJCTElOR19FVkVOVFMuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKVxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cdFx0ZGVsZXRlIHRoaXMuX2NvbXBvbmVudEJpbmRpbmdzW2lkXTtcblx0fVxuXHR2YXIgdW5iaW5kTWV0aG9kID0gbW9kdWxlSGVscGVyLmdldE1ldGhvZFRvSW52b2tlKGluc3RhbmNlLCAndW5iaW5kJyk7XG5cdHJldHVybiBtb2R1bGVIZWxwZXIuZ2V0U2FmZVByb21pc2UodW5iaW5kTWV0aG9kKVxuXHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ2NvbXBvbmVudFVuYm91bmQnLCB7XG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXG5cdFx0XHRcdGlkOiAhU1BFQ0lBTF9JRFMuaGFzT3duUHJvcGVydHkoaWQpID8gaWQgOiBudWxsXG5cdFx0XHR9KTtcblx0XHR9KVxuXHRcdC5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7XG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KCdlcnJvcicsIHJlYXNvbik7XG5cdFx0fSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgY29tcG9uZW50IGZyb20gdGhlIGxpc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ29tcG9uZW50J3MgSURcbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9yZW1vdmVDb21wb25lbnQgPSBmdW5jdGlvbiAoaWQpIHtcblx0ZGVsZXRlIHRoaXMuX2NvbXBvbmVudEVsZW1lbnRzW2lkXTtcblx0ZGVsZXRlIHRoaXMuX2NvbXBvbmVudEluc3RhbmNlc1tpZF07XG5cdGRlbGV0ZSB0aGlzLl9jb21wb25lbnRCaW5kaW5nc1tpZF07XG59O1xuXG4vKipcbiAqIEJpbmRzIGFsbCByZXF1aXJlZCBldmVudCBoYW5kbGVycyB0byBjb21wb25lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgQ29tcG9uZW50IEhUTUwgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2JpbmRDb21wb25lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHR2YXIgaWQgPSB0aGlzLl9nZXRJZChlbGVtZW50KSxcblx0XHRzZWxmID0gdGhpcyxcblx0XHRpbnN0YW5jZSA9IHRoaXMuX2NvbXBvbmVudEluc3RhbmNlc1tpZF07XG5cdGlmICghaW5zdGFuY2UpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cblxuXHR2YXIgYmluZE1ldGhvZCA9IG1vZHVsZUhlbHBlci5nZXRNZXRob2RUb0ludm9rZShpbnN0YW5jZSwgJ2JpbmQnKTtcblx0cmV0dXJuIG1vZHVsZUhlbHBlci5nZXRTYWZlUHJvbWlzZShiaW5kTWV0aG9kKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChiaW5kaW5ncykge1xuXHRcdFx0aWYgKCFiaW5kaW5ncyB8fCB0eXBlb2YgKGJpbmRpbmdzKSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnY29tcG9uZW50Qm91bmQnLCB7XG5cdFx0XHRcdFx0ZWxlbWVudDogZWxlbWVudCxcblx0XHRcdFx0XHRpZDogIVNQRUNJQUxfSURTLmhhc093blByb3BlcnR5KGlkKSA/IGlkIDogbnVsbFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0c2VsZi5fY29tcG9uZW50QmluZGluZ3NbaWRdID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XHRcdE9iamVjdC5rZXlzKGJpbmRpbmdzKVxuXHRcdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG5cdFx0XHRcdFx0ZXZlbnROYW1lID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0aWYgKGV2ZW50TmFtZSBpbiBzZWxmLl9jb21wb25lbnRCaW5kaW5nc1tpZF0pIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIHNlbGVjdG9ySGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdFx0XHRcdE9iamVjdC5rZXlzKGJpbmRpbmdzW2V2ZW50TmFtZV0pXG5cdFx0XHRcdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGhhbmRsZXIgPSBiaW5kaW5nc1tldmVudE5hbWVdW3NlbGVjdG9yXTtcblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiAoaGFuZGxlcikgIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2VsZWN0b3JIYW5kbGVyc1tzZWxlY3Rvcl0gPSBoYW5kbGVyLmJpbmQoaW5zdGFuY2UpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0c2VsZi5fY29tcG9uZW50QmluZGluZ3NbaWRdW2V2ZW50TmFtZV0gPSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyOiBzZWxmLl9jcmVhdGVCaW5kaW5nSGFuZGxlcihcblx0XHRcdFx0XHRcdFx0ZWxlbWVudCwgc2VsZWN0b3JIYW5kbGVyc1xuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdHNlbGVjdG9ySGFuZGxlcnM6IHNlbGVjdG9ySGFuZGxlcnNcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHRcdFx0XHRcdGV2ZW50TmFtZSxcblx0XHRcdFx0XHRcdHNlbGYuX2NvbXBvbmVudEJpbmRpbmdzW2lkXVtldmVudE5hbWVdLmhhbmRsZXIsXG5cdFx0XHRcdFx0XHROT05fQlVCQkxJTkdfRVZFTlRTLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ2NvbXBvbmVudEJvdW5kJywge1xuXHRcdFx0XHRlbGVtZW50OiBlbGVtZW50LFxuXHRcdFx0XHRpZDogaWRcblx0XHRcdH0pO1xuXHRcdH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHVuaXZlcnNhbCBldmVudCBoYW5kbGVyIGZvciBkZWxlZ2F0ZWQgZXZlbnRzLlxuICogQHBhcmFtIHtFbGVtZW50fSBjb21wb25lbnRSb290IFJvb3QgZWxlbWVudCBvZiBjb21wb25lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gc2VsZWN0b3JIYW5kbGVycyBNYXAgb2YgZXZlbnQgaGFuZGxlcnMgYnkgQ1NTIHNlbGVjdG9ycy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVW5pdmVyc2FsIGV2ZW50IGhhbmRsZXIgZm9yIGRlbGVnYXRlZCBldmVudHMuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5fY3JlYXRlQmluZGluZ0hhbmRsZXIgPVxuXHRmdW5jdGlvbiAoY29tcG9uZW50Um9vdCwgc2VsZWN0b3JIYW5kbGVycykge1xuXHRcdHZhciBzZWxlY3RvcnMgPSBPYmplY3Qua2V5cyhzZWxlY3RvckhhbmRsZXJzKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHR2YXIgZGlzcGF0Y2hlZEV2ZW50ID0gY3JlYXRlQ3VzdG9tRXZlbnQoZXZlbnQsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcblx0XHRcdFx0fSksXG5cdFx0XHRcdGVsZW1lbnQgPSBldmVudC50YXJnZXQsXG5cdFx0XHRcdHRhcmdldE1hdGNoZXMgPSBnZXRNYXRjaGVzTWV0aG9kKGVsZW1lbnQpLFxuXHRcdFx0XHRpc0hhbmRsZWQgPSBzZWxlY3RvcnMuc29tZShmdW5jdGlvbiAoc2VsZWN0b3IpIHtcblx0XHRcdFx0XHRpZiAodGFyZ2V0TWF0Y2hlcyhzZWxlY3RvcikpIHtcblx0XHRcdFx0XHRcdHNlbGVjdG9ySGFuZGxlcnNbc2VsZWN0b3JdKGRpc3BhdGNoZWRFdmVudCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9KTtcblx0XHRcdGlmIChpc0hhbmRsZWQgfHwgIWV2ZW50LmJ1YmJsZXMpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR3aGlsZSAoZWxlbWVudC5wYXJlbnRFbGVtZW50ICYmIGVsZW1lbnQgIT09IGNvbXBvbmVudFJvb3QpIHtcblx0XHRcdFx0ZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcblx0XHRcdFx0dGFyZ2V0TWF0Y2hlcyA9IGdldE1hdGNoZXNNZXRob2QoZWxlbWVudCk7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0b3JzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKCF0YXJnZXRNYXRjaGVzKHNlbGVjdG9yc1tpXSkpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpc0hhbmRsZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHNlbGVjdG9ySGFuZGxlcnNbc2VsZWN0b3JzW2ldXShkaXNwYXRjaGVkRXZlbnQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGlzSGFuZGxlZCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGVsZW1lbnQgaXMgYSBjb21wb25lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50cyBDdXJyZW50IGNvbXBvbmVudHMuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5faXNDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50cywgZWxlbWVudCkge1xuXHR2YXIgY3VycmVudE5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblx0cmV0dXJuIG1vZHVsZUhlbHBlci5DT01QT05FTlRfUFJFRklYX1JFR0VYUC50ZXN0KGN1cnJlbnROb2RlTmFtZSkgJiZcblx0XHQobW9kdWxlSGVscGVyLmdldE9yaWdpbmFsQ29tcG9uZW50TmFtZShjdXJyZW50Tm9kZU5hbWUpIGluIGNvbXBvbmVudHMpO1xufTtcblxuLyoqXG4gKiBGaW5kcyBhbGwgZGVzY2VuZGFudCBjb21wb25lbnRzIG9mIHNwZWNpZmllZCBjb21wb25lbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBSb290IGNvbXBvbmVudCBIVE1MIGVsZW1lbnQgdG8gYmVnaW4gc2VhcmNoIHdpdGguXG4gKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50cyBNYXAgb2YgY29tcG9uZW50cyBieSBuYW1lcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZ29JbkNvbXBvbmVudHMgR28gaW5zaWRlIG5lc3RlZCBjb21wb25lbnRzLlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2ZpbmRDb21wb25lbnRzID1cblx0ZnVuY3Rpb24gKGVsZW1lbnQsIGNvbXBvbmVudHMsIGdvSW5Db21wb25lbnRzKSB7XG5cdFx0dmFyIGVsZW1lbnRzID0gW10sXG5cdFx0XHRxdWV1ZSA9IFtlbGVtZW50XSxcblx0XHRcdGN1cnJlbnRDaGlsZHJlbiwgaTtcblxuXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG5cdFx0XHRjdXJyZW50Q2hpbGRyZW4gPSBxdWV1ZS5zaGlmdCgpLmNoaWxkTm9kZXM7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgY3VycmVudENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdC8vIHdlIG5lZWQgb25seSBFbGVtZW50IG5vZGVzXG5cdFx0XHRcdGlmIChjdXJyZW50Q2hpbGRyZW5baV0ubm9kZVR5cGUgIT09IDEpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGFuZCB0aGV5IHNob3VsZCBiZSBjb21wb25lbnRzXG5cdFx0XHRcdGlmICghdGhpcy5faXNDb21wb25lbnQoY29tcG9uZW50cywgY3VycmVudENoaWxkcmVuW2ldKSkge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goY3VycmVudENoaWxkcmVuW2ldKTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChnb0luQ29tcG9uZW50cykge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goY3VycmVudENoaWxkcmVuW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtZW50cy5wdXNoKGN1cnJlbnRDaGlsZHJlbltpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1lbnRzO1xuXHR9O1xuXG4vKipcbiAqIEhhbmRsZXMgZXJyb3Igd2hpbGUgcmVuZGVyaW5nLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IENvbXBvbmVudCBIVE1MIGVsZW1lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gY29tcG9uZW50IENvbXBvbmVudCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIEVycm9yIHRvIGhhbmRsZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IFByb21pc2UgZm9yIEhUTUwgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2hhbmRsZVJlbmRlckVycm9yID1cblx0ZnVuY3Rpb24gKGVsZW1lbnQsIGNvbXBvbmVudCwgZXJyb3IpIHtcblx0XHR0aGlzLl9ldmVudEJ1cy5lbWl0KCdlcnJvcicsIGVycm9yKTtcblxuXHRcdC8vIGRvIG5vdCBjb3JydXB0IGV4aXN0ZWQgSEVBRCB3aGVuIGVycm9yIG9jY3Vyc1xuXHRcdGlmIChlbGVtZW50LnRhZ05hbWUgPT09IFRBR19OQU1FUy5IRUFEKSB7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuX2NvbmZpZy5pc1JlbGVhc2UgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShlcnJvckhlbHBlci5wcmV0dHlQcmludChcblx0XHRcdFx0ZXJyb3IsIHRoaXMuX3dpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XG5cdFx0XHQpKTtcblx0XHR9IGVsc2UgaWYgKGNvbXBvbmVudC5lcnJvclRlbXBsYXRlKSB7XG5cdFx0XHRyZXR1cm4gY29tcG9uZW50LmVycm9yVGVtcGxhdGUucmVuZGVyKGVycm9yKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCcnKTtcblx0fTtcblxuLyoqXG4gKiBVcGRhdGVzIGFsbCBjb21wb25lbnRzIHRoYXQgZGVwZW5kIG9uIGN1cnJlbnQgc2V0IG9mIGNoYW5nZWQgc3RvcmVzLlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlU3RvcmVDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodGhpcy5faXNVcGRhdGluZykge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0fVxuXG5cdHZhciBzZWxmID0gdGhpcztcblxuXHQvLyBpZiBkb2N1bWVudCBjb21wb25lbnQgaXMgY2hhbmdlZCB3ZSBzaG91bGQgcmVsb2FkIHRoZSBwYWdlXG5cdHZhciBkb2N1bWVudFN0b3JlID0gdGhpcy5fd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXG5cdFx0bW9kdWxlSGVscGVyLkFUVFJJQlVURV9TVE9SRVxuXHQpO1xuXHRpZiAoZG9jdW1lbnRTdG9yZSBpbiB0aGlzLl9jdXJyZW50Q2hhbmdlZFN0b3Jlcykge1xuXHRcdHZhciBuZXdMb2NhdGlvbiA9IHRoaXMuX2N1cnJlbnRSb3V0aW5nQ29udGV4dC5sb2NhdGlvbi50b1N0cmluZygpO1xuXHRcdGlmIChuZXdMb2NhdGlvbiA9PT0gdGhpcy5fd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkpIHtcblx0XHRcdHRoaXMuX3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0XHR9XG5cdFx0dGhpcy5fd2luZG93LmxvY2F0aW9uLmFzc2lnbihuZXdMb2NhdGlvbik7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuXHR9XG5cblx0dGhpcy5faXNVcGRhdGluZyA9IHRydWU7XG5cblx0Ly8gaWYgd2UgaGF2ZSBhd2FpdGluZyByb3V0aW5nIHdlIHNob3VsZCBhcHBseSBzdGF0ZSB0byB0aGUgc3RvcmVzXG5cdGlmICh0aGlzLl9hd2FpdGluZ1JvdXRpbmcpIHtcblx0XHR2YXIgY29tcG9uZW50cyA9IHRoaXMuX2NvbXBvbmVudExvYWRlci5nZXRDb21wb25lbnRzQnlOYW1lcygpLFxuXHRcdFx0Y2hhbmdlZEJ5U3RhdGUgPSB0aGlzLl9zdG9yZURpc3BhdGNoZXIuc2V0U3RhdGUoXG5cdFx0XHRcdHRoaXMuX2F3YWl0aW5nUm91dGluZy5zdGF0ZSxcblx0XHRcdFx0dGhpcy5fYXdhaXRpbmdSb3V0aW5nLnJvdXRpbmdDb250ZXh0XG5cdFx0XHQpO1xuXG5cdFx0Y2hhbmdlZEJ5U3RhdGUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0c2VsZi5fY3VycmVudENoYW5nZWRTdG9yZXNbbmFtZV0gPSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0Ly8gd2Ugc2hvdWxkIHVwZGF0ZSBjb250ZXh0cyBvZiB0aGUgc3RvcmVzIHdpdGggdGhlIG5ldyByb3V0aW5nIGNvbnRleHRcblx0XHR0aGlzLl9jdXJyZW50Um91dGluZ0NvbnRleHQgPSB0aGlzLl9hd2FpdGluZ1JvdXRpbmcucm91dGluZ0NvbnRleHQ7XG5cdFx0T2JqZWN0LmtleXModGhpcy5fY29tcG9uZW50SW5zdGFuY2VzKVxuXHRcdFx0LmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRcdHZhciBpbnN0YW5jZSA9IHNlbGYuX2NvbXBvbmVudEluc3RhbmNlc1tpZF07XG5cdFx0XHRcdGluc3RhbmNlLiRjb250ZXh0ID0gc2VsZi5fZ2V0Q29tcG9uZW50Q29udGV4dChcblx0XHRcdFx0XHRjb21wb25lbnRzW2luc3RhbmNlLiRjb250ZXh0Lm5hbWVdLFxuXHRcdFx0XHRcdGluc3RhbmNlLiRjb250ZXh0LmVsZW1lbnRcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdHRoaXMuX2F3YWl0aW5nUm91dGluZyA9IG51bGw7XG5cdH1cblxuXHR2YXIgY2hhbmdlZFN0b3JlcyA9IE9iamVjdC5rZXlzKHRoaXMuX2N1cnJlbnRDaGFuZ2VkU3RvcmVzKTtcblx0aWYgKGNoYW5nZWRTdG9yZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0dGhpcy5faXNVcGRhdGluZyA9IGZhbHNlO1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0fVxuXG5cdHRoaXMuX2N1cnJlbnRDaGFuZ2VkU3RvcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHR2YXIgcmVuZGVyaW5nQ29udGV4dCA9IHRoaXMuX2NyZWF0ZVJlbmRlcmluZ0NvbnRleHQoY2hhbmdlZFN0b3JlcyksXG5cdFx0cHJvbWlzZXMgPSByZW5kZXJpbmdDb250ZXh0LnJvb3RzLm1hcChmdW5jdGlvbiAocm9vdCkge1xuXHRcdFx0cmVuZGVyaW5nQ29udGV4dC5yb290SWRzW3NlbGYuX2dldElkKHJvb3QpXSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gc2VsZi5yZW5kZXJDb21wb25lbnQocm9vdCwgcmVuZGVyaW5nQ29udGV4dCk7XG5cdFx0fSk7XG5cblx0cmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKVxuXHRcdC5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7XG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KCdlcnJvcicsIHJlYXNvbik7XG5cdFx0fSlcblx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRzZWxmLl9pc1VwZGF0aW5nID0gZmFsc2U7XG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KCdkb2N1bWVudFVwZGF0ZWQnLCBjaGFuZ2VkU3RvcmVzKTtcblx0XHRcdHJldHVybiBzZWxmLl91cGRhdGVTdG9yZUNvbXBvbmVudHMoKTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogTWVyZ2VzIG5ldyBhbmQgZXhpc3RlZCBoZWFkIGVsZW1lbnRzIGFuZCBjaGFuZ2Ugb25seSBkaWZmZXJlbmNlLlxuICogQHBhcmFtIHtFbGVtZW50fSBoZWFkIEhFQUQgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IG5ld0hlYWQgTmV3IGhlYWQgZWxlbWVudC5cbiAqIEBwcml2YXRlXG4gKi9cbi8qanNoaW50IG1heGNvbXBsZXhpdHk6ZmFsc2UgKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9tZXJnZUhlYWQgPSBmdW5jdGlvbiAoaGVhZCwgbmV3SGVhZCkge1xuXHRpZiAoIW5ld0hlYWQpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHZhciBtYXAgPSB0aGlzLl9nZXRIZWFkTWFwKGhlYWQuY2hpbGROb2RlcyksXG5cdFx0Y3VycmVudCwgaSwga2V5LCBvbGRLZXksIG9sZEl0ZW0sXG5cdFx0c2FtZU1ldGFFbGVtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0Zm9yIChpID0gMDsgaSA8IG5ld0hlYWQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuXHRcdGN1cnJlbnQgPSBuZXdIZWFkLmNoaWxkTm9kZXNbaV07XG5cblx0XHRpZiAoIShjdXJyZW50Lm5vZGVOYW1lIGluIG1hcCkpIHtcblx0XHRcdG1hcFtjdXJyZW50Lm5vZGVOYW1lXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChjdXJyZW50Lm5vZGVOYW1lKSB7XG5cdFx0XHQvLyB0aGVzZSBlbGVtZW50cyBjYW4gYmUgb25seSByZXBsYWNlZFxuXHRcdFx0Y2FzZSBUQUdfTkFNRVMuVElUTEU6XG5cdFx0XHRjYXNlIFRBR19OQU1FUy5CQVNFOlxuXHRcdFx0Y2FzZSBUQUdfTkFNRVMuTk9TQ1JJUFQ6XG5cdFx0XHRcdGtleSA9IHRoaXMuX2dldE5vZGVLZXkoY3VycmVudCk7XG5cdFx0XHRcdG9sZEl0ZW0gPSBoZWFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKGN1cnJlbnQubm9kZU5hbWUpWzBdO1xuXHRcdFx0XHRpZiAob2xkSXRlbSkge1xuXHRcdFx0XHRcdG9sZEtleSA9IHRoaXMuX2dldE5vZGVLZXkob2xkSXRlbSk7XG5cdFx0XHRcdFx0aGVhZC5yZXBsYWNlQ2hpbGQoY3VycmVudCwgb2xkSXRlbSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGVhZC5hcHBlbmRDaGlsZChjdXJyZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyB3aGVuIHdlIGRvIHJlcGxhY2Ugb3IgYXBwZW5kIGN1cnJlbnQgaXMgcmVtb3ZlZCBmcm9tIG5ld0hlYWRcblx0XHRcdFx0Ly8gdGhlcmVmb3JlIHdlIG5lZWQgdG8gZGVjcmVtZW50IGluZGV4XG5cdFx0XHRcdGktLTtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdC8vIHRoZXNlIGVsZW1lbnRzIGNhbiBub3QgYmUgZGVsZXRlZCBmcm9tIGhlYWRcblx0XHRcdC8vIHRoZXJlZm9yZSB3ZSBqdXN0IGFkZCBuZXcgZWxlbWVudHMgdGhhdCBkaWZmZXJzIGZyb20gZXhpc3RlZFxuXHRcdFx0Y2FzZSBUQUdfTkFNRVMuU1RZTEU6XG5cdFx0XHRjYXNlIFRBR19OQU1FUy5MSU5LOlxuXHRcdFx0Y2FzZSBUQUdfTkFNRVMuU0NSSVBUOlxuXHRcdFx0XHRrZXkgPSBzZWxmLl9nZXROb2RlS2V5KGN1cnJlbnQpO1xuXHRcdFx0XHRpZiAoIShrZXkgaW4gbWFwW2N1cnJlbnQubm9kZU5hbWVdKSkge1xuXHRcdFx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoY3VycmVudCk7XG5cdFx0XHRcdFx0aS0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Ly8gbWV0YSBhbmQgb3RoZXIgZWxlbWVudHMgY2FuIGJlIGRlbGV0ZWRcblx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90IGRlbGV0ZSBhbmQgYXBwZW5kIHNhbWUgZWxlbWVudHNcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGtleSA9IHNlbGYuX2dldE5vZGVLZXkoY3VycmVudCk7XG5cdFx0XHRcdGlmIChrZXkgaW4gbWFwW2N1cnJlbnQubm9kZU5hbWVdKSB7XG5cdFx0XHRcdFx0c2FtZU1ldGFFbGVtZW50c1trZXldID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRoZWFkLmFwcGVuZENoaWxkKGN1cnJlbnQpO1xuXHRcdFx0XHRcdGktLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRpZiAoVEFHX05BTUVTLk1FVEEgaW4gbWFwKSB7XG5cdFx0Ly8gcmVtb3ZlIG1ldGEgdGFncyB3aGljaCBhIG5vdCBpbiBhIG5ldyBoZWFkIHN0YXRlXG5cdFx0T2JqZWN0LmtleXMobWFwW1RBR19OQU1FUy5NRVRBXSlcblx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRhS2V5KSB7XG5cdFx0XHRcdGlmIChtZXRhS2V5IGluIHNhbWVNZXRhRWxlbWVudHMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRoZWFkLnJlbW92ZUNoaWxkKG1hcFtUQUdfTkFNRVMuTUVUQV1bbWV0YUtleV0pO1xuXHRcdFx0fSk7XG5cdH1cbn07XG5cbi8qKlxuICogR2V0cyBtYXAgb2YgYWxsIEhFQUQncyBlbGVtZW50cy5cbiAqIEBwYXJhbSB7Tm9kZUxpc3R9IGhlYWRDaGlsZHJlbiBIZWFkIGNoaWxkcmVuIERPTSBub2Rlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IE1hcCBvZiBIRUFEIGVsZW1lbnRzLlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2dldEhlYWRNYXAgPSBmdW5jdGlvbiAoaGVhZENoaWxkcmVuKSB7XG5cdC8vIENyZWF0ZSBtYXAgb2YgPG1ldGE+LCA8bGluaz4sIDxzdHlsZT4gYW5kIDxzY3JpcHQ+IHRhZ3Ncblx0Ly8gYnkgdW5pcXVlIGtleXMgdGhhdCBjb250YWluIGF0dHJpYnV0ZXMgYW5kIGNvbnRlbnRcblx0dmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCksXG5cdFx0aSwgY3VycmVudCxcblx0XHRzZWxmID0gdGhpcztcblxuXHRmb3IgKGkgPSAwOyBpIDwgaGVhZENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y3VycmVudCA9IGhlYWRDaGlsZHJlbltpXTtcblx0XHRpZiAoIShjdXJyZW50Lm5vZGVOYW1lIGluIG1hcCkpIHtcblx0XHRcdG1hcFtjdXJyZW50Lm5vZGVOYW1lXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFx0fVxuXHRcdG1hcFtjdXJyZW50Lm5vZGVOYW1lXVtzZWxmLl9nZXROb2RlS2V5KGN1cnJlbnQpXSA9IGN1cnJlbnQ7XG5cdH1cblx0cmV0dXJuIG1hcDtcbn07XG5cbi8qKlxuICogR2V0cyB1bmlxdWUgZWxlbWVudCBrZXkgdXNpbmcgZWxlbWVudCdzIGF0dHJpYnV0ZXMgYW5kIGl0cyBjb250ZW50LlxuICogQHBhcmFtIHtOb2RlfSBub2RlIEhUTUwgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVuaXF1ZSBrZXkgZm9yIGVsZW1lbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5Eb2N1bWVudFJlbmRlcmVyLnByb3RvdHlwZS5fZ2V0Tm9kZUtleSA9IGZ1bmN0aW9uIChub2RlKSB7XG5cdHZhciBjdXJyZW50LCBpLFxuXHRcdGF0dHJpYnV0ZXMgPSBbXTtcblxuXHRpZiAobm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFUy5FTEVNRU5UX05PREUpIHtcblx0XHRyZXR1cm4gbm9kZS5ub2RlVmFsdWUgfHwgJyc7XG5cdH1cblxuXHRpZiAobm9kZS5oYXNBdHRyaWJ1dGVzKCkpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjdXJyZW50ID0gbm9kZS5hdHRyaWJ1dGVzW2ldO1xuXHRcdFx0YXR0cmlidXRlcy5wdXNoKGN1cnJlbnQubmFtZSArICc9JyArIGN1cnJlbnQudmFsdWUpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhdHRyaWJ1dGVzXG5cdFx0XHQuc29ydCgpXG5cdFx0XHQuam9pbignfCcpICsgJz4nICsgbm9kZS50ZXh0Q29udGVudDtcbn07XG5cbi8qKlxuICogRG9lcyBpbml0aWFsIHdyYXBwaW5nIGZvciBldmVyeSBjb21wb25lbnQgb24gdGhlIHBhZ2UuXG4gKiBAcGFyYW0ge0FycmF5fSBjb21wb25lbnRzIEN1cnJlbnQgY29tcG9uZW50cyBsaXN0LlxuICogQHBhcmFtIHtBcnJheX0gZWxlbWVudCBFbGVtZW50cyBsaXN0LlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2luaXRpYWxXcmFwID0gZnVuY3Rpb24gKGNvbXBvbmVudHMsIGVsZW1lbnRzKSB7XG5cdHZhciBzZWxmID0gdGhpcyxcblx0XHRjdXJyZW50ID0gZWxlbWVudHMucG9wKCk7XG5cblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGlkID0gc2VsZi5fZ2V0SWQoY3VycmVudCk7XG5cdFx0XHRpZiAoIWlkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGNvbXBvbmVudE5hbWUgPSBtb2R1bGVIZWxwZXIuZ2V0T3JpZ2luYWxDb21wb25lbnROYW1lKFxuXHRcdFx0XHRcdGN1cnJlbnQubm9kZU5hbWVcblx0XHRcdFx0KTtcblx0XHRcdGlmICghKGNvbXBvbmVudE5hbWUgaW4gY29tcG9uZW50cykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGNvbnN0cnVjdG9yID0gY29tcG9uZW50c1tjb21wb25lbnROYW1lXS5jb25zdHJ1Y3Rvcjtcblx0XHRcdGNvbnN0cnVjdG9yLnByb3RvdHlwZS4kY29udGV4dCA9IHNlbGYuX2dldENvbXBvbmVudENvbnRleHQoXG5cdFx0XHRcdGNvbXBvbmVudHNbY29tcG9uZW50TmFtZV0sIGN1cnJlbnRcblx0XHRcdCk7XG5cblx0XHRcdHZhciBpbnN0YW5jZSA9IHNlbGYuX3NlcnZpY2VMb2NhdG9yLnJlc29sdmVJbnN0YW5jZShcblx0XHRcdFx0Y29uc3RydWN0b3IsIHNlbGYuX2NvbmZpZ1xuXHRcdFx0KTtcblx0XHRcdGluc3RhbmNlLiRjb250ZXh0ID0gY29uc3RydWN0b3IucHJvdG90eXBlLiRjb250ZXh0O1xuXHRcdFx0c2VsZi5fY29tcG9uZW50RWxlbWVudHNbaWRdID0gY3VycmVudDtcblx0XHRcdHNlbGYuX2NvbXBvbmVudEluc3RhbmNlc1tpZF0gPSBpbnN0YW5jZTtcblx0XHRcdC8vIGluaXRpYWxpemUgdGhlIHN0b3JlIG9mIHRoZSBjb21wb25lbnRcblx0XHRcdHNlbGYuX3N0b3JlRGlzcGF0Y2hlci5nZXRTdG9yZShcblx0XHRcdFx0Y3VycmVudC5nZXRBdHRyaWJ1dGUobW9kdWxlSGVscGVyLkFUVFJJQlVURV9TVE9SRSlcblx0XHRcdCk7XG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KCdjb21wb25lbnRSZW5kZXJlZCcsIHtcblx0XHRcdFx0bmFtZTogY29tcG9uZW50TmFtZSxcblx0XHRcdFx0YXR0cmlidXRlczogaW5zdGFuY2UuJGNvbnRleHQuYXR0cmlidXRlcyxcblx0XHRcdFx0Y29udGV4dDogaW5zdGFuY2UuJGNvbnRleHRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHNlbGYuX2JpbmRDb21wb25lbnQoY3VycmVudCk7XG5cdFx0fSlcblx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRyZXR1cm4gc2VsZi5faW5pdGlhbFdyYXAoY29tcG9uZW50cywgZWxlbWVudHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KFxuXHRcdFx0XHQnZG9jdW1lbnRSZW5kZXJlZCcsIHNlbGYuX2N1cnJlbnRSb3V0aW5nQ29udGV4dFxuXHRcdFx0KTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogR2V0cyBjb21wb25lbnQgY29udGV4dCB1c2luZyBiYXNpYyBjb250ZXh0LlxuICogQHBhcmFtIHtPYmplY3R9IGNvbXBvbmVudCBDb21wb25lbnQgZGV0YWlscy5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCBvZiBjb21wb25lbnQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBDb21wb25lbnQgY29udGV4dC5cbiAqIEBwcml2YXRlXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9nZXRDb21wb25lbnRDb250ZXh0ID1cblx0ZnVuY3Rpb24gKGNvbXBvbmVudCwgZWxlbWVudCkge1xuXHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdHN0b3JlTmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG1vZHVsZUhlbHBlci5BVFRSSUJVVEVfU1RPUkUpLFxuXHRcdFx0Y29tcG9uZW50Q29udGV4dCA9IE9iamVjdC5jcmVhdGUodGhpcy5fY3VycmVudFJvdXRpbmdDb250ZXh0KTtcblxuXHRcdC8vIGluaXRpYWxpemUgdGhlIHN0b3JlIG9mIHRoZSBjb21wb25lbnRcblx0XHR0aGlzLl9zdG9yZURpc3BhdGNoZXIuZ2V0U3RvcmUoc3RvcmVOYW1lKTtcblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbXBvbmVudENvbnRleHQsIHtcblx0XHRcdG5hbWU6IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBvbmVudC5uYW1lO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0YXR0cmlidXRlczoge1xuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gYXR0cmlidXRlc1RvT2JqZWN0KGVsZW1lbnQuYXR0cmlidXRlcyk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbXBvbmVudENvbnRleHQuZWxlbWVudCA9IGVsZW1lbnQ7XG5cdFx0Y29tcG9uZW50Q29udGV4dC5nZXRDb21wb25lbnRCeUlkID0gZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRyZXR1cm4gc2VsZi5nZXRDb21wb25lbnRCeUlkKGlkKTtcblx0XHR9O1xuXHRcdGNvbXBvbmVudENvbnRleHQuZ2V0Q29tcG9uZW50QnlFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0XHRcdHJldHVybiBzZWxmLmdldENvbXBvbmVudEJ5RWxlbWVudChlbGVtZW50KTtcblx0XHR9O1xuXHRcdGNvbXBvbmVudENvbnRleHQuY3JlYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKHRhZ05hbWUsIGF0dHJpYnV0ZXMpIHtcblx0XHRcdHJldHVybiBzZWxmLmNyZWF0ZUNvbXBvbmVudCh0YWdOYW1lLCBhdHRyaWJ1dGVzKTtcblx0XHR9O1xuXHRcdGNvbXBvbmVudENvbnRleHQuY29sbGVjdEdhcmJhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gc2VsZi5jb2xsZWN0R2FyYmFnZSgpO1xuXHRcdH07XG5cdFx0Y29tcG9uZW50Q29udGV4dC5nZXRTdG9yZURhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgY3VycmVudFN0b3JlTmFtZSA9IGVsZW1lbnRcblx0XHRcdFx0LmdldEF0dHJpYnV0ZShtb2R1bGVIZWxwZXIuQVRUUklCVVRFX1NUT1JFKTtcblx0XHRcdHJldHVybiBzZWxmLl9zdG9yZURpc3BhdGNoZXJcblx0XHRcdFx0LmdldFN0b3JlRGF0YShjdXJyZW50U3RvcmVOYW1lKTtcblx0XHR9O1xuXHRcdGNvbXBvbmVudENvbnRleHQuc2VuZEFjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG5cdFx0XHR2YXIgY3VycmVudFN0b3JlTmFtZSA9IGVsZW1lbnRcblx0XHRcdFx0LmdldEF0dHJpYnV0ZShtb2R1bGVIZWxwZXIuQVRUUklCVVRFX1NUT1JFKTtcblx0XHRcdHJldHVybiBzZWxmLl9zdG9yZURpc3BhdGNoZXJcblx0XHRcdFx0LnNlbmRBY3Rpb24oY3VycmVudFN0b3JlTmFtZSwgbmFtZSwgYXJncyk7XG5cdFx0fTtcblx0XHRjb21wb25lbnRDb250ZXh0LnNlbmRCcm9hZGNhc3RBY3Rpb24gPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuXHRcdFx0cmV0dXJuIHNlbGYuX3N0b3JlRGlzcGF0Y2hlclxuXHRcdFx0XHQuc2VuZEJyb2FkY2FzdEFjdGlvbihuYW1lLCBhcmdzKTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIE9iamVjdC5mcmVlemUoY29tcG9uZW50Q29udGV4dCk7XG5cdH07XG5cbi8qKlxuICogRmluZHMgYWxsIHJlbmRlcmluZyByb290cyBvbiBwYWdlIGZvciBhbGwgY2hhbmdlZCBzdG9yZXMuXG4gKiBAcGFyYW0ge0FycmF5fSBjaGFuZ2VkU3RvcmVOYW1lcyBMaXN0IG9mIHN0b3JlIG5hbWVzIHdoaWNoIGhhcyBiZWVuIGNoYW5nZWQuXG4gKiBAcmV0dXJucyB7QXJyYXk8RWxlbWVudD59IEhUTUwgZWxlbWVudHMgdGhhdCBhcmUgcmVuZGVyaW5nIHJvb3RzLlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2ZpbmRSZW5kZXJpbmdSb290cyA9IGZ1bmN0aW9uIChjaGFuZ2VkU3RvcmVOYW1lcykge1xuXHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0aGVhZFN0b3JlID0gdGhpcy5fd2luZG93LmRvY3VtZW50LmhlYWQuZ2V0QXR0cmlidXRlKFxuXHRcdFx0bW9kdWxlSGVscGVyLkFUVFJJQlVURV9TVE9SRVxuXHRcdCksXG5cdFx0Y29tcG9uZW50cyA9IHRoaXMuX2NvbXBvbmVudExvYWRlci5nZXRDb21wb25lbnRzQnlOYW1lcygpLFxuXHRcdGNvbXBvbmVudHNFbGVtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCksXG5cdFx0c3RvcmVOYW1lc1NldCA9IE9iamVjdC5jcmVhdGUobnVsbCksXG5cdFx0cm9vdHNTZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpLFxuXHRcdHJvb3RzID0gW107XG5cblx0Ly8gd2Ugc2hvdWxkIGZpbmQgYWxsIGNvbXBvbmVudHMgYW5kIHRoZW4gbG9va2luZyBmb3Igcm9vdHNcblx0Y2hhbmdlZFN0b3JlTmFtZXNcblx0XHQuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdFx0XHRzdG9yZU5hbWVzU2V0W3N0b3JlTmFtZV0gPSB0cnVlO1xuXHRcdFx0Y29tcG9uZW50c0VsZW1lbnRzW3N0b3JlTmFtZV0gPSBzZWxmLl93aW5kb3cuZG9jdW1lbnRcblx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3JBbGwoXG5cdFx0XHRcdFx0J1snICtcblx0XHRcdFx0XHRtb2R1bGVIZWxwZXIuQVRUUklCVVRFX0lEICtcblx0XHRcdFx0XHQnXScgK1xuXHRcdFx0XHRcdCdbJyArXG5cdFx0XHRcdFx0bW9kdWxlSGVscGVyLkFUVFJJQlVURV9TVE9SRSArXG5cdFx0XHRcdFx0Jz1cIicgK1xuXHRcdFx0XHRcdHN0b3JlTmFtZSArXG5cdFx0XHRcdFx0J1wiXSdcblx0XHRcdFx0KTtcblx0XHR9KTtcblxuXHRpZiAobW9kdWxlSGVscGVyLkhFQURfQ09NUE9ORU5UX05BTUUgaW4gY29tcG9uZW50cyAmJlxuXHRcdGhlYWRTdG9yZSBpbiBzdG9yZU5hbWVzU2V0KSB7XG5cdFx0cm9vdHNTZXRbdGhpcy5fZ2V0SWQodGhpcy5fd2luZG93LmRvY3VtZW50LmhlYWQpXSA9IHRydWU7XG5cdFx0cm9vdHMucHVzaCh0aGlzLl93aW5kb3cuZG9jdW1lbnQuaGVhZCk7XG5cdH1cblxuXHRjaGFuZ2VkU3RvcmVOYW1lc1xuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcblx0XHRcdHZhciBjdXJyZW50LCBjdXJyZW50SWQsXG5cdFx0XHRcdGxhc3RSb290LCBsYXN0Um9vdElkLFxuXHRcdFx0XHRjdXJyZW50U3RvcmUsIGN1cnJlbnRDb21wb25lbnROYW1lO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvbmVudHNFbGVtZW50c1tzdG9yZU5hbWVdLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGN1cnJlbnQgPSBjb21wb25lbnRzRWxlbWVudHNbc3RvcmVOYW1lXVtpXTtcblx0XHRcdFx0Y3VycmVudElkID0gY29tcG9uZW50c0VsZW1lbnRzW3N0b3JlTmFtZV1baV1cblx0XHRcdFx0XHQuZ2V0QXR0cmlidXRlKG1vZHVsZUhlbHBlci5BVFRSSUJVVEVfSUQpO1xuXHRcdFx0XHRsYXN0Um9vdCA9IGN1cnJlbnQ7XG5cdFx0XHRcdGxhc3RSb290SWQgPSBjdXJyZW50SWQ7XG5cdFx0XHRcdGN1cnJlbnRDb21wb25lbnROYW1lID0gbW9kdWxlSGVscGVyLmdldE9yaWdpbmFsQ29tcG9uZW50TmFtZShcblx0XHRcdFx0XHRjdXJyZW50LnRhZ05hbWVcblx0XHRcdFx0KTtcblxuXHRcdFx0XHR3aGlsZSAoY3VycmVudC5wYXJlbnRFbGVtZW50KSB7XG5cdFx0XHRcdFx0Y3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcblx0XHRcdFx0XHRjdXJyZW50SWQgPSBzZWxmLl9nZXRJZChjdXJyZW50KTtcblx0XHRcdFx0XHRjdXJyZW50U3RvcmUgPSBjdXJyZW50LmdldEF0dHJpYnV0ZShcblx0XHRcdFx0XHRcdG1vZHVsZUhlbHBlci5BVFRSSUJVVEVfU1RPUkVcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Ly8gc3RvcmUgZGlkIG5vdCBjaGFuZ2Ugc3RhdGVcblx0XHRcdFx0XHRpZiAoIWN1cnJlbnRTdG9yZSB8fCAhKGN1cnJlbnRTdG9yZSBpbiBzdG9yZU5hbWVzU2V0KSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gaXMgbm90IGFuIGFjdGl2ZSBjb21wb25lbnRcblx0XHRcdFx0XHRpZiAoIShjdXJyZW50Q29tcG9uZW50TmFtZSBpbiBjb21wb25lbnRzKSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGFzdFJvb3QgPSBjdXJyZW50O1xuXHRcdFx0XHRcdGxhc3RSb290SWQgPSBjdXJyZW50SWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGxhc3RSb290SWQgaW4gcm9vdHNTZXQpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyb290c1NldFtsYXN0Um9vdElkXSA9IHRydWU7XG5cdFx0XHRcdHJvb3RzLnB1c2gobGFzdFJvb3QpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiByb290cztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7QXJyYXk/fSBjaGFuZ2VkU3RvcmVzIE5hbWVzIG9mIGNoYW5nZWQgc3RvcmVzLlxuICogQHJldHVybnMge3tcbiAqICAgY29uZmlnOiBPYmplY3QsXG4gKiAgIHJlbmRlcmVkSWRzOiB7fSxcbiAqICAgdW5ib3VuZElkczoge30sXG4gKiAgIGlzSGVhZFJlbmRlcmVkOiBib29sZWFuLFxuICogICBiaW5kTWV0aG9kczogQXJyYXksXG4gKiAgIHJvdXRpbmdDb250ZXh0OiBPYmplY3QsXG4gKiAgIGNvbXBvbmVudHM6IE9iamVjdCxcbiAqICAgcm9vdHM6IEFycmF5LjxFbGVtZW50PlxuICogfX0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2NyZWF0ZVJlbmRlcmluZ0NvbnRleHQgPSBmdW5jdGlvbiAoY2hhbmdlZFN0b3Jlcykge1xuXHR2YXIgY29tcG9uZW50cyA9IHRoaXMuX2NvbXBvbmVudExvYWRlci5nZXRDb21wb25lbnRzQnlOYW1lcygpO1xuXG5cdHJldHVybiB7XG5cdFx0Y29uZmlnOiB0aGlzLl9jb25maWcsXG5cdFx0cmVuZGVyZWRJZHM6IE9iamVjdC5jcmVhdGUobnVsbCksXG5cdFx0dW5ib3VuZElkczogT2JqZWN0LmNyZWF0ZShudWxsKSxcblx0XHRpc0hlYWRSZW5kZXJlZDogZmFsc2UsXG5cdFx0YmluZE1ldGhvZHM6IFtdLFxuXHRcdHJvdXRpbmdDb250ZXh0OiB0aGlzLl9jdXJyZW50Um91dGluZ0NvbnRleHQsXG5cdFx0Y29tcG9uZW50czogY29tcG9uZW50cyxcblx0XHRyb290SWRzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXHRcdHJvb3RzOiBjaGFuZ2VkU3RvcmVzID8gdGhpcy5fZmluZFJlbmRlcmluZ1Jvb3RzKGNoYW5nZWRTdG9yZXMpIDogW11cblx0fTtcbn07XG5cbi8qKlxuICogR2V0cyBJRCBvZiB0aGUgZWxlbWVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBIVE1MIGVsZW1lbnQgb2YgY29tcG9uZW50LlxuICogQHJldHVybnMge3N0cmluZ30gSUQuXG4gKi9cbkRvY3VtZW50UmVuZGVyZXIucHJvdG90eXBlLl9nZXRJZCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdGlmIChlbGVtZW50ID09PSB0aGlzLl93aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG5cdFx0cmV0dXJuIFNQRUNJQUxfSURTLiQkZG9jdW1lbnQ7XG5cdH1cblx0aWYgKGVsZW1lbnQgPT09IHRoaXMuX3dpbmRvdy5kb2N1bWVudC5oZWFkKSB7XG5cdFx0cmV0dXJuIFNQRUNJQUxfSURTLiQkaGVhZDtcblx0fVxuXHRyZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUobW9kdWxlSGVscGVyLkFUVFJJQlVURV9JRCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgdGVtcG9yYXJ5IGNsb25lIG9mIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50LlxuICogQHJldHVybnMge0VsZW1lbnR9IGNsb25lLlxuICogQHByaXZhdGVcbiAqL1xuRG9jdW1lbnRSZW5kZXJlci5wcm90b3R5cGUuX2NyZWF0ZVRlbXBvcmFyeUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHR2YXIgdG1wID0gdGhpcy5fd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbWVudC50YWdOYW1lKSxcblx0XHRhdHRyaWJ1dGVzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHR0bXAuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYXR0cmlidXRlc1tpXS52YWx1ZSk7XG5cdH1cblx0cmV0dXJuIHRtcDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgTmFtZWROb2RlTWFwIG9mIEF0dHIgaXRlbXMgdG8ga2V5LXZhbHVlIG9iamVjdCBtYXAuXG4gKiBAcGFyYW0ge05hbWVkTm9kZU1hcH0gYXR0cmlidXRlcyBMaXN0IG9mIEVsZW1lbnQgYXR0cmlidXRlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IE1hcCBvZiBhdHRyaWJ1dGUgdmFsdWVzIGJ5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBhdHRyaWJ1dGVzVG9PYmplY3QoYXR0cmlidXRlcykge1xuXHR2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0cmVzdWx0W2F0dHJpYnV0ZXNbaV0ubmFtZV0gPSBhdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyBjcm9zcy1icm93c2VyIFwibWF0Y2hlc1wiIG1ldGhvZCBmb3IgdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgSFRNTCBlbGVtZW50LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBcIm1hdGNoZXNcIiBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIGdldE1hdGNoZXNNZXRob2QoZWxlbWVudCkge1xuXHR2YXIgbWV0aG9kID0gKGVsZW1lbnQubWF0Y2hlcyB8fFxuXHRcdGVsZW1lbnQud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZWxlbWVudC5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRlbGVtZW50Lm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRlbGVtZW50Lm1zTWF0Y2hlc1NlbGVjdG9yKTtcblxuXHRyZXR1cm4gbWV0aG9kLmJpbmQoZWxlbWVudCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBpbWl0YXRpb24gb2Ygb3JpZ2luYWwgRXZlbnQgb2JqZWN0IGJ1dCB3aXRoIHNwZWNpZmllZCBjdXJyZW50VGFyZ2V0LlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgT3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VycmVudFRhcmdldEdldHRlciBHZXR0ZXIgZm9yIGN1cnJlbnRUYXJnZXQuXG4gKiBAcmV0dXJucyB7RXZlbnR9IFdyYXBwZWQgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUV2ZW50KGV2ZW50LCBjdXJyZW50VGFyZ2V0R2V0dGVyKSB7XG5cdHZhciBjYXRFdmVudCA9IE9iamVjdC5jcmVhdGUoZXZlbnQpLFxuXHRcdGtleXMgPSBbXSxcblx0XHRwcm9wZXJ0aWVzID0ge307XG5cdGZvciAodmFyIGtleSBpbiBldmVudCkge1xuXHRcdGtleXMucHVzaChrZXkpO1xuXHR9XG5cdGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0aWYgKHR5cGVvZiAoZXZlbnRba2V5XSkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHByb3BlcnRpZXNba2V5XSA9IHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGV2ZW50W2tleV0uYmluZChldmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cHJvcGVydGllc1trZXldID0ge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJldHVybiBldmVudFtrZXldO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdGV2ZW50W2tleV0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcblxuXHRwcm9wZXJ0aWVzLmN1cnJlbnRUYXJnZXQgPSB7XG5cdFx0Z2V0OiBjdXJyZW50VGFyZ2V0R2V0dGVyXG5cdH07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhdEV2ZW50LCBwcm9wZXJ0aWVzKTtcblx0T2JqZWN0LnNlYWwoY2F0RXZlbnQpO1xuXHRPYmplY3QuZnJlZXplKGNhdEV2ZW50KTtcblx0cmV0dXJuIGNhdEV2ZW50O1xufSIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvZ2dlcjtcblxudmFyIExFVkVMUyA9IHtcblx0REVCVUc6ICdkZWJ1ZycsXG5cdFRSQUNFOiAndHJhY2UnLFxuXHRJTkZPOiAnaW5mbycsXG5cdFdBUk46ICd3YXJuJyxcblx0RVJST1I6ICdlcnJvcicsXG5cdEZBVEFMOiAnZmF0YWwnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYnJvd3NlciBsb2dnZXIuXG4gKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IGxldmVscyBMZXZlbHMgdG8gbG9nLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIExvZ2dlcihsZXZlbHMpIHtcblx0aWYgKHR5cGVvZiAobGV2ZWxzKSA9PT0gJ29iamVjdCcpIHtcblx0XHR0aGlzLl9sZXZlbHMgPSBsZXZlbHM7XG5cdH1cblxuXHRpZiAodHlwZW9mIChsZXZlbHMpID09PSAnc3RyaW5nJykge1xuXHRcdHRoaXMuX2xldmVscyA9IHt9O1xuXHRcdE9iamVjdC5rZXlzKExFVkVMUylcblx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuXHRcdFx0XHR0aGlzLl9sZXZlbHNbTEVWRUxTW2xldmVsXV0gPVxuXHRcdFx0XHRcdChsZXZlbHMuc2VhcmNoKExFVkVMU1tsZXZlbF0pICE9PSAtMSk7XG5cdFx0XHR9LCB0aGlzKTtcblx0fVxuXG5cdHRoaXMuZGVidWcgPSB0aGlzLmRlYnVnLmJpbmQodGhpcyk7XG5cdHRoaXMudHJhY2UgPSB0aGlzLnRyYWNlLmJpbmQodGhpcyk7XG5cdHRoaXMuaW5mbyA9IHRoaXMuaW5mby5iaW5kKHRoaXMpO1xuXHR0aGlzLndhcm4gPSB0aGlzLndhcm4uYmluZCh0aGlzKTtcblx0dGhpcy5lcnJvciA9IHRoaXMuZXJyb3IuYmluZCh0aGlzKTtcblx0dGhpcy5mYXRhbCA9IHRoaXMuZmF0YWwuYmluZCh0aGlzKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IGxldmVscyBvZiBsb2dnaW5nLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbkxvZ2dlci5wcm90b3R5cGUuX2xldmVscyA9IHtcblx0ZGVidWc6IHRydWUsXG5cdHRyYWNlOiB0cnVlLFxuXHRpbmZvOiB0cnVlLFxuXHR3YXJuOiB0cnVlLFxuXHRlcnJvcjogdHJ1ZSxcblx0ZmF0YWw6IHRydWVcbn07XG5cbi8qKlxuICogTG9ncyB0cmFjZSBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVHJhY2UgbWVzc2FnZS5cbiAqL1xuTG9nZ2VyLnByb3RvdHlwZS50cmFjZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdGlmICghdGhpcy5fbGV2ZWxzLnRyYWNlKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGNvbnNvbGUubG9nKSB7XG5cdFx0Y29uc29sZS5sb2cobWVzc2FnZSk7XG5cdH1cbn07XG5cbi8qKlxuICogTG9ncyB0cmFjZSBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVHJhY2UgbWVzc2FnZS5cbiAqL1xuTG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG5cdGlmICghdGhpcy5fbGV2ZWxzLmRlYnVnKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGNvbnNvbGUubG9nKSB7XG5cdFx0Y29uc29sZS5sb2cobWVzc2FnZSk7XG5cdH1cbn07XG5cbi8qKlxuICogTG9ncyBpbmZvIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBJbmZvcm1hdGlvbiBtZXNzYWdlLlxuICovXG5Mb2dnZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuXHRpZiAoIXRoaXMuX2xldmVscy5pbmZvKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aWYgKGNvbnNvbGUuaW5mbykge1xuXHRcdGNvbnNvbGUuaW5mbyhtZXNzYWdlKTtcblx0fVxufTtcblxuLyoqXG4gKiBMb2dzIHdhcm4gbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFdhcm5pbmcgbWVzc2FnZS5cbiAqL1xuTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcblx0aWYgKCF0aGlzLl9sZXZlbHMud2Fybikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChjb25zb2xlLndhcm4pIHtcblx0XHRjb25zb2xlLndhcm4obWVzc2FnZSk7XG5cdH1cbn07XG4vKipcbiAqIExvZ3MgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfEVycm9yfSBlcnJvciBFcnJvciBvYmplY3Qgb3IgbWVzc2FnZS5cbiAqL1xuTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHRpZiAoIXRoaXMuX2xldmVscy5lcnJvcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHdyaXRlRXJyb3IoZXJyb3IpO1xufTtcblxuLyoqXG4gKiBMb2dzIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ3xFcnJvcn0gZXJyb3IgRXJyb3Igb2JqZWN0IG9yIG1lc3NhZ2UuXG4gKi9cbkxvZ2dlci5wcm90b3R5cGUuZmF0YWwgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0aWYgKCF0aGlzLl9sZXZlbHMuZmF0YWwpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0d3JpdGVFcnJvcihlcnJvcik7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBlcnJvciB0byBjb25zb2xlLlxuICogQHBhcmFtIHtFcnJvcnxzdHJpbmd9IGVycm9yIEVycm9yIHRvIHdyaXRlLlxuICovXG5mdW5jdGlvbiB3cml0ZUVycm9yKGVycm9yKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHtcblx0XHRcdGVycm9yID0gdHlwZW9mIChlcnJvcikgPT09ICdzdHJpbmcnID8gbmV3IEVycm9yKGVycm9yKSA6IG5ldyBFcnJvcigpO1xuXHRcdH1cblx0XHRpZiAoY29uc29sZS5lcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihlcnJvcik7XG5cdFx0fVxuXHR9IGNhdGNoIChlKSB7XG5cdFx0d3JpdGVFcnJvcihlKTtcblx0fVxufSIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlcXVlc3RSb3V0ZXI7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRVUkkgPSByZXF1aXJlKCdjYXRiZXJyeS11cmknKS5VUkk7XG5cbnZhciBNT1VTRV9QUklNQVJZX0tFWSA9IDAsXG5cdEhSRUZfQVRUUklCVVRFX05BTUUgPSAnaHJlZicsXG5cdFRBUkdFVF9BVFRSSUJVVEVfTkFNRSA9ICd0YXJnZXQnLFxuXHRBX1RBR19OQU1FID0gJ0EnLFxuXHRCT0RZX1RBR19OQU1FID0gJ0JPRFknO1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBicm93c2VyIHJlcXVlc3Qgcm91dGVyLlxuICogQHBhcmFtIHtTZXJ2aWNlTG9jYXRvcn0gJHNlcnZpY2VMb2NhdG9yIFNlcnZpY2UgbG9jYXRvciB0byByZXNvbHZlIHNlcnZpY2VzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFJlcXVlc3RSb3V0ZXIoJHNlcnZpY2VMb2NhdG9yKSB7XG5cdHRoaXMuX2V2ZW50QnVzID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ2V2ZW50QnVzJyk7XG5cdHRoaXMuX3dpbmRvdyA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCd3aW5kb3cnKTtcblx0dGhpcy5fZG9jdW1lbnRSZW5kZXJlciA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdkb2N1bWVudFJlbmRlcmVyJyk7XG5cdHRoaXMuX3N0YXRlUHJvdmlkZXIgPSAkc2VydmljZUxvY2F0b3IucmVzb2x2ZSgnc3RhdGVQcm92aWRlcicpO1xuXHR0aGlzLl9jb250ZXh0RmFjdG9yeSA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdjb250ZXh0RmFjdG9yeScpO1xuXG5cdHRoaXMuX2lzSGlzdG9yeVN1cHBvcnRlZCA9IHRoaXMuX3dpbmRvdy5oaXN0b3J5ICYmXG5cdFx0dGhpcy5fd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlIGluc3RhbmNlb2YgRnVuY3Rpb247XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHQvLyBhZGQgZXZlbnQgaGFuZGxlcnNcblx0c2VsZi5fd3JhcERvY3VtZW50KCk7XG5cblx0Ly8gc2V0IGluaXRpYWwgc3RhdGUgZnJvbSBjdXJyZW50IFVSSVxuXHR0aGlzLl9jaGFuZ2VTdGF0ZShuZXcgVVJJKHRoaXMuX3dpbmRvdy5sb2NhdGlvbi50b1N0cmluZygpKSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuXHRcdFx0c2VsZi5faGFuZGxlRXJyb3IocmVhc29uKTtcblx0XHR9KTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IGluaXRpYWxpemF0aW9uIGZsYWcuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cblJlcXVlc3RSb3V0ZXIucHJvdG90eXBlLl9pc1N0YXRlSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuLyoqXG4gKiBDdXJyZW50IHJlZmVycmVyLlxuICogQHR5cGUge1VSSX1cbiAqIEBwcml2YXRlXG4gKi9cblJlcXVlc3RSb3V0ZXIucHJvdG90eXBlLl9yZWZlcnJlciA9ICcnO1xuXG4vKipcbiAqIEN1cnJlbnQgbG9jYXRpb24uXG4gKiBAdHlwZSB7VVJJfVxuICogQHByaXZhdGVcbiAqL1xuUmVxdWVzdFJvdXRlci5wcm90b3R5cGUuX2xvY2F0aW9uID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGV2ZW50IGJ1cy5cbiAqIEB0eXBlIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5SZXF1ZXN0Um91dGVyLnByb3RvdHlwZS5fZXZlbnRCdXMgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgY29udGV4dCBmYWN0b3J5LlxuICogQHR5cGUge0NvbnRleHRGYWN0b3J5fVxuICogQHByaXZhdGVcbiAqL1xuUmVxdWVzdFJvdXRlci5wcm90b3R5cGUuX2NvbnRleHRGYWN0b3J5ID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHN0YXRlIHByb3ZpZGVyLlxuICogQHR5cGUge1N0YXRlUHJvdmlkZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5SZXF1ZXN0Um91dGVyLnByb3RvdHlwZS5fc3RhdGVQcm92aWRlciA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBkb2N1bWVudCByZW5kZXJlci5cbiAqIEB0eXBlIHtEb2N1bWVudFJlbmRlcmVyfVxuICogQHByaXZhdGVcbiAqL1xuUmVxdWVzdFJvdXRlci5wcm90b3R5cGUuX2RvY3VtZW50UmVuZGVyZXIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgYnJvd3NlciB3aW5kb3cuXG4gKiBAdHlwZSB7V2luZG93fVxuICogQHByaXZhdGVcbiAqL1xuUmVxdWVzdFJvdXRlci5wcm90b3R5cGUuX3dpbmRvdyA9IG51bGw7XG5cbi8qKlxuICogVHJ1ZSBpZiBjdXJyZW50IGJyb3dzZXIgc3VwcG9ydHMgaGlzdG9yeSBBUEkuXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cblJlcXVlc3RSb3V0ZXIucHJvdG90eXBlLl9pc0hpc3RvcnlTdXBwb3J0ZWQgPSBmYWxzZTtcblxuLyoqXG4gKiBSb3V0ZXMgYnJvd3NlciByZW5kZXIgcmVxdWVzdC5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICovXG5SZXF1ZXN0Um91dGVyLnByb3RvdHlwZS5yb3V0ZSA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHQvLyBiZWNhdXNlIG5vdyBsb2NhdGlvbiB3YXMgbm90IGNoYW5nZSB5ZXQgYW5kXG5cdC8vIGRpZmZlcmVudCBicm93c2VycyBoYW5kbGUgYHBvcHN0YXRlYCBkaWZmZXJlbnRseVxuXHQvLyB3ZSBuZWVkIHRvIGRvIHJvdXRlIGluIG5leHQgaXRlcmF0aW9uIG9mIGV2ZW50IGxvb3Bcblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIG5ld0xvY2F0aW9uID0gbmV3IFVSSShzZWxmLl93aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSksXG5cdFx0XHRcdG5ld0F1dGhvcml0eSA9IG5ld0xvY2F0aW9uLmF1dGhvcml0eSA/XG5cdFx0XHRcdFx0bmV3TG9jYXRpb24uYXV0aG9yaXR5LnRvU3RyaW5nKCkgOiBudWxsLFxuXHRcdFx0XHRjdXJyZW50QXV0aG9yaXR5ID0gc2VsZi5fbG9jYXRpb24uYXV0aG9yaXR5ID9cblx0XHRcdFx0XHRzZWxmLl9sb2NhdGlvbi5hdXRob3JpdHkudG9TdHJpbmcoKSA6IG51bGw7XG5cblx0XHRcdGlmIChuZXdMb2NhdGlvbi5zY2hlbWUgIT09IHNlbGYuX2xvY2F0aW9uLnNjaGVtZSB8fFxuXHRcdFx0XHRuZXdBdXRob3JpdHkgIT09IGN1cnJlbnRBdXRob3JpdHkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBvbmx5IFVSSSBmcmFnbWVudCBpcyBjaGFuZ2VkXG5cdFx0XHR2YXIgbmV3UXVlcnkgPSBuZXdMb2NhdGlvbi5xdWVyeSA/XG5cdFx0XHRcdFx0bmV3TG9jYXRpb24ucXVlcnkudG9TdHJpbmcoKSA6IG51bGwsXG5cdFx0XHRcdGN1cnJlbnRRdWVyeSA9IHNlbGYuX2xvY2F0aW9uLnF1ZXJ5ID9cblx0XHRcdFx0XHRzZWxmLl9sb2NhdGlvbi5xdWVyeS50b1N0cmluZygpIDogbnVsbDtcblx0XHRcdGlmIChuZXdMb2NhdGlvbi5wYXRoID09PSBzZWxmLl9sb2NhdGlvbi5wYXRoICYmXG5cdFx0XHRcdG5ld1F1ZXJ5ID09PSBjdXJyZW50UXVlcnkpIHtcblx0XHRcdFx0c2VsZi5fbG9jYXRpb24gPSBuZXdMb2NhdGlvbjtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHNlbGYuX2NoYW5nZVN0YXRlKG5ld0xvY2F0aW9uKTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogU2V0cyBhcHBsaWNhdGlvbiBzdGF0ZSB0byBzcGVjaWZpZWQgVVJJLlxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uU3RyaW5nIFVSSSB0byBnby5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICovXG5SZXF1ZXN0Um91dGVyLnByb3RvdHlwZS5nbyA9IGZ1bmN0aW9uIChsb2NhdGlvblN0cmluZykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBsb2NhdGlvbiA9IG5ldyBVUkkobG9jYXRpb25TdHJpbmcpO1xuXHRcdFx0bG9jYXRpb24gPSBsb2NhdGlvbi5yZXNvbHZlUmVsYXRpdmUoc2VsZi5fbG9jYXRpb24pO1xuXHRcdFx0bG9jYXRpb25TdHJpbmcgPSBsb2NhdGlvbi50b1N0cmluZygpO1xuXG5cdFx0XHR2YXIgY3VycmVudEF1dGhvcml0eSA9IHNlbGYuX2xvY2F0aW9uLmF1dGhvcml0eSA/XG5cdFx0XHRcdFx0c2VsZi5fbG9jYXRpb24uYXV0aG9yaXR5LnRvU3RyaW5nKCkgOiBudWxsLFxuXHRcdFx0XHRuZXdBdXRob3JpdHkgPSBsb2NhdGlvbi5hdXRob3JpdHkgP1xuXHRcdFx0XHRcdGxvY2F0aW9uLmF1dGhvcml0eS50b1N0cmluZygpIDogbnVsbDtcblxuXHRcdFx0Ly8gd2UgbXVzdCBjaGVjayBpZiB0aGlzIGlzIGFuIGV4dGVybmFsIGxpbmsgYmVmb3JlIG1hcCBVUklcblx0XHRcdC8vIHRvIGludGVybmFsIGFwcGxpY2F0aW9uIHN0YXRlXG5cdFx0XHRpZiAoIXNlbGYuX2lzSGlzdG9yeVN1cHBvcnRlZCB8fFxuXHRcdFx0XHRsb2NhdGlvbi5zY2hlbWUgIT09IHNlbGYuX2xvY2F0aW9uLnNjaGVtZSB8fFxuXHRcdFx0XHRuZXdBdXRob3JpdHkgIT09IGN1cnJlbnRBdXRob3JpdHkpIHtcblx0XHRcdFx0c2VsZi5fd2luZG93LmxvY2F0aW9uLmFzc2lnbihsb2NhdGlvblN0cmluZyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN0YXRlID0gc2VsZi5fc3RhdGVQcm92aWRlci5nZXRTdGF0ZUJ5VXJpKGxvY2F0aW9uKTtcblx0XHRcdGlmICghc3RhdGUpIHtcblx0XHRcdFx0c2VsZi5fd2luZG93LmxvY2F0aW9uLmFzc2lnbihsb2NhdGlvblN0cmluZyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0c2VsZi5fd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCAnJywgbG9jYXRpb25TdHJpbmcpO1xuXHRcdFx0cmV0dXJuIHNlbGYucm91dGUoKTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogQ2hhbmdlcyBjdXJyZW50IGFwcGxpY2F0aW9uIHN0YXRlIHdpdGggbmV3IGxvY2F0aW9uLlxuICogQHBhcmFtIHtVUkl9IG5ld0xvY2F0aW9uIE5ldyBsb2NhdGlvbi5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICogQHByaXZhdGVcbiAqL1xuUmVxdWVzdFJvdXRlci5wcm90b3R5cGUuX2NoYW5nZVN0YXRlID0gZnVuY3Rpb24gKG5ld0xvY2F0aW9uKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0c2VsZi5fbG9jYXRpb24gPSBuZXdMb2NhdGlvbjtcblx0XHRcdHZhciBzdGF0ZSA9IHNlbGYuX3N0YXRlUHJvdmlkZXIuZ2V0U3RhdGVCeVVyaShuZXdMb2NhdGlvbiksXG5cdFx0XHRcdHJvdXRpbmdDb250ZXh0ID0gc2VsZi5fY29udGV4dEZhY3RvcnkuY3JlYXRlKHtcblx0XHRcdFx0XHRyZWZlcnJlcjogc2VsZi5fcmVmZXJyZXIgfHwgc2VsZi5fd2luZG93LmRvY3VtZW50LnJlZmVycmVyLFxuXHRcdFx0XHRcdGxvY2F0aW9uOiBzZWxmLl9sb2NhdGlvbixcblx0XHRcdFx0XHR1c2VyQWdlbnQ6IHNlbGYuX3dpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoIXNlbGYuX2lzU3RhdGVJbml0aWFsaXplZCkge1xuXHRcdFx0XHRzZWxmLl9pc1N0YXRlSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdFx0XHRyZXR1cm4gc2VsZi5fZG9jdW1lbnRSZW5kZXJlci5pbml0V2l0aFN0YXRlKFxuXHRcdFx0XHRcdHN0YXRlLCByb3V0aW5nQ29udGV4dFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3RhdGUgPT09IG51bGwpIHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWxmLl9kb2N1bWVudFJlbmRlcmVyXG5cdFx0XHRcdC5yZW5kZXIoc3RhdGUsIHJvdXRpbmdDb250ZXh0KTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHNlbGYuX3JlZmVycmVyID0gc2VsZi5fbG9jYXRpb247XG5cdFx0fSk7XG59O1xuXG4vKipcbiAqIFdyYXBzIGRvY3VtZW50IHdpdGggcmVxdWlyZWQgZXZlbnRzIHRvIHJvdXRlIHJlcXVlc3RzLlxuICogQHByaXZhdGVcbiAqL1xuUmVxdWVzdFJvdXRlci5wcm90b3R5cGUuX3dyYXBEb2N1bWVudCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdGlmICghdGhpcy5faXNIaXN0b3J5U3VwcG9ydGVkKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dGhpcy5fd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgZnVuY3Rpb24gKCkge1xuXHRcdHNlbGYucm91dGUoKS5jYXRjaChzZWxmLl9oYW5kbGVFcnJvci5iaW5kKHNlbGYpKTtcblx0fSk7XG5cblx0dGhpcy5fd2luZG93LmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09IEFfVEFHX05BTUUpIHtcblx0XHRcdHNlbGYuX2xpbmtDbGlja0hhbmRsZXIoZXZlbnQsIGV2ZW50LnRhcmdldCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBsaW5rID0gY2xvc2VzdExpbmsoZXZlbnQudGFyZ2V0KTtcblx0XHRcdGlmICghbGluaykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRzZWxmLl9saW5rQ2xpY2tIYW5kbGVyKGV2ZW50LCBsaW5rKTtcblx0XHR9XG5cdH0pO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGxpbmsgY2xpY2sgb24gdGhlIHBhZ2UuXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudC1yZWxhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBMaW5rIGVsZW1lbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5SZXF1ZXN0Um91dGVyLnByb3RvdHlwZS5fbGlua0NsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCwgZWxlbWVudCkge1xuXHR2YXIgdGFyZ2V0QXR0cmlidXRlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoVEFSR0VUX0FUVFJJQlVURV9OQU1FKTtcblx0aWYgKHRhcmdldEF0dHJpYnV0ZSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIGlmIG1pZGRsZSBtb3VzZSBidXR0b24gd2FzIGNsaWNrZWRcblx0aWYgKGV2ZW50LmJ1dHRvbiAhPT0gTU9VU0VfUFJJTUFSWV9LRVkgfHxcblx0XHRldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5zaGlmdEtleSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHZhciBsb2NhdGlvblN0cmluZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKEhSRUZfQVRUUklCVVRFX05BTUUpO1xuXHRpZiAoIWxvY2F0aW9uU3RyaW5nKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGlmIChsb2NhdGlvblN0cmluZ1swXSA9PT0gJyMnKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0dGhpcy5nbyhsb2NhdGlvblN0cmluZylcblx0XHQuY2F0Y2godGhpcy5faGFuZGxlRXJyb3IuYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgYWxsIGVycm9ycy5cbiAqIEBwYXJhbSB7RXJyb3J9IGVycm9yIEVycm9yIHRvIGhhbmRsZS5cbiAqIEBwcml2YXRlXG4gKi9cblJlcXVlc3RSb3V0ZXIucHJvdG90eXBlLl9oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHR0aGlzLl9ldmVudEJ1cy5lbWl0KCdlcnJvcicsIGVycm9yKTtcbn07XG5cbi8qKlxuICogRmluZHMgdGhlIGNsb3Nlc3QgYXNjZW5kaW5nIFwiQVwiIGVsZW1lbnQgbm9kZS5cbiAqIEBwYXJhbSB7Tm9kZX0gZWxlbWVudCBET00gZWxlbWVudC5cbiAqIEByZXR1cm5zIHtOb2RlfG51bGx9IFRoZSBjbG9zZXN0IFwiQVwiIGVsZW1lbnQgb3IgbnVsbC5cbiAqL1xuZnVuY3Rpb24gY2xvc2VzdExpbmsoZWxlbWVudCkge1xuXHR3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVOYW1lICE9PSBBX1RBR19OQU1FICYmXG5cdFx0ZWxlbWVudC5ub2RlTmFtZSAhPT0gQk9EWV9UQUdfTkFNRSkge1xuXHRcdGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cdH1cblx0cmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5ub2RlTmFtZSA9PT0gQV9UQUdfTkFNRSA/IGVsZW1lbnQgOiBudWxsO1xufSIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0LyoqXG5cdCAqIEdldHMgdGhlIGhpZ2ggcmVzb2x1dGlvbiB0aW1lIG9yIHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cblx0ICogcHJldmlvdXMgYW5kIGN1cnJlbnQgdGltZS5cblx0ICogQHBhcmFtIHtBcnJheT99IFByZXZpb3VzIGhpZ2ggcmVzb2x1dGlvbiB0aW1lc3RhbXAuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGhpZ2ggcmVzb2x1dGlvbiB0aW1lLlxuXHQgKi9cblx0Z2V0OiByZXF1aXJlKCdicm93c2VyLXByb2Nlc3MtaHJ0aW1lJyksXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB0aGUgaGlnaCByZXNvbHV0aW9uIHRpbWVzdGFtcCB0byB0ZXh0IG1lc3NhZ2UuXG5cdCAqIEBwYXJhbSB7QXJyYXl9XG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRpbWUgbWVzc2FnZS5cblx0ICovXG5cdHRvTWVzc2FnZTogcmVxdWlyZSgncHJldHR5LWhydGltZScpLFxuXHQvKipcblx0ICogQ29udmVydHMgaGlnaCByZXNvbHV0aW9uIHRpbWUgdG8gbWlsbGlzZWNvbmRzIG51bWJlci5cblx0ICogQHBhcmFtIHtBcnJheX0gaHJUaW1lIEhpZ2ggcmVzb2x1dGlvbiB0aW1lIHR1cGxlLlxuXHQgKi9cblx0dG9NaWxsaXNlY29uZHM6IGZ1bmN0aW9uIChoclRpbWUpIHtcblx0XHRyZXR1cm4gaHJUaW1lWzBdICogMWUzICsgTWF0aC5yb3VuZChoclRpbWVbMV0gLyAxZTYpO1xuXHR9XG59OyIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvbmVudExvYWRlcjtcblxudmFyIG1vZHVsZUhlbHBlciA9IHJlcXVpcmUoJy4uLy4uL2xpYi9oZWxwZXJzL21vZHVsZUhlbHBlcicpLFxuXHR1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRMb2FkZXJCYXNlID0gcmVxdWlyZSgnLi4vLi4vbGliL2Jhc2UvTG9hZGVyQmFzZScpO1xuXG51dGlsLmluaGVyaXRzKENvbXBvbmVudExvYWRlciwgTG9hZGVyQmFzZSk7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCBsb2FkZXIuXG4gKiBAcGFyYW0ge1NlcnZpY2VMb2NhdG9yfSAkc2VydmljZUxvY2F0b3IgTG9jYXRvciB0byByZXNvbHZlIGRlcGVuZGVuY2llcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgTG9hZGVyQmFzZVxuICovXG5mdW5jdGlvbiBDb21wb25lbnRMb2FkZXIoJHNlcnZpY2VMb2NhdG9yKSB7XG5cdHRoaXMuX3NlcnZpY2VMb2NhdG9yID0gJHNlcnZpY2VMb2NhdG9yO1xuXHR0aGlzLl9ldmVudEJ1cyA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdldmVudEJ1cycpO1xuXHR0aGlzLl90ZW1wbGF0ZVByb3ZpZGVyID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ3RlbXBsYXRlUHJvdmlkZXInKTtcblx0TG9hZGVyQmFzZS5jYWxsKHRoaXMsICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlQWxsKCdjb21wb25lbnRUcmFuc2Zvcm0nKSk7XG59XG5cbi8qKlxuICogQ3VycmVudCBldmVudCBidXMuXG4gKiBAdHlwZSB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuQ29tcG9uZW50TG9hZGVyLnByb3RvdHlwZS5fZXZlbnRCdXMgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgc2VydmljZSBsb2NhdG9yLlxuICogQHR5cGUge1NlcnZpY2VMb2NhdG9yfVxuICogQHByaXZhdGVcbiAqL1xuQ29tcG9uZW50TG9hZGVyLnByb3RvdHlwZS5fc2VydmljZUxvY2F0b3IgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgdGVtcGxhdGUgcHJvdmlkZXIuXG4gKiBAdHlwZSB7VGVtcGxhdGVQcm92aWRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbkNvbXBvbmVudExvYWRlci5wcm90b3R5cGUuX3RlbXBsYXRlUHJvdmlkZXIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbWFwIG9mIGxvYWRlZCBjb21wb25lbnRzIGJ5IG5hbWVzLlxuICogQHR5cGUge09iamVjdH0gTWFwIG9mIGNvbXBvbmVudHMgYnkgbmFtZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5Db21wb25lbnRMb2FkZXIucHJvdG90eXBlLl9sb2FkZWRDb21wb25lbnRzID0gbnVsbDtcblxuLyoqXG4gKiBMb2FkcyBjb21wb25lbnRzIHdoZW4gaXQgaXMgaW4gYSBicm93c2VyLlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKi9cbkNvbXBvbmVudExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0aWYgKHRoaXMuX2xvYWRlZENvbXBvbmVudHMpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2xvYWRlZENvbXBvbmVudHMpO1xuXHR9XG5cblx0dGhpcy5fbG9hZGVkQ29tcG9uZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcblx0XHQudGhlbihmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgY29tcG9uZW50cyA9IHNlbGYuX3NlcnZpY2VMb2NhdG9yLnJlc29sdmVBbGwoJ2NvbXBvbmVudCcpLFxuXHRcdFx0XHRjb21wb25lbnRQcm9taXNlcyA9IFtdO1xuXG5cdFx0XHQvLyB0aGUgbGlzdCBpcyBhIHN0YWNrLCB3ZSBzaG91bGQgcmV2ZXJzZSBpdFxuXHRcdFx0Y29tcG9uZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcblx0XHRcdFx0Y29tcG9uZW50UHJvbWlzZXMudW5zaGlmdChcblx0XHRcdFx0XHRzZWxmLl9wcm9jZXNzQ29tcG9uZW50KGNvbXBvbmVudClcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIFByb21pc2UuYWxsKGNvbXBvbmVudFByb21pc2VzKTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uIChjb21wb25lbnRzKSB7XG5cdFx0XHRjb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuXHRcdFx0XHRpZiAoIWNvbXBvbmVudCB8fCB0eXBlb2YgKGNvbXBvbmVudCkgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNlbGYuX2xvYWRlZENvbXBvbmVudHNbY29tcG9uZW50Lm5hbWVdID0gY29tcG9uZW50O1xuXHRcdFx0fSk7XG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KCdhbGxDb21wb25lbnRzTG9hZGVkJywgY29tcG9uZW50cyk7XG5cdFx0XHRyZXR1cm4gc2VsZi5fbG9hZGVkQ29tcG9uZW50cztcblx0XHR9KTtcbn07XG5cbi8qKlxuICogUHJvY2Vzc2VzIGNvbXBvbmVudCBhbmQgYXBwbHkgcmVxdWlyZWQgb3BlcmF0aW9ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnREZXRhaWxzIExvYWRlZCBjb21wb25lbnQgZGV0YWlscy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IENvbXBvbmVudCBvYmplY3QuXG4gKiBAcHJpdmF0ZVxuICovXG5Db21wb25lbnRMb2FkZXIucHJvdG90eXBlLl9wcm9jZXNzQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudERldGFpbHMpIHtcblx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdGNvbXBvbmVudCA9IE9iamVjdC5jcmVhdGUoY29tcG9uZW50RGV0YWlscyk7XG5cblx0cmV0dXJuIHRoaXMuX2FwcGx5VHJhbnNmb3Jtcyhjb21wb25lbnQpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHRyYW5zZm9ybWVkKSB7XG5cdFx0XHRjb21wb25lbnQgPSB0cmFuc2Zvcm1lZDtcblx0XHRcdHNlbGYuX3RlbXBsYXRlUHJvdmlkZXIucmVnaXN0ZXJDb21waWxlZChcblx0XHRcdFx0Y29tcG9uZW50Lm5hbWUsIGNvbXBvbmVudC50ZW1wbGF0ZVNvdXJjZVxuXHRcdFx0KTtcblx0XHRcdGNvbXBvbmVudC50ZW1wbGF0ZSA9IHtcblx0XHRcdFx0cmVuZGVyOiBmdW5jdGlvbiAoZGF0YUNvbnRleHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gc2VsZi5fdGVtcGxhdGVQcm92aWRlci5yZW5kZXIoXG5cdFx0XHRcdFx0XHRjb21wb25lbnQubmFtZSwgZGF0YUNvbnRleHRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0aWYgKHR5cGVvZiAoY29tcG9uZW50LmVycm9yVGVtcGxhdGVTb3VyY2UpID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR2YXIgZXJyb3JUZW1wbGF0ZU5hbWUgPSBtb2R1bGVIZWxwZXIuZ2V0TmFtZUZvckVycm9yVGVtcGxhdGUoXG5cdFx0XHRcdFx0Y29tcG9uZW50Lm5hbWVcblx0XHRcdFx0KTtcblx0XHRcdFx0c2VsZi5fdGVtcGxhdGVQcm92aWRlci5yZWdpc3RlckNvbXBpbGVkKFxuXHRcdFx0XHRcdGVycm9yVGVtcGxhdGVOYW1lLCBjb21wb25lbnQuZXJyb3JUZW1wbGF0ZVNvdXJjZVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb21wb25lbnQuZXJyb3JUZW1wbGF0ZSA9IHtcblx0XHRcdFx0XHRyZW5kZXI6IGZ1bmN0aW9uIChkYXRhQ29udGV4dCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNlbGYuX3RlbXBsYXRlUHJvdmlkZXIucmVuZGVyKFxuXHRcdFx0XHRcdFx0XHRlcnJvclRlbXBsYXRlTmFtZSwgZGF0YUNvbnRleHRcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnY29tcG9uZW50TG9hZGVkJywgY29tcG9uZW50KTtcblx0XHRcdHJldHVybiBjb21wb25lbnQ7XG5cdFx0fSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnZXJyb3InLCByZWFzb24pO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSk7XG59O1xuXG4vKipcbiAqIEdldHMgbWFwIG9mIGNvbXBvbmVudHMgYnkgbmFtZXMuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBNYXAgb2YgY29tcG9uZW50cyBieSBuYW1lcy5cbiAqL1xuQ29tcG9uZW50TG9hZGVyLnByb3RvdHlwZS5nZXRDb21wb25lbnRzQnlOYW1lcyA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHRoaXMuX2xvYWRlZENvbXBvbmVudHMgfHwgT2JqZWN0LmNyZWF0ZShudWxsKTtcbn07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gU3RvcmVMb2FkZXI7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRMb2FkZXJCYXNlID0gcmVxdWlyZSgnLi4vLi4vbGliL2Jhc2UvTG9hZGVyQmFzZScpO1xuXG51dGlsLmluaGVyaXRzKFN0b3JlTG9hZGVyLCBMb2FkZXJCYXNlKTtcblxuLyoqXG4gKiBDcmVhdGVzIGluc3RhbmNlIG9mIHRoZSBzdG9yZSBsb2FkZXIuXG4gKiBAcGFyYW0ge1NlcnZpY2VMb2NhdG9yfSAkc2VydmljZUxvY2F0b3IgTG9jYXRvciB0byByZXNvbHZlIHN0b3Jlcy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgTG9hZGVyQmFzZVxuICovXG5mdW5jdGlvbiBTdG9yZUxvYWRlcigkc2VydmljZUxvY2F0b3IpIHtcblx0dGhpcy5fc2VydmljZUxvY2F0b3IgPSAkc2VydmljZUxvY2F0b3I7XG5cdHRoaXMuX2V2ZW50QnVzID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ2V2ZW50QnVzJyk7XG5cdExvYWRlckJhc2UuY2FsbCh0aGlzLCAkc2VydmljZUxvY2F0b3IucmVzb2x2ZUFsbCgnc3RvcmVUcmFuc2Zvcm0nKSk7XG59XG5cbi8qKlxuICogQ3VycmVudCBldmVudCBidXMuXG4gKiBAdHlwZSB7RXZlbnRFbWl0dGVyfVxuICogQHByaXZhdGVcbiAqL1xuU3RvcmVMb2FkZXIucHJvdG90eXBlLl9ldmVudEJ1cyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXJ2aWNlIGxvY2F0b3IuXG4gKiBAdHlwZSB7U2VydmljZUxvY2F0b3J9XG4gKiBAcHJpdmF0ZVxuICovXG5TdG9yZUxvYWRlci5wcm90b3R5cGUuX3NlcnZpY2VMb2NhdG9yID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHNldCBvZiBsb2FkZWQgc3RvcmVzLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblN0b3JlTG9hZGVyLnByb3RvdHlwZS5fbG9hZGVkU3RvcmVzID0gbnVsbDtcblxuLyoqXG4gKiBMb2FkcyBhbGwgc3RvcmVzIHdoZW4gaXQgaXMgaW4gYSBicm93c2VyLlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKi9cblN0b3JlTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodGhpcy5fbG9hZGVkU3RvcmVzKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9sb2FkZWRTdG9yZXMpO1xuXHR9XG5cblx0dGhpcy5fbG9hZGVkU3RvcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBzdG9yZXMgPSBzZWxmLl9zZXJ2aWNlTG9jYXRvci5yZXNvbHZlQWxsKCdzdG9yZScpLFxuXHRcdFx0XHRzdG9yZVByb21pc2VzID0gW107XG5cblx0XHRcdC8vIHRoZSBsaXN0IGlzIGEgc3RhY2ssIHdlIHNob3VsZCByZXZlcnNlIGl0XG5cdFx0XHRzdG9yZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmUpIHtcblx0XHRcdFx0c3RvcmVQcm9taXNlcy51bnNoaWZ0KFxuXHRcdFx0XHRcdHNlbGYuX2dldFN0b3JlKHN0b3JlKVxuXHRcdFx0XHQpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHJldHVybiBQcm9taXNlLmFsbChzdG9yZVByb21pc2VzKTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uIChzdG9yZXMpIHtcblx0XHRcdHN0b3Jlcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZSkge1xuXHRcdFx0XHRpZiAoIXN0b3JlIHx8IHR5cGVvZiAoc3RvcmUpICE9PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLl9sb2FkZWRTdG9yZXNbc3RvcmUubmFtZV0gPSBzdG9yZTtcblx0XHRcdH0pO1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnYWxsU3RvcmVzTG9hZGVkJywgc2VsZi5fbG9hZGVkU3RvcmVzKTtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoc2VsZi5fbG9hZGVkU3RvcmVzKTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgc3RvcmUgZnJvbSBzdG9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0b3JlRGV0YWlscyBTdG9yZSBkZXRhaWxzLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJvbWlzZSBmb3Igc3RvcmUuXG4gKiBAcHJpdmF0ZVxuICovXG5TdG9yZUxvYWRlci5wcm90b3R5cGUuX2dldFN0b3JlID0gZnVuY3Rpb24gKHN0b3JlRGV0YWlscykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHJldHVybiB0aGlzLl9hcHBseVRyYW5zZm9ybXMoc3RvcmVEZXRhaWxzKVxuXHRcdC50aGVuKGZ1bmN0aW9uICh0cmFuc2Zvcm1lZCkge1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnc3RvcmVMb2FkZWQnLCB0cmFuc2Zvcm1lZCk7XG5cdFx0XHRyZXR1cm4gdHJhbnNmb3JtZWQ7XG5cdFx0fSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnZXJyb3InLCByZWFzb24pO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSk7XG59O1xuXG4vKipcbiAqIEdldHMgc3RvcmVzIG1hcCBieSBuYW1lcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IE1hcCBvZiBzdG9yZXMgYnkgbmFtZXMuXG4gKi9cblN0b3JlTG9hZGVyLnByb3RvdHlwZS5nZXRTdG9yZXNCeU5hbWVzID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gdGhpcy5fbG9hZGVkU3RvcmVzIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG59OyIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZHVsZUFwaVByb3ZpZGVyO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKSxcblx0cHJvcGVydHlIZWxwZXIgPSByZXF1aXJlKCcuLi8uLi9saWIvaGVscGVycy9wcm9wZXJ0eUhlbHBlcicpLFxuXHRNb2R1bGVBcGlQcm92aWRlckJhc2UgPSByZXF1aXJlKCcuLi8uLi9saWIvYmFzZS9Nb2R1bGVBcGlQcm92aWRlckJhc2UnKTtcblxudXRpbC5pbmhlcml0cyhNb2R1bGVBcGlQcm92aWRlciwgTW9kdWxlQXBpUHJvdmlkZXJCYXNlKTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgbW9kdWxlIEFQSSBwcm92aWRlci5cbiAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9ICRzZXJ2aWNlTG9jYXRvciBTZXJ2aWNlIGxvY2F0b3JcbiAqIHRvIHJlc29sdmUgZGVwZW5kZW5jaWVzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBNb2R1bGVBcGlQcm92aWRlckJhc2VcbiAqL1xuZnVuY3Rpb24gTW9kdWxlQXBpUHJvdmlkZXIoJHNlcnZpY2VMb2NhdG9yKSB7XG5cdE1vZHVsZUFwaVByb3ZpZGVyQmFzZS5jYWxsKHRoaXMsICRzZXJ2aWNlTG9jYXRvcik7XG5cdHByb3BlcnR5SGVscGVyLmRlZmluZVJlYWRPbmx5KHRoaXMsICdpc0Jyb3dzZXInLCB0cnVlKTtcblx0cHJvcGVydHlIZWxwZXIuZGVmaW5lUmVhZE9ubHkodGhpcywgJ2lzU2VydmVyJywgZmFsc2UpO1xufVxuXG4vKipcbiAqIFJlbG9hZHMgdGhlIHBhZ2UgZm9yIGhhbmRsaW5nIFwibm90IGZvdW5kXCIgZXJyb3IuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSBmb3Igbm90aGluZy5cbiAqL1xuTW9kdWxlQXBpUHJvdmlkZXIucHJvdG90eXBlLm5vdEZvdW5kID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgd2luZG93ID0gdGhpcy5sb2NhdG9yLnJlc29sdmUoJ3dpbmRvdycpO1xuXHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8qKlxuICogUmVkaXJlY3RzIGN1cnJlbnQgcGFnZSB0byBzcGVjaWZpZWQgVVJJLlxuICogQHBhcmFtIHtzdHJpbmd9IHVyaVN0cmluZyBVUkkgdG8gcmVkaXJlY3QuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSBmb3Igbm90aGluZy5cbiAqL1xuTW9kdWxlQXBpUHJvdmlkZXIucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gKHVyaVN0cmluZykge1xuXHR2YXIgcmVxdWVzdFJvdXRlciA9IHRoaXMubG9jYXRvci5yZXNvbHZlKCdyZXF1ZXN0Um91dGVyJyk7XG5cdHJldHVybiByZXF1ZXN0Um91dGVyLmdvKHVyaVN0cmluZyk7XG59O1xuXG4vKipcbiAqIENsZWFycyBjdXJyZW50IGxvY2F0aW9uIFVSSSdzIGZyYWdtZW50LlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKi9cbk1vZHVsZUFwaVByb3ZpZGVyLnByb3RvdHlwZS5jbGVhckZyYWdtZW50ID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgd2luZG93ID0gdGhpcy5sb2NhdG9yLnJlc29sdmUoJ3dpbmRvdycpLFxuXHRcdHBvc2l0aW9uID0gd2luZG93LmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXHR3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcnO1xuXHR3aW5kb3cuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBwb3NpdGlvbjtcblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTsiLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9Cb290c3RyYXBwZXInKTtcbiIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRleHRGYWN0b3J5O1xuXG52YXIgcHJvcGVydHlIZWxwZXIgPSByZXF1aXJlKCcuL2hlbHBlcnMvcHJvcGVydHlIZWxwZXInKTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgY29udGV4dCBmYWN0b3J5LlxuICogQHBhcmFtIHtTZXJ2aWNlTG9jYXRvcn0gJHNlcnZpY2VMb2NhdG9yIExvY2F0b3IgdG8gcmVzb2x2ZSBkZXBlbmRlbmNpZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQ29udGV4dEZhY3RvcnkoJHNlcnZpY2VMb2NhdG9yKSB7XG5cdHRoaXMuX3NlcnZpY2VMb2NhdG9yID0gJHNlcnZpY2VMb2NhdG9yO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgc2VydmljZSBsb2NhdG9yLlxuICogQHR5cGUge1NlcnZpY2VMb2NhdG9yfVxuICogQHByaXZhdGVcbiAqL1xuQ29udGV4dEZhY3RvcnkucHJvdG90eXBlLl9zZXJ2aWNlTG9jYXRvciA9IG51bGw7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgY29udGV4dCBmb3IgbW9kdWxlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhZGRpdGlvbmFsIEFkZGl0aW9uYWwgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7VVJJfSBhZGRpdGlvbmFsLnJlZmVycmVyIEN1cnJlbnQgcmVmZXJyZXIuXG4gKiBAcGFyYW0ge1VSSX0gYWRkaXRpb25hbC5sb2NhdGlvbiBDdXJyZW50IGxvY2F0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGFkZGl0aW9uYWwudXNlckFnZW50IEN1cnJlbnQgdXNlciBhZ2VudC5cbiAqL1xuQ29udGV4dEZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsKSB7XG5cdHZhciBhcGlQcm92aWRlciA9IHRoaXMuX3NlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ21vZHVsZUFwaVByb3ZpZGVyJyksXG5cdFx0Y29udGV4dCA9IE9iamVjdC5jcmVhdGUoYXBpUHJvdmlkZXIpO1xuXHRPYmplY3Qua2V5cyhhZGRpdGlvbmFsKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHByb3BlcnR5SGVscGVyLmRlZmluZVJlYWRPbmx5KGNvbnRleHQsIGtleSwgYWRkaXRpb25hbFtrZXldKTtcblx0XHR9KTtcblx0cmV0dXJuIGNvbnRleHQ7XG59OyIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcmlhbFdyYXBwZXI7XG5cbnZhciBldmVudHMgPSByZXF1aXJlKCdldmVudHMnKTtcblxudmFyIEVSUk9SX05PX1NVQ0hfTUVUSE9EID0gJ1RoZXJlIGlzIG5vIHN1Y2ggcmVnaXN0ZXJlZCBtZXRob2QnO1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJpYWwgd3JhcHBlciBmb3IgcHJvbWlzZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gU2VyaWFsV3JhcHBlcigpIHtcblx0dGhpcy5fZW1pdHRlciA9IG5ldyBldmVudHMuRXZlbnRFbWl0dGVyKCk7XG5cdHRoaXMuX2VtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKDApO1xuXHR0aGlzLl90b0ludm9rZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdHRoaXMuX2luUHJvZ3Jlc3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgZXZlbnQgZW1pdHRlci5cbiAqIEB0eXBlIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5TZXJpYWxXcmFwcGVyLnByb3RvdHlwZS5fZW1pdHRlciA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXQgb2YgbmFtZWQgbWV0aG9kcyB0byBpbnZva2UuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuU2VyaWFsV3JhcHBlci5wcm90b3R5cGUuX3RvSW52b2tlID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHNldCBvZiBmbGFncyBpZiB0aGUgbWV0aG9kIGlzIGluIHByb2dyZXNzLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblNlcmlhbFdyYXBwZXIucHJvdG90eXBlLl9pblByb2dyZXNzID0gbnVsbDtcblxuLyoqXG4gKiBBZGRzIG1ldGhvZCB0byB0aGUgc2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTWV0aG9kIG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0ludm9rZSBGdW5jdGlvbiB0aGF0IHJldHVybnMgcHJvbWlzZS5cbiAqL1xuU2VyaWFsV3JhcHBlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKG5hbWUsIHRvSW52b2tlKSB7XG5cdHRoaXMuX3RvSW52b2tlW25hbWVdID0gdG9JbnZva2U7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBtZXRob2Qgd2l0aCBzdWNoIG5hbWUgd2FzIHJlZ2lzdGVyZWQgdG8gdGhlIHNldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgbWV0aG9kLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgbWV0aG9kIG5hbWUgaXMgcmVnaXN0ZXJlZC5cbiAqL1xuU2VyaWFsV3JhcHBlci5wcm90b3R5cGUuaXNSZWdpc3RlcmVkID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0cmV0dXJuIHR5cGVvZiAodGhpcy5fdG9JbnZva2VbbmFtZV0pID09PSAnZnVuY3Rpb24nO1xufTtcblxuLyoqXG4gKiBJbnZva2VzIG1ldGhvZCB3aXRob3V0IGNvbmN1cnJlbmN5LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTWV0aG9kIG5hbWUuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBQcm9taXNlIGZvciByZXN1bHQuXG4gKi9cblNlcmlhbFdyYXBwZXIucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHRpZiAoIXRoaXMuaXNSZWdpc3RlcmVkKG5hbWUpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihFUlJPUl9OT19TVUNIX01FVEhPRCkpO1xuXHR9XG5cblx0aWYgKHRoaXMuX2luUHJvZ3Jlc3NbbmFtZV0pIHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuXHRcdFx0c2VsZi5fZW1pdHRlci5vbmNlKG5hbWUsIGZ1bGZpbGwpO1xuXHRcdFx0c2VsZi5fZW1pdHRlci5vbmNlKG5hbWUgKyAnLS1lcnJvcicsIHJlamVjdCk7XG5cdFx0fSk7XG5cdH1cblxuXHR0aGlzLl9pblByb2dyZXNzW25hbWVdID0gdHJ1ZTtcblx0dGhpcy5fdG9JbnZva2VbbmFtZV0oKVxuXHRcdC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcblx0XHRcdHNlbGYuX2VtaXR0ZXIuZW1pdChuYW1lLCByZXN1bHQpO1xuXHRcdFx0c2VsZi5faW5Qcm9ncmVzc1tuYW1lXSA9IG51bGw7XG5cdFx0fSlcblx0XHQuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikge1xuXHRcdFx0c2VsZi5fZW1pdHRlci5lbWl0KG5hbWUgKyAnLS1lcnJvcicsIHJlYXNvbik7XG5cdFx0XHRzZWxmLl9pblByb2dyZXNzW25hbWVdID0gbnVsbDtcblx0XHR9KTtcblxuXHRyZXR1cm4gdGhpcy5pbnZva2UobmFtZSk7XG59OyIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0b3JlRGlzcGF0Y2hlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyksXG5cdFNlcmlhbFdyYXBwZXIgPSByZXF1aXJlKCcuL1NlcmlhbFdyYXBwZXInKSxcblx0bW9kdWxlSGVscGVyID0gcmVxdWlyZSgnLi9oZWxwZXJzL21vZHVsZUhlbHBlcicpO1xuXG52YXIgRVJST1JfU1RPUkVfTk9UX0ZPVU5EID0gJ1N0b3JlIFwiJXNcIiBub3QgZm91bmQnLFxuXHRFUlJPUl9TVEFURSA9ICdTdGF0ZSBzaG91bGQgYmUgc2V0IGJlZm9yZSBhbnkgcmVxdWVzdCcsXG5cdERFRkFVTFRfTElGRVRJTUUgPSA2MDAwMDtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBzdG9yZSBkaXNwYXRjaGVyLlxuICogQHBhcmFtIHtTZXJ2aWNlTG9jYXRvcn0gJHNlcnZpY2VMb2NhdG9yIExvY2F0b3IgdG8gcmVzb2x2ZSBkZXBlbmRlbmNpZXMuXG4gKiBAcGFyYW0ge1N0b3JlTG9hZGVyfSAkc3RvcmVMb2FkZXIgU3RvcmUgbG9hZGVyIHRvIGxvYWQgc3RvcmVzLlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9ICRldmVudEJ1cyBFdmVudCBidXMgdG8gZW1pdCBldmVudHMuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gU3RvcmVEaXNwYXRjaGVyKCRzZXJ2aWNlTG9jYXRvciwgJHN0b3JlTG9hZGVyLCAkZXZlbnRCdXMpIHtcblx0dGhpcy5fc2VydmljZUxvY2F0b3IgPSAkc2VydmljZUxvY2F0b3I7XG5cdHRoaXMuX3N0b3JlTG9hZGVyID0gJHN0b3JlTG9hZGVyO1xuXHR0aGlzLl9ldmVudEJ1cyA9ICRldmVudEJ1cztcblx0dGhpcy5fc3RvcmVJbnN0YW5jZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHR0aGlzLl9sYXN0RGF0YSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdHRoaXMuX2RlcGVuZGFudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHR0aGlzLl9zZXJpYWxXcmFwcGVyID0gbmV3IFNlcmlhbFdyYXBwZXIoKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHNlcnZpY2UgbG9jYXRvci5cbiAqIEB0eXBlIHtTZXJ2aWNlTG9jYXRvcn1cbiAqIEBwcml2YXRlXG4gKi9cblN0b3JlRGlzcGF0Y2hlci5wcm90b3R5cGUuX3NlcnZpY2VMb2NhdG9yID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IGV2ZW50IGJ1cy5cbiAqIEB0eXBlIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5TdG9yZURpc3BhdGNoZXIucHJvdG90eXBlLl9ldmVudEJ1cyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzdG9yZSBsb2FkZXIuXG4gKiBAdHlwZSB7U3RvcmVMb2FkZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5TdG9yZURpc3BhdGNoZXIucHJvdG90eXBlLl9zdG9yZUxvYWRlciA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBtYXAgb2YgYWxsIHN0b3JlIGluc3RhbmNlcy5cbiAqIEB0eXBlIHtudWxsfVxuICogQHByaXZhdGVcbiAqL1xuU3RvcmVEaXNwYXRjaGVyLnByb3RvdHlwZS5fc3RvcmVJbnN0YW5jZXMgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbWFwIG9mIGxhc3QgZGF0YSBmb3IgZWFjaCBzdG9yZS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5TdG9yZURpc3BhdGNoZXIucHJvdG90eXBlLl9sYXN0RGF0YSA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBtYXAgb2YgbGFzdCBzdGF0ZSBvZiBzdG9yZSBkaXNwYXRjaGVyLlxuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblN0b3JlRGlzcGF0Y2hlci5wcm90b3R5cGUuX2xhc3RTdGF0ZSA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXJpYWwgd3JhcHBlci5cbiAqIEB0eXBlIHtTZXJpYWxXcmFwcGVyfVxuICogQHByaXZhdGVcbiAqL1xuU3RvcmVEaXNwYXRjaGVyLnByb3RvdHlwZS5fc2VyaWFsV3JhcHBlciA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBiYXNpYyBjb250ZXh0IGZvciBhbGwgc3RvcmUgY29udGV4dHMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuU3RvcmVEaXNwYXRjaGVyLnByb3RvdHlwZS5fY3VycmVudEJhc2ljQ29udGV4dCA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXQgb2Ygc3RvcmUgZGVwZW5kZW5jeSBncmFwaC5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5TdG9yZURpc3BhdGNoZXIucHJvdG90eXBlLl9kZXBlbmRhbnRzID0gbnVsbDtcblxuLyoqXG4gKiBHZXRzIHN0b3JlIGRhdGEgYW5kIGNyZWF0ZXMgc3RvcmUgaW5zdGFuY2UgaWYgcmVxdWlyZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lIE5hbWUgb2Ygc3RvcmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBTdG9yZSdzIGRhdGEuXG4gKi9cblN0b3JlRGlzcGF0Y2hlci5wcm90b3R5cGUuZ2V0U3RvcmVEYXRhID0gZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuXHRpZiAoIXRoaXMuX2xhc3RTdGF0ZSkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoRVJST1JfU1RBVEUpKTtcblx0fVxuXHRpZiAodHlwZW9mIChzdG9yZU5hbWUpICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG5cdH1cblx0aWYgKHN0b3JlTmFtZSBpbiB0aGlzLl9sYXN0RGF0YSkge1xuXHRcdHZhciBleGlzdFRpbWUgPSBEYXRlLm5vdygpIC0gdGhpcy5fbGFzdERhdGFbc3RvcmVOYW1lXS5jcmVhdGVkQXQ7XG5cdFx0aWYgKGV4aXN0VGltZSA8PSB0aGlzLl9sYXN0RGF0YVtzdG9yZU5hbWVdLmxpZmV0aW1lKSB7XG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2xhc3REYXRhW3N0b3JlTmFtZV0uZGF0YSk7XG5cdFx0fVxuXHRcdGRlbGV0ZSB0aGlzLl9sYXN0RGF0YVtzdG9yZU5hbWVdO1xuXHR9XG5cdHZhciBzZWxmID0gdGhpcyxcblx0XHRsaWZldGltZSA9IERFRkFVTFRfTElGRVRJTUU7XG5cdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ3N0b3JlRGF0YUxvYWQnLCB7XG5cdFx0bmFtZTogc3RvcmVOYW1lXG5cdH0pO1xuXHR2YXIgc3RvcmUgPSB0aGlzLmdldFN0b3JlKHN0b3JlTmFtZSk7XG5cdGlmICghc3RvcmUpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFxuXHRcdFx0XHR1dGlsLmZvcm1hdChFUlJPUl9TVE9SRV9OT1RfRk9VTkQsIHN0b3JlTmFtZSkpXG5cdFx0KTtcblx0fVxuXHRpZiAodHlwZW9mIChzdG9yZS4kbGlmZXRpbWUpID09PSAnbnVtYmVyJykge1xuXHRcdGxpZmV0aW1lID0gc3RvcmUuJGxpZmV0aW1lO1xuXHR9XG5cdHJldHVybiBzZWxmLl9zZXJpYWxXcmFwcGVyLmludm9rZShzdG9yZU5hbWUpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdHNlbGYuX2xhc3REYXRhW3N0b3JlTmFtZV0gPSB7XG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGxpZmV0aW1lOiBsaWZldGltZSxcblx0XHRcdFx0Y3JlYXRlZEF0OiBEYXRlLm5vdygpXG5cdFx0XHR9O1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnc3RvcmVEYXRhTG9hZGVkJywge1xuXHRcdFx0XHRuYW1lOiBzdG9yZU5hbWUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGxpZmV0aW1lOiBsaWZldGltZVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogU2VuZHMgYWN0aW9uIHRvIHNwZWNpZmllZCBzdG9yZSBhbmQgcmVzb2x2ZXMgcHJvbWlzZXMgaW4gc2VyaWFsIG1vZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmVOYW1lIE5hbWUgb2YgdGhlIHN0b3JlLlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbk5hbWUgTmFtZSBvZiB0aGUgYWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgQWN0aW9uIGFyZ3VtZW50cy5cbiAqIEByZXR1cm5zIHtQcm9taXNlPCo+fSBQcm9taXNlIGZvciBhY3Rpb24gaGFuZGxpbmcgcmVzdWx0LlxuICovXG5TdG9yZURpc3BhdGNoZXIucHJvdG90eXBlLnNlbmRBY3Rpb24gPSBmdW5jdGlvbiAoc3RvcmVOYW1lLCBhY3Rpb25OYW1lLCBhcmdzKSB7XG5cdGlmICghdGhpcy5fbGFzdFN0YXRlKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihFUlJPUl9TVEFURSkpO1xuXHR9XG5cdHZhciBzZWxmID0gdGhpcyxcblx0XHRhY3Rpb25EZXRhaWxzID0ge1xuXHRcdFx0c3RvcmVOYW1lOiBzdG9yZU5hbWUsXG5cdFx0XHRhY3Rpb25OYW1lOiBhY3Rpb25OYW1lLFxuXHRcdFx0YXJnczogYXJnc1xuXHRcdH07XG5cdHRoaXMuX2V2ZW50QnVzLmVtaXQoJ2FjdGlvblNlbmQnLCBhY3Rpb25EZXRhaWxzKTtcblx0dmFyIHN0b3JlID0gdGhpcy5nZXRTdG9yZShzdG9yZU5hbWUpO1xuXHRpZiAoIXN0b3JlKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcblx0XHRcdHV0aWwuZm9ybWF0KEVSUk9SX1NUT1JFX05PVF9GT1VORCwgc3RvcmVOYW1lKSlcblx0XHQpO1xuXHR9XG5cdHZhciBoYW5kbGVNZXRob2QgPSBtb2R1bGVIZWxwZXIuZ2V0TWV0aG9kVG9JbnZva2UoXG5cdFx0c3RvcmUsICdoYW5kbGUnLCBhY3Rpb25OYW1lXG5cdCk7XG5cdHJldHVybiBtb2R1bGVIZWxwZXIuZ2V0U2FmZVByb21pc2UoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBoYW5kbGVNZXRob2QoYXJncyk7XG5cdH0pXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHRcdFx0c2VsZi5fZXZlbnRCdXMuZW1pdCgnYWN0aW9uU2VudCcsIGFjdGlvbkRldGFpbHMpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9KTtcbn07XG5cbi8qKlxuICogU2VuZHMgYWN0aW9uIHRvIGV2ZXJ5IHN0b3JlIHRoYXQgaGFzIGhhbmRsZSBtZXRob2QgZm9yIHN1Y2ggYWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbk5hbWUgTmFtZSBvZiB0aGUgYWN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IGFyZyBBY3Rpb24gYXJndW1lbnRzLlxuICogQHJldHVybnMge1Byb21pc2U8QXJyYXk8Kj4+fSBQcm9taXNlIGZvciB0aGUgYWN0aW9uIGhhbmRsaW5nIHJlc3VsdC5cbiAqL1xuU3RvcmVEaXNwYXRjaGVyLnByb3RvdHlwZS5zZW5kQnJvYWRjYXN0QWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbk5hbWUsIGFyZykge1xuXHR2YXIgcHJvbWlzZXMgPSBbXSxcblx0XHRzZWxmID0gdGhpcyxcblx0XHRzdG9yZXNCeU5hbWVzID0gdGhpcy5fc3RvcmVMb2FkZXIuZ2V0U3RvcmVzQnlOYW1lcygpLFxuXHRcdG1ldGhvZE5hbWUgPSBtb2R1bGVIZWxwZXIuZ2V0Q2FtZWxDYXNlTmFtZSgnaGFuZGxlJywgYWN0aW9uTmFtZSk7XG5cdE9iamVjdC5rZXlzKHN0b3Jlc0J5TmFtZXMpXG5cdFx0LmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuXHRcdFx0dmFyIHN0b3JlID0gc3RvcmVzQnlOYW1lc1tzdG9yZU5hbWVdLFxuXHRcdFx0XHRwcm90b01ldGhvZCA9IHN0b3JlLmNvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXTtcblx0XHRcdGlmICh0eXBlb2YgKHByb3RvTWV0aG9kKSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR2YXIgc2VuZEFjdGlvblByb21pc2UgPSBzZWxmLnNlbmRBY3Rpb24oXG5cdFx0XHRcdHN0b3JlLm5hbWUsIGFjdGlvbk5hbWUsIGFyZ1xuXHRcdFx0KTtcblx0XHRcdHByb21pc2VzLnB1c2goc2VuZEFjdGlvblByb21pc2UpO1xuXHRcdH0pO1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuLyoqXG4gKiBTZXRzIG5ldyBzdGF0ZSB0byBzdG9yZSBkaXNwYXRjaGVyIGFuZCBpbnZva2VzIFwiY2hhbmdlZFwiIG1ldGhvZCBmb3IgYWxsXG4gKiBzdG9yZXMgd2hpY2ggc3RhdGUgaGF2ZSBiZWVuIGNoYW5nZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyBNYXAgb2YgbmV3IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge09iamVjdH0gYmFzaWNDb250ZXh0IEJhc2ljIGNvbnRleHQgZm9yIGFsbCBzdG9yZXMuXG4gKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn0gTmFtZXMgb2Ygc3RvcmVzIHRoYXQgaGF2ZSBiZWVuIGNoYW5nZWQuXG4gKi9cblN0b3JlRGlzcGF0Y2hlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFyYW1ldGVycywgYmFzaWNDb250ZXh0KSB7XG5cdHBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdGlmICghdGhpcy5fbGFzdFN0YXRlKSB7XG5cdFx0dGhpcy5fY3VycmVudEJhc2ljQ29udGV4dCA9IGJhc2ljQ29udGV4dDtcblx0XHR0aGlzLl9sYXN0U3RhdGUgPSBwYXJhbWV0ZXJzO1xuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cdC8vIHNvbWUgc3RvcmUncyBwYXJhbWV0ZXJzIGNhbiBiZSByZW1vdmVkIHNpbmNlIGxhc3QgdGltZVxuXHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0Y2hhbmdlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0T2JqZWN0LmtleXModGhpcy5fbGFzdFN0YXRlKVxuXHRcdC5maWx0ZXIoZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuXHRcdFx0cmV0dXJuICEoc3RvcmVOYW1lIGluIHBhcmFtZXRlcnMpO1xuXHRcdH0pXG5cdFx0LmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdGNoYW5nZWRbbmFtZV0gPSB0cnVlO1xuXHRcdH0pO1xuXG5cdE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpXG5cdFx0LmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuXHRcdFx0Ly8gbmV3IHBhcmFtZXRlcnMgd2VyZSBzZXQgZm9yIHN0b3JlXG5cdFx0XHRpZiAoIShzdG9yZU5hbWUgaW4gc2VsZi5fbGFzdFN0YXRlKSkge1xuXHRcdFx0XHRjaGFuZ2VkW3N0b3JlTmFtZV0gPSB0cnVlO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIG5ldyBhbmQgbGFzdCBwYXJhbWV0ZXJzIGhhcyBkaWZmZXJlbnQgdmFsdWVzXG5cdFx0XHR2YXIgbGFzdFBhcmFtZXRlck5hbWVzID1cblx0XHRcdFx0XHRPYmplY3Qua2V5cyhzZWxmLl9sYXN0U3RhdGVbc3RvcmVOYW1lXSksXG5cdFx0XHRcdGN1cnJlbnRQYXJhbWV0ZXJOYW1lcyA9XG5cdFx0XHRcdFx0T2JqZWN0LmtleXMocGFyYW1ldGVyc1tzdG9yZU5hbWVdKTtcblxuXHRcdFx0aWYgKGN1cnJlbnRQYXJhbWV0ZXJOYW1lcy5sZW5ndGggIT09XG5cdFx0XHRcdGxhc3RQYXJhbWV0ZXJOYW1lcy5sZW5ndGgpIHtcblx0XHRcdFx0Y2hhbmdlZFtzdG9yZU5hbWVdID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50UGFyYW1ldGVyTmFtZXMuZXZlcnkoZnVuY3Rpb24gKHBhcmFtZXRlck5hbWUpIHtcblx0XHRcdFx0aWYgKHBhcmFtZXRlcnNbc3RvcmVOYW1lXVtwYXJhbWV0ZXJOYW1lXSAhPT1cblx0XHRcdFx0XHRzZWxmLl9sYXN0U3RhdGVbc3RvcmVOYW1lXVtwYXJhbWV0ZXJOYW1lXSkge1xuXHRcdFx0XHRcdGNoYW5nZWRbc3RvcmVOYW1lXSA9IHRydWU7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0dGhpcy5fbGFzdFN0YXRlID0gcGFyYW1ldGVycztcblx0aWYgKHRoaXMuX2N1cnJlbnRCYXNpY0NvbnRleHQgIT09IGJhc2ljQ29udGV4dCkge1xuXHRcdHRoaXMuX2N1cnJlbnRCYXNpY0NvbnRleHQgPSBiYXNpY0NvbnRleHQ7XG5cdFx0T2JqZWN0LmtleXModGhpcy5fc3RvcmVJbnN0YW5jZXMpXG5cdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdFx0XHRcdHNlbGYuX3N0b3JlSW5zdGFuY2VzW3N0b3JlTmFtZV0uJGNvbnRleHQgPVxuXHRcdFx0XHRcdHNlbGYuX2dldFN0b3JlQ29udGV4dChzdG9yZU5hbWUpO1xuXHRcdFx0fSk7XG5cdH1cblxuXHR2YXIgY2hhbmdlZFN0b3JlTmFtZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRPYmplY3Qua2V5cyhjaGFuZ2VkKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcblx0XHRcdHZhciBzdG9yZSA9IHNlbGYuZ2V0U3RvcmUoc3RvcmVOYW1lKTtcblx0XHRcdGlmICghc3RvcmUpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0c3RvcmUuJGNvbnRleHQuY2hhbmdlZCgpXG5cdFx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0Y2hhbmdlZFN0b3JlTmFtZXNbbmFtZV0gPSB0cnVlO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHR0aGlzLl9ldmVudEJ1cy5lbWl0KCdzdGF0ZUNoYW5nZWQnLCB7XG5cdFx0b2xkU3RhdGU6IHRoaXMuX2xhc3RTdGF0ZSxcblx0XHRuZXdTdGF0ZTogcGFyYW1ldGVyc1xuXHR9KTtcblx0cmV0dXJuIE9iamVjdC5rZXlzKGNoYW5nZWRTdG9yZU5hbWVzKTtcbn07XG5cbi8qKlxuICogR2V0cyBjb250ZXh0IGZvciBzdG9yZSB1c2luZyBjb21wb25lbnQncyBjb250ZXh0IGFzIGEgcHJvdG90eXBlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZSBOYW1lIG9mIHN0b3JlLlxuICogQHJldHVybnMge09iamVjdH0gU3RvcmUgY29udGV4dC5cbiAqIEBwcml2YXRlXG4gKi9cblN0b3JlRGlzcGF0Y2hlci5wcm90b3R5cGUuX2dldFN0b3JlQ29udGV4dCA9IGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcblx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdHN0b3JlQ29udGV4dCA9IE9iamVjdC5jcmVhdGUodGhpcy5fY3VycmVudEJhc2ljQ29udGV4dCk7XG5cdHN0b3JlQ29udGV4dC5uYW1lID0gc3RvcmVOYW1lO1xuXHRzdG9yZUNvbnRleHQuc3RhdGUgPSB0aGlzLl9sYXN0U3RhdGVbc3RvcmVOYW1lXSB8fCBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRzdG9yZUNvbnRleHQuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgd2Fsa2VkID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcblx0XHRcdGN1cnJlbnQsXG5cdFx0XHR0b0NoYW5nZSA9IFtzdG9yZU5hbWVdO1xuXG5cdFx0d2hpbGUgKHRvQ2hhbmdlLmxlbmd0aCA+IDApIHtcblx0XHRcdGN1cnJlbnQgPSB0b0NoYW5nZS5zaGlmdCgpO1xuXHRcdFx0aWYgKGN1cnJlbnQgaW4gd2Fsa2VkKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0d2Fsa2VkW2N1cnJlbnRdID0gdHJ1ZTtcblx0XHRcdGlmIChjdXJyZW50IGluIHNlbGYuX2RlcGVuZGFudHMpIHtcblx0XHRcdFx0dG9DaGFuZ2UgPSB0b0NoYW5nZS5jb25jYXQoXG5cdFx0XHRcdFx0T2JqZWN0LmtleXMoc2VsZi5fZGVwZW5kYW50c1tjdXJyZW50XSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSBzZWxmLl9sYXN0RGF0YVtjdXJyZW50XTtcblx0XHRcdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ3N0b3JlQ2hhbmdlZCcsIGN1cnJlbnQpO1xuXHRcdH1cblx0XHRyZXR1cm4gT2JqZWN0LmtleXMod2Fsa2VkKTtcblx0fTtcblx0c3RvcmVDb250ZXh0LmdldFN0b3JlRGF0YSA9IGZ1bmN0aW9uIChzb3VyY2VTdG9yZU5hbWUpIHtcblx0XHRpZiAoc291cmNlU3RvcmVOYW1lID09PSBzdG9yZU5hbWUpIHtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG5cdFx0fVxuXHRcdHJldHVybiBzZWxmLmdldFN0b3JlRGF0YShzb3VyY2VTdG9yZU5hbWUpO1xuXHR9O1xuXHRzdG9yZUNvbnRleHQuc2V0RGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0aWYgKCEobmFtZSBpbiBzZWxmLl9kZXBlbmRhbnRzKSkge1xuXHRcdFx0c2VsZi5fZGVwZW5kYW50c1tuYW1lXSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFx0fVxuXHRcdHNlbGYuX2RlcGVuZGFudHNbbmFtZV1bc3RvcmVOYW1lXSA9IHRydWU7XG5cdH07XG5cdHN0b3JlQ29udGV4dC51bnNldERlcGVuZGVuY3kgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdGlmICghKG5hbWUgaW4gc2VsZi5fZGVwZW5kYW50cykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGVsZXRlIHNlbGYuX2RlcGVuZGFudHNbbmFtZV1bc3RvcmVOYW1lXTtcblx0fTtcblx0c3RvcmVDb250ZXh0LnNlbmRBY3Rpb24gPSBmdW5jdGlvbiAoc3RvcmVOYW1lLCBuYW1lLCBhcmdzKSB7XG5cdFx0cmV0dXJuIHNlbGYuc2VuZEFjdGlvbihzdG9yZU5hbWUsIG5hbWUsIGFyZ3MpO1xuXHR9O1xuXHRzdG9yZUNvbnRleHQuc2VuZEJyb2FkY2FzdEFjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG5cdFx0cmV0dXJuIHNlbGYuc2VuZEJyb2FkY2FzdEFjdGlvbihuYW1lLCBhcmdzKTtcblx0fTtcblxuXHRyZXR1cm4gc3RvcmVDb250ZXh0O1xufTtcblxuLyoqXG4gKiBHZXRzIHN0b3JlIGluc3RhbmNlIGFuZCBjcmVhdGVzIGl0IGlmIHJlcXVpcmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JlTmFtZSBOYW1lIG9mIHN0b3JlLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJvbWlzZSBmb3Igc3RvcmUuXG4gKi9cblN0b3JlRGlzcGF0Y2hlci5wcm90b3R5cGUuZ2V0U3RvcmUgPSBmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdGlmICghc3RvcmVOYW1lKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIHN0b3JlID0gdGhpcy5fc3RvcmVJbnN0YW5jZXNbc3RvcmVOYW1lXTtcblx0aWYgKHN0b3JlKSB7XG5cdFx0cmV0dXJuIHN0b3JlO1xuXHR9XG5cdHZhciBzZWxmID0gdGhpcztcblxuXHR2YXIgc3RvcmVzID0gc2VsZi5fc3RvcmVMb2FkZXIuZ2V0U3RvcmVzQnlOYW1lcygpLFxuXHRcdGNvbmZpZyA9IHNlbGYuX3NlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ2NvbmZpZycpO1xuXHRpZiAoIShzdG9yZU5hbWUgaW4gc3RvcmVzKSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0dmFyIGNvbnN0cnVjdG9yID0gc3RvcmVzW3N0b3JlTmFtZV0uY29uc3RydWN0b3I7XG5cdGNvbnN0cnVjdG9yLnByb3RvdHlwZS4kY29udGV4dCA9IHNlbGYuX2dldFN0b3JlQ29udGV4dChzdG9yZU5hbWUpO1xuXHRzZWxmLl9zdG9yZUluc3RhbmNlc1tzdG9yZU5hbWVdID0gc2VsZi5fc2VydmljZUxvY2F0b3Jcblx0XHQucmVzb2x2ZUluc3RhbmNlKGNvbnN0cnVjdG9yLCBjb25maWcpO1xuXHRzZWxmLl9zdG9yZUluc3RhbmNlc1tzdG9yZU5hbWVdLiRjb250ZXh0ID0gY29uc3RydWN0b3IucHJvdG90eXBlLiRjb250ZXh0O1xuXG5cdHNlbGYuX3NlcmlhbFdyYXBwZXIuYWRkKHN0b3JlTmFtZSwgZnVuY3Rpb24gKCkge1xuXHRcdHZhciBsb2FkTWV0aG9kID0gbW9kdWxlSGVscGVyLmdldE1ldGhvZFRvSW52b2tlKFxuXHRcdFx0c2VsZi5fc3RvcmVJbnN0YW5jZXNbc3RvcmVOYW1lXSwgJ2xvYWQnXG5cdFx0KTtcblx0XHRyZXR1cm4gbW9kdWxlSGVscGVyLmdldFNhZmVQcm9taXNlKGxvYWRNZXRob2QpO1xuXHR9KTtcblx0cmV0dXJuIHNlbGYuX3N0b3JlSW5zdGFuY2VzW3N0b3JlTmFtZV07XG59OyIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJvb3RzdHJhcHBlckJhc2U7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRtb2R1bGVIZWxwZXIgPSByZXF1aXJlKCcuLi9oZWxwZXJzL21vZHVsZUhlbHBlcicpLFxuXHRoclRpbWVIZWxwZXIgPSByZXF1aXJlKCcuLi9oZWxwZXJzL2hyVGltZUhlbHBlcicpLFxuXHR1aHIgPSByZXF1aXJlKCdjYXRiZXJyeS11aHInKSxcblx0UHJvbWlzZSA9IHJlcXVpcmUoJ3Byb21pc2UnKSxcblx0U3RhdGVQcm92aWRlciA9IHJlcXVpcmUoJy4uL3Byb3ZpZGVycy9TdGF0ZVByb3ZpZGVyJyksXG5cdFN0b3JlTG9hZGVyID0gcmVxdWlyZSgnLi4vbG9hZGVycy9TdG9yZUxvYWRlcicpLFxuXHRDb21wb25lbnRMb2FkZXIgPSByZXF1aXJlKCcuLi9sb2FkZXJzL0NvbXBvbmVudExvYWRlcicpLFxuXHREb2N1bWVudFJlbmRlcmVyID0gcmVxdWlyZSgnLi4vRG9jdW1lbnRSZW5kZXJlcicpLFxuXHRSZXF1ZXN0Um91dGVyID0gcmVxdWlyZSgnLi4vUmVxdWVzdFJvdXRlcicpLFxuXHRNb2R1bGVBcGlQcm92aWRlckJhc2UgPSByZXF1aXJlKCcuLi9iYXNlL01vZHVsZUFwaVByb3ZpZGVyQmFzZScpLFxuXHRDb250ZXh0RmFjdG9yeSA9IHJlcXVpcmUoJy4uL0NvbnRleHRGYWN0b3J5JyksXG5cdEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxudmFyIElORk9fQ09NUE9ORU5UX0xPQURFRCA9ICdDb21wb25lbnQgXCIlc1wiIGxvYWRlZCcsXG5cdElORk9fU1RPUkVfTE9BREVEID0gJ1N0b3JlIFwiJXNcIiBsb2FkZWQnLFxuXHRJTkZPX0FMTF9TVE9SRVNfTE9BREVEID0gJ0FsbCBzdG9yZXMgbG9hZGVkJyxcblx0SU5GT19BTExfQ09NUE9ORU5UU19MT0FERUQgPSAnQWxsIGNvbXBvbmVudHMgbG9hZGVkJyxcblx0REVCVUdfRE9DVU1FTlRfUkVOREVSRUQgPSAnRG9jdW1lbnQgcmVuZGVyZWQgZm9yIFVSSSAlcycsXG5cdERFQlVHX1JFTkRFUl9DT01QT05FTlQgPSAnQ29tcG9uZW50IFwiJXMlc1wiIGlzIGJlaW5nIHJlbmRlcmVkLi4uJyxcblx0REVCVUdfQ09NUE9ORU5UX1JFTkRFUkVEID0gJ0NvbXBvbmVudCBcIiVzJXNcIiByZW5kZXJlZCVzJztcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBiYXNlIENhdGJlcnJ5IGJvb3RzdHJhcHBlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhdGJlcnJ5Q29uc3RydWN0b3IgQ29uc3RydWN0b3JcbiAqIG9mIHRoZSBDYXRiZXJyeSdzIG1haW4gbW9kdWxlLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEJvb3RzdHJhcHBlckJhc2UoY2F0YmVycnlDb25zdHJ1Y3Rvcikge1xuXHR0aGlzLl9jYXRiZXJyeUNvbnN0cnVjdG9yID0gY2F0YmVycnlDb25zdHJ1Y3Rvcjtcbn1cblxuLyoqXG4gKiBDdXJyZW50IGNvbnN0cnVjdG9yIG9mIHRoZSBDYXRiZXJyeSdzIG1haW4gbW9kdWxlLlxuICogQHR5cGUge0Z1bmN0aW9ufVxuICogQHByaXZhdGVcbiAqL1xuQm9vdHN0cmFwcGVyQmFzZS5wcm90b3R5cGUuX2NhdGJlcnJ5Q29uc3RydWN0b3IgPSBudWxsO1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGZ1bGwtY29uZmlndXJlZCBpbnN0YW5jZSBvZiB0aGUgQ2F0YmVycnkgYXBwbGljYXRpb24uXG4gKiBAcGFyYW0ge09iamVjdD99IGNvbmZpZ09iamVjdCBDb25maWd1cmF0aW9uIG9iamVjdC5cbiAqIEByZXR1cm5zIHtDYXRiZXJyeX0gQ2F0YmVycnkgYXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKi9cbkJvb3RzdHJhcHBlckJhc2UucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb25maWdPYmplY3QpIHtcblx0dmFyIGN1cnJlbnRDb25maWcgPSBjb25maWdPYmplY3QgfHwge30sXG5cdFx0Y2F0YmVycnkgPSBuZXcgdGhpcy5fY2F0YmVycnlDb25zdHJ1Y3RvcigpO1xuXG5cdHRoaXMuY29uZmlndXJlKGN1cnJlbnRDb25maWcsIGNhdGJlcnJ5LmxvY2F0b3IpO1xuXHRjYXRiZXJyeS5ldmVudHMgPSBjYXRiZXJyeS5sb2NhdG9yLnJlc29sdmVJbnN0YW5jZShNb2R1bGVBcGlQcm92aWRlckJhc2UpO1xuXHRyZXR1cm4gY2F0YmVycnk7XG59O1xuXG4vKipcbiAqIENvbmZpZ3VyZXMgbG9jYXRvciB3aXRoIGFsbCByZXF1aXJlZCB0eXBlIHJlZ2lzdHJhdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqZWN0IENvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtTZXJ2aWNlTG9jYXRvcn0gbG9jYXRvciBTZXJ2aWNlIGxvY2F0b3IgdG8gY29uZmlndXJlLlxuICovXG5Cb290c3RyYXBwZXJCYXNlLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoY29uZmlnT2JqZWN0LCBsb2NhdG9yKSB7XG5cdHZhciBldmVudEJ1cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblx0ZXZlbnRCdXMuc2V0TWF4TGlzdGVuZXJzKDApO1xuXHRsb2NhdG9yLnJlZ2lzdGVySW5zdGFuY2UoJ3Byb21pc2UnLCBQcm9taXNlKTtcblx0bG9jYXRvci5yZWdpc3Rlckluc3RhbmNlKCdldmVudEJ1cycsIGV2ZW50QnVzKTtcblx0bG9jYXRvci5yZWdpc3Rlckluc3RhbmNlKCdjb25maWcnLCBjb25maWdPYmplY3QpO1xuXHRsb2NhdG9yLnJlZ2lzdGVyKCdzdGF0ZVByb3ZpZGVyJywgU3RhdGVQcm92aWRlciwgY29uZmlnT2JqZWN0LCB0cnVlKTtcblx0bG9jYXRvci5yZWdpc3RlcignY29udGV4dEZhY3RvcnknLCBDb250ZXh0RmFjdG9yeSwgY29uZmlnT2JqZWN0LCB0cnVlKTtcblx0bG9jYXRvci5yZWdpc3Rlcignc3RvcmVMb2FkZXInLCBTdG9yZUxvYWRlciwgY29uZmlnT2JqZWN0LCB0cnVlKTtcblx0bG9jYXRvci5yZWdpc3RlcignY29tcG9uZW50TG9hZGVyJywgQ29tcG9uZW50TG9hZGVyLCBjb25maWdPYmplY3QsIHRydWUpO1xuXHRsb2NhdG9yLnJlZ2lzdGVyKCdkb2N1bWVudFJlbmRlcmVyJywgRG9jdW1lbnRSZW5kZXJlciwgY29uZmlnT2JqZWN0LCB0cnVlKTtcblx0bG9jYXRvci5yZWdpc3RlcigncmVxdWVzdFJvdXRlcicsIFJlcXVlc3RSb3V0ZXIsIGNvbmZpZ09iamVjdCwgdHJ1ZSk7XG5cblx0dWhyLnJlZ2lzdGVyKGxvY2F0b3IpO1xufTtcblxuLyoqXG4gKiBXcmFwcyBldmVudCBidXMgd2l0aCBsb2cgbWVzc2FnZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIEFwcGxpY2F0aW9uIGNvbmZpZy5cbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBldmVudEJ1cyBFdmVudCBlbWl0dGVyIHRoYXQgaW1wbGVtZW50cyBldmVudCBidXMuXG4gKiBAcGFyYW0ge0xvZ2dlcn0gbG9nZ2VyIExvZ2dlciB0byB3cml0ZSBtZXNzYWdlcy5cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuQm9vdHN0cmFwcGVyQmFzZS5wcm90b3R5cGUuX3dyYXBFdmVudHNXaXRoTG9nZ2VyID1cblx0ZnVuY3Rpb24gKGNvbmZpZywgZXZlbnRCdXMsIGxvZ2dlcikge1xuXHRcdHZhciBpc1JlbGVhc2UgPSBCb29sZWFuKGNvbmZpZy5pc1JlbGVhc2UpO1xuXHRcdGV2ZW50QnVzXG5cdFx0XHQub24oJ2NvbXBvbmVudExvYWRlZCcsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKHV0aWwuZm9ybWF0KElORk9fQ09NUE9ORU5UX0xPQURFRCwgYXJncy5uYW1lKSk7XG5cdFx0XHR9KVxuXHRcdFx0Lm9uKCdzdG9yZUxvYWRlZCcsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdGxvZ2dlci5pbmZvKHV0aWwuZm9ybWF0KElORk9fU1RPUkVfTE9BREVELCBhcmdzLm5hbWUpKTtcblx0XHRcdH0pXG5cdFx0XHQub24oJ2FsbFN0b3Jlc0xvYWRlZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0bG9nZ2VyLmluZm8oSU5GT19BTExfU1RPUkVTX0xPQURFRCk7XG5cdFx0XHR9KVxuXHRcdFx0Lm9uKCdhbGxDb21wb25lbnRzTG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRsb2dnZXIuaW5mbyhJTkZPX0FMTF9DT01QT05FTlRTX0xPQURFRCk7XG5cdFx0XHR9KVxuXHRcdFx0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdFx0XHRsb2dnZXIuZXJyb3IoZXJyb3IpO1xuXHRcdFx0fSk7XG5cblx0XHRpZiAoaXNSZWxlYXNlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGV2ZW50QnVzXG5cdFx0XHQub24oJ2NvbXBvbmVudFJlbmRlcicsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdHZhciBpZCA9IGFyZ3MuY29udGV4dC5hdHRyaWJ1dGVzW21vZHVsZUhlbHBlci5BVFRSSUJVVEVfSURdO1xuXHRcdFx0XHRsb2dnZXIuZGVidWcodXRpbC5mb3JtYXQoREVCVUdfUkVOREVSX0NPTVBPTkVOVCxcblx0XHRcdFx0XHRtb2R1bGVIZWxwZXIuZ2V0VGFnTmFtZUZvckNvbXBvbmVudE5hbWUoYXJncy5uYW1lKSxcblx0XHRcdFx0XHRpZCA/ICcjJyArIGlkIDogJydcblx0XHRcdFx0KSk7XG5cdFx0XHR9KVxuXHRcdFx0Lm9uKCdjb21wb25lbnRSZW5kZXJlZCcsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdHZhciBpZCA9IGFyZ3MuY29udGV4dC5hdHRyaWJ1dGVzW21vZHVsZUhlbHBlci5BVFRSSUJVVEVfSURdO1xuXHRcdFx0XHRsb2dnZXIuZGVidWcodXRpbC5mb3JtYXQoXG5cdFx0XHRcdFx0REVCVUdfQ09NUE9ORU5UX1JFTkRFUkVELFxuXHRcdFx0XHRcdG1vZHVsZUhlbHBlci5nZXRUYWdOYW1lRm9yQ29tcG9uZW50TmFtZShhcmdzLm5hbWUpLFxuXHRcdFx0XHRcdGlkID8gJyMnICsgaWQgOiAnJyxcblx0XHRcdFx0XHR1dGlsLmlzQXJyYXkoYXJncy5oclRpbWUpID9cblx0XHRcdFx0XHRcdCcgKCcgKyBoclRpbWVIZWxwZXIudG9NZXNzYWdlKGFyZ3MuaHJUaW1lKSArICcpJyA6ICcnXG5cdFx0XHRcdCkpO1xuXHRcdFx0fSlcblx0XHRcdC5vbignZG9jdW1lbnRSZW5kZXJlZCcsIGZ1bmN0aW9uIChhcmdzKSB7XG5cdFx0XHRcdGxvZ2dlci5kZWJ1Zyh1dGlsLmZvcm1hdChcblx0XHRcdFx0XHRERUJVR19ET0NVTUVOVF9SRU5ERVJFRCwgYXJncy5sb2NhdGlvbi50b1N0cmluZygpXG5cdFx0XHRcdCkpO1xuXHRcdFx0fSk7XG5cdH07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2F0YmVycnlCYXNlO1xuXG52YXIgU2VydmljZUxvY2F0b3IgPSByZXF1aXJlKCdjYXRiZXJyeS1sb2NhdG9yJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIGJhc2ljIENhdGJlcnJ5IGFwcGxpY2F0aW9uIG1vZHVsZS5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBDYXRiZXJyeUJhc2UoKSB7XG5cdHRoaXMubG9jYXRvciA9IG5ldyBTZXJ2aWNlTG9jYXRvcigpO1xuXHR0aGlzLmxvY2F0b3IucmVnaXN0ZXJJbnN0YW5jZSgnc2VydmljZUxvY2F0b3InLCB0aGlzLmxvY2F0b3IpO1xuXHR0aGlzLmxvY2F0b3IucmVnaXN0ZXJJbnN0YW5jZSgnY2F0YmVycnknLCB0aGlzKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHZlcnNpb24gb2YgY2F0YmVycnkuXG4gKi9cbkNhdGJlcnJ5QmFzZS5wcm90b3R5cGUudmVyc2lvbiA9ICc3LjAuMyc7XG5cbi8qKlxuICogQ3VycmVudCBvYmplY3Qgd2l0aCBldmVudHMuXG4gKiBAdHlwZSB7TW9kdWxlQXBpUHJvdmlkZXJ9XG4gKi9cbkNhdGJlcnJ5QmFzZS5wcm90b3R5cGUuZXZlbnRzID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHNlcnZpY2UgbG9jYXRvci5cbiAqIEB0eXBlIHtTZXJ2aWNlTG9jYXRvcn1cbiAqL1xuQ2F0YmVycnlCYXNlLnByb3RvdHlwZS5sb2NhdG9yID0gbnVsbDsiLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBDb29raWVXcmFwcGVyQmFzZTtcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIGJhc2ljIGNvb2tpZSB3cmFwcGVyLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvb2tpZVdyYXBwZXJCYXNlKCkge1xufVxuXG4vKipcbiAqIEdldHMgbWFwIG9mIGNvb2tpZSB2YWx1ZXMgYnkgbmFtZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IENvb2tpZXMgbWFwIGJ5IG5hbWVzLlxuICovXG5Db29raWVXcmFwcGVyQmFzZS5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgc3RyaW5nID0gdGhpcy5nZXRDb29raWVTdHJpbmcoKTtcblx0cmV0dXJuIHRoaXMuX3BhcnNlQ29va2llU3RyaW5nKHN0cmluZyk7XG59O1xuXG4vKipcbiAqIEdldHMgY29va2llIHZhbHVlIGJ5IG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDb29raWUgbmFtZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvb2tpZSB2YWx1ZS5cbiAqL1xuQ29va2llV3JhcHBlckJhc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdGlmICh0eXBlb2YgKG5hbWUpICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdHJldHVybiB0aGlzLmdldEFsbCgpW25hbWVdIHx8ICcnO1xufTtcblxuLyoqXG4gKiBQYXJzZXMgY29va2llIHN0cmluZyBpbnRvIG1hcCBvZiBjb29raWUga2V5L3ZhbHVlIHBhaXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBDb29raWUgc3RyaW5nLlxuICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IHdpdGggY29va2llIHZhbHVlcyBieSBrZXlzLlxuICogQHByb3RlY3RlZFxuICovXG5Db29raWVXcmFwcGVyQmFzZS5wcm90b3R5cGUuX3BhcnNlQ29va2llU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZykge1xuXHR2YXIgY29va2llID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHRpZiAodHlwZW9mIChzdHJpbmcpICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiBjb29raWU7XG5cdH1cblx0c3RyaW5nXG5cdFx0LnNwbGl0KC87ICovKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChjb29raWVQYWlyKSB7XG5cdFx0XHR2YXIgZXF1YWxzSW5kZXggPSBjb29raWVQYWlyLmluZGV4T2YoJz0nKTtcblx0XHRcdGlmIChlcXVhbHNJbmRleCA8IDApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIga2V5ID0gY29va2llUGFpci5zdWJzdHIoMCwgZXF1YWxzSW5kZXgpLnRyaW0oKSxcblx0XHRcdFx0dmFsdWUgPSBjb29raWVQYWlyLnN1YnN0cihcblx0XHRcdFx0XHRlcXVhbHNJbmRleCArIDEsIGNvb2tpZVBhaXIubGVuZ3RoXG5cdFx0XHRcdCkudHJpbSgpO1xuXG5cdFx0XHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL15cInxcIiQvZywgJycpO1xuXHRcdFx0Y29va2llW2tleV0gPSB2YWx1ZTtcblx0XHR9KTtcblxuXHRyZXR1cm4gY29va2llO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBjb29raWUgc2V0dXAgb2JqZWN0IHRvIGNvb2tpZSBzdHJpbmcuXG4gKiBAcGFyYW0ge09iamVjdH0gY29va2llU2V0dXAgQ29va2llIHNldHVwIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb29raWVTZXR1cC5rZXkgQ29va2llIGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb29raWVTZXR1cC52YWx1ZSBDb29raWUgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcj99IGNvb2tpZVNldHVwLm1heEFnZSBNYXggY29va2llIGFnZSBpbiBzZWNvbmRzLlxuICogQHBhcmFtIHtEYXRlP30gY29va2llU2V0dXAuZXhwaXJlcyBFeHBpcmUgZGF0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nP30gY29va2llU2V0dXAucGF0aCBVUkkgcGF0aCBmb3IgY29va2llLlxuICogQHBhcmFtIHtzdHJpbmc/fSBjb29raWVTZXR1cC5kb21haW4gQ29va2llIGRvbWFpbi5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGNvb2tpZVNldHVwLnNlY3VyZSBJcyBjb29raWUgc2VjdXJlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGNvb2tpZVNldHVwLmh0dHBPbmx5IElzIGNvb2tpZSBIVFRQIG9ubHkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDb29raWUgc3RyaW5nLlxuICogQHByb3RlY3RlZFxuICovXG5Db29raWVXcmFwcGVyQmFzZS5wcm90b3R5cGUuX2NvbnZlcnRUb0Nvb2tpZVNldHVwID0gZnVuY3Rpb24gKGNvb2tpZVNldHVwKSB7XG5cdGlmICh0eXBlb2YgKGNvb2tpZVNldHVwLmtleSkgIT09ICdzdHJpbmcnIHx8XG5cdFx0dHlwZW9mIChjb29raWVTZXR1cC52YWx1ZSkgIT09ICdzdHJpbmcnKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdXcm9uZyBrZXkgb3IgdmFsdWUnKTtcblx0fVxuXG5cdHZhciBjb29raWUgPSBjb29raWVTZXR1cC5rZXkgKyAnPScgKyBjb29raWVTZXR1cC52YWx1ZTtcblxuXHQvLyBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2MjY1I3NlY3Rpb24tNC4xLjFcblx0aWYgKHR5cGVvZiAoY29va2llU2V0dXAubWF4QWdlKSA9PT0gJ251bWJlcicpIHtcblx0XHRjb29raWUgKz0gJzsgTWF4LUFnZT0nICsgY29va2llU2V0dXAubWF4QWdlLnRvRml4ZWQoKTtcblx0XHRpZiAoIWNvb2tpZVNldHVwLmV4cGlyZXMpIHtcblx0XHRcdC8vIGJ5IGRlZmF1bHQgZXhwaXJlIGRhdGUgPSBjdXJyZW50IGRhdGUgKyBtYXgtYWdlIGluIHNlY29uZHNcblx0XHRcdGNvb2tpZVNldHVwLmV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICtcblx0XHRcdFx0Y29va2llU2V0dXAubWF4QWdlICogMTAwMCk7XG5cdFx0fVxuXHR9XG5cdGlmIChjb29raWVTZXR1cC5leHBpcmVzIGluc3RhbmNlb2YgRGF0ZSkge1xuXHRcdGNvb2tpZSArPSAnOyBFeHBpcmVzPScgKyBjb29raWVTZXR1cC5leHBpcmVzLnRvVVRDU3RyaW5nKCk7XG5cdH1cblx0aWYgKHR5cGVvZiAoY29va2llU2V0dXAucGF0aCkgPT09ICdzdHJpbmcnKSB7XG5cdFx0Y29va2llICs9ICc7IFBhdGg9JyArIGNvb2tpZVNldHVwLnBhdGg7XG5cdH1cblx0aWYgKHR5cGVvZiAoY29va2llU2V0dXAuZG9tYWluKSA9PT0gJ3N0cmluZycpIHtcblx0XHRjb29raWUgKz0gJzsgRG9tYWluPScgKyBjb29raWVTZXR1cC5kb21haW47XG5cdH1cblx0aWYgKHR5cGVvZiAoY29va2llU2V0dXAuc2VjdXJlKSA9PT0gJ2Jvb2xlYW4nICYmXG5cdFx0Y29va2llU2V0dXAuc2VjdXJlKSB7XG5cdFx0Y29va2llICs9ICc7IFNlY3VyZSc7XG5cdH1cblx0aWYgKHR5cGVvZiAoY29va2llU2V0dXAuaHR0cE9ubHkpID09PSAnYm9vbGVhbicgJiZcblx0XHRjb29raWVTZXR1cC5odHRwT25seSkge1xuXHRcdGNvb2tpZSArPSAnOyBIdHRwT25seSc7XG5cdH1cblxuXHRyZXR1cm4gY29va2llO1xufTsiLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBEb2N1bWVudFJlbmRlcmVyQmFzZTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB0aGUgYmFzaWMgZG9jdW1lbnQgcmVuZGVyZXIuXG4gKiBAcGFyYW0ge1NlcnZpY2VMb2NhdG9yfSAkc2VydmljZUxvY2F0b3IgTG9jYXRvciB0byByZXNvbHZlIGRlcGVuZGVuY2llcy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEb2N1bWVudFJlbmRlcmVyQmFzZSgkc2VydmljZUxvY2F0b3IpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLl9zZXJ2aWNlTG9jYXRvciA9ICRzZXJ2aWNlTG9jYXRvcjtcblx0dGhpcy5fY29udGV4dEZhY3RvcnkgPSAkc2VydmljZUxvY2F0b3IucmVzb2x2ZSgnY29udGV4dEZhY3RvcnknKTtcblx0dGhpcy5fY29tcG9uZW50TG9hZGVyID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ2NvbXBvbmVudExvYWRlcicpO1xuXHR0aGlzLl9ldmVudEJ1cyA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdldmVudEJ1cycpO1xuXG5cdHZhciBzdG9yZUxvYWRlciA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdzdG9yZUxvYWRlcicpO1xuXHR0aGlzLl9sb2FkaW5nID0gUHJvbWlzZS5hbGwoW1xuXHRcdHRoaXMuX2NvbXBvbmVudExvYWRlci5sb2FkKCksXG5cdFx0c3RvcmVMb2FkZXIubG9hZCgpXG5cdF0pXG5cdFx0LnRoZW4oZnVuY3Rpb24gKCkge1xuXHRcdFx0c2VsZi5fbG9hZGluZyA9IG51bGw7XG5cdFx0XHRzZWxmLl9ldmVudEJ1cy5lbWl0KCdyZWFkeScpO1xuXHRcdH0pXG5cdFx0LmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHtcblx0XHRcdHNlbGYuX2V2ZW50QnVzLmVtaXQoJ2Vycm9yJywgcmVhc29uKTtcblx0XHR9KTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHNlcnZpY2UgbG9jYXRvci5cbiAqIEB0eXBlIHtTZXJ2aWNlTG9jYXRvcn1cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuRG9jdW1lbnRSZW5kZXJlckJhc2UucHJvdG90eXBlLl9zZXJ2aWNlTG9jYXRvciA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBjb21wb25lbnQgbG9hZGVyLlxuICogQHR5cGUge0NvbXBvbmVudExvYWRlcn1cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuRG9jdW1lbnRSZW5kZXJlckJhc2UucHJvdG90eXBlLl9jb21wb25lbnRMb2FkZXIgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgbW9kdWxlIGxvYWRpbmcgcHJvbWlzZS5cbiAqIEB0eXBlIHtQcm9taXNlfVxuICogQHByb3RlY3RlZFxuICovXG5Eb2N1bWVudFJlbmRlcmVyQmFzZS5wcm90b3R5cGUuX2xvYWRpbmcgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgY29udGV4dCBmYWN0b3J5LlxuICogQHR5cGUge0NvbnRleHRGYWN0b3J5fVxuICogQHByb3RlY3RlZFxuICovXG5Eb2N1bWVudFJlbmRlcmVyQmFzZS5wcm90b3R5cGUuX2NvbnRleHRGYWN0b3J5ID0gbnVsbDtcblxuLyoqXG4gKiBHZXRzIHByb21pc2UgZm9yIHJlYWR5IHN0YXRlIHdoZW4gaXQgd2lsbCBiZSBhYmxlIGhhbmRsZSByZXF1ZXN0cy5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICogQHByb3RlY3RlZFxuICovXG5Eb2N1bWVudFJlbmRlcmVyQmFzZS5wcm90b3R5cGUuX2dldFByb21pc2VGb3JSZWFkeVN0YXRlID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gdGhpcy5fbG9hZGluZyA/XG5cdFx0dGhpcy5fbG9hZGluZyA6XG5cdFx0UHJvbWlzZS5yZXNvbHZlKCk7XG59OyIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvYWRlckJhc2U7XG5cbi8qKlxuICogQ3JlYXRlIGJhc2ljIGltcGxlbWVudGF0aW9uIG9mIGEgbW9kdWxlIGxvYWRlci5cbiAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgQXJyYXkgb2YgbW9kdWxlIHRyYW5zZm9ybWF0aW9ucy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBMb2FkZXJCYXNlKHRyYW5zZm9ybXMpIHtcblx0dGhpcy5fdHJhbnNmb3JtcyA9IHRyYW5zZm9ybXM7XG59XG5cbi8qKlxuICogQ3VycmVudCBsaXN0IG9mIGNvbXBvbmVudCB0cmFuc2Zvcm1zLlxuICogQHR5cGUge0FycmF5fVxuICogQHByaXZhdGVcbiAqL1xuTG9hZGVyQmFzZS5wcm90b3R5cGUuX3RyYW5zZm9ybXMgPSBudWxsO1xuXG4vKipcbiAqIEFwcGxpZXMgYWxsIHRyYW5zZm9ybWF0aW9ucyByZWdpc3RlcmVkIGluIFNlcnZpY2UgTG9jYXRvci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBtb2R1bGUgTG9hZGVkIG1vZHVsZS5cbiAqIEBwYXJhbSB7bnVtYmVyP30gaW5kZXggVHJhbnNmb3JtYXRpb24gaW5kZXggaW4gYSBsaXN0LlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gVHJhbnNmb3JtZWQgbW9kdWxlLlxuICogQHByb3RlY3RlZFxuICovXG5Mb2FkZXJCYXNlLnByb3RvdHlwZS5fYXBwbHlUcmFuc2Zvcm1zID0gZnVuY3Rpb24gKG1vZHVsZSwgaW5kZXgpIHtcblx0aWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcblx0XHQvLyB0aGUgbGlzdCBpcyBhIHN0YWNrLCB3ZSBzaG91bGQgcmV2ZXJzZSBpdFxuXHRcdGluZGV4ID0gdGhpcy5fdHJhbnNmb3Jtcy5sZW5ndGggLSAxO1xuXHR9XG5cblx0aWYgKGluZGV4IDwgMCkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobW9kdWxlKTtcblx0fVxuXG5cdHZhciBzZWxmID0gdGhpcyxcblx0XHR0cmFuc2Zvcm1hdGlvbiA9IHRoaXMuX3RyYW5zZm9ybXNbaW5kZXhdO1xuXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuXHRcdC50aGVuKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB0cmFuc2Zvcm1hdGlvbi50cmFuc2Zvcm0obW9kdWxlKTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uICh0cmFuc2Zvcm1lZE1vZHVsZSkge1xuXHRcdFx0cmV0dXJuIHNlbGYuX2FwcGx5VHJhbnNmb3Jtcyh0cmFuc2Zvcm1lZE1vZHVsZSwgaW5kZXggLSAxKTtcblx0XHR9KTtcbn07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gTW9kdWxlQXBpUHJvdmlkZXJCYXNlO1xuXG52YXIgRVJST1JfRVZFTlRfTkFNRSA9ICdFdmVudCBuYW1lIHNob3VsZCBiZSBhIHN0cmluZycsXG5cdEVSUk9SX0VWRU5UX0hBTkRMRVIgPSAnRXZlbnQgaGFuZGxlciBzaG91bGQgYmUgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgdGhlIGJhc2ljIEFQSSBwcm92aWRlci5cbiAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9ICRzZXJ2aWNlTG9jYXRvciBTZXJ2aWNlIGxvY2F0b3JcbiAqIHRvIHJlc29sdmUgZGVwZW5kZW5jaWVzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1vZHVsZUFwaVByb3ZpZGVyQmFzZSgkc2VydmljZUxvY2F0b3IpIHtcblx0dGhpcy5sb2NhdG9yID0gJHNlcnZpY2VMb2NhdG9yO1xuXHR0aGlzLmNvb2tpZSA9ICRzZXJ2aWNlTG9jYXRvci5yZXNvbHZlKCdjb29raWVXcmFwcGVyJyk7XG5cdHRoaXMuX2V2ZW50QnVzID0gJHNlcnZpY2VMb2NhdG9yLnJlc29sdmUoJ2V2ZW50QnVzJyk7XG59XG5cbi8qKlxuICogQ3VycmVudCBjb29raWUgcHJvdmlkZXIuXG4gKiBAdHlwZSB7Q29va2llV3JhcHBlcn1cbiAqL1xuTW9kdWxlQXBpUHJvdmlkZXJCYXNlLnByb3RvdHlwZS5jb29raWUgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgc2VydmljZSBsb2NhdG9yLlxuICogQHR5cGUge1NlcnZpY2VMb2NhdG9yfVxuICogQHByb3RlY3RlZFxuICovXG5Nb2R1bGVBcGlQcm92aWRlckJhc2UucHJvdG90eXBlLmxvY2F0b3IgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgZXZlbnQgYnVzLlxuICogQHR5cGUge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbk1vZHVsZUFwaVByb3ZpZGVyQmFzZS5wcm90b3R5cGUuX2V2ZW50QnVzID0gbnVsbDtcblxuLyoqXG4gKiBTdWJzY3JpYmVzIG9uIHRoZSBzcGVjaWZpZWQgZXZlbnQgaW4gQ2F0YmVycnkuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBFdmVudCBoYW5kbGVyLlxuICogQHJldHVybnMge01vZHVsZUFwaVByb3ZpZGVyQmFzZX0gVGhpcyBvYmplY3QgZm9yIGNoYWluaW5nLlxuICovXG5Nb2R1bGVBcGlQcm92aWRlckJhc2UucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuXHRjaGVja0V2ZW50TmFtZUFuZEhhbmRsZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0dGhpcy5fZXZlbnRCdXMub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZXMgb24gdGhlIHNwZWNpZmllZCBldmVudCBpbiBDYXRiZXJyeSB0byBoYW5kbGUgb25jZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIuXG4gKiBAcmV0dXJucyB7TW9kdWxlQXBpUHJvdmlkZXJCYXNlfSBUaGlzIG9iamVjdCBmb3IgY2hhaW5pbmcuXG4gKi9cbk1vZHVsZUFwaVByb3ZpZGVyQmFzZS5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcblx0Y2hlY2tFdmVudE5hbWVBbmRIYW5kbGVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG5cdHRoaXMuX2V2ZW50QnVzLm9uY2UoZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBoYW5kbGVyIGZyb20gdGhlIHNwZWNpZmllZCBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIuXG4gKiBAcmV0dXJucyB7TW9kdWxlQXBpUHJvdmlkZXJCYXNlfSBUaGlzIG9iamVjdCBmb3IgY2hhaW5pbmcuXG4gKi9cbk1vZHVsZUFwaVByb3ZpZGVyQmFzZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG5cdGNoZWNrRXZlbnROYW1lQW5kSGFuZGxlcihldmVudE5hbWUsIGhhbmRsZXIpO1xuXHR0aGlzLl9ldmVudEJ1cy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgaGFuZGxlcnMgZnJvbSB0aGUgc3BlY2lmaWVkIGV2ZW50IGluIENhdGJlcnJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIHRoZSBldmVudC5cbiAqIEByZXR1cm5zIHtNb2R1bGVBcGlQcm92aWRlckJhc2V9IFRoaXMgb2JqZWN0IGZvciBjaGFpbmluZy5cbiAqL1xuTW9kdWxlQXBpUHJvdmlkZXJCYXNlLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG5cdGNoZWNrRXZlbnROYW1lQW5kSGFuZGxlcihldmVudE5hbWUsIGR1bW15KTtcblx0dGhpcy5fZXZlbnRCdXMucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50TmFtZSk7XG5cdHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgZXZlbnQgbmFtZSBpcyBhIHN0cmluZyBhbmQgaGFuZGxlciBpcyBhIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY2hlY2suXG4gKiBAcGFyYW0geyp9IGhhbmRsZXIgVGhlIGV2ZW50IGhhbmRsZXIgdG8gY2hlY2suXG4gKi9cbmZ1bmN0aW9uIGNoZWNrRXZlbnROYW1lQW5kSGFuZGxlcihldmVudE5hbWUsIGhhbmRsZXIpIHtcblx0aWYgKHR5cGVvZiAoZXZlbnROYW1lKSAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoRVJST1JfRVZFTlRfTkFNRSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIChoYW5kbGVyKSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihFUlJPUl9FVkVOVF9IQU5ETEVSKTtcblx0fVxufVxuXG4vKipcbiAqIERvZXMgbm90aGluZy4gSXQgaXMgdXNlZCBhcyBhIGRlZmF1bHQgY2FsbGJhY2suXG4gKi9cbmZ1bmN0aW9uIGR1bW15KCkge31cbiIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxudmFyIFRJVExFID0gJ0NhdGJlcnJ5QDcuMC4zICgnICtcblx0XHQnPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9pc3N1ZXNcIiAnICtcblx0XHQndGFyZ2V0PVwiX2JsYW5rXCI+JyArXG5cdFx0J3JlcG9ydCBhbiBpc3N1ZScgK1xuXHRcdCc8L2E+JyArXG5cdFx0JyknLFxuXHRBTVAgPSAvJi9nLFxuXHRMVCA9IC88L2csXG5cdEdUID0gLz4vZyxcblx0UVVPVCA9IC9cXFwiL2csXG5cdFNJTkdMRV9RVU9UID0gL1xcJy9nLFxuXHRFUlJPUl9NRVNTQUdFX1JFR0VYUCA9IC9eKD86W1xcdyRdKyk6ICg/Oi4rKVxccj9cXG4vaSxcblx0RVJST1JfTUVTU0FHRV9GT1JNQVQgPSAnPHNwYW4gJyArXG5cdFx0J3N0eWxlPVwiY29sb3I6IHJlZDsgZm9udC1zaXplOiAxNnB0OyBmb250LXdlaWdodDogYm9sZDtcIj4nICtcblx0XHQnJXMlcycgK1xuXHRcdCc8L3NwYW4+Jyxcblx0TkVXX0xJTkUgPSAvXFxyP1xcbi9nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0LyoqXG5cdCAqIFByaW50cyBlcnJvciB3aXRoIHByZXR0eSBmb3JtYXR0aW5nLlxuXHQgKiBAcGFyYW0ge0Vycm9yfSBlcnJvciBFcnJvciB0byBwcmludC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZ2VudCBVc2VyIGFnZW50IGluZm9ybWF0aW9uLlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBIVE1MIHdpdGggYWxsIGluZm9ybWF0aW9uIGFib3V0IGVycm9yLlxuXHQgKi9cblx0cHJldHR5UHJpbnQ6IGZ1bmN0aW9uIChlcnJvciwgdXNlckFnZW50KSB7XG5cdFx0aWYgKCFlcnJvciB8fCB0eXBlb2YgKGVycm9yKSAhPT0gJ29iamVjdCcpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cdFx0dmFyIGRhdGVTdHJpbmcgPSAobmV3IERhdGUoKSkudG9VVENTdHJpbmcoKSArICc7PGJyLz4nLFxuXHRcdFx0dXNlckFnZW50U3RyaW5nID0gKHVzZXJBZ2VudCA/ICh1c2VyQWdlbnQgKyAnOzxici8+JykgOiAnJyksXG5cdFx0XHRuYW1lID0gKHR5cGVvZiAoZXJyb3IubmFtZSkgPT09ICdzdHJpbmcnID8gZXJyb3IubmFtZSArICc6ICcgOiAnJyksXG5cdFx0XHRtZXNzYWdlID0gU3RyaW5nKGVycm9yLm1lc3NhZ2UgfHwgJycpLFxuXHRcdFx0c3RhY2sgPSBTdHJpbmcoZXJyb3Iuc3RhY2sgfHwgJycpLnJlcGxhY2UoRVJST1JfTUVTU0FHRV9SRUdFWFAsICcnKSxcblx0XHRcdGZ1bGxNZXNzYWdlID0gdXRpbC5mb3JtYXQoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VfRk9STUFULCBlc2NhcGUobmFtZSksIGVzY2FwZShtZXNzYWdlKVxuXHRcdFx0KTtcblxuXHRcdHJldHVybiAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHdoaXRlOyBmb250LXNpemU6IDEycHQ7XCI+JyArXG5cdFx0XHRkYXRlU3RyaW5nICtcblx0XHRcdHVzZXJBZ2VudFN0cmluZyArXG5cdFx0XHRUSVRMRSArICc8YnIvPjxici8+JyArXG5cdFx0XHRmdWxsTWVzc2FnZSArICc8YnIvPjxici8+JyArXG5cdFx0XHRlc2NhcGUoc3RhY2spICtcblx0XHRcdCc8L2Rpdj4nO1xuXHR9XG59O1xuXG4vKipcbiAqIEVzY2FwZXMgZXJyb3IgdGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBFcnJvciB0ZXh0LlxuICogQHJldHVybnMge3N0cmluZ30gZXNjYXBlZCBhbmQgZm9ybWF0dGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlKHZhbHVlKSB7XG5cdHJldHVybiB2YWx1ZVxuXHRcdC5yZXBsYWNlKEFNUCwgJyZhbXA7Jylcblx0XHQucmVwbGFjZShMVCwgJyZsdDsnKVxuXHRcdC5yZXBsYWNlKEdULCAnJmd0OycpXG5cdFx0LnJlcGxhY2UoUVVPVCwgJyZxdW90OycpXG5cdFx0LnJlcGxhY2UoU0lOR0xFX1FVT1QsICcmIzM5OycpXG5cdFx0LnJlcGxhY2UoTkVXX0xJTkUsICc8YnIvPicpO1xufSIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGVscGVyID0ge1xuXHRDT01QT05FTlRfUFJFRklYOiAnY2F0LScsXG5cdENPTVBPTkVOVF9QUkVGSVhfUkVHRVhQOiAvXmNhdC0vaSxcblx0Q09NUE9ORU5UX0VSUk9SX1RFTVBMQVRFX1BPU1RGSVg6ICctLWVycm9yJyxcblx0RE9DVU1FTlRfQ09NUE9ORU5UX05BTUU6ICdkb2N1bWVudCcsXG5cdERPQ1VNRU5UX0VMRU1FTlRfTkFNRTogJ2h0bWwnLFxuXHRIRUFEX0NPTVBPTkVOVF9OQU1FOiAnaGVhZCcsXG5cdEFUVFJJQlVURV9JRDogJ2lkJyxcblx0QVRUUklCVVRFX1NUT1JFOiAnY2F0LXN0b3JlJyxcblx0REVGQVVMVF9MT0dJQ19GSUxFTkFNRTogJ2luZGV4LmpzJyxcblxuXHQvKipcblx0ICogQ3JlYXRlcyBuYW1lIGZvciBlcnJvciB0ZW1wbGF0ZSBvZiBjb21wb25lbnQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIG5hbWUgb2YgY29tcG9uZW50LlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBOYW1lIG9mIGVycm9yIHRlbXBsYXRlIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqL1xuXHRnZXROYW1lRm9yRXJyb3JUZW1wbGF0ZTogZnVuY3Rpb24gKGNvbXBvbmVudE5hbWUpIHtcblx0XHRpZiAodHlwZW9mIChjb21wb25lbnROYW1lKSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cdFx0cmV0dXJuIGNvbXBvbmVudE5hbWUgKyBoZWxwZXIuQ09NUE9ORU5UX0VSUk9SX1RFTVBMQVRFX1BPU1RGSVg7XG5cdH0sXG5cblx0LyoqXG5cdCAqIERldGVybWluZXMgaWYgc3BlY2lmaWVkIGNvbXBvbmVudCBuYW1lIGlzIHRoZSBcImRvY3VtZW50XCIgY29tcG9uZW50IG5hbWUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudC5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgc3BlY2lmaWVkIGNvbXBvbmVudCBpcyB0aGUgXCJkb2N1bWVudFwiIGNvbXBvbmVudC5cblx0ICovXG5cdGlzRG9jdW1lbnRDb21wb25lbnQ6IGZ1bmN0aW9uIChjb21wb25lbnROYW1lKSB7XG5cdFx0cmV0dXJuIGNvbXBvbmVudE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gaGVscGVyLkRPQ1VNRU5UX0NPTVBPTkVOVF9OQU1FO1xuXHR9LFxuXHQvKipcblx0ICogRGV0ZXJtaW5lcyBpZiBzcGVjaWZpZWQgY29tcG9uZW50IG5hbWUgaXMgdGhlIFwiaGVhZFwiIGNvbXBvbmVudCBuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQuXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHNwZWNpZmllZCBjb21wb25lbnQgaXMgdGhlIFwiaGVhZFwiIGNvbXBvbmVudC5cblx0ICovXG5cdGlzSGVhZENvbXBvbmVudDogZnVuY3Rpb24gKGNvbXBvbmVudE5hbWUpIHtcblx0XHRyZXR1cm4gY29tcG9uZW50TmFtZS50b0xvd2VyQ2FzZSgpID09PSBoZWxwZXIuSEVBRF9DT01QT05FTlRfTkFNRTtcblx0fSxcblxuXHQvKipcblx0ICogR2V0cyB0aGUgb3JpZ2luYWwgY29tcG9uZW50IG5hbWUgd2l0aG91dCBwcmVmaXguXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmdWxsQ29tcG9uZW50TmFtZSBGdWxsIGNvbXBvbmVudCBuYW1lICh0YWcgbmFtZSkuXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBvcmlnaW5hbCBjb21wb25lbnQgbmFtZSB3aXRob3V0IHByZWZpeC5cblx0ICovXG5cdGdldE9yaWdpbmFsQ29tcG9uZW50TmFtZTogZnVuY3Rpb24gKGZ1bGxDb21wb25lbnROYW1lKSB7XG5cdFx0aWYgKHR5cGVvZiAoZnVsbENvbXBvbmVudE5hbWUpICE9PSAnc3RyaW5nJykge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblx0XHRmdWxsQ29tcG9uZW50TmFtZSA9IGZ1bGxDb21wb25lbnROYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKGZ1bGxDb21wb25lbnROYW1lID09PSBoZWxwZXIuSEVBRF9DT01QT05FTlRfTkFNRSkge1xuXHRcdFx0cmV0dXJuIGZ1bGxDb21wb25lbnROYW1lO1xuXHRcdH1cblx0XHRpZiAoZnVsbENvbXBvbmVudE5hbWUgPT09IGhlbHBlci5ET0NVTUVOVF9DT01QT05FTlRfTkFNRSB8fFxuXHRcdFx0ZnVsbENvbXBvbmVudE5hbWUgPT09IGhlbHBlci5ET0NVTUVOVF9FTEVNRU5UX05BTUUpIHtcblx0XHRcdHJldHVybiBoZWxwZXIuRE9DVU1FTlRfQ09NUE9ORU5UX05BTUU7XG5cdFx0fVxuXHRcdHJldHVybiBmdWxsQ29tcG9uZW50TmFtZS5yZXBsYWNlKGhlbHBlci5DT01QT05FTlRfUFJFRklYX1JFR0VYUCwgJycpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXRzIHZhbGlkIHRhZyBuYW1lIGZvciBjb21wb25lbnQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudC5cblx0ICogQHJldHVybnMge3N0cmluZ30gTmFtZSBvZiB0aGUgdGFnLlxuXHQgKi9cblx0Z2V0VGFnTmFtZUZvckNvbXBvbmVudE5hbWU6IGZ1bmN0aW9uIChjb21wb25lbnROYW1lKSB7XG5cdFx0aWYgKHR5cGVvZiAoY29tcG9uZW50TmFtZSkgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXHRcdHZhciB1cHBlckNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lLnRvVXBwZXJDYXNlKCk7XG5cdFx0aWYgKGNvbXBvbmVudE5hbWUgPT09IGhlbHBlci5IRUFEX0NPTVBPTkVOVF9OQU1FKSB7XG5cdFx0XHRyZXR1cm4gdXBwZXJDb21wb25lbnROYW1lO1xuXHRcdH1cblx0XHRpZiAoY29tcG9uZW50TmFtZSA9PT0gaGVscGVyLkRPQ1VNRU5UX0NPTVBPTkVOVF9OQU1FKSB7XG5cdFx0XHRyZXR1cm4gaGVscGVyLkRPQ1VNRU5UX0VMRU1FTlRfTkFNRS50b1VwcGVyQ2FzZSgpO1xuXHRcdH1cblx0XHRyZXR1cm4gaGVscGVyLkNPTVBPTkVOVF9QUkVGSVgudG9VcHBlckNhc2UoKSArIHVwcGVyQ29tcG9uZW50TmFtZTtcblx0fSxcblxuXHQvKipcblx0ICogR2V0cyBtZXRob2Qgb2YgdGhlIG1vZHVsZSB0aGF0IGNhbiBiZSBpbnZva2VkLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIE1vZHVsZSBpbXBsZW1lbnRhdGlvbi5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBNZXRob2QgcHJlZml4IChpLmUuIGhhbmRsZSkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nP30gbmFtZSBOYW1lIG9mIHRoZSBlbnRpdHkgdG8gaW52b2tlIG1ldGhvZCBmb3Jcblx0ICogKHdpbGwgYmUgY29udmVydGVkIHRvIGNhbWVsIGNhc2luZykuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gTWV0aG9kIHRvIGludm9rZS5cblx0ICovXG5cdGdldE1ldGhvZFRvSW52b2tlOiBmdW5jdGlvbiAobW9kdWxlLCBwcmVmaXgsIG5hbWUpIHtcblx0XHRpZiAoIW1vZHVsZSB8fCB0eXBlb2YgKG1vZHVsZSkgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gZGVmYXVsdFByb21pc2VNZXRob2Q7XG5cdFx0fVxuXHRcdHZhciBtZXRob2ROYW1lID0gaGVscGVyLmdldENhbWVsQ2FzZU5hbWUocHJlZml4LCBuYW1lKTtcblx0XHRpZiAodHlwZW9mIChtb2R1bGVbbWV0aG9kTmFtZV0pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRyZXR1cm4gbW9kdWxlW21ldGhvZE5hbWVdLmJpbmQobW9kdWxlKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiAobW9kdWxlW3ByZWZpeF0pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRyZXR1cm4gbW9kdWxlW3ByZWZpeF0uYmluZChtb2R1bGUsIG5hbWUpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWZhdWx0UHJvbWlzZU1ldGhvZDtcblx0fSxcblxuXHQvKipcblx0ICogR2V0cyBuYW1lIGluIGNhbWVsIGNhc2luZyBmb3IgZXZlcnl0aGluZy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBQcmVmaXggZm9yIHRoZSBuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIHRvIGNvbnZlcnQuXG5cdCAqL1xuXHRnZXRDYW1lbENhc2VOYW1lOiBmdW5jdGlvbiAocHJlZml4LCBuYW1lKSB7XG5cdFx0aWYgKCFuYW1lKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXHRcdHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoL1teYS16MC05XS9pKSxcblx0XHRcdGNhbWVsQ2FzZU5hbWUgPSBTdHJpbmcocHJlZml4IHx8ICcnKTtcblxuXHRcdHBhcnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnQpIHtcblx0XHRcdGlmICghcGFydCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIGZpcnN0IGNoYXJhY3RlciBpbiBtZXRob2QgbmFtZSBtdXN0IGJlIGluIGxvd2VyY2FzZVxuXHRcdFx0Y2FtZWxDYXNlTmFtZSArPSBjYW1lbENhc2VOYW1lID9cblx0XHRcdFx0cGFydFswXS50b1VwcGVyQ2FzZSgpIDpcblx0XHRcdFx0cGFydFswXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0Y2FtZWxDYXNlTmFtZSArPSBwYXJ0LnN1YnN0cmluZygxKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBjYW1lbENhc2VOYW1lO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXRzIHNhZmUgcHJvbWlzZSByZXNvbHZlZCBmcm9tIGFjdGlvbi5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEFjdGlvbiB0byB3cmFwIHdpdGggc2FmZSBwcm9taXNlLlxuXHQgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSBmb3IgZG9uZSBhY3Rpb24uXG5cdCAqL1xuXHRnZXRTYWZlUHJvbWlzZTogZnVuY3Rpb24gKGFjdGlvbikge1xuXHRcdHZhciByZXN1bHQ7XG5cdFx0dHJ5IHtcblx0XHRcdHJlc3VsdCA9IGFjdGlvbigpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcblx0XHR9XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuXHR9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGhlbHBlcjtcblxuLyoqXG4gKiBKdXN0IHJldHVybnMgcmVzb2x2ZWQgcHJvbWlzZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIGZvciBub3RoaW5nLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0UHJvbWlzZU1ldGhvZCgpIHtcblx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufSIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0LyoqXG5cdCAqIERlZmluZXMgcmVhZC1vbmx5IHByb3BlcnR5LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBkZWZpbmUgcHJvcGVydHkgaW4uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIHByb3BlcnR5LlxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFByb3BlcnR5IHZhbHVlLlxuXHQgKi9cblx0ZGVmaW5lUmVhZE9ubHk6IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHZhbHVlKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwge1xuXHRcdFx0ZW51bWVyYWJsZTogZmFsc2UsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0d3JpdGFibGU6IGZhbHNlLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fSk7XG5cdH1cbn07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRVUkkgPSByZXF1aXJlKCdjYXRiZXJyeS11cmknKS5VUkk7XG5cbnZhciBVUklfUEFUSF9SRVBMQUNFTUVOVF9SRUdfRVhQX1NPVVJDRSA9ICcoW15cXFxcL1xcXFxcXFxcXSopJyxcblx0VVJJX1FVRVJZX1JFUExBQ0VNRU5UX1JFR19FWFBfU09VUkNFID0gJyhbXiY/PV0qKSc7XG5cbnZhciBQQVRIX0VORF9TTEFTSF9SRUdfRVhQID0gLyguKylcXC8oJHxcXD98IykvLFxuXHRFWFBSRVNTSU9OX0VTQ0FQRV9SRUdfRVhQID0gL1tcXC1cXFtcXF1cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLFxuXHRJREVOVElGSUVSX1JFR19FWFBfU09VUkNFID0gJ1skQS1aX11bXFxcXGRBLVpfJF0qJyxcblx0U1RPUkVfTElTVF9SRUdfRVhQX1NPVVJDRSA9ICcoPzooPzpcXFxcXFxcXFtbIF0qJyArXG5cdFx0J1teXFxcXFtcXFxcXSxdKycgK1xuXHRcdCcoWyBdKixbIF0qJyArXG5cdFx0J1teXFxcXFtcXFxcXSxdKycgK1xuXHRcdCcpKlsgXSpcXFxcXFxcXF0pfCg/OlxcXFxcXFxcW1sgXSpcXFxcXFxcXF0pKT8nLFxuXHRQQVJBTUVURVJfUkVHX0VYUCA9IG5ldyBSZWdFeHAoXG5cdFx0XHQnOicgK1xuXHRcdFx0SURFTlRJRklFUl9SRUdfRVhQX1NPVVJDRSArXG5cdFx0XHRTVE9SRV9MSVNUX1JFR19FWFBfU09VUkNFLCAnZ2knKSxcblx0U0xBU0hFRF9CUkFDS0VUU19SRUdfRVhQID0gL1xcXFxcXFt8XFxcXFxcXS8sXG5cdFNUT1JFX0xJU1RfU0VQQVJBVE9SID0gJywnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0LyoqXG5cdCAqIFJlbW92ZXMgc2xhc2ggZnJvbSB0aGUgZW5kIG9mIFVSSSBwYXRoLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJpUGF0aCBVUkkgcGF0aCB0byBwcm9jZXNzLlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBVUkkgd2l0aG91dCBlbmQgc2xhc2guXG5cdCAqL1xuXHRyZW1vdmVFbmRTbGFzaDogZnVuY3Rpb24gKHVyaVBhdGgpIHtcblx0XHRpZiAoIXVyaVBhdGggfHwgdHlwZW9mICh1cmlQYXRoKSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cdFx0aWYgKHVyaVBhdGggPT09ICcvJykge1xuXHRcdFx0cmV0dXJuIHVyaVBhdGg7XG5cdFx0fVxuXHRcdHJldHVybiB1cmlQYXRoLnJlcGxhY2UoUEFUSF9FTkRfU0xBU0hfUkVHX0VYUCwgJyQxJDInKTtcblx0fSxcblx0LyoqXG5cdCAqIEdldHMgVVJJIG1hcHBlciBmcm9tIHRoZSByb3V0ZSBleHByZXNzaW9uIGxpa2Vcblx0ICogL3NvbWUvOmlkW3N0b3JlMSwgc3RvcmUyLCBzdG9yZTNdL2RldGFpbHM/ZmlsdGVyPTpmaWx0ZXJbc3RvcmUzXS5cblx0ICogQHBhcmFtIHtVUkl9IHJvdXRlVXJpIEV4cHJlc3Npb24gdGhhdCBkZWZpbmVzIHJvdXRlLlxuXHQgKiBAcmV0dXJucyB7e2V4cHJlc3Npb246IFJlZ0V4cCwgbWFwOiBGdW5jdGlvbn0/fSBVUkkgbWFwcGVyIG9iamVjdC5cblx0ICogVVJJIG1hcHBlciBvYmplY3QuXG5cdCAqL1xuXHRjb21waWxlUm91dGU6IGZ1bmN0aW9uIChyb3V0ZVVyaSkge1xuXHRcdGlmICghcm91dGVVcmkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdC8vIGVzY2FwZSByZWd1bGFyIGV4cHJlc3Npb24gY2hhcmFjdGVyc1xuXHRcdHZhciBlc2NhcGVkID0gcm91dGVVcmkucGF0aC5yZXBsYWNlKFxuXHRcdFx0RVhQUkVTU0lPTl9FU0NBUEVfUkVHX0VYUCwgJ1xcXFwkJidcblx0XHQpO1xuXG5cdFx0Ly8gZ2V0IGFsbCBvY2N1cnJlbmNlcyBvZiByb3V0aW5nIHBhcmFtZXRlcnMgaW4gVVJJIHBhdGhcblx0XHR2YXIgcmVnRXhwU291cmNlID0gJ14nICsgZXNjYXBlZC5yZXBsYWNlKFxuXHRcdFx0XHRcdFBBUkFNRVRFUl9SRUdfRVhQLFxuXHRcdFx0XHRcdFVSSV9QQVRIX1JFUExBQ0VNRU5UX1JFR19FWFBfU09VUkNFKSArICckJyxcblx0XHRcdGV4cHJlc3Npb24gPSBuZXcgUmVnRXhwKHJlZ0V4cFNvdXJjZSwgJ2knKSxcblx0XHRcdHF1ZXJ5TWFwcGVyLFxuXHRcdFx0cGF0aE1hcHBlcixcblx0XHRcdHBhdGhQYXJhbWV0ZXJNYXRjaGVzID0gZXNjYXBlZC5tYXRjaChcblx0XHRcdFx0UEFSQU1FVEVSX1JFR19FWFBcblx0XHRcdCksXG5cdFx0XHRwYXRoUGFyYW1ldGVycyA9IHBhdGhQYXJhbWV0ZXJNYXRjaGVzID9cblx0XHRcdFx0cGF0aFBhcmFtZXRlck1hdGNoZXMubWFwKGdldFBhcmFtZXRlckRlc2NyaXB0b3IpIDogbnVsbDtcblxuXHRcdGlmIChwYXRoUGFyYW1ldGVycykge1xuXHRcdFx0cGF0aE1hcHBlciA9IGNyZWF0ZVVyaVBhdGhNYXBwZXIoZXhwcmVzc2lvbiwgcGF0aFBhcmFtZXRlcnMpO1xuXHRcdH1cblxuXHRcdGlmIChyb3V0ZVVyaS5xdWVyeSkge1xuXHRcdFx0dmFyIHF1ZXJ5UGFyYW1ldGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdFx0XHRPYmplY3Qua2V5cyhyb3V0ZVVyaS5xdWVyeS52YWx1ZXMpXG5cdFx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRcdFx0Ly8gYXJyYXlzIGluIHJvdXRpbmcgZGVmaW5pdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRcdFx0XHRpZiAodXRpbC5pc0FycmF5KHJvdXRlVXJpLnF1ZXJ5LnZhbHVlc1tuYW1lXSkpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBlc2NhcGUgcmVndWxhciBleHByZXNzaW9uIGNoYXJhY3RlcnNcblx0XHRcdFx0XHR2YXIgZXNjYXBlZCA9IHJvdXRlVXJpLnF1ZXJ5LnZhbHVlc1tuYW1lXS5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0RVhQUkVTU0lPTl9FU0NBUEVfUkVHX0VYUCwgJ1xcXFwkJidcblx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0Ly8gZ2V0IGFsbCBvY2N1cnJlbmNlcyBvZiByb3V0aW5nIHBhcmFtZXRlcnMgaW4gVVJJIHBhdGhcblx0XHRcdFx0XHR2YXIgcmVnRXhwU291cmNlID0gJ14nICsgZXNjYXBlZC5yZXBsYWNlKFxuXHRcdFx0XHRcdFx0XHRQQVJBTUVURVJfUkVHX0VYUCxcblx0XHRcdFx0XHRcdFx0VVJJX1FVRVJZX1JFUExBQ0VNRU5UX1JFR19FWFBfU09VUkNFKSArICckJztcblx0XHRcdFx0XHR2YXIgcXVlcnlQYXJhbWV0ZXJNYXRjaGVzID0gZXNjYXBlZC5tYXRjaChcblx0XHRcdFx0XHRcdFx0UEFSQU1FVEVSX1JFR19FWFBcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0aWYgKCFxdWVyeVBhcmFtZXRlck1hdGNoZXMgfHxcblx0XHRcdFx0XHRcdHF1ZXJ5UGFyYW1ldGVyTWF0Y2hlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgcGFyYW1ldGVyID0gZ2V0UGFyYW1ldGVyRGVzY3JpcHRvcihcblx0XHRcdFx0XHRcdHF1ZXJ5UGFyYW1ldGVyTWF0Y2hlc1txdWVyeVBhcmFtZXRlck1hdGNoZXMubGVuZ3RoIC0gMV1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHZhciBleHByZXNzaW9uID0gbmV3IFJlZ0V4cChyZWdFeHBTb3VyY2UsICdpJyk7XG5cdFx0XHRcdFx0cGFyYW1ldGVyLm1hcCA9IGNyZWF0ZVVyaVF1ZXJ5VmFsdWVNYXBwZXIoZXhwcmVzc2lvbik7XG5cdFx0XHRcdFx0cXVlcnlQYXJhbWV0ZXJzW25hbWVdID0gcGFyYW1ldGVyO1xuXHRcdFx0XHR9KTtcblx0XHRcdHF1ZXJ5TWFwcGVyID0gY3JlYXRlVXJpUXVlcnlNYXBwZXIocXVlcnlQYXJhbWV0ZXJzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZXhwcmVzc2lvbjogZXhwcmVzc2lvbixcblx0XHRcdG1hcDogZnVuY3Rpb24gKHVyaSkge1xuXHRcdFx0XHR2YXIgc3RhdGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdFx0XHRpZiAocGF0aE1hcHBlcikge1xuXHRcdFx0XHRcdHBhdGhNYXBwZXIodXJpLnBhdGgsIHN0YXRlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChxdWVyeU1hcHBlciAmJiB1cmkucXVlcnkpIHtcblx0XHRcdFx0XHRxdWVyeU1hcHBlcih1cmkucXVlcnkudmFsdWVzLCBzdGF0ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBVUkkgcGF0aC10by1zdGF0ZSBvYmplY3QgbWFwcGVyLlxuICogQHBhcmFtIHtSZWdFeHB9IGV4cHJlc3Npb24gUmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIFVSSSBwYXRoLlxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1ldGVycyBMaXN0IG9mIHBhcmFtZXRlciBkZXNjcmlwdG9ycy5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVVJJIG1hcHBlciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVXJpUGF0aE1hcHBlcihleHByZXNzaW9uLCBwYXJhbWV0ZXJzKSB7XG5cdHJldHVybiBmdW5jdGlvbiAodXJpUGF0aCwgc3RhdGUpIHtcblx0XHR2YXIgbWF0Y2hlcyA9IHVyaVBhdGgubWF0Y2goZXhwcmVzc2lvbik7XG5cdFx0aWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoIDwgMikge1xuXHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdH1cblxuXHRcdC8vIHN0YXJ0IHdpdGggc2Vjb25kIG1hdGNoIGJlY2F1c2UgZmlyc3QgbWF0Y2ggaXMgYWx3YXlzXG5cdFx0Ly8gdGhlIHdob2xlIFVSSSBwYXRoXG5cdFx0bWF0Y2hlcyA9IG1hdGNoZXMuc3BsaWNlKDEpO1xuXG5cdFx0cGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbWV0ZXIsIGluZGV4KSB7XG5cdFx0XHR2YXIgdmFsdWUgPSBtYXRjaGVzW2luZGV4XTtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gbm90aGluZyB0byBkb1xuXHRcdFx0fVxuXHRcdFx0cGFyYW1ldGVyLnN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdFx0XHRcdGlmICghc3RhdGVbc3RvcmVOYW1lXSkge1xuXHRcdFx0XHRcdHN0YXRlW3N0b3JlTmFtZV0gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0YXRlW3N0b3JlTmFtZV1bcGFyYW1ldGVyLm5hbWVdID0gdmFsdWU7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBVUkkgcXVlcnktdG8tc3RhdGUgb2JqZWN0IG1hcHBlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIExpc3Qgb2YgcG9zc2libGUgcXVlcnkgcGFyYW1ldGVyIGRlc2NyaXB0b3JzIGJ5XG4gKiBxdWVyeSBwYXJhbWV0ZXIgbmFtZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFVSSSBtYXBwZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVyaVF1ZXJ5TWFwcGVyKHBhcmFtZXRlcnMpIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChxdWVyeVZhbHVlcywgc3RhdGUpIHtcblx0XHRxdWVyeVZhbHVlcyA9IHF1ZXJ5VmFsdWVzIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cblx0XHRPYmplY3Qua2V5cyhxdWVyeVZhbHVlcylcblx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeUtleSkge1xuXHRcdFx0XHR2YXIgcGFyYW1ldGVyID0gcGFyYW1ldGVyc1txdWVyeUtleV07XG5cdFx0XHRcdGlmICghcGFyYW1ldGVyKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHZhbHVlID0gdXRpbC5pc0FycmF5KHF1ZXJ5VmFsdWVzW3F1ZXJ5S2V5XSkgP1xuXHRcdFx0XHRcdFx0cXVlcnlWYWx1ZXNbcXVlcnlLZXldXG5cdFx0XHRcdFx0XHRcdC5tYXAocGFyYW1ldGVyLm1hcClcblx0XHRcdFx0XHRcdFx0LmZpbHRlcihmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgIT09IG51bGw7XG5cdFx0XHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRcdHBhcmFtZXRlci5tYXAocXVlcnlWYWx1ZXNbcXVlcnlLZXldKTtcblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0cGFyYW1ldGVyLnN0b3JlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdFx0XHRcdFx0aWYgKCFzdGF0ZVtzdG9yZU5hbWVdKSB7XG5cdFx0XHRcdFx0XHRzdGF0ZVtzdG9yZU5hbWVdID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3RhdGVbc3RvcmVOYW1lXVtwYXJhbWV0ZXIubmFtZV0gPSB2YWx1ZTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0fTtcbn1cblxuLyoqXG4gKiBNYXBzIHF1ZXJ5IHBhcmFtZXRlciB2YWx1ZSB1c2luZyB0aGUgcGFyYW1ldGVycyBleHByZXNzaW9uLlxuICogQHBhcmFtIHtSZWdFeHB9IGV4cHJlc3Npb24gUmVndWxhciBleHByZXNzaW9uIHRvIGdldCBwYXJhbWV0ZXIgdmFsdWUuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFVSSSBxdWVyeSBzdHJpbmcgcGFyYW1ldGVyIHZhbHVlIG1hcHBlciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVXJpUXVlcnlWYWx1ZU1hcHBlcihleHByZXNzaW9uKSB7XG5cdHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHR2YWx1ZSA9IHZhbHVlXG5cdFx0XHQudG9TdHJpbmcoKVxuXHRcdFx0Ly8gd2UgaGF2ZSB0byB0ZW1wb3JhcnkgZW5jb2RlIHRoZXNlIGNoYXJhY3RlcnMgZm9yIG5vdCBicmVha2luZ1xuXHRcdFx0Ly8gZXhwcmVzc2lvbiBwYXJzaW5nLCBiZWNhdXNlIGl0J3MgdGVybWluYXRlZCBieSBxdWVyeSBzZXBhcmF0b3Jcblx0XHRcdC5yZXBsYWNlKC89L2csICclM0QnKVxuXHRcdFx0LnJlcGxhY2UoL1xcPy9nLCAnJTNGJylcblx0XHRcdC5yZXBsYWNlKC8mL2csICclMjYnKTtcblx0XHR2YXIgbWF0Y2hlcyA9IHZhbHVlLm1hdGNoKGV4cHJlc3Npb24pO1xuXHRcdGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gdGhlIHZhbHVlIGlzIHRoZSBzZWNvbmQgaXRlbSwgdGhlIGZpcnN0IGlzIGEgd2hvbGUgc3RyaW5nXG5cdFx0dmFyIG1hcHBlZFZhbHVlID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuXHRcdHRyeSB7XG5cdFx0XHRtYXBwZWRWYWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChtYXBwZWRWYWx1ZSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gbm90aGluZyB0byBkb1xuXHRcdH1cblxuXHRcdHJldHVybiBtYXBwZWRWYWx1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBHZXRzIGRlc2NyaXB0aW9uIG9mIHBhcmFtZXRlcnMgZnJvbSBpdHMgZXhwcmVzc2lvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbWV0ZXIgUGFyYW1ldGVyIGV4cHJlc3Npb24uXG4gKiBAcmV0dXJucyB7e25hbWU6IHN0cmluZywgc3RvcmVOYW1lczogQXJyYXl9fSBQYXJhbWV0ZXIgZGVzY3JpcHRvci5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyRGVzY3JpcHRvcihwYXJhbWV0ZXIpIHtcblx0dmFyIHBhcnRzID0gcGFyYW1ldGVyLnNwbGl0KFNMQVNIRURfQlJBQ0tFVFNfUkVHX0VYUCk7XG5cblx0cmV0dXJuIHtcblx0XHRuYW1lOiBwYXJ0c1swXVxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnN1YnN0cmluZygxKSxcblx0XHRzdG9yZU5hbWVzOiAocGFydHNbMV0gPyBwYXJ0c1sxXSA6ICcnKVxuXHRcdFx0LnNwbGl0KFNUT1JFX0xJU1RfU0VQQVJBVE9SKVxuXHRcdFx0Lm1hcChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdFx0XHRcdHJldHVybiBzdG9yZU5hbWUudHJpbSgpO1xuXHRcdFx0fSlcblx0XHRcdC5maWx0ZXIoZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gc3RvcmVOYW1lLmxlbmd0aCA+IDA7XG5cdFx0XHR9KVxuXHR9O1xufSIsIi8qXG4gKiBjYXRiZXJyeVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSZWNoa3Vub3YgYW5kIHByb2plY3QgY29udHJpYnV0b3JzLlxuICpcbiAqIGNhdGJlcnJ5J3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRlUHJvdmlkZXI7XG5cbnZhciByb3V0ZUhlbHBlciA9IHJlcXVpcmUoJy4vLi4vaGVscGVycy9yb3V0ZUhlbHBlcicpLFxuXHRjYXRiZXJyeVVyaSA9IHJlcXVpcmUoJ2NhdGJlcnJ5LXVyaScpLFxuXHRVUkkgPSBjYXRiZXJyeVVyaS5VUkk7XG5cbi8qKlxuICogQ3JlYXRlIG5ldyBpbnN0YW5jZSBvZiB0aGUgc3RhdGUgcHJvdmlkZXIuXG4gKiBAcGFyYW0ge1NlcnZpY2VMb2NhdG9yfSAkc2VydmljZUxvY2F0b3IgU2VydmljZSBsb2NhdG9yXG4gKiB0byByZXNvbHZlIFVSSSBtYXBwZXJzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFN0YXRlUHJvdmlkZXIoJHNlcnZpY2VMb2NhdG9yKSB7XG5cdHRoaXMuX3VyaU1hcHBlcnMgPSBnZXRVcmlNYXBwZXJzKCRzZXJ2aWNlTG9jYXRvcik7XG59XG5cbi8qKlxuICogQ3VycmVudCBsaXN0IG9mIFVSSSBtYXBwZXJzLlxuICogQHR5cGUge0FycmF5fVxuICogQHByaXZhdGVcbiAqL1xuU3RhdGVQcm92aWRlci5wcm90b3R5cGUuX3VyaU1hcHBlcnMgPSBudWxsO1xuXG4vKipcbiAqIEdldHMgc3RhdGUgYnkgc3BlY2lmaWVkIGxvY2F0aW9uIFVSSS5cbiAqIEBwYXJhbSB7VVJJfSBsb2NhdGlvbiBVUkkgbG9jYXRpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0P30gU3RhdGUgb2JqZWN0LlxuICovXG5TdGF0ZVByb3ZpZGVyLnByb3RvdHlwZS5nZXRTdGF0ZUJ5VXJpID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdGlmICh0aGlzLl91cmlNYXBwZXJzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0bG9jYXRpb24gPSBsb2NhdGlvbi5jbG9uZSgpO1xuXG5cdGxvY2F0aW9uLnBhdGggPSByb3V0ZUhlbHBlci5yZW1vdmVFbmRTbGFzaChsb2NhdGlvbi5wYXRoKTtcblx0dmFyIHN0YXRlID0gZ2V0U3RhdGUodGhpcy5fdXJpTWFwcGVycywgbG9jYXRpb24pO1xuXG5cdGlmICghc3RhdGUpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIG1ha2Ugc3RhdGUgb2JqZWN0IGltbXV0YWJsZVxuXHRPYmplY3Qua2V5cyhzdGF0ZSlcblx0XHQuZm9yRWFjaChmdW5jdGlvbiAoc3RvcmVOYW1lKSB7XG5cdFx0XHRPYmplY3QuZnJlZXplKHN0YXRlW3N0b3JlTmFtZV0pO1xuXHRcdH0pO1xuXHRPYmplY3QuZnJlZXplKHN0YXRlKTtcblxuXHRyZXR1cm4gc3RhdGU7XG59O1xuXG4vKipcbiAqIEdldHMgbGlzdCBvZiBVUkkgbWFwcGVycy5cbiAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9IHNlcnZpY2VMb2NhdG9yIFNlcnZpY2UgbG9jYXRvciB0byBnZXQgcm91dGVcbiAqIGRlZmluaXRpb25zLlxuICogQHJldHVybnMge0FycmF5fSBMaXN0IG9mIFVSSSBtYXBwZXJzLlxuICovXG5mdW5jdGlvbiBnZXRVcmlNYXBwZXJzKHNlcnZpY2VMb2NhdG9yKSB7XG5cdHZhciB1cmlNYXBwZXJzID0gW107XG5cblx0c2VydmljZUxvY2F0b3IucmVzb2x2ZUFsbCgncm91dGVEZWZpbml0aW9uJylcblx0XHQuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcblx0XHRcdC8vIGp1c3QgY29sb24tcGFyYW1ldHJpemVkIHN0cmluZ1xuXHRcdFx0aWYgKHR5cGVvZiAocm91dGUpID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR2YXIgcm91dGVVcmkgPSBuZXcgVVJJKHJvdXRlKTtcblx0XHRcdFx0cm91dGVVcmkucGF0aCA9IHJvdXRlSGVscGVyLnJlbW92ZUVuZFNsYXNoKHJvdXRlVXJpLnBhdGgpO1xuXHRcdFx0XHR1cmlNYXBwZXJzLnB1c2gocm91dGVIZWxwZXIuY29tcGlsZVJvdXRlKHJvdXRlVXJpKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXh0ZW5kZWQgY29sb24tcGFyYW1ldHJpemVkIG1hcHBlclxuXHRcdFx0aWYgKHR5cGVvZiAocm91dGUpID09PSAnb2JqZWN0JyAmJlxuXHRcdFx0XHQodHlwZW9mIChyb3V0ZS5leHByZXNzaW9uKSA9PT0gJ3N0cmluZycpICYmXG5cdFx0XHRcdChyb3V0ZS5tYXAgaW5zdGFuY2VvZiBGdW5jdGlvbikpIHtcblx0XHRcdFx0dmFyIG1hcHBlclVyaSA9IG5ldyBVUkkocm91dGUuZXhwcmVzc2lvbik7XG5cdFx0XHRcdG1hcHBlclVyaS5wYXRoID0gcm91dGVIZWxwZXIucmVtb3ZlRW5kU2xhc2gobWFwcGVyVXJpLnBhdGgpO1xuXHRcdFx0XHR2YXIgbWFwcGVyID0gcm91dGVIZWxwZXIuY29tcGlsZVJvdXRlKG1hcHBlclVyaSk7XG5cdFx0XHRcdHVyaU1hcHBlcnMucHVzaCh7XG5cdFx0XHRcdFx0ZXhwcmVzc2lvbjogbWFwcGVyLmV4cHJlc3Npb24sXG5cdFx0XHRcdFx0bWFwOiBmdW5jdGlvbiAodXJpKSB7XG5cdFx0XHRcdFx0XHR2YXIgc3RhdGUgPSBtYXBwZXIubWFwKHVyaSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcm91dGUubWFwKHN0YXRlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXBwZXJcblx0XHRcdGlmICh0eXBlb2YgKHJvdXRlKSA9PT0gJ29iamVjdCcgJiZcblx0XHRcdFx0KHJvdXRlLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBSZWdFeHApICYmXG5cdFx0XHRcdChyb3V0ZS5tYXAgaW5zdGFuY2VvZiBGdW5jdGlvbikpIHtcblx0XHRcdFx0dXJpTWFwcGVycy5wdXNoKHJvdXRlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0cmV0dXJuIHVyaU1hcHBlcnM7XG59XG5cbi8qKlxuICogR2V0cyBzdGF0ZS5cbiAqIEBwYXJhbSB7QXJyYXl9IHVyaU1hcHBlcnMgTGlzdCBvZiBVUkkgbWFwcGVycy5cbiAqIEBwYXJhbSB7VVJJfSBsb2NhdGlvbiBVUkkgdGhhdCBkZXNjcmliZXMgdGhlIHN0YXRlLlxuICogQHJldHVybnMge09iamVjdHxudWxsfSBUaGUgc3RhdGUgZnJvbSBVUkkuXG4gKi9cbmZ1bmN0aW9uIGdldFN0YXRlKHVyaU1hcHBlcnMsIGxvY2F0aW9uKSB7XG5cdHZhciBzdGF0ZSA9IG51bGw7XG5cblx0dXJpTWFwcGVycy5zb21lKGZ1bmN0aW9uIChtYXBwZXIpIHtcblx0XHRpZiAobWFwcGVyLmV4cHJlc3Npb24udGVzdChsb2NhdGlvbi5wYXRoKSkge1xuXHRcdFx0c3RhdGUgPSBtYXBwZXIubWFwKGxvY2F0aW9uKSB8fCBPYmplY3QuY3JlYXRlKG51bGwpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSk7XG5cblx0cmV0dXJuIHN0YXRlO1xufSIsIm1vZHVsZS5leHBvcnRzID0gcHJvY2Vzcy5ocnRpbWUgfHwgaHJ0aW1lXG5cbi8vIHBvbHlmaWwgZm9yIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3dcbnZhciBwZXJmb3JtYW5jZSA9IGdsb2JhbC5wZXJmb3JtYW5jZSB8fCB7fVxudmFyIHBlcmZvcm1hbmNlTm93ID1cbiAgcGVyZm9ybWFuY2Uubm93ICAgICAgICB8fFxuICBwZXJmb3JtYW5jZS5tb3pOb3cgICAgIHx8XG4gIHBlcmZvcm1hbmNlLm1zTm93ICAgICAgfHxcbiAgcGVyZm9ybWFuY2Uub05vdyAgICAgICB8fFxuICBwZXJmb3JtYW5jZS53ZWJraXROb3cgIHx8XG4gIGZ1bmN0aW9uKCl7IHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpIH1cblxuLy8gZ2VuZXJhdGUgdGltZXN0YW1wIG9yIGRlbHRhXG4vLyBzZWUgaHR0cDovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzX3Byb2Nlc3NfaHJ0aW1lXG5mdW5jdGlvbiBocnRpbWUocHJldmlvdXNUaW1lc3RhbXApe1xuICB2YXIgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2VOb3cuY2FsbChwZXJmb3JtYW5jZSkqMWUtM1xuICB2YXIgc2Vjb25kcyA9IE1hdGguZmxvb3IoY2xvY2t0aW1lKVxuICB2YXIgbmFub3NlY29uZHMgPSBNYXRoLmZsb29yKChjbG9ja3RpbWUlMSkqMWU5KVxuICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICBzZWNvbmRzID0gc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzBdXG4gICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdXG4gICAgaWYgKG5hbm9zZWNvbmRzPDApIHtcbiAgICAgIHNlY29uZHMtLVxuICAgICAgbmFub3NlY29uZHMgKz0gMWU5XG4gICAgfVxuICB9XG4gIHJldHVybiBbc2Vjb25kcyxuYW5vc2Vjb25kc11cbn0iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfVxuICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbiIsIi8qXG4gKiBjYXRiZXJyeS1sb2NhdG9yXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnktbG9jYXRvcidzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnktbG9jYXRvciB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnN0cnVjdG9yVG9rZW5pemVyO1xuXG52YXIgU1RBVEVTID0ge1xuXHRJTExFR0FMOiAtMSxcblx0Tk86IDAsXG5cdElERU5USUZJRVI6IDEsXG5cdEZVTkNUSU9OOiAyLFxuXHRQQVJFTlRIRVNFU19PUEVOOiAzLFxuXHRQQVJFTlRIRVNFU19DTE9TRTogNCxcblx0Q09NTUE6IDUsXG5cdEVORDogNlxufTtcbkNvbnN0cnVjdG9yVG9rZW5pemVyLlNUQVRFUyA9IFNUQVRFUztcblxudmFyIEtFWVdPUkRTID0ge1xuXHRGVU5DVElPTjogJ2Z1bmN0aW9uJ1xufTtcblxudmFyIFdISVRFU1BBQ0VfVEVTVCA9IC9eXFxzJC8sXG5cdElERU5USUZJRVJfVEVTVCA9IC9eW1xcJFxcd10kLztcblxuZnVuY3Rpb24gQ29uc3RydWN0b3JUb2tlbml6ZXIoY29uc3RydWN0b3JTb3VyY2UpIHtcblx0dGhpcy5fc291cmNlID0gU3RyaW5nKGNvbnN0cnVjdG9yU291cmNlIHx8ICcnKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHNvdXJjZSBjb2RlIG9mIGNvbnN0cnVjdG9yLlxuICogQHR5cGUge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbkNvbnN0cnVjdG9yVG9rZW5pemVyLnByb3RvdHlwZS5fc291cmNlID0gJyc7XG5cbi8qKlxuICogQ3VycmVudCBpbmRleCBpbiBzb3VyY2UgY29kZS5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5Db25zdHJ1Y3RvclRva2VuaXplci5wcm90b3R5cGUuX2N1cnJlbnRJbmRleCA9IDA7XG5cbi8qKlxuICogQ3VycmVudCBpbmRleCBpbiBzb3VyY2UgY29kZS5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5Db25zdHJ1Y3RvclRva2VuaXplci5wcm90b3R5cGUuX2N1cnJlbnRFbmQgPSAwO1xuXG4vKipcbiAqIEN1cnJlbnQgc3RhdGUuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xuQ29uc3RydWN0b3JUb2tlbml6ZXIucHJvdG90eXBlLl9jdXJyZW50U3RhdGUgPSBTVEFURVMuTk87XG5cbi8qKlxuICogR2V0cyBuZXh0IHRva2VuIGluIHNvdXJjZS5cbiAqIEByZXR1cm5zIHt7c3RhdGU6IChudW1iZXIpLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcn19IFRva2VuIGRlc2NyaXB0b3IuXG4gKi9cbkNvbnN0cnVjdG9yVG9rZW5pemVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuXHRpZiAodGhpcy5fY3VycmVudFN0YXRlID09PSBTVEFURVMuSUxMRUdBTCB8fFxuXHRcdHRoaXMuX2N1cnJlbnRTdGF0ZSA9PT0gU1RBVEVTLkVORCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdGF0ZTogdGhpcy5fY3VycmVudFN0YXRlLFxuXHRcdFx0c3RhcnQ6IHRoaXMuX2N1cnJlbnRJbmRleCxcblx0XHRcdGVuZDogdGhpcy5fY3VycmVudEluZGV4ICsgMVxuXHRcdH07XG5cdH1cblxuXHR2YXIgc3RhcnQgPSB0aGlzLl9jdXJyZW50SW5kZXgsXG5cdFx0c3RhdGUgPSB0aGlzLl9jdXJyZW50U3RhdGU7XG5cblx0c3dpdGNoICh0aGlzLl9jdXJyZW50U3RhdGUpIHtcblx0XHRjYXNlIFNUQVRFUy5QQVJFTlRIRVNFU19PUEVOOlxuXHRcdFx0dGhpcy5wYXJlbnRoZXNlc09wZW5TdGF0ZSgpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBTVEFURVMuUEFSRU5USEVTRVNfQ0xPU0U6XG5cdFx0XHR0aGlzLnBhcmVudGhlc2VzQ2xvc2VTdGF0ZSgpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBTVEFURVMuSURFTlRJRklFUjpcblx0XHRcdHRoaXMuaWRlbnRpZmllclN0YXRlKCk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFNUQVRFUy5DT01NQTpcblx0XHRcdHRoaXMuY29tbWFTdGF0ZSgpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBTVEFURVMuRlVOQ1RJT046XG5cdFx0XHR0aGlzLmZ1bmN0aW9uU3RhdGUoKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aGlzLnNraXBXaGl0ZXNwYWNlKCk7XG5cdFx0XHR2YXIgZXhwZWN0ZWQgPSB0aGlzLl9zb3VyY2Uuc3Vic3RyKFxuXHRcdFx0XHR0aGlzLl9jdXJyZW50SW5kZXgsIEtFWVdPUkRTLkZVTkNUSU9OLmxlbmd0aFxuXHRcdFx0KTtcblx0XHRcdGlmIChleHBlY3RlZCA9PT0gS0VZV09SRFMuRlVOQ1RJT04pIHtcblx0XHRcdFx0dGhpcy5fY3VycmVudFN0YXRlID0gU1RBVEVTLkZVTkNUSU9OO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5uZXh0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHN0YXRlID0gU1RBVEVTLklMTEVHQUw7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHN0YXRlOiBzdGF0ZSxcblx0XHRzdGFydDogc3RhcnQsXG5cdFx0ZW5kOiB0aGlzLl9jdXJyZW50RW5kXG5cdH07XG59O1xuXG4vKipcbiAqIFNraXBzIGFsbCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMuXG4gKi9cbkNvbnN0cnVjdG9yVG9rZW5pemVyLnByb3RvdHlwZS5za2lwV2hpdGVzcGFjZSA9IGZ1bmN0aW9uICgpIHtcblx0d2hpbGUgKFxuXHRcdHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX3NvdXJjZS5sZW5ndGggJiZcblx0XHRXSElURVNQQUNFX1RFU1QudGVzdCh0aGlzLl9zb3VyY2VbdGhpcy5fY3VycmVudEluZGV4XSkpIHtcblx0XHR0aGlzLl9jdXJyZW50SW5kZXgrKztcblx0fVxufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgUEFSRU5USEVTRVNfT1BFTiBzdGF0ZSBvZiBtYWNoaW5lLlxuICovXG5Db25zdHJ1Y3RvclRva2VuaXplci5wcm90b3R5cGUucGFyZW50aGVzZXNPcGVuU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuXHR0aGlzLl9jdXJyZW50RW5kID0gdGhpcy5fY3VycmVudEluZGV4O1xuXG5cdHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcblx0aWYgKElERU5USUZJRVJfVEVTVC50ZXN0KHRoaXMuX3NvdXJjZVt0aGlzLl9jdXJyZW50SW5kZXhdKSkge1xuXHRcdHRoaXMuX2N1cnJlbnRTdGF0ZSA9IFNUQVRFUy5JREVOVElGSUVSO1xuXHR9IGVsc2UgaWYgKHRoaXMuX3NvdXJjZVt0aGlzLl9jdXJyZW50SW5kZXhdID09PSAnKScpIHtcblx0XHR0aGlzLl9jdXJyZW50U3RhdGUgPSBTVEFURVMuUEFSRU5USEVTRVNfQ0xPU0U7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fY3VycmVudFN0YXRlID0gU1RBVEVTLklMTEVHQUw7XG5cdH1cbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIFBBUkVOVEhFU0VTX0NMT1NFIHN0YXRlIG9mIG1hY2hpbmUuXG4gKi9cbkNvbnN0cnVjdG9yVG9rZW5pemVyLnByb3RvdHlwZS5wYXJlbnRoZXNlc0Nsb3NlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuXHR0aGlzLl9jdXJyZW50RW5kID0gdGhpcy5fY3VycmVudEluZGV4O1xuXHR0aGlzLl9jdXJyZW50U3RhdGUgPSBTVEFURVMuRU5EO1xufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgRlVOQ1RJT04gc3RhdGUgb2YgbWFjaGluZS5cbiAqL1xuQ29uc3RydWN0b3JUb2tlbml6ZXIucHJvdG90eXBlLmZ1bmN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMuX2N1cnJlbnRJbmRleCArPSBLRVlXT1JEUy5GVU5DVElPTi5sZW5ndGg7XG5cdHRoaXMuX2N1cnJlbnRFbmQgPSB0aGlzLl9jdXJyZW50SW5kZXg7XG5cblx0dGhpcy5za2lwV2hpdGVzcGFjZSgpO1xuXG5cdGlmICh0aGlzLl9zb3VyY2VbdGhpcy5fY3VycmVudEluZGV4XSA9PT0gJygnKSB7XG5cdFx0dGhpcy5fY3VycmVudFN0YXRlID0gU1RBVEVTLlBBUkVOVEhFU0VTX09QRU47XG5cdH0gZWxzZSBpZiAoSURFTlRJRklFUl9URVNULnRlc3QodGhpcy5fc291cmNlW3RoaXMuX2N1cnJlbnRJbmRleF0pKSB7XG5cdFx0dGhpcy5fY3VycmVudFN0YXRlID0gU1RBVEVTLklERU5USUZJRVI7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fY3VycmVudFN0YXRlID0gU1RBVEVTLklMTEVHQUw7XG5cdH1cbn07XG5cbi8qKlxuICogRGVzY3JpYmVzIElERU5USUZJRVIgc3RhdGUgb2YgbWFjaGluZS5cbiAqL1xuQ29uc3RydWN0b3JUb2tlbml6ZXIucHJvdG90eXBlLmlkZW50aWZpZXJTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0d2hpbGUgKFxuXHRcdHRoaXMuX2N1cnJlbnRJbmRleCA8IHRoaXMuX3NvdXJjZS5sZW5ndGggJiZcblx0XHRJREVOVElGSUVSX1RFU1QudGVzdCh0aGlzLl9zb3VyY2VbdGhpcy5fY3VycmVudEluZGV4XSkpIHtcblx0XHR0aGlzLl9jdXJyZW50SW5kZXgrKztcblx0fVxuXG5cdHRoaXMuX2N1cnJlbnRFbmQgPSB0aGlzLl9jdXJyZW50SW5kZXg7XG5cblx0dGhpcy5za2lwV2hpdGVzcGFjZSgpO1xuXHRpZiAodGhpcy5fc291cmNlW3RoaXMuX2N1cnJlbnRJbmRleF0gPT09ICcoJykge1xuXHRcdHRoaXMuX2N1cnJlbnRTdGF0ZSA9IFNUQVRFUy5QQVJFTlRIRVNFU19PUEVOO1xuXHR9IGVsc2UgaWYgKHRoaXMuX3NvdXJjZVt0aGlzLl9jdXJyZW50SW5kZXhdID09PSAnKScpIHtcblx0XHR0aGlzLl9jdXJyZW50U3RhdGUgPSBTVEFURVMuUEFSRU5USEVTRVNfQ0xPU0U7XG5cdH0gZWxzZSBpZiAodGhpcy5fc291cmNlW3RoaXMuX2N1cnJlbnRJbmRleF0gPT09ICcsJykge1xuXHRcdHRoaXMuX2N1cnJlbnRTdGF0ZSA9IFNUQVRFUy5DT01NQTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLl9jdXJyZW50U3RhdGUgPSBTVEFURVMuSUxMRUdBTDtcblx0fVxufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgQ09NTUEgc3RhdGUgb2YgbWFjaGluZS5cbiAqL1xuQ29uc3RydWN0b3JUb2tlbml6ZXIucHJvdG90eXBlLmNvbW1hU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdHRoaXMuX2N1cnJlbnRJbmRleCsrO1xuXHR0aGlzLl9jdXJyZW50RW5kID0gdGhpcy5fY3VycmVudEluZGV4O1xuXG5cdHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcblx0aWYgKElERU5USUZJRVJfVEVTVC50ZXN0KHRoaXMuX3NvdXJjZVt0aGlzLl9jdXJyZW50SW5kZXhdKSkge1xuXHRcdHRoaXMuX2N1cnJlbnRTdGF0ZSA9IFNUQVRFUy5JREVOVElGSUVSO1xuXHRcdHJldHVybjtcblx0fVxuXHR0aGlzLl9jdXJyZW50U3RhdGUgPSBTVEFURVMuSUxMRUdBTDtcbn07IiwiLypcbiAqIGNhdGJlcnJ5LWxvY2F0b3JcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeS1sb2NhdG9yJ3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeS1sb2NhdG9yIHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gU2VydmljZUxvY2F0b3I7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpLFxuXHRDb25zdHJ1Y3RvclRva2VuaXplciA9IHJlcXVpcmUoJy4vQ29uc3RydWN0b3JUb2tlbml6ZXInKTtcblxudmFyIERFUEVOREVOQ1lfUkVHRVhQID0gL15cXCRcXHcrLyxcblx0RVJST1JfQ09OU1RSVUNUT1JfU0hPVUxEX0JFX0ZVTkNUSU9OID0gJ0NvbnN0cnVjdG9yIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyxcblx0RVJST1JfVFlQRV9OT1RfUkVHSVNURVJFRCA9ICdUeXBlIFwiJXNcIiBub3QgcmVnaXN0ZXJlZCcsXG5cdEVSUk9SX1RZUEVfU0hPVUxEX0JFX1NUUklORyA9ICdUeXBlIG5hbWUgXCIlc1wiIHNob3VsZCBiZSBhIHN0cmluZyc7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2Ygc2VydmljZSBsb2NhdG9yLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFNlcnZpY2VMb2NhdG9yKCkge1xuXHR0aGlzLl9yZWdpc3RyYXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblxuLyoqXG4gKiBDdXJyZW50IHR5cGUgcmVnaXN0cmF0aW9ucy5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvdGVjdGVkXG4gKi9cblNlcnZpY2VMb2NhdG9yLnByb3RvdHlwZS5fcmVnaXN0cmF0aW9ucyA9IG51bGw7XG5cbi8qKlxuICogUmVnaXN0ZXJzIG5ldyB0eXBlIGluIHNlcnZpY2UgbG9jYXRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgbmFtZSwgd2hpY2ggd2lsbCBiZSBhbGlhcyBpbiBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb25zdHJ1Y3RvciB3aGljaFxuICogaW5pdGlhbGl6ZXMgaW5zdGFuY2Ugb2Ygc3BlY2lmaWVkIHR5cGUuXG4gKiBAcGFyYW0ge09iamVjdD99IHBhcmFtZXRlcnMgU2V0IG9mIG5hbWVkIHBhcmFtZXRlcnNcbiAqIHdoaWNoIHdpbGwgYmUgYWxzbyBpbmplY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGlzU2luZ2xldG9uIElmIHRydWUgZXZlcnkgcmVzb2x2ZSB3aWxsIHJldHVyblxuICogdGhlIHNhbWUgaW5zdGFuY2UuXG4gKi9cblNlcnZpY2VMb2NhdG9yLnByb3RvdHlwZS5yZWdpc3RlciA9XG5cdGZ1bmN0aW9uICh0eXBlLCBjb25zdHJ1Y3RvciwgcGFyYW1ldGVycywgaXNTaW5nbGV0b24pIHtcblx0XHR0aHJvd0lmTm90RnVuY3Rpb24oY29uc3RydWN0b3IpO1xuXHRcdHRocm93SWZOb3RTdHJpbmcodHlwZSk7XG5cblx0XHRpbml0aWFsaXplUmVnaXN0cmF0aW9uKHR5cGUsIHRoaXMpO1xuXHRcdHZhciBwYXJhbWV0ZXJOYW1lcyA9IGdldFBhcmFtZXRlck5hbWVzKGNvbnN0cnVjdG9yKTtcblxuXHRcdHRoaXMuX3JlZ2lzdHJhdGlvbnNbdHlwZV0udW5zaGlmdCh7XG5cdFx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXG5cdFx0XHRwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzIHx8IHt9LFxuXHRcdFx0cGFyYW1ldGVyTmFtZXM6IHBhcmFtZXRlck5hbWVzLFxuXHRcdFx0aXNTaW5nbGV0b246IEJvb2xlYW4oaXNTaW5nbGV0b24pLFxuXHRcdFx0c2luZ2xlSW5zdGFuY2U6IG51bGxcblx0XHR9KTtcblx0fTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgc2luZ2xlIGluc3RhbmNlIGZvciBzcGVjaWZpZWQgdHlwZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgbmFtZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZSBJbnN0YW5jZSB0byByZWdpc3Rlci5cbiAqL1xuU2VydmljZUxvY2F0b3IucHJvdG90eXBlLnJlZ2lzdGVySW5zdGFuY2UgPSBmdW5jdGlvbiAodHlwZSwgaW5zdGFuY2UpIHtcblx0dGhyb3dJZk5vdFN0cmluZyh0eXBlKTtcblx0aW5pdGlhbGl6ZVJlZ2lzdHJhdGlvbih0eXBlLCB0aGlzKTtcblxuXHR0aGlzLl9yZWdpc3RyYXRpb25zW3R5cGVdLnVuc2hpZnQoe1xuXHRcdGNvbnN0cnVjdG9yOiBpbnN0YW5jZS5jb25zdHJ1Y3Rvcixcblx0XHRwYXJhbWV0ZXJzOiB7fSxcblx0XHRwYXJhbWV0ZXJOYW1lczogW10sXG5cdFx0aXNTaW5nbGV0b246IHRydWUsXG5cdFx0c2luZ2xlSW5zdGFuY2U6IGluc3RhbmNlXG5cdH0pO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyBsYXN0IHJlZ2lzdGVyZWQgaW1wbGVtZW50YXRpb24gYnkgdHlwZSBuYW1lXG4gKiBpbmNsdWRpbmcgYWxsIGl0cyBkZXBlbmRlbmNpZXMgcmVjdXJzaXZlbHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUeXBlIG5hbWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBJbnN0YW5jZSBvZiBzcGVjaWZpZWQgdHlwZS5cbiAqL1xuU2VydmljZUxvY2F0b3IucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAodHlwZSkge1xuXHR0aHJvd0lmTm90U3RyaW5nKHR5cGUpO1xuXHR0aHJvd0lmTm9UeXBlKHRoaXMuX3JlZ2lzdHJhdGlvbnMsIHR5cGUpO1xuXHR2YXIgZmlyc3RSZWdpc3RyYXRpb24gPSB0aGlzLl9yZWdpc3RyYXRpb25zW3R5cGVdWzBdO1xuXHRyZXR1cm4gY3JlYXRlSW5zdGFuY2UoZmlyc3RSZWdpc3RyYXRpb24sIHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyBhbGwgcmVnaXN0ZXJlZCBpbXBsZW1lbnRhdGlvbnMgYnkgdHlwZSBuYW1lXG4gKiBpbmNsdWRpbmcgYWxsIGRlcGVuZGVuY2llcyByZWN1cnNpdmVseS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgaW5zdGFuY2VzIHNwZWNpZmllZCB0eXBlLlxuICovXG5TZXJ2aWNlTG9jYXRvci5wcm90b3R5cGUucmVzb2x2ZUFsbCA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cdHRocm93SWZOb3RTdHJpbmcodHlwZSk7XG5cdHRyeSB7XG5cdFx0dGhyb3dJZk5vVHlwZSh0aGlzLl9yZWdpc3RyYXRpb25zLCB0eXBlKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRyZXR1cm4gdGhpcy5fcmVnaXN0cmF0aW9uc1t0eXBlXS5tYXAoZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikge1xuXHRcdHJldHVybiBjcmVhdGVJbnN0YW5jZShyZWdpc3RyYXRpb24sIHRoaXMpO1xuXHR9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZXMgaW5zdGFuY2Ugb2Ygc3BlY2lmaWVkIGNvbnN0cnVjdG9yIGluY2x1ZGluZyBkZXBlbmRlbmNpZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb25zdHJ1Y3RvciBmb3IgaW5zdGFuY2UgY3JlYXRpb24uXG4gKiBAcGFyYW0ge09iamVjdD99IHBhcmFtZXRlcnMgU2V0IG9mIGl0cyBwYXJhbWV0ZXJzIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IEluc3RhbmNlIG9mIHNwZWNpZmllZCBjb25zdHJ1Y3Rvci5cbiAqL1xuU2VydmljZUxvY2F0b3IucHJvdG90eXBlLnJlc29sdmVJbnN0YW5jZSA9IGZ1bmN0aW9uIChjb25zdHJ1Y3RvciwgcGFyYW1ldGVycykge1xuXHRyZXR1cm4gY3JlYXRlSW5zdGFuY2Uoe1xuXHRcdGNvbnN0cnVjdG9yOiBjb25zdHJ1Y3Rvcixcblx0XHRwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzIHx8IHt9LFxuXHRcdHBhcmFtZXRlck5hbWVzOiBnZXRQYXJhbWV0ZXJOYW1lcyhjb25zdHJ1Y3RvciksXG5cdFx0aXNTaW5nbGV0b246IGZhbHNlLFxuXHRcdHNpbmdsZUluc3RhbmNlOiBudWxsXG5cdH0sIHRoaXMpO1xufTtcblxuLyoqXG4gKiBVbnJlZ2lzdGVycyBhbGwgcmVnaXN0cmF0aW9ucyBvZiBzcGVjaWZpZWQgdHlwZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgbmFtZS5cbiAqL1xuU2VydmljZUxvY2F0b3IucHJvdG90eXBlLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiAodHlwZSkge1xuXHR0aHJvd0lmTm90U3RyaW5nKHR5cGUpO1xuXHRkZWxldGUgdGhpcy5fcmVnaXN0cmF0aW9uc1t0eXBlXTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgcmVnaXN0cmF0aW9uIGFycmF5IGZvciBzcGVjaWZpZWQgdHlwZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgbmFtZS5cbiAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9IGNvbnRleHQgQ29udGV4dCBvZiBleGVjdXRpb24uXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVSZWdpc3RyYXRpb24odHlwZSwgY29udGV4dCkge1xuXHRpZiAoISh0eXBlIGluIGNvbnRleHQuX3JlZ2lzdHJhdGlvbnMpKSB7XG5cdFx0Y29udGV4dC5fcmVnaXN0cmF0aW9uc1t0eXBlXSA9IFtdO1xuXHR9XG59XG5cbi8qKlxuICogVGhyb3dzIGVycm9yIGlmIHNwZWNpZmllZCByZWdpc3RyYXRpb24gaXMgbm90IGZvdW5kLlxuICogQHBhcmFtIHtPYmplY3R9IHJlZ2lzdHJhdGlvbnMgQ3VycmVudCByZWdpc3RyYXRpb25zIHNldC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgdG8gY2hlY2suXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZOb1R5cGUocmVnaXN0cmF0aW9ucywgdHlwZSkge1xuXHRpZiAoISh0eXBlIGluIHJlZ2lzdHJhdGlvbnMpIHx8IHJlZ2lzdHJhdGlvbnNbdHlwZV0ubGVuZ3RoID09PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKHV0aWwuZm9ybWF0KEVSUk9SX1RZUEVfTk9UX1JFR0lTVEVSRUQsIHR5cGUpKTtcblx0fVxufVxuXG4vKipcbiAqIFRocm93cyBlcnJvciBpZiBzcGVjaWZpZWQgY29uc3RydWN0b3IgaXMgbm90IGEgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb25zdHJ1Y3RvciB0byBjaGVjay5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZk5vdEZ1bmN0aW9uKGNvbnN0cnVjdG9yKSB7XG5cdGlmIChjb25zdHJ1Y3RvciBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dGhyb3cgbmV3IEVycm9yKEVSUk9SX0NPTlNUUlVDVE9SX1NIT1VMRF9CRV9GVU5DVElPTik7XG59XG5cbi8qKlxuICogVGhyb3dzIGVycm9yIGlmIHNwZWNpZmllZCB0eXBlIG5hbWUgaXMgbm90IGEgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBuYW1lIHRvIGNoZWNrLlxuICovXG5mdW5jdGlvbiB0aHJvd0lmTm90U3RyaW5nKHR5cGUpIHtcblx0aWYgKHR5cGVvZiAodHlwZSkgPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dGhyb3cgbmV3IEVycm9yKHV0aWwuZm9ybWF0KEVSUk9SX1RZUEVfU0hPVUxEX0JFX1NUUklORywgdHlwZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgaW5zdGFuY2Ugb2YgdHlwZSBzcGVjaWZpZWQgYW5kIHBhcmFtZXRlcnMgaW4gcmVnaXN0cmF0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IHJlZ2lzdHJhdGlvbiBTcGVjaWZpZWQgcmVnaXN0cmF0aW9uIG9mIHR5cGUuXG4gKiBAcGFyYW0ge1NlcnZpY2VMb2NhdG9yfSBjb250ZXh0IENvbnRleHQgb2YgZXhlY3V0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gSW5zdGFuY2Ugb2YgdHlwZSBzcGVjaWZpZWQgaW4gcmVnaXN0cmF0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShyZWdpc3RyYXRpb24sIGNvbnRleHQpIHtcblx0aWYgKHJlZ2lzdHJhdGlvbi5pc1NpbmdsZXRvbiAmJiByZWdpc3RyYXRpb24uc2luZ2xlSW5zdGFuY2UgIT09IG51bGwpIHtcblx0XHRyZXR1cm4gcmVnaXN0cmF0aW9uLnNpbmdsZUluc3RhbmNlO1xuXHR9XG5cblx0dmFyIGluc3RhbmNlUGFyYW1ldGVycyA9IGdldFBhcmFtZXRlcnMocmVnaXN0cmF0aW9uLCBjb250ZXh0KSxcblx0XHRpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUocmVnaXN0cmF0aW9uLmNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG5cdHJlZ2lzdHJhdGlvbi5jb25zdHJ1Y3Rvci5hcHBseShpbnN0YW5jZSwgaW5zdGFuY2VQYXJhbWV0ZXJzKTtcblxuXHRpZiAocmVnaXN0cmF0aW9uLmlzU2luZ2xldG9uKSB7XG5cdFx0cmVnaXN0cmF0aW9uLnNpbmdsZUluc3RhbmNlID0gaW5zdGFuY2U7XG5cdH1cblxuXHRyZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8qKlxuICogR2V0cyBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIHNwZWNpZmllZCBpbiB0eXBlIGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtPYmplY3R9IHJlZ2lzdHJhdGlvbiBUeXBlIHJlZ2lzdHJhdGlvbi5cbiAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9IGNvbnRleHQgQ29udGV4dCBvZiBleGVjdXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIHJlc29sdmVkIGRlcGVuZGVuY2llcyB0byBpbmplY3QuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmFtZXRlcnMocmVnaXN0cmF0aW9uLCBjb250ZXh0KSB7XG5cdHJldHVybiByZWdpc3RyYXRpb24ucGFyYW1ldGVyTmFtZXMubWFwKGZ1bmN0aW9uIChwYXJhbWV0ZXJOYW1lKSB7XG5cdFx0dmFyIGRlcGVuZGVuY3lOYW1lID0gZ2V0RGVwZW5kZW5jeU5hbWUocGFyYW1ldGVyTmFtZSk7XG5cdFx0cmV0dXJuIGRlcGVuZGVuY3lOYW1lID09PSBudWxsID9cblx0XHRcdHJlZ2lzdHJhdGlvbi5wYXJhbWV0ZXJzW3BhcmFtZXRlck5hbWVdIDpcblx0XHRcdHRoaXMucmVzb2x2ZShkZXBlbmRlbmN5TmFtZSk7XG5cdH0sIGNvbnRleHQpO1xufVxuXG4vKipcbiAqIEdldHMgbmFtZSBvZiBkZXBlbmRlbmN5IHR5cGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1ldGVyTmFtZSBOYW1lIG9mIGNvbnN0cnVjdG9yIHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gTmFtZSBvZiBkZXBlbmRlbmN5IHR5cGUuXG4gKi9cbmZ1bmN0aW9uIGdldERlcGVuZGVuY3lOYW1lKHBhcmFtZXRlck5hbWUpIHtcblx0aWYgKCFERVBFTkRFTkNZX1JFR0VYUC50ZXN0KHBhcmFtZXRlck5hbWUpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gcGFyYW1ldGVyTmFtZS5zdWJzdHIoMSwgcGFyYW1ldGVyTmFtZS5sZW5ndGggLSAxKTtcbn1cblxuLyoqXG4gKiBHZXRzIGFsbCBwYXJhbWV0ZXIgbmFtZXMgdXNlZCBpbiBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFycmF5IG9mIHBhcmFtZXRlciBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyTmFtZXMoY29uc3RydWN0b3IpIHtcblx0dmFyIHNvdXJjZSA9IGNvbnN0cnVjdG9yLnRvU3RyaW5nKCksXG5cdFx0dG9rZW5pemVyID0gbmV3IENvbnN0cnVjdG9yVG9rZW5pemVyKHNvdXJjZSksXG5cdFx0cmVzdWx0ID0gW10sXG5cdFx0dG9rZW4gPSB7XG5cdFx0XHRzdGF0ZTogQ29uc3RydWN0b3JUb2tlbml6ZXIuU1RBVEVTLk5PLFxuXHRcdFx0c3RhcnQ6IDAsXG5cdFx0XHRlbmQ6IDBcblx0XHR9LFxuXHRcdGFyZVBhcmFtZXRlcnNTdGFydGVkID0gZmFsc2U7XG5cblx0d2hpbGUgKFxuXHRcdHRva2VuLnN0YXRlICE9PSBDb25zdHJ1Y3RvclRva2VuaXplci5TVEFURVMuRU5EICYmXG5cdFx0dG9rZW4uc3RhdGUgIT09IENvbnN0cnVjdG9yVG9rZW5pemVyLlNUQVRFUy5JTExFR0FMKSB7XG5cdFx0dG9rZW4gPSB0b2tlbml6ZXIubmV4dCgpO1xuXHRcdGlmICh0b2tlbi5zdGF0ZSA9PT0gQ29uc3RydWN0b3JUb2tlbml6ZXIuU1RBVEVTLlBBUkVOVEhFU0VTX09QRU4pIHtcblx0XHRcdGFyZVBhcmFtZXRlcnNTdGFydGVkID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoYXJlUGFyYW1ldGVyc1N0YXJ0ZWQgJiZcblx0XHRcdHRva2VuLnN0YXRlID09PSBDb25zdHJ1Y3RvclRva2VuaXplci5TVEFURVMuSURFTlRJRklFUikge1xuXHRcdFx0cmVzdWx0LnB1c2goc291cmNlLnN1YnN0cmluZyh0b2tlbi5zdGFydCwgdG9rZW4uZW5kKSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVUhSO1xuXG52YXIgVUhSQmFzZSA9IHJlcXVpcmUoJy4uL2xpYi9VSFJCYXNlJyksXG5cdFByb21pc2UgPSByZXF1aXJlKCdwcm9taXNlJyksXG5cdFVSSSA9IHJlcXVpcmUoJ2NhdGJlcnJ5LXVyaScpLlVSSSxcblx0dXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcblxuLy8gaWYgYnJvd3NlciBzdGlsbCBkb2VzIG5vdCBoYXZlIHByb21pc2VzIHRoZW4gYWRkIGl0LlxuaWYgKCEoJ1Byb21pc2UnIGluIHdpbmRvdykpIHtcblx0d2luZG93LlByb21pc2UgPSBQcm9taXNlO1xufVxuXG51dGlsLmluaGVyaXRzKFVIUiwgVUhSQmFzZSk7XG5cbnZhciBOT05fU0FGRV9IRUFERVJTID0ge1xuXHRjb29raWU6IHRydWUsXG5cdCdhY2NlcHQtY2hhcnNldCc6IHRydWVcbn07XG5cbnZhciBFUlJPUl9DT05ORUNUSU9OID0gJ0Nvbm5lY3Rpb24gZXJyb3InLFxuXHRFUlJPUl9USU1FT1VUID0gJ1JlcXVlc3QgdGltZW91dCcsXG5cdEVSUk9SX0FCT1JURUQgPSAnUmVxdWVzdCBhYm9ydGVkJztcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBjbGllbnQtc2lkZSBIVFRQKFMpIHJlcXVlc3QgaW1wbGVtZW50YXRpb24uXG4gKiBAcGFyYW0ge1dpbmRvd30gJHdpbmRvdyBDdXJyZW50IHdpbmRvdyBvYmplY3QuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gVUhSKCR3aW5kb3cpIHtcblx0VUhSQmFzZS5jYWxsKHRoaXMpO1xuXHR0aGlzLndpbmRvdyA9ICR3aW5kb3c7XG59XG5cbi8qKlxuICogQ3VycmVudCBpbnN0YW5jZSBvZiB3aW5kb3cuXG4gKiBAdHlwZSB7V2luZG93fVxuICovXG5VSFIucHJvdG90eXBlLndpbmRvdyA9IG51bGw7XG5cbi8qKlxuICogRG9lcyByZXF1ZXN0IHdpdGggc3BlY2lmaWVkIHBhcmFtZXRlcnMgdXNpbmcgcHJvdG9jb2wgaW1wbGVtZW50YXRpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyBSZXF1ZXN0IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1ldGVycy5tZXRob2QgSFRUUCBtZXRob2QuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1ldGVycy51cmwgVVJMIGZvciByZXF1ZXN0LlxuICogQHBhcmFtIHtVUkl9IHBhcmFtZXRlcnMudXJpIFVSSSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycy5oZWFkZXJzIEhUVFAgaGVhZGVycyB0byBzZW5kLlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBwYXJhbWV0ZXJzLmRhdGEgRGF0YSB0byBzZW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtZXRlcnMudGltZW91dCBSZXF1ZXN0IHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtZXRlcnMudW5zYWZlSFRUUFMgSWYgdHJ1ZSB0aGVuIHJlcXVlc3RzIHRvIHNlcnZlcnMgd2l0aFxuICogaW52YWxpZCBIVFRQUyBjZXJ0aWZpY2F0ZXMgYXJlIGFsbG93ZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBQcm9taXNlIGZvciByZXN1bHQgd2l0aCBzdGF0dXMgb2JqZWN0IGFuZCBjb250ZW50LlxuICogQHByb3RlY3RlZFxuICovXG5VSFIucHJvdG90eXBlLl9kb1JlcXVlc3QgPSBmdW5jdGlvbiAocGFyYW1ldGVycykge1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0T2JqZWN0LmtleXMocGFyYW1ldGVycy5oZWFkZXJzKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRpZiAoTk9OX1NBRkVfSEVBREVSUy5oYXNPd25Qcm9wZXJ0eShuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG5cdFx0XHRcdGRlbGV0ZSBwYXJhbWV0ZXJzLmhlYWRlcnNbbmFtZV07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcblx0XHR2YXIgcmVxdWVzdEVycm9yID0gbnVsbCxcblx0XHRcdHhociA9IG5ldyBzZWxmLndpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXG5cdFx0eGhyLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXF1ZXN0RXJyb3IgPSBuZXcgRXJyb3IoRVJST1JfQUJPUlRFRCk7XG5cdFx0XHRyZWplY3QocmVxdWVzdEVycm9yKTtcblx0XHR9O1xuXHRcdHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXF1ZXN0RXJyb3IgPSBuZXcgRXJyb3IoRVJST1JfVElNRU9VVCk7XG5cdFx0XHRyZWplY3QocmVxdWVzdEVycm9yKTtcblx0XHR9O1xuXHRcdHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVxdWVzdEVycm9yID0gbmV3IEVycm9yKHhoci5zdGF0dXNUZXh0IHx8IEVSUk9SX0NPTk5FQ1RJT04pO1xuXHRcdFx0cmVqZWN0KHJlcXVlc3RFcnJvcik7XG5cdFx0fTtcblx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHhoci5yZWFkeVN0YXRlICE9PSA0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmIChyZXF1ZXN0RXJyb3IpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHN0YXR1c09iamVjdCA9IGdldFN0YXR1c09iamVjdCh4aHIpLFxuXHRcdFx0XHRjb250ZW50ID0gc2VsZi5jb252ZXJ0UmVzcG9uc2UoXG5cdFx0XHRcdFx0c3RhdHVzT2JqZWN0LmhlYWRlcnMsXG5cdFx0XHRcdFx0eGhyLnJlc3BvbnNlVGV4dFxuXHRcdFx0XHQpO1xuXHRcdFx0ZnVsZmlsbCh7XG5cdFx0XHRcdHN0YXR1czogc3RhdHVzT2JqZWN0LFxuXHRcdFx0XHRjb250ZW50OiBjb250ZW50XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0dmFyIHVzZXIgPSBwYXJhbWV0ZXJzLnVyaS5hdXRob3JpdHkudXNlckluZm8gP1xuXHRcdFx0XHRwYXJhbWV0ZXJzLnVyaS5hdXRob3JpdHkudXNlckluZm8udXNlciA6IG51bGwsXG5cdFx0XHRwYXNzd29yZCA9IHBhcmFtZXRlcnMudXJpLmF1dGhvcml0eS51c2VySW5mbyA/XG5cdFx0XHRcdHBhcmFtZXRlcnMudXJpLmF1dGhvcml0eS51c2VySW5mby5wYXNzd29yZCA6IG51bGw7XG5cdFx0eGhyLm9wZW4oXG5cdFx0XHRwYXJhbWV0ZXJzLm1ldGhvZCwgcGFyYW1ldGVycy51cmkudG9TdHJpbmcoKSwgdHJ1ZSxcblx0XHRcdHVzZXIgfHwgdW5kZWZpbmVkLCBwYXNzd29yZCB8fCB1bmRlZmluZWRcblx0XHQpO1xuXHRcdHhoci50aW1lb3V0ID0gcGFyYW1ldGVycy50aW1lb3V0O1xuXG5cdFx0aWYgKHBhcmFtZXRlcnMud2l0aENyZWRlbnRpYWxzKSB7XG5cdFx0XHR4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRPYmplY3Qua2V5cyhwYXJhbWV0ZXJzLmhlYWRlcnMpXG5cdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyTmFtZSkge1xuXHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFx0XHRoZWFkZXJOYW1lLCBwYXJhbWV0ZXJzLmhlYWRlcnNbaGVhZGVyTmFtZV1cblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXG5cdFx0eGhyLnNlbmQocGFyYW1ldGVycy5kYXRhKTtcblx0fSk7XG59O1xuXG4vKipcbiAqIEdldHMgc3RhdGUgb2JqZWN0IGZvciBzcGVjaWZpZWQgalF1ZXJ5IFhIUiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdD99IHhociBYSFIgb2JqZWN0LlxuICogQHJldHVybnMge3tjb2RlOiBudW1iZXIsIHRleHQ6IHN0cmluZywgaGVhZGVyczogT2JqZWN0fX0gU3RhdHVzIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZ2V0U3RhdHVzT2JqZWN0KHhocikge1xuXHR2YXIgaGVhZGVycyA9IHt9O1xuXG5cdGlmICgheGhyKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGNvZGU6IDAsXG5cdFx0XHR0ZXh0OiAnJyxcblx0XHRcdGhlYWRlcnM6IGhlYWRlcnNcblx0XHR9O1xuXHR9XG5cblx0eGhyXG5cdFx0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0LnNwbGl0KCdcXG4nKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXIpIHtcblx0XHRcdHZhciBkZWxpbWl0ZXJJbmRleCA9IGhlYWRlci5pbmRleE9mKCc6Jyk7XG5cdFx0XHRpZiAoZGVsaW1pdGVySW5kZXggPD0gMCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR2YXIgaGVhZGVyTmFtZSA9IGhlYWRlclxuXHRcdFx0XHQuc3Vic3RyaW5nKDAsIGRlbGltaXRlckluZGV4KVxuXHRcdFx0XHQudHJpbSgpXG5cdFx0XHRcdC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0aGVhZGVyc1toZWFkZXJOYW1lXSA9IGhlYWRlclxuXHRcdFx0XHQuc3Vic3RyaW5nKGRlbGltaXRlckluZGV4ICsgMSlcblx0XHRcdFx0LnRyaW0oKTtcblx0XHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vZ29vLmdsL2lkc3BTclxuXHRcdGNvZGU6IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzLFxuXHRcdHRleHQ6IHhoci5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiB4aHIuc3RhdHVzVGV4dCxcblx0XHRoZWFkZXJzOiBoZWFkZXJzXG5cdH07XG59IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBVSFIgPSByZXF1aXJlKCcuL2xpYi9VSFInKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdC8qKlxuXHQgKiBSZWdpc3RlcnMgVUhSIGluIHNlcnZlci1zaWRlIHNlcnZpY2UgbG9jYXRvci5cblx0ICogQHBhcmFtIHtTZXJ2aWNlTG9jYXRvcn0gbG9jYXRvciBDYXRiZXJyeSdzIHNlcnZpY2UgbG9jYXRvci5cblx0ICovXG5cdHJlZ2lzdGVyOiBmdW5jdGlvbiAobG9jYXRvcikge1xuXHRcdHZhciBjb25maWcgPSBsb2NhdG9yLnJlc29sdmUoJ2NvbmZpZycpO1xuXHRcdGxvY2F0b3IucmVnaXN0ZXIoJ3VocicsIFVIUiwgY29uZmlnLCB0cnVlKTtcblx0fSxcblx0VUhSOiBVSFJcbn07IiwiLypcbiAqIGNhdGJlcnJ5XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5IHRoYXQgYXJlIG5vdCBleHRlcm5hbGx5XG4gKiBtYWludGFpbmVkIGxpYnJhcmllcy5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVUhSQmFzZTtcblxudmFyIGNhdGJlcnJ5VXJpID0gcmVxdWlyZSgnY2F0YmVycnktdXJpJyksXG5cdFF1ZXJ5ID0gY2F0YmVycnlVcmkuUXVlcnksXG5cdFVSSSA9IGNhdGJlcnJ5VXJpLlVSSTtcblxudmFyIEVSUk9SX1VOU1VQUE9SVEVEX1BST1RPQ09MID0gJ1Byb3RvY29sIGlzIHVuc3VwcG9ydGVkJyxcblx0RVJST1JfUEFSQU1FVEVSU19TSE9VTERfQkVfT0JKRUNUID0gJ1JlcXVlc3QgcGFyYW1ldGVycyBzaG91bGQgYmUgb2JqZWN0Jyxcblx0RVJST1JfVVJMX0lTX1JFUVVJUkVEID0gJ1VSTCBpcyByZXF1aXJlZCBwYXJhbWV0ZXInLFxuXHRFUlJPUl9NRVRIT0RfSVNfUkVRVUlSRUQgPSAnUmVxdWVzdCBtZXRob2QgaXMgcmVxdWlyZWQgcGFyYW1ldGVyJyxcblx0RVJST1JfSE9TVF9JU19SRVFVSVJFRCA9ICdIb3N0IGluIFVSTCBpcyByZXF1aXJlZCcsXG5cdEVSUk9SX1NDSEVNRV9JU19SRVFVSVJFRCA9ICdTY2hlbWUgaW4gVVJMIGlzIHJlcXVpcmVkJyxcblx0RVJST1JfVElNRU9VVF9TSE9VTERfQkVfTlVNQkVSID0gJ1RpbWVvdXQgc2hvdWxkIGJlIGEgbnVtYmVyJyxcblx0REVGQVVMVF9USU1FT1VUID0gMzAwMDAsXG5cdEhUVFBfUFJPVE9DT0xfUkVHRVhQID0gL14oaHR0cClzPyQvaTtcblxudmFyIE1FVEhPRFMgPSB7XG5cdEdFVDogJ0dFVCcsXG5cdEhFQUQ6ICdIRUFEJyxcblx0UE9TVDogJ1BPU1QnLFxuXHRQVVQ6ICdQVVQnLFxuXHRQQVRDSDogJ1BBVENIJyxcblx0REVMRVRFOiAnREVMRVRFJyxcblx0T1BUSU9OUzogJ09QVElPTlMnLFxuXHRUUkFDRTogJ1RSQUNFJyxcblx0Q09OTkVDVDogJ0NPTk5FQ1QnXG59O1xuXG5VSFJCYXNlLlRZUEVTID0ge1xuXHRVUkxfRU5DT0RFRDogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG5cdEpTT046ICdhcHBsaWNhdGlvbi9qc29uJyxcblx0UExBSU5fVEVYVDogJ3RleHQvcGxhaW4nLFxuXHRIVE1MOiAndGV4dC9odG1sJ1xufTtcblxuVUhSQmFzZS5DSEFSU0VUID0gJ1VURi04JztcblxuVUhSQmFzZS5ERUZBVUxUX0dFTkVSQUxfSEVBREVSUyA9IHtcblx0QWNjZXB0OiBVSFJCYXNlLlRZUEVTLkpTT04gKyAnOyBxPTAuNywgJyArXG5cdFx0VUhSQmFzZS5UWVBFUy5IVE1MICsgJzsgcT0wLjIsICcgK1xuXHRcdFVIUkJhc2UuVFlQRVMuUExBSU5fVEVYVCArICc7IHE9MC4xJyxcblx0J0FjY2VwdC1DaGFyc2V0JzogVUhSQmFzZS5DSEFSU0VUICsgJzsgcT0xJ1xufTtcblxuVUhSQmFzZS5DSEFSU0VUX1BBUkFNRVRFUiA9ICc7IGNoYXJzZXQ9JyArIFVIUkJhc2UuQ0hBUlNFVDtcblVIUkJhc2UuVVJMX0VOQ09ERURfRU5USVRZX0NPTlRFTlRfVFlQRSA9IFVIUkJhc2UuVFlQRVMuVVJMX0VOQ09ERUQgK1xuXHRVSFJCYXNlLkNIQVJTRVRfUEFSQU1FVEVSO1xuXG5VSFJCYXNlLkpTT05fRU5USVRZX0NPTlRFTlRfVFlQRSA9IFVIUkJhc2UuVFlQRVMuSlNPTiArXG5cdFVIUkJhc2UuQ0hBUlNFVF9QQVJBTUVURVI7XG5cblVIUkJhc2UuUExBSU5fVEVYVF9FTlRJVFlfQ09OVEVOVF9UWVBFID0gVUhSQmFzZS5UWVBFUy5QTEFJTl9URVhUICtcblx0VUhSQmFzZS5DSEFSU0VUX1BBUkFNRVRFUjtcblxuLy8gVGhpcyBtb2R1bGUgd2VyZSBkZXZlbG9wZWQgdXNpbmcgSFRUUC8xLjF2MiBSRkMgMjYxNlxuLy8gKGh0dHA6Ly93d3cudzMub3JnL1Byb3RvY29scy9yZmMyNjE2Lylcbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgQmFzaWMgVW5pdmVyc2FsIEhUVFAoUykgUmVxdWVzdCBpbXBsZW1lbnRhdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBVSFJCYXNlKCkgeyB9XG5cbi8qKlxuICogRG9lcyBHRVQgcmVxdWVzdCB0byBIVFRQIHNlcnZlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIHRvIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnMgUmVxdWVzdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtPYmplY3Q/fSBvcHRpb25zLmhlYWRlcnMgSFRUUCBoZWFkZXJzIHRvIHNlbmQuXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KT99IG9wdGlvbnMuZGF0YSBEYXRhIHRvIHNlbmQuXG4gKiBAcGFyYW0ge251bWJlcj99IG9wdGlvbnMudGltZW91dCBSZXF1ZXN0IHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBvcHRpb25zLnVuc2FmZUhUVFBTIElmIHRydWUgdGhlbiByZXF1ZXN0cyB0byBzZXJ2ZXJzIHdpdGhcbiAqIGludmFsaWQgSFRUUFMgY2VydGlmaWNhdGVzIGFyZSBhbGxvd2VkLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJvbWlzZSBmb3IgcmVzdWx0IHdpdGggc3RhdHVzIG9iamVjdCBhbmQgY29udGVudC5cbiAqL1xuVUhSQmFzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0dmFyIHBhcmFtZXRlcnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMpO1xuXHRwYXJhbWV0ZXJzLm1ldGhvZCA9IE1FVEhPRFMuR0VUO1xuXHRwYXJhbWV0ZXJzLnVybCA9IHVybDtcblx0cmV0dXJuIHRoaXMucmVxdWVzdChwYXJhbWV0ZXJzKTtcbn07XG5cbi8qKlxuICogRG9lcyBQT1NUIHJlcXVlc3QgdG8gSFRUUCBzZXJ2ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTCB0byByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3Q/fSBvcHRpb25zIFJlcXVlc3QgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7T2JqZWN0P30gb3B0aW9ucy5oZWFkZXJzIEhUVFAgaGVhZGVycyB0byBzZW5kLlxuICogQHBhcmFtIHsoc3RyaW5nfE9iamVjdCk/fSBvcHRpb25zLmRhdGEgRGF0YSB0byBzZW5kLlxuICogQHBhcmFtIHtudW1iZXI/fSBvcHRpb25zLnRpbWVvdXQgUmVxdWVzdCB0aW1lb3V0LlxuICogQHBhcmFtIHtib29sZWFuP30gb3B0aW9ucy51bnNhZmVIVFRQUyBJZiB0cnVlIHRoZW4gcmVxdWVzdHMgdG8gc2VydmVycyB3aXRoXG4gKiBpbnZhbGlkIEhUVFBTIGNlcnRpZmljYXRlcyBhcmUgYWxsb3dlZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFByb21pc2UgZm9yIHJlc3VsdCB3aXRoIHN0YXR1cyBvYmplY3QgYW5kIGNvbnRlbnQuXG4gKi9cblVIUkJhc2UucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHR2YXIgcGFyYW1ldGVycyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyk7XG5cdHBhcmFtZXRlcnMubWV0aG9kID0gTUVUSE9EUy5QT1NUO1xuXHRwYXJhbWV0ZXJzLnVybCA9IHVybDtcblx0cmV0dXJuIHRoaXMucmVxdWVzdChwYXJhbWV0ZXJzKTtcbn07XG5cbi8qKlxuICogRG9lcyBQVVQgcmVxdWVzdCB0byBIVFRQIHNlcnZlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIHRvIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnMgUmVxdWVzdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtPYmplY3Q/fSBvcHRpb25zLmhlYWRlcnMgSFRUUCBoZWFkZXJzIHRvIHNlbmQuXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KT99IG9wdGlvbnMuZGF0YSBEYXRhIHRvIHNlbmQuXG4gKiBAcGFyYW0ge251bWJlcj99IG9wdGlvbnMudGltZW91dCBSZXF1ZXN0IHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBvcHRpb25zLnVuc2FmZUhUVFBTIElmIHRydWUgdGhlbiByZXF1ZXN0cyB0byBzZXJ2ZXJzIHdpdGhcbiAqIGludmFsaWQgSFRUUFMgY2VydGlmaWNhdGVzIGFyZSBhbGxvd2VkLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJvbWlzZSBmb3IgcmVzdWx0IHdpdGggc3RhdHVzIG9iamVjdCBhbmQgY29udGVudC5cbiAqL1xuVUhSQmFzZS5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0dmFyIHBhcmFtZXRlcnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMpO1xuXHRwYXJhbWV0ZXJzLm1ldGhvZCA9IE1FVEhPRFMuUFVUO1xuXHRwYXJhbWV0ZXJzLnVybCA9IHVybDtcblx0cmV0dXJuIHRoaXMucmVxdWVzdChwYXJhbWV0ZXJzKTtcbn07XG5cbi8qKlxuICogRG9lcyBQQVRDSCByZXF1ZXN0IHRvIEhUVFAgc2VydmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgdG8gcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0P30gb3B0aW9ucyBSZXF1ZXN0IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnMuaGVhZGVycyBIVFRQIGhlYWRlcnMgdG8gc2VuZC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpP30gb3B0aW9ucy5kYXRhIERhdGEgdG8gc2VuZC5cbiAqIEBwYXJhbSB7bnVtYmVyP30gb3B0aW9ucy50aW1lb3V0IFJlcXVlc3QgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IG9wdGlvbnMudW5zYWZlSFRUUFMgSWYgdHJ1ZSB0aGVuIHJlcXVlc3RzIHRvIHNlcnZlcnMgd2l0aFxuICogaW52YWxpZCBIVFRQUyBjZXJ0aWZpY2F0ZXMgYXJlIGFsbG93ZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBQcm9taXNlIGZvciByZXN1bHQgd2l0aCBzdGF0dXMgb2JqZWN0IGFuZCBjb250ZW50LlxuICovXG5VSFJCYXNlLnByb3RvdHlwZS5wYXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdHZhciBwYXJhbWV0ZXJzID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zKTtcblx0cGFyYW1ldGVycy5tZXRob2QgPSBNRVRIT0RTLlBBVENIO1xuXHRwYXJhbWV0ZXJzLnVybCA9IHVybDtcblx0cmV0dXJuIHRoaXMucmVxdWVzdChwYXJhbWV0ZXJzKTtcbn07XG5cbi8qKlxuICogRG9lcyBERUxFVEUgcmVxdWVzdCB0byBIVFRQIHNlcnZlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIHRvIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdD99IG9wdGlvbnMgUmVxdWVzdCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtPYmplY3Q/fSBvcHRpb25zLmhlYWRlcnMgSFRUUCBoZWFkZXJzIHRvIHNlbmQuXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KT99IG9wdGlvbnMuZGF0YSBEYXRhIHRvIHNlbmQuXG4gKiBAcGFyYW0ge251bWJlcj99IG9wdGlvbnMudGltZW91dCBSZXF1ZXN0IHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBvcHRpb25zLnVuc2FmZUhUVFBTIElmIHRydWUgdGhlbiByZXF1ZXN0cyB0byBzZXJ2ZXJzIHdpdGhcbiAqIGludmFsaWQgSFRUUFMgY2VydGlmaWNhdGVzIGFyZSBhbGxvd2VkLlxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gUHJvbWlzZSBmb3IgcmVzdWx0IHdpdGggc3RhdHVzIG9iamVjdCBhbmQgY29udGVudC5cbiAqL1xuVUhSQmFzZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXHR2YXIgcGFyYW1ldGVycyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyk7XG5cdHBhcmFtZXRlcnMubWV0aG9kID0gTUVUSE9EUy5ERUxFVEU7XG5cdHBhcmFtZXRlcnMudXJsID0gdXJsO1xuXHRyZXR1cm4gdGhpcy5yZXF1ZXN0KHBhcmFtZXRlcnMpO1xufTtcblxuLyoqXG4gKiBEb2VzIHJlcXVlc3Qgd2l0aCBzcGVjaWZpZWQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIFJlcXVlc3QgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbWV0ZXJzLm1ldGhvZCBIVFRQIG1ldGhvZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbWV0ZXJzLnVybCBVUkwgZm9yIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdD99IHBhcmFtZXRlcnMuaGVhZGVycyBIVFRQIGhlYWRlcnMgdG8gc2VuZC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpP30gcGFyYW1ldGVycy5kYXRhIERhdGEgdG8gc2VuZC5cbiAqIEBwYXJhbSB7bnVtYmVyP30gcGFyYW1ldGVycy50aW1lb3V0IFJlcXVlc3QgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj99IHBhcmFtZXRlcnMudW5zYWZlSFRUUFMgSWYgdHJ1ZSB0aGVuIHJlcXVlc3RzXG4gKiB0byBzZXJ2ZXJzIHdpdGggaW52YWxpZCBIVFRQUyBjZXJ0aWZpY2F0ZXMgYXJlIGFsbG93ZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxPYmplY3Q+fSBQcm9taXNlIGZvciByZXN1bHQgd2l0aCBzdGF0dXMgb2JqZWN0IGFuZCBjb250ZW50LlxuICovXG5VSFJCYXNlLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRyZXR1cm4gdGhpcy5fdmFsaWRhdGVSZXF1ZXN0KHBhcmFtZXRlcnMpXG5cdFx0LnRoZW4oZnVuY3Rpb24gKHZhbGlkYXRlZCkge1xuXHRcdFx0cmV0dXJuIHNlbGYuX2RvUmVxdWVzdCh2YWxpZGF0ZWQpO1xuXHRcdH0pO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgVUhSIHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyBSZXF1ZXN0IHBhcmFtZXRlcnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1ldGVycy5tZXRob2QgSFRUUCBtZXRob2QuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1ldGVycy51cmwgVVJMIGZvciByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3Q/fSBwYXJhbWV0ZXJzLmhlYWRlcnMgSFRUUCBoZWFkZXJzIHRvIHNlbmQuXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KT99IHBhcmFtZXRlcnMuZGF0YSBEYXRhIHRvIHNlbmQuXG4gKiBAcGFyYW0ge251bWJlcj99IHBhcmFtZXRlcnMudGltZW91dCBSZXF1ZXN0IHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBwYXJhbWV0ZXJzLnVuc2FmZUhUVFBTIElmIHRydWUgdGhlbiByZXF1ZXN0c1xuICogdG8gc2VydmVycyB3aXRoIGludmFsaWQgSFRUUFMgY2VydGlmaWNhdGVzIGFyZSBhbGxvd2VkLlxuICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgZm9yIG5vdGhpbmcuXG4gKiBAcHJpdmF0ZVxuICovXG4vKmpzaGludCBtYXhjb21wbGV4aXR5OmZhbHNlICovXG5VSFJCYXNlLnByb3RvdHlwZS5fdmFsaWRhdGVSZXF1ZXN0ID0gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcblx0aWYgKCFwYXJhbWV0ZXJzIHx8IHR5cGVvZiAocGFyYW1ldGVycykgIT09ICdvYmplY3QnKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihFUlJPUl9QQVJBTUVURVJTX1NIT1VMRF9CRV9PQkpFQ1QpKTtcblx0fVxuXG5cdHZhciB2YWxpZGF0ZWQgPSBPYmplY3QuY3JlYXRlKHBhcmFtZXRlcnMpO1xuXG5cdGlmICh0eXBlb2YgKHBhcmFtZXRlcnMudXJsKSAhPT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKEVSUk9SX1VSTF9JU19SRVFVSVJFRCkpO1xuXHR9XG5cdHZhbGlkYXRlZC51cmkgPSBuZXcgVVJJKHZhbGlkYXRlZC51cmwpO1xuXHRpZiAoIXZhbGlkYXRlZC51cmkuc2NoZW1lKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihFUlJPUl9TQ0hFTUVfSVNfUkVRVUlSRUQpKTtcblx0fVxuXHRpZiAoIUhUVFBfUFJPVE9DT0xfUkVHRVhQLnRlc3QodmFsaWRhdGVkLnVyaS5zY2hlbWUpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihFUlJPUl9VTlNVUFBPUlRFRF9QUk9UT0NPTCkpO1xuXHR9XG5cdGlmICghdmFsaWRhdGVkLnVyaS5hdXRob3JpdHkgfHwgIXZhbGlkYXRlZC51cmkuYXV0aG9yaXR5Lmhvc3QpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKEVSUk9SX0hPU1RfSVNfUkVRVUlSRUQpKTtcblx0fVxuXHRpZiAodHlwZW9mICh2YWxpZGF0ZWQubWV0aG9kKSAhPT0gJ3N0cmluZycgfHxcblx0XHQhKHZhbGlkYXRlZC5tZXRob2QgaW4gTUVUSE9EUykpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKEVSUk9SX01FVEhPRF9JU19SRVFVSVJFRCkpO1xuXHR9XG5cblx0dmFsaWRhdGVkLnRpbWVvdXQgPSB2YWxpZGF0ZWQudGltZW91dCB8fCBERUZBVUxUX1RJTUVPVVQ7XG5cdGlmICh0eXBlb2YgKHZhbGlkYXRlZC50aW1lb3V0KSAhPT0gJ251bWJlcicpIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKEVSUk9SX1RJTUVPVVRfU0hPVUxEX0JFX05VTUJFUikpO1xuXHR9XG5cblx0dmFsaWRhdGVkLmhlYWRlcnMgPSB0aGlzLl9jcmVhdGVIZWFkZXJzKHZhbGlkYXRlZC5oZWFkZXJzKTtcblxuXHRpZiAoIXRoaXMuX2lzVXBzdHJlYW1SZXF1ZXN0KHBhcmFtZXRlcnMubWV0aG9kKSAmJlxuXHRcdHZhbGlkYXRlZC5kYXRhICYmIHR5cGVvZiAodmFsaWRhdGVkLmRhdGEpID09PSAnb2JqZWN0Jykge1xuXG5cdFx0dmFyIGRhdGFLZXlzID0gT2JqZWN0LmtleXModmFsaWRhdGVkLmRhdGEpO1xuXG5cdFx0aWYgKGRhdGFLZXlzLmxlbmd0aCA+IDAgJiYgIXZhbGlkYXRlZC51cmkucXVlcnkpIHtcblx0XHRcdHZhbGlkYXRlZC51cmkucXVlcnkgPSBuZXcgUXVlcnkoJycpO1xuXHRcdH1cblxuXHRcdGRhdGFLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0dmFsaWRhdGVkLnVyaS5xdWVyeS52YWx1ZXNba2V5XSA9IHZhbGlkYXRlZC5kYXRhW2tleV07XG5cdFx0fSk7XG5cdFx0dmFsaWRhdGVkLmRhdGEgPSBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBkYXRhQW5kSGVhZGVycyA9IHRoaXMuX2dldERhdGFUb1NlbmQoXG5cdFx0XHR2YWxpZGF0ZWQuaGVhZGVycywgdmFsaWRhdGVkLmRhdGFcblx0XHQpO1xuXHRcdHZhbGlkYXRlZC5oZWFkZXJzID0gZGF0YUFuZEhlYWRlcnMuaGVhZGVycztcblx0XHR2YWxpZGF0ZWQuZGF0YSA9IGRhdGFBbmRIZWFkZXJzLmRhdGE7XG5cdH1cblxuXHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbGlkYXRlZCk7XG59O1xuXG4vKipcbiAqIEdldHMgZGF0YSBmb3Igc2VuZGluZyB2aWEgSFRUUCByZXF1ZXN0IHVzaW5nIENvbnRlbnQgVHlwZSBIVFRQIGhlYWRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIEhUVFAgaGVhZGVycy5cbiAqIEBwYXJhbSB7T2JqZWN0fHN0cmluZ30gZGF0YSBEYXRhIHRvIHNlbmQuXG4gKiBAcmV0dXJucyB7e2hlYWRlcnM6IE9iamVjdCwgZGF0YTogT2JqZWN0fHN0cmluZ319IERhdGEgYW5kIGhlYWRlcnMgdG8gc2VuZC5cbiAqIEBwcml2YXRlXG4gKi9cblVIUkJhc2UucHJvdG90eXBlLl9nZXREYXRhVG9TZW5kID0gZnVuY3Rpb24gKGhlYWRlcnMsIGRhdGEpIHtcblx0dmFyIGZvdW5kID0gZmluZENvbnRlbnRUeXBlKGhlYWRlcnMpLFxuXHRcdGNvbnRlbnRUeXBlSGVhZGVyID0gZm91bmQubmFtZSxcblx0XHRjb250ZW50VHlwZSA9IGZvdW5kLnR5cGU7XG5cblx0aWYgKCFkYXRhIHx8IHR5cGVvZiAoZGF0YSkgIT09ICdvYmplY3QnKSB7XG5cdFx0ZGF0YSA9IGRhdGEgPyBTdHJpbmcoZGF0YSkgOiAnJztcblx0XHRpZiAoIWNvbnRlbnRUeXBlKSB7XG5cdFx0XHRoZWFkZXJzW2NvbnRlbnRUeXBlSGVhZGVyXSA9IFVIUkJhc2UuUExBSU5fVEVYVF9FTlRJVFlfQ09OVEVOVF9UWVBFO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVhZGVyczogaGVhZGVycyxcblx0XHRcdGRhdGE6IGRhdGFcblx0XHR9O1xuXHR9XG5cblx0aWYgKGNvbnRlbnRUeXBlID09PSBVSFJCYXNlLlRZUEVTLkpTT04pIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVhZGVyczogaGVhZGVycyxcblx0XHRcdGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG5cdFx0fTtcblx0fVxuXG5cdC8vIG90aGVyd2lzZSBvYmplY3Qgd2lsbCBiZSBzZW50IHdpdGhcblx0Ly8gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXG5cdGhlYWRlcnNbY29udGVudFR5cGVIZWFkZXJdID0gVUhSQmFzZS5VUkxfRU5DT0RFRF9FTlRJVFlfQ09OVEVOVF9UWVBFO1xuXG5cdHZhciBxdWVyeSA9IG5ldyBRdWVyeSgpO1xuXHRxdWVyeS52YWx1ZXMgPSBkYXRhO1xuXHRyZXR1cm4ge1xuXHRcdGhlYWRlcnM6IGhlYWRlcnMsXG5cdFx0ZGF0YTogcXVlcnkudG9TdHJpbmcoKVxuXHRcdFx0LnJlcGxhY2UoL1xcKy9nLCAnJTJCJylcblx0XHRcdC5yZXBsYWNlKC8lMjAvZywgJysnKVxuXHR9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIEhUVFAgaGVhZGVycyBmb3IgcmVxdWVzdCB1c2luZyBkZWZhdWx0cyBhbmQgY3VycmVudCBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlckhlYWRlcnMgSFRUUCBoZWFkZXJzIG9mIFVIUi5cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuVUhSQmFzZS5wcm90b3R5cGUuX2NyZWF0ZUhlYWRlcnMgPSBmdW5jdGlvbiAocGFyYW1ldGVySGVhZGVycykge1xuXHRpZiAoIXBhcmFtZXRlckhlYWRlcnMgfHwgdHlwZW9mIChwYXJhbWV0ZXJIZWFkZXJzKSAhPT0gJ29iamVjdCcpIHtcblx0XHRwYXJhbWV0ZXJIZWFkZXJzID0ge307XG5cdH1cblx0dmFyIGhlYWRlcnMgPSB7fTtcblxuXHRPYmplY3Qua2V5cyhVSFJCYXNlLkRFRkFVTFRfR0VORVJBTF9IRUFERVJTKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXJOYW1lKSB7XG5cdFx0XHRoZWFkZXJzW2hlYWRlck5hbWVdID0gVUhSQmFzZS5ERUZBVUxUX0dFTkVSQUxfSEVBREVSU1toZWFkZXJOYW1lXTtcblx0XHR9KTtcblxuXHRPYmplY3Qua2V5cyhwYXJhbWV0ZXJIZWFkZXJzKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChoZWFkZXJOYW1lKSB7XG5cdFx0XHRpZiAocGFyYW1ldGVySGVhZGVyc1toZWFkZXJOYW1lXSA9PT0gbnVsbCB8fFxuXHRcdFx0XHRwYXJhbWV0ZXJIZWFkZXJzW2hlYWRlck5hbWVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZGVsZXRlIGhlYWRlcnNbaGVhZGVyTmFtZV07XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGhlYWRlcnNbaGVhZGVyTmFtZV0gPSBwYXJhbWV0ZXJIZWFkZXJzW2hlYWRlck5hbWVdO1xuXHRcdH0pO1xuXG5cdHJldHVybiBoZWFkZXJzO1xufTtcblxuLyoqXG4gKiBEb2VzIHJlcXVlc3Qgd2l0aCBzcGVjaWZpZWQgcGFyYW1ldGVycyB1c2luZyBwcm90b2NvbCBpbXBsZW1lbnRhdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIFJlcXVlc3QgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbWV0ZXJzLm1ldGhvZCBIVFRQIG1ldGhvZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbWV0ZXJzLnVybCBVUkwgZm9yIHJlcXVlc3QuXG4gKiBAcGFyYW0ge1VSSX0gcGFyYW1ldGVycy51cmkgVVJJIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzLmhlYWRlcnMgSFRUUCBoZWFkZXJzIHRvIHNlbmQuXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IHBhcmFtZXRlcnMuZGF0YSBEYXRhIHRvIHNlbmQuXG4gKiBAcGFyYW0ge251bWJlcn0gcGFyYW1ldGVycy50aW1lb3V0IFJlcXVlc3QgdGltZW91dC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcGFyYW1ldGVycy51bnNhZmVIVFRQUyBJZiB0cnVlIHRoZW4gcmVxdWVzdHMgdG8gc2VydmVycyB3aXRoXG4gKiBpbnZhbGlkIEhUVFBTIGNlcnRpZmljYXRlcyBhcmUgYWxsb3dlZC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59IFByb21pc2UgZm9yIHJlc3VsdCB3aXRoIHN0YXR1cyBvYmplY3QgYW5kIGNvbnRlbnQuXG4gKiBAcHJvdGVjdGVkXG4gKiBAYWJzdHJhY3RcbiAqL1xuLy8ganNjczpkaXNhYmxlIGRpc2FsbG93VW51c2VkUGFyYW1zXG5VSFJCYXNlLnByb3RvdHlwZS5fZG9SZXF1ZXN0ID0gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHsgfTtcblxuLyoqXG4gKiBDb252ZXJ0cyByZXNwb25zZSBkYXRhIGFjY29yZGluZyBjb250ZW50IHR5cGUuXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVycyBIVFRQIGhlYWRlcnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzcG9uc2VEYXRhIERhdGEgZnJvbSByZXNwb25zZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd8T2JqZWN0fSBDb252ZXJ0ZWQgZGF0YS5cbiAqL1xuVUhSQmFzZS5wcm90b3R5cGUuY29udmVydFJlc3BvbnNlID0gZnVuY3Rpb24gKGhlYWRlcnMsIHJlc3BvbnNlRGF0YSkge1xuXHRpZiAodHlwZW9mIChyZXNwb25zZURhdGEpICE9PSAnc3RyaW5nJykge1xuXHRcdHJlc3BvbnNlRGF0YSA9ICcnO1xuXHR9XG5cdHZhciBmb3VuZCA9IGZpbmRDb250ZW50VHlwZShoZWFkZXJzKSxcblx0XHRjb250ZW50VHlwZSA9IGZvdW5kLnR5cGUgfHwgVUhSQmFzZS5UWVBFUy5QTEFJTl9URVhUO1xuXG5cdHN3aXRjaCAoY29udGVudFR5cGUpIHtcblx0XHRjYXNlIFVIUkJhc2UuVFlQRVMuSlNPTjpcblx0XHRcdHZhciBqc29uO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0anNvbiA9IEpTT04ucGFyc2UocmVzcG9uc2VEYXRhKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gbm90aGluZyB0byBkb1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGpzb24gfHwge307XG5cdFx0Y2FzZSBVSFJCYXNlLlRZUEVTLlVSTF9FTkNPREVEOlxuXHRcdFx0dmFyIG9iamVjdDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciBxdWVyeSA9IG5ldyBRdWVyeShyZXNwb25zZURhdGEucmVwbGFjZSgnKycsICclMjAnKSk7XG5cdFx0XHRcdG9iamVjdCA9IHF1ZXJ5LnZhbHVlcztcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gbm90aGluZyB0byBkb1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG9iamVjdCB8fCB7fTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlRGF0YTtcblx0fVxufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlzIGN1cnJlbnQgcXVlcnkgbmVlZHMgdG8gdXNlIHVwc3RyZWFtLlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBJcyBjdXJyZW50IEhUVFAgbWV0aG9kIG1lYW5zIHVwc3RyZWFtIHVzYWdlLlxuICogQHByb3RlY3RlZFxuICovXG5VSFJCYXNlLnByb3RvdHlwZS5faXNVcHN0cmVhbVJlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG5cdHJldHVybiAoXG5cdFx0bWV0aG9kID09PSBNRVRIT0RTLlBPU1QgfHxcblx0XHRtZXRob2QgPT09IE1FVEhPRFMuUFVUIHx8XG5cdFx0bWV0aG9kID09PSBNRVRIT0RTLlBBVENIXG5cdFx0KTtcbn07XG5cbi8qKlxuICogRmluZHMgY29udGVudCB0eXBlIGhlYWRlciBpbiBoZWFkZXJzIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIEhUVFAgaGVhZGVycy5cbiAqIEByZXR1cm5zIHt7bmFtZTogc3RyaW5nLCB0eXBlOiBzdHJpbmd9fSBOYW1lIG9mIGhlYWRlciBhbmQgY29udGVudCB0eXBlLlxuICovXG5mdW5jdGlvbiBmaW5kQ29udGVudFR5cGUoaGVhZGVycykge1xuXHR2YXIgY29udGVudFR5cGVTdHJpbmcgPSAnJyxcblx0XHRjb250ZW50VHlwZUhlYWRlciA9ICdDb250ZW50LVR5cGUnO1xuXG5cdE9iamVjdC5rZXlzKGhlYWRlcnMpXG5cdFx0LmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKGtleS50b0xvd2VyQ2FzZSgpICE9PSAnY29udGVudC10eXBlJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjb250ZW50VHlwZUhlYWRlciA9IGtleTtcblx0XHRcdGNvbnRlbnRUeXBlU3RyaW5nID0gaGVhZGVyc1trZXldO1xuXHRcdH0pO1xuXG5cdHZhciB0eXBlQW5kUGFyYW1ldGVycyA9IGNvbnRlbnRUeXBlU3RyaW5nLnNwbGl0KCc7JyksXG5cdFx0Y29udGVudFR5cGUgPSB0eXBlQW5kUGFyYW1ldGVyc1swXS50b0xvd2VyQ2FzZSgpO1xuXHRyZXR1cm4ge1xuXHRcdG5hbWU6IGNvbnRlbnRUeXBlSGVhZGVyLFxuXHRcdHR5cGU6IGNvbnRlbnRUeXBlXG5cdH07XG59XG4iLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFVSSTogcmVxdWlyZSgnLi9saWIvVVJJJyksXG5cdEF1dGhvcml0eTogcmVxdWlyZSgnLi9saWIvQXV0aG9yaXR5JyksXG5cdFVzZXJJbmZvOiByZXF1aXJlKCcuL2xpYi9Vc2VySW5mbycpLFxuXHRRdWVyeTogcmVxdWlyZSgnLi9saWIvUXVlcnknKVxufTsiLCIvKlxuICogY2F0YmVycnktdXJpXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnktdXJpJ3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeS11cmkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBBdXRob3JpdHk7XG5cbnZhciBVc2VySW5mbyA9IHJlcXVpcmUoJy4vVXNlckluZm8nKSxcblx0cGVyY2VudEVuY29kaW5nSGVscGVyID0gcmVxdWlyZSgnLi9wZXJjZW50RW5jb2RpbmdIZWxwZXInKTtcblxudmFyIFBPUlRfUkVHRVhQID0gL15cXGQrJC8sXG5cdEVSUk9SX1BPUlQgPSAnVVJJIGF1dGhvcml0eSBwb3J0IG11c3Qgc2F0aXNmeSBleHByZXNzaW9uICcgK1xuXHRcdFBPUlRfUkVHRVhQLnRvU3RyaW5nKCk7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgVVJJIGF1dGhvcml0eSBjb21wb25lbnQgcGFyc2VyLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjJcbiAqIEBwYXJhbSB7c3RyaW5nP30gYXV0aG9yaXR5U3RyaW5nIFVSSSBhdXRob3JpdHkgY29tcG9uZW50IHN0cmluZy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBBdXRob3JpdHkoYXV0aG9yaXR5U3RyaW5nKSB7XG5cdGlmICh0eXBlb2YgKGF1dGhvcml0eVN0cmluZykgPT09ICdzdHJpbmcnICYmIGF1dGhvcml0eVN0cmluZy5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIGZpcnN0QXRJbmRleCA9IGF1dGhvcml0eVN0cmluZy5pbmRleE9mKCdAJyk7XG5cdFx0aWYgKGZpcnN0QXRJbmRleCAhPT0gLTEpIHtcblx0XHRcdHZhciB1c2VySW5mb1N0cmluZyA9IGF1dGhvcml0eVN0cmluZy5zdWJzdHJpbmcoMCwgZmlyc3RBdEluZGV4KTtcblx0XHRcdHRoaXMudXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlckluZm9TdHJpbmcpO1xuXHRcdFx0YXV0aG9yaXR5U3RyaW5nID0gYXV0aG9yaXR5U3RyaW5nLnN1YnN0cmluZyhmaXJzdEF0SW5kZXggKyAxKTtcblx0XHR9XG5cblx0XHR2YXIgbGFzdENvbG9uSW5kZXggPSBhdXRob3JpdHlTdHJpbmcubGFzdEluZGV4T2YoJzonKTtcblx0XHRpZiAobGFzdENvbG9uSW5kZXggIT09IC0xKSB7XG5cdFx0XHR2YXIgcG9ydFN0cmluZyA9IGF1dGhvcml0eVN0cmluZy5zdWJzdHJpbmcobGFzdENvbG9uSW5kZXggKyAxKTtcblx0XHRcdGlmIChsYXN0Q29sb25JbmRleCA9PT0gYXV0aG9yaXR5U3RyaW5nLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0dGhpcy5wb3J0ID0gJyc7XG5cdFx0XHRcdGF1dGhvcml0eVN0cmluZyA9IGF1dGhvcml0eVN0cmluZy5zdWJzdHJpbmcoMCwgbGFzdENvbG9uSW5kZXgpO1xuXHRcdFx0fSBlbHNlIGlmIChQT1JUX1JFR0VYUC50ZXN0KHBvcnRTdHJpbmcpKSB7XG5cdFx0XHRcdHRoaXMucG9ydCA9IHBvcnRTdHJpbmc7XG5cdFx0XHRcdGF1dGhvcml0eVN0cmluZyA9IGF1dGhvcml0eVN0cmluZy5zdWJzdHJpbmcoMCwgbGFzdENvbG9uSW5kZXgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuaG9zdCA9IHBlcmNlbnRFbmNvZGluZ0hlbHBlci5kZWNvZGUoYXV0aG9yaXR5U3RyaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEN1cnJlbnQgdXNlciBpbmZvcm1hdGlvbi5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yLjFcbiAqIEB0eXBlIHtVc2VySW5mb31cbiAqL1xuQXV0aG9yaXR5LnByb3RvdHlwZS51c2VySW5mbyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBob3N0LlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjIuMlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuQXV0aG9yaXR5LnByb3RvdHlwZS5ob3N0ID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHBvcnQuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMi4zXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5BdXRob3JpdHkucHJvdG90eXBlLnBvcnQgPSBudWxsO1xuXG4vKipcbiAqIENsb25lcyBjdXJyZW50IGF1dGhvcml0eS5cbiAqIEByZXR1cm5zIHtBdXRob3JpdHl9IE5ldyBjbG9uZSBvZiBjdXJyZW50IG9iamVjdC5cbiAqL1xuQXV0aG9yaXR5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGF1dGhvcml0eSA9IG5ldyBBdXRob3JpdHkoKTtcblx0aWYgKHRoaXMudXNlckluZm8pIHtcblx0XHRhdXRob3JpdHkudXNlckluZm8gPSB0aGlzLnVzZXJJbmZvLmNsb25lKCk7XG5cdH1cblx0aWYgKHR5cGVvZiAodGhpcy5ob3N0KSA9PT0gJ3N0cmluZycpIHtcblx0XHRhdXRob3JpdHkuaG9zdCA9IHRoaXMuaG9zdDtcblx0fVxuXHRpZiAodHlwZW9mICh0aGlzLnBvcnQpID09PSAnc3RyaW5nJykge1xuXHRcdGF1dGhvcml0eS5wb3J0ID0gdGhpcy5wb3J0O1xuXHR9XG5cdHJldHVybiBhdXRob3JpdHk7XG59O1xuXG4vKipcbiAqIFJlY29tYmluZSBhbGwgYXV0aG9yaXR5IGNvbXBvbmVudHMgaW50byBhdXRob3JpdHkgc3RyaW5nLlxuICogQHJldHVybnMge3N0cmluZ30gQXV0aG9yaXR5IGNvbXBvbmVudCBzdHJpbmcuXG4gKi9cbkF1dGhvcml0eS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciByZXN1bHQgPSAnJztcblx0aWYgKHRoaXMudXNlckluZm8pIHtcblx0XHRyZXN1bHQgKz0gdGhpcy51c2VySW5mby50b1N0cmluZygpICsgJ0AnO1xuXHR9XG5cdGlmICh0aGlzLmhvc3QgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmhvc3QgIT09IG51bGwpIHtcblx0XHR2YXIgaG9zdCA9IFN0cmluZyh0aGlzLmhvc3QpO1xuXHRcdHJlc3VsdCArPSBwZXJjZW50RW5jb2RpbmdIZWxwZXIuZW5jb2RlSG9zdChob3N0KTtcblx0fVxuXHRpZiAodGhpcy5wb3J0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wb3J0ICE9PSBudWxsKSB7XG5cdFx0dmFyIHBvcnQgPSBTdHJpbmcodGhpcy5wb3J0KTtcblx0XHRpZiAocG9ydC5sZW5ndGggPiAwICYmICFQT1JUX1JFR0VYUC50ZXN0KHBvcnQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoRVJST1JfUE9SVCk7XG5cdFx0fVxuXHRcdHJlc3VsdCArPSAnOicgKyBwb3J0O1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59OyIsIi8qXG4gKiBjYXRiZXJyeS11cmlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeS11cmkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5LXVyaSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXJ5O1xuXG52YXIgcGVyY2VudEVuY29kaW5nSGVscGVyID0gcmVxdWlyZSgnLi9wZXJjZW50RW5jb2RpbmdIZWxwZXInKTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBVUkkgcXVlcnkgY29tcG9uZW50IHBhcnNlci5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy40XG4gKiBAcGFyYW0ge3N0cmluZz99IHF1ZXJ5U3RyaW5nIFVSSSBxdWVyeSBjb21wb25lbnQgc3RyaW5nLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFF1ZXJ5KHF1ZXJ5U3RyaW5nKSB7XG5cdGlmICh0eXBlb2YgKHF1ZXJ5U3RyaW5nKSA9PT0gJ3N0cmluZycpIHtcblx0XHR0aGlzLnZhbHVlcyA9IHt9O1xuXG5cdFx0cXVlcnlTdHJpbmdcblx0XHRcdC5zcGxpdCgnJicpXG5cdFx0XHQuZm9yRWFjaChmdW5jdGlvbiAocGFpcikge1xuXHRcdFx0XHR2YXIgcGFydHMgPSBwYWlyLnNwbGl0KCc9JyksXG5cdFx0XHRcdFx0a2V5ID0gcGVyY2VudEVuY29kaW5nSGVscGVyLmRlY29kZShwYXJ0c1swXSk7XG5cdFx0XHRcdGlmICgha2V5KSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChrZXkgaW4gdGhpcy52YWx1ZXMgJiZcblx0XHRcdFx0XHQhKHRoaXMudmFsdWVzW2tleV0gaW5zdGFuY2VvZiBBcnJheSkpIHtcblx0XHRcdFx0XHR0aGlzLnZhbHVlc1trZXldID0gW3RoaXMudmFsdWVzW2tleV1dO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHZhbHVlID0gdHlwZW9mIChwYXJ0c1sxXSkgPT09ICdzdHJpbmcnID9cblx0XHRcdFx0XHRwZXJjZW50RW5jb2RpbmdIZWxwZXIuZGVjb2RlKHBhcnRzWzFdKSA6IG51bGw7XG5cblx0XHRcdFx0aWYgKHRoaXMudmFsdWVzW2tleV0gaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0XHRcdHRoaXMudmFsdWVzW2tleV0ucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy52YWx1ZXNba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKTtcblx0fVxufVxuXG4vKipcbiAqIEN1cnJlbnQgc2V0IG9mIHZhbHVlcyBvZiBxdWVyeS5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblF1ZXJ5LnByb3RvdHlwZS52YWx1ZXMgPSBudWxsO1xuXG4vKipcbiAqIENsb25lcyBjdXJyZW50IHF1ZXJ5IHRvIGEgbmV3IG9iamVjdC5cbiAqIEByZXR1cm5zIHtRdWVyeX0gTmV3IGNsb25lIG9mIGN1cnJlbnQgb2JqZWN0LlxuICovXG5RdWVyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBxdWVyeSA9IG5ldyBRdWVyeSgpO1xuXHRpZiAodGhpcy52YWx1ZXMpIHtcblx0XHRxdWVyeS52YWx1ZXMgPSB7fTtcblx0XHRPYmplY3Qua2V5cyh0aGlzLnZhbHVlcylcblx0XHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0cXVlcnkudmFsdWVzW2tleV0gPSB0aGlzLnZhbHVlc1trZXldO1xuXHRcdFx0fSwgdGhpcyk7XG5cdH1cblx0cmV0dXJuIHF1ZXJ5O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBjdXJyZW50IHNldCBvZiBxdWVyeSB2YWx1ZXMgdG8gc3RyaW5nLlxuICogQHJldHVybnMge3N0cmluZ30gUXVlcnkgY29tcG9uZW50IHN0cmluZy5cbiAqL1xuUXVlcnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRpZiAoIXRoaXMudmFsdWVzKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0dmFyIHF1ZXJ5U3RyaW5nID0gJyc7XG5cdE9iamVjdC5rZXlzKHRoaXMudmFsdWVzKVxuXHRcdC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlc1trZXldIGluc3RhbmNlb2YgQXJyYXkgP1xuXHRcdFx0XHR0aGlzLnZhbHVlc1trZXldIDogW3RoaXMudmFsdWVzW2tleV1dO1xuXG5cdFx0XHR2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0cXVlcnlTdHJpbmcgKz0gJyYnICsgcGVyY2VudEVuY29kaW5nSGVscGVyXG5cdFx0XHRcdFx0LmVuY29kZVF1ZXJ5U3ViQ29tcG9uZW50KGtleSk7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblx0XHRcdFx0cXVlcnlTdHJpbmcgKz0gJz0nICtcblx0XHRcdFx0XHRwZXJjZW50RW5jb2RpbmdIZWxwZXIuZW5jb2RlUXVlcnlTdWJDb21wb25lbnQodmFsdWUpO1xuXHRcdFx0fSk7XG5cdFx0fSwgdGhpcyk7XG5cblx0cmV0dXJuIHF1ZXJ5U3RyaW5nLnJlcGxhY2UoL14mLywgJycpO1xufTsiLCIvKlxuICogY2F0YmVycnlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeSdzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBVUkk7XG5cbnZhciBBdXRob3JpdHkgPSByZXF1aXJlKCcuL0F1dGhvcml0eScpLFxuXHRwZXJjZW50RW5jb2RpbmdIZWxwZXIgPSByZXF1aXJlKCcuL3BlcmNlbnRFbmNvZGluZ0hlbHBlcicpLFxuXHRRdWVyeSA9IHJlcXVpcmUoJy4vUXVlcnknKTtcblxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjYXBwZW5kaXgtQlxudmFyIFVSSV9QQVJTRV9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuXHRcdCdeKChbXjovPyNdKyk6KT8oLy8oW14vPyNdKikpPyhbXj8jXSopKFxcXFw/KFteI10qKSk/KCMoLiopKT8nXG5cdCksXG5cdC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4xXG5cdFNDSEVNRV9SRUdFWFAgPSAvXlthLXpdK1thLXpcXGRcXCtcXC4tXSokL2ksXG5cdEVSUk9SX1NDSEVNRSA9ICdVUkkgc2NoZW1lIG11c3Qgc2F0aXNmeSBleHByZXNzaW9uICcgK1xuXHRcdFNDSEVNRV9SRUdFWFAudG9TdHJpbmcoKSxcblx0RVJST1JfQkFTRV9TQ0hFTUUgPSAnU2NoZW1lIGNvbXBvbmVudCBpcyByZXF1aXJlZCB0byBiZSBwcmVzZW50ICcgK1xuXHRcdCdpbiBhIGJhc2UgVVJJJztcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBVUkkgYWNjb3JkaW5nIHRvIFJGQyAzOTg2LlxuICogQHBhcmFtIHtzdHJpbmc/fSB1cmlTdHJpbmcgVVJJIHN0cmluZyB0byBwYXJzZSBjb21wb25lbnRzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFVSSSh1cmlTdHJpbmcpIHtcblx0aWYgKHR5cGVvZiAodXJpU3RyaW5nKSAhPT0gJ3N0cmluZycpIHtcblx0XHR1cmlTdHJpbmcgPSAnJztcblx0fVxuXG5cdC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUJcblx0dmFyIG1hdGNoZXMgPSB1cmlTdHJpbmcubWF0Y2goVVJJX1BBUlNFX1JFR0VYUCk7XG5cblx0aWYgKG1hdGNoZXMpIHtcblx0XHRpZiAodHlwZW9mIChtYXRjaGVzWzJdKSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMuc2NoZW1lID0gcGVyY2VudEVuY29kaW5nSGVscGVyLmRlY29kZShtYXRjaGVzWzJdKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiAobWF0Y2hlc1s0XSkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aGlzLmF1dGhvcml0eSA9IG5ldyBBdXRob3JpdHkobWF0Y2hlc1s0XSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgKG1hdGNoZXNbNV0pID09PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5wYXRoID0gcGVyY2VudEVuY29kaW5nSGVscGVyLmRlY29kZVBhdGgobWF0Y2hlc1s1XSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgKG1hdGNoZXNbN10pID09PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5xdWVyeSA9IG5ldyBRdWVyeShtYXRjaGVzWzddKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiAobWF0Y2hlc1s5XSkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aGlzLmZyYWdtZW50ID0gcGVyY2VudEVuY29kaW5nSGVscGVyLmRlY29kZShtYXRjaGVzWzldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBDdXJyZW50IFVSSSBzY2hlbWUuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuVVJJLnByb3RvdHlwZS5zY2hlbWUgPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgVVJJIGF1dGhvcml0eS5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yXG4gKiBAdHlwZSB7QXV0aG9yaXR5fVxuICovXG5VUkkucHJvdG90eXBlLmF1dGhvcml0eSA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBVUkkgcGF0aC5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4zXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5VUkkucHJvdG90eXBlLnBhdGggPSBudWxsO1xuXG4vKipcbiAqIEN1cnJlbnQgVVJJIHF1ZXJ5LlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjRcbiAqIEB0eXBlIHtRdWVyeX1cbiAqL1xuVVJJLnByb3RvdHlwZS5xdWVyeSA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBVUkkgZnJhZ21lbnQuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuNVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuVVJJLnByb3RvdHlwZS5mcmFnbWVudCA9IG51bGw7XG5cbi8qKlxuICogQ29udmVydHMgYSBVUkkgcmVmZXJlbmNlIHRoYXQgbWlnaHQgYmUgcmVsYXRpdmUgdG8gYSBnaXZlbiBiYXNlIFVSSVxuICogaW50byB0aGUgcmVmZXJlbmNlJ3MgdGFyZ2V0IFVSSS5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNS4yXG4gKiBAcGFyYW0ge1VSSX0gYmFzZVVyaSBCYXNlIFVSSS5cbiAqIEByZXR1cm5zIHtVUkl9IFJlc29sdmVkIFVSSS5cbiAqL1xuVVJJLnByb3RvdHlwZS5yZXNvbHZlUmVsYXRpdmUgPSBmdW5jdGlvbiAoYmFzZVVyaSkge1xuXHRpZiAoIWJhc2VVcmkuc2NoZW1lKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKEVSUk9SX0JBU0VfU0NIRU1FKTtcblx0fVxuXG5cdHJldHVybiB0cmFuc2Zvcm1SZWZlcmVuY2UoYmFzZVVyaSwgdGhpcyk7XG59O1xuXG4vKipcbiAqIENsb25lcyBjdXJyZW50IFVSSSB0byBhIG5ldyBvYmplY3QuXG4gKiBAcmV0dXJucyB7VVJJfSBOZXcgY2xvbmUgb2YgY3VycmVudCBvYmplY3QuXG4gKi9cblVSSS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciB1cmkgPSBuZXcgVVJJKCk7XG5cblx0aWYgKHR5cGVvZiAodGhpcy5zY2hlbWUpID09PSAnc3RyaW5nJykge1xuXHRcdHVyaS5zY2hlbWUgPSB0aGlzLnNjaGVtZTtcblx0fVxuXG5cdGlmICh0aGlzLmF1dGhvcml0eSkge1xuXHRcdHVyaS5hdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eS5jbG9uZSgpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiAodGhpcy5wYXRoKSA9PT0gJ3N0cmluZycpIHtcblx0XHR1cmkucGF0aCA9IHRoaXMucGF0aDtcblx0fVxuXG5cdGlmICh0aGlzLnF1ZXJ5KSB7XG5cdFx0dXJpLnF1ZXJ5ID0gdGhpcy5xdWVyeS5jbG9uZSgpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiAodGhpcy5mcmFnbWVudCkgPT09ICdzdHJpbmcnKSB7XG5cdFx0dXJpLmZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcblx0fVxuXG5cdHJldHVybiB1cmk7XG59O1xuXG4vKipcbiAqIFJlY29tcG9zZXMgVVJJIGNvbXBvbmVudHMgdG8gVVJJIHN0cmluZyxcbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNS4zXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVUkkgc3RyaW5nLlxuICovXG5VUkkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgcmVzdWx0ID0gJyc7XG5cblx0aWYgKHRoaXMuc2NoZW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zY2hlbWUgIT09IG51bGwpIHtcblx0XHR2YXIgc2NoZW1lID0gU3RyaW5nKHRoaXMuc2NoZW1lKTtcblx0XHRpZiAoIVNDSEVNRV9SRUdFWFAudGVzdChzY2hlbWUpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoRVJST1JfU0NIRU1FKTtcblx0XHR9XG5cdFx0cmVzdWx0ICs9IHNjaGVtZSArICc6Jztcblx0fVxuXG5cdGlmICh0aGlzLmF1dGhvcml0eSkge1xuXHRcdHJlc3VsdCArPSAnLy8nICsgdGhpcy5hdXRob3JpdHkudG9TdHJpbmcoKTtcblx0fVxuXG5cdHZhciBwYXRoID0gdGhpcy5wYXRoID09PSB1bmRlZmluZWQgfHwgdGhpcy5wYXRoID09PSBudWxsID9cblx0XHQnJyA6IFN0cmluZyh0aGlzLnBhdGgpO1xuXHRyZXN1bHQgKz0gcGVyY2VudEVuY29kaW5nSGVscGVyLmVuY29kZVBhdGgocGF0aCk7XG5cblx0aWYgKHRoaXMucXVlcnkpIHtcblx0XHRyZXN1bHQgKz0gJz8nICsgdGhpcy5xdWVyeS50b1N0cmluZygpO1xuXHR9XG5cblx0aWYgKHRoaXMuZnJhZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0dmFyIGZyYWdtZW50ID0gU3RyaW5nKHRoaXMuZnJhZ21lbnQpO1xuXHRcdHJlc3VsdCArPSAnIycgKyBwZXJjZW50RW5jb2RpbmdIZWxwZXIuZW5jb2RlRnJhZ21lbnQoZnJhZ21lbnQpO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtcyByZWZlcmVuY2UgZm9yIHJlbGF0aXZlIHJlc29sdXRpb24uXG4gKiBXaG9sZSBhbGdvcml0aG0gaGFzIGJlZW4gdGFrZW4gZnJvbVxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi01LjIuMlxuICogQHBhcmFtIHtVUkl9IGJhc2VVcmkgQmFzZSBVUkkgZm9yIHJlc29sdXRpb24uXG4gKiBAcGFyYW0ge1VSSX0gcmVmZXJlbmNlVXJpIFJlZmVyZW5jZSBVUkkgdG8gcmVzb2x2ZS5cbiAqIEByZXR1cm5zIHtVUkl9IENvbXBvbmVudHMgb2YgdGFyZ2V0IFVSSS5cbiAqL1xuLypqc2hpbnQgbWF4ZGVwdGg6ZmFsc2UgKi9cbi8qanNoaW50IG1heGNvbXBsZXhpdHk6ZmFsc2UgKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybVJlZmVyZW5jZShiYXNlVXJpLCByZWZlcmVuY2VVcmkpIHtcblx0dmFyIHRhcmdldFVyaSA9IG5ldyBVUkkoJycpO1xuXG5cdGlmIChyZWZlcmVuY2VVcmkuc2NoZW1lKSB7XG5cdFx0dGFyZ2V0VXJpLnNjaGVtZSA9IHJlZmVyZW5jZVVyaS5zY2hlbWU7XG5cdFx0dGFyZ2V0VXJpLmF1dGhvcml0eSA9IHJlZmVyZW5jZVVyaS5hdXRob3JpdHkgP1xuXHRcdFx0cmVmZXJlbmNlVXJpLmF1dGhvcml0eS5jbG9uZSgpIDogcmVmZXJlbmNlVXJpLmF1dGhvcml0eTtcblx0XHR0YXJnZXRVcmkucGF0aCA9IHJlbW92ZURvdFNlZ21lbnRzKHJlZmVyZW5jZVVyaS5wYXRoKTtcblx0XHR0YXJnZXRVcmkucXVlcnkgPSByZWZlcmVuY2VVcmkucXVlcnkgP1xuXHRcdFx0cmVmZXJlbmNlVXJpLnF1ZXJ5LmNsb25lKCkgOiByZWZlcmVuY2VVcmkucXVlcnk7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKHJlZmVyZW5jZVVyaS5hdXRob3JpdHkpIHtcblx0XHRcdHRhcmdldFVyaS5hdXRob3JpdHkgPSByZWZlcmVuY2VVcmkuYXV0aG9yaXR5ID9cblx0XHRcdFx0cmVmZXJlbmNlVXJpLmF1dGhvcml0eS5jbG9uZSgpIDogcmVmZXJlbmNlVXJpLmF1dGhvcml0eTtcblx0XHRcdHRhcmdldFVyaS5wYXRoID0gcmVtb3ZlRG90U2VnbWVudHMocmVmZXJlbmNlVXJpLnBhdGgpO1xuXHRcdFx0dGFyZ2V0VXJpLnF1ZXJ5ID0gcmVmZXJlbmNlVXJpLnF1ZXJ5ID9cblx0XHRcdFx0cmVmZXJlbmNlVXJpLnF1ZXJ5LmNsb25lKCkgOiByZWZlcmVuY2VVcmkucXVlcnk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChyZWZlcmVuY2VVcmkucGF0aCA9PT0gJycpIHtcblx0XHRcdFx0dGFyZ2V0VXJpLnBhdGggPSBiYXNlVXJpLnBhdGg7XG5cdFx0XHRcdGlmIChyZWZlcmVuY2VVcmkucXVlcnkpIHtcblx0XHRcdFx0XHR0YXJnZXRVcmkucXVlcnkgPSByZWZlcmVuY2VVcmkucXVlcnkuY2xvbmUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXRVcmkucXVlcnkgPSBiYXNlVXJpLnF1ZXJ5ID9cblx0XHRcdFx0XHRcdGJhc2VVcmkucXVlcnkuY2xvbmUoKSA6IGJhc2VVcmkucXVlcnk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChyZWZlcmVuY2VVcmkucGF0aFswXSA9PT0gJy8nKSB7XG5cdFx0XHRcdFx0dGFyZ2V0VXJpLnBhdGggPVxuXHRcdFx0XHRcdFx0cmVtb3ZlRG90U2VnbWVudHMocmVmZXJlbmNlVXJpLnBhdGgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRhcmdldFVyaS5wYXRoID1cblx0XHRcdFx0XHRcdG1lcmdlKGJhc2VVcmksIHJlZmVyZW5jZVVyaSk7XG5cdFx0XHRcdFx0dGFyZ2V0VXJpLnBhdGggPVxuXHRcdFx0XHRcdFx0cmVtb3ZlRG90U2VnbWVudHModGFyZ2V0VXJpLnBhdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRhcmdldFVyaS5xdWVyeSA9IHJlZmVyZW5jZVVyaS5xdWVyeSA/XG5cdFx0XHRcdFx0cmVmZXJlbmNlVXJpLnF1ZXJ5LmNsb25lKCkgOiByZWZlcmVuY2VVcmkucXVlcnk7XG5cdFx0XHR9XG5cdFx0XHR0YXJnZXRVcmkuYXV0aG9yaXR5ID0gYmFzZVVyaS5hdXRob3JpdHkgP1xuXHRcdFx0XHRiYXNlVXJpLmF1dGhvcml0eS5jbG9uZSgpIDogYmFzZVVyaS5hdXRob3JpdHk7XG5cdFx0fVxuXHRcdHRhcmdldFVyaS5zY2hlbWUgPSBiYXNlVXJpLnNjaGVtZTtcblx0fVxuXG5cdHRhcmdldFVyaS5mcmFnbWVudCA9IHJlZmVyZW5jZVVyaS5mcmFnbWVudDtcblx0cmV0dXJuIHRhcmdldFVyaTtcbn1cblxuLyoqXG4gKiBNZXJnZXMgYSByZWxhdGl2ZS1wYXRoIHJlZmVyZW5jZSB3aXRoIHRoZSBwYXRoIG9mIHRoZSBiYXNlIFVSSS5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNS4yLjNcbiAqIEBwYXJhbSB7VVJJfSBiYXNlVXJpIENvbXBvbmVudHMgb2YgYmFzZSBVUkkuXG4gKiBAcGFyYW0ge1VSSX0gcmVmZXJlbmNlVXJpIENvbXBvbmVudHMgb2YgcmVmZXJlbmNlIFVSSS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IE1lcmdlZCBwYXRoLlxuICovXG5mdW5jdGlvbiBtZXJnZShiYXNlVXJpLCByZWZlcmVuY2VVcmkpIHtcblx0aWYgKGJhc2VVcmkuYXV0aG9yaXR5ICYmIGJhc2VVcmkucGF0aCA9PT0gJycpIHtcblx0XHRyZXR1cm4gJy8nICsgcmVmZXJlbmNlVXJpLnBhdGg7XG5cdH1cblxuXHR2YXIgc2VnbWVudHNTdHJpbmcgPSBiYXNlVXJpLnBhdGguaW5kZXhPZignLycpICE9PSAtMSA/XG5cdFx0YmFzZVVyaS5wYXRoLnJlcGxhY2UoL1xcL1teXFwvXSskLywgJy8nKSA6ICcnO1xuXG5cdHJldHVybiBzZWdtZW50c1N0cmluZyArIHJlZmVyZW5jZVVyaS5wYXRoO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZG90cyBzZWdtZW50cyBmcm9tIFVSSSBwYXRoLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi01LjIuNFxuICogQHBhcmFtIHtzdHJpbmd9IHVyaVBhdGggVVJJIHBhdGggd2l0aCBwb3NzaWJsZSBkb3Qgc2VnbWVudHMuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVUkkgcGF0aCB3aXRob3V0IGRvdCBzZWdtZW50cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRG90U2VnbWVudHModXJpUGF0aCkge1xuXHRpZiAoIXVyaVBhdGgpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHR2YXIgaW5wdXRCdWZmZXIgPSB1cmlQYXRoLFxuXHRcdG5ld0J1ZmZlciA9ICcnLFxuXHRcdG5leHRTZWdtZW50ID0gJycsXG5cdFx0b3V0cHV0QnVmZmVyID0gJyc7XG5cblx0d2hpbGUgKGlucHV0QnVmZmVyLmxlbmd0aCAhPT0gMCkge1xuXG5cdFx0Ly8gSWYgdGhlIGlucHV0IGJ1ZmZlciBiZWdpbnMgd2l0aCBhIHByZWZpeCBvZiBcIi4uL1wiIG9yIFwiLi9cIixcblx0XHQvLyB0aGVuIHJlbW92ZSB0aGF0IHByZWZpeCBmcm9tIHRoZSBpbnB1dCBidWZmZXJcblx0XHRuZXdCdWZmZXIgPSBpbnB1dEJ1ZmZlci5yZXBsYWNlKC9eXFwuP1xcLlxcLy8sICcnKTtcblx0XHRpZiAobmV3QnVmZmVyICE9PSBpbnB1dEJ1ZmZlcikge1xuXHRcdFx0aW5wdXRCdWZmZXIgPSBuZXdCdWZmZXI7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHQvLyBpZiB0aGUgaW5wdXQgYnVmZmVyIGJlZ2lucyB3aXRoIGEgcHJlZml4IG9mIFwiLy4vXCIgb3IgXCIvLlwiLFxuXHRcdC8vIHdoZXJlIFwiLlwiIGlzIGEgY29tcGxldGUgcGF0aCBzZWdtZW50LCB0aGVuIHJlcGxhY2UgdGhhdFxuXHRcdC8vIHByZWZpeCB3aXRoIFwiL1wiIGluIHRoZSBpbnB1dCBidWZmZXJcblx0XHRuZXdCdWZmZXIgPSBpbnB1dEJ1ZmZlci5yZXBsYWNlKC9eKChcXC9cXC5cXC8pfChcXC9cXC4kKSkvLCAnLycpO1xuXHRcdGlmIChuZXdCdWZmZXIgIT09IGlucHV0QnVmZmVyKSB7XG5cdFx0XHRpbnB1dEJ1ZmZlciA9IG5ld0J1ZmZlcjtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdC8vIGlmIHRoZSBpbnB1dCBidWZmZXIgYmVnaW5zIHdpdGggYSBwcmVmaXggb2YgXCIvLi4vXCIgb3IgXCIvLi5cIixcblx0XHQvLyB3aGVyZSBcIi4uXCIgaXMgYSBjb21wbGV0ZSBwYXRoIHNlZ21lbnQsIHRoZW4gcmVwbGFjZSB0aGF0XG5cdFx0Ly8gcHJlZml4IHdpdGggXCIvXCIgaW4gdGhlIGlucHV0IGJ1ZmZlciBhbmQgcmVtb3ZlIHRoZSBsYXN0XG5cdFx0Ly8gc2VnbWVudCBhbmQgaXRzIHByZWNlZGluZyBcIi9cIiAoaWYgYW55KSBmcm9tIHRoZSBvdXRwdXRcblx0XHQvLyBidWZmZXJcblx0XHRuZXdCdWZmZXIgPSBpbnB1dEJ1ZmZlci5yZXBsYWNlKC9eKChcXC9cXC5cXC5cXC8pfChcXC9cXC5cXC4kKSkvLCAnLycpO1xuXHRcdGlmIChuZXdCdWZmZXIgIT09IGlucHV0QnVmZmVyKSB7XG5cdFx0XHRvdXRwdXRCdWZmZXIgPSBvdXRwdXRCdWZmZXIucmVwbGFjZSgvXFwvW15cXC9dKyQvLCAnJyk7XG5cdFx0XHRpbnB1dEJ1ZmZlciA9IG5ld0J1ZmZlcjtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdC8vIGlmIHRoZSBpbnB1dCBidWZmZXIgY29uc2lzdHMgb25seSBvZiBcIi5cIiBvciBcIi4uXCIsIHRoZW4gcmVtb3ZlXG5cdFx0Ly8gdGhhdCBmcm9tIHRoZSBpbnB1dCBidWZmZXJcblx0XHRpZiAoaW5wdXRCdWZmZXIgPT09ICcuJyB8fCBpbnB1dEJ1ZmZlciA9PT0gJy4uJykge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Ly8gbW92ZSB0aGUgZmlyc3QgcGF0aCBzZWdtZW50IGluIHRoZSBpbnB1dCBidWZmZXIgdG8gdGhlIGVuZCBvZlxuXHRcdC8vIHRoZSBvdXRwdXQgYnVmZmVyLCBpbmNsdWRpbmcgdGhlIGluaXRpYWwgXCIvXCIgY2hhcmFjdGVyIChpZlxuXHRcdC8vIGFueSkgYW5kIGFueSBzdWJzZXF1ZW50IGNoYXJhY3RlcnMgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLFxuXHRcdC8vIHRoZSBuZXh0IFwiL1wiIGNoYXJhY3RlciBvciB0aGUgZW5kIG9mIHRoZSBpbnB1dCBidWZmZXJcblx0XHRuZXh0U2VnbWVudCA9IC9eXFwvP1teXFwvXSooXFwvfCQpLy5leGVjKGlucHV0QnVmZmVyKVswXTtcblx0XHRuZXh0U2VnbWVudCA9IG5leHRTZWdtZW50LnJlcGxhY2UoLyhbXlxcL10pKFxcLyQpLywgJyQxJyk7XG5cdFx0aW5wdXRCdWZmZXIgPSBpbnB1dEJ1ZmZlci5zdWJzdHJpbmcobmV4dFNlZ21lbnQubGVuZ3RoKTtcblx0XHRvdXRwdXRCdWZmZXIgKz0gbmV4dFNlZ21lbnQ7XG5cdH1cblxuXHRyZXR1cm4gb3V0cHV0QnVmZmVyO1xufSIsIi8qXG4gKiBjYXRiZXJyeS11cmlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgRGVuaXMgUmVjaGt1bm92IGFuZCBwcm9qZWN0IGNvbnRyaWJ1dG9ycy5cbiAqXG4gKiBjYXRiZXJyeS11cmkncyBsaWNlbnNlIGZvbGxvd3M6XG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbiAqIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4gKiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sXG4gKiBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSxcbiAqIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKlxuICogVGhpcyBsaWNlbnNlIGFwcGxpZXMgdG8gYWxsIHBhcnRzIG9mIGNhdGJlcnJ5LXVyaSB0aGF0IGFyZSBub3QgZXh0ZXJuYWxseVxuICogbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJJbmZvO1xuXG52YXIgcGVyY2VudEVuY29kaW5nSGVscGVyID0gcmVxdWlyZSgnLi9wZXJjZW50RW5jb2RpbmdIZWxwZXInKTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiB1c2VyIGluZm9ybWF0aW9uIGNvbXBvbmVudCBwYXJzZXIuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuMi4xXG4gKiBAcGFyYW0ge3N0cmluZz99IHVzZXJJbmZvU3RyaW5nIFVzZXIgaW5mb3JtYXRpb24gY29tcG9uZW50IHN0cmluZy5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBVc2VySW5mbyh1c2VySW5mb1N0cmluZykge1xuXHRpZiAodHlwZW9mICh1c2VySW5mb1N0cmluZykgPT09ICdzdHJpbmcnICYmIHVzZXJJbmZvU3RyaW5nLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgcGFydHMgPSB1c2VySW5mb1N0cmluZy5zcGxpdCgnOicpO1xuXHRcdGlmICh0eXBlb2YgKHBhcnRzWzBdKSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMudXNlciA9IHBlcmNlbnRFbmNvZGluZ0hlbHBlci5kZWNvZGUocGFydHNbMF0pO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIChwYXJ0c1sxXSkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aGlzLnBhc3N3b3JkID0gcGVyY2VudEVuY29kaW5nSGVscGVyLmRlY29kZShwYXJ0c1sxXSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQ3VycmVudCB1c2VyIGNvbXBvbmVudC5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cblVzZXJJbmZvLnByb3RvdHlwZS51c2VyID0gbnVsbDtcblxuLyoqXG4gKiBDdXJyZW50IHBhc3N3b3JkLlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuVXNlckluZm8ucHJvdG90eXBlLnBhc3N3b3JkID0gbnVsbDtcblxuLyoqXG4gKiBDbG9uZXMgY3VycmVudCB1c2VyIGluZm9ybWF0aW9uLlxuICogQHJldHVybnMge1VzZXJJbmZvfSBOZXcgY2xvbmUgb2YgY3VycmVudCBvYmplY3QuXG4gKi9cblVzZXJJbmZvLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKCk7XG5cdGlmICh0eXBlb2YgKHRoaXMudXNlcikgPT09ICdzdHJpbmcnKSB7XG5cdFx0dXNlckluZm8udXNlciA9IHRoaXMudXNlcjtcblx0fVxuXHRpZiAodHlwZW9mICh0aGlzLnBhc3N3b3JkKSA9PT0gJ3N0cmluZycpIHtcblx0XHR1c2VySW5mby5wYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7XG5cdH1cblx0cmV0dXJuIHVzZXJJbmZvO1xufTtcblxuLyoqXG4gKiBSZWNvbWJpbmVzIHVzZXIgaW5mb3JtYXRpb24gY29tcG9uZW50cyB0byB1c2VySW5mbyBzdHJpbmcuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVc2VyIGluZm9ybWF0aW9uIGNvbXBvbmVudCBzdHJpbmcuXG4gKi9cblVzZXJJbmZvLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIHJlc3VsdCA9ICcnO1xuXHRpZiAodGhpcy51c2VyICE9PSB1bmRlZmluZWQgJiYgdGhpcy51c2VyICE9PSBudWxsKSB7XG5cdFx0dmFyIHVzZXIgPSBTdHJpbmcodGhpcy51c2VyKTtcblx0XHRyZXN1bHQgKz0gcGVyY2VudEVuY29kaW5nSGVscGVyXG5cdFx0XHQuZW5jb2RlVXNlckluZm9TdWJDb21wb25lbnQodXNlcik7XG5cdH1cblx0aWYgKHRoaXMucGFzc3dvcmQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBhc3N3b3JkICE9PSBudWxsKSB7XG5cdFx0dmFyIHBhc3N3b3JkID0gU3RyaW5nKHRoaXMucGFzc3dvcmQpO1xuXHRcdHJlc3VsdCArPSAnOicgKyBwZXJjZW50RW5jb2RpbmdIZWxwZXJcblx0XHRcdC5lbmNvZGVVc2VySW5mb1N1YkNvbXBvbmVudChwYXNzd29yZCk7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCIvKlxuICogY2F0YmVycnktdXJpXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnktdXJpJ3MgbGljZW5zZSBmb2xsb3dzOlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4gKiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICogZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLFxuICogaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsXG4gKiBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLFxuICogc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbiAqIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1NcbiAqIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICpcbiAqIFRoaXMgbGljZW5zZSBhcHBsaWVzIHRvIGFsbCBwYXJ0cyBvZiBjYXRiZXJyeS11cmkgdGhhdCBhcmUgbm90IGV4dGVybmFsbHlcbiAqIG1haW50YWluZWQgbGlicmFyaWVzLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0yLjFcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdC8vIFxcdUQ4MDAtXFx1REJGRiBcXHVEQzAwLVxcdURGRkZcblx0Ly8gc3Vycm9nYXRlcyBwYWlycyBsaWtlIGVtb2ppIHdlIHNob3VsZCBpZ25vcmVcblx0LyoqXG5cdCAqIEVuY29kZXMgYXV0aG9yaXR5IHVzZXIgaW5mb3JtYXRpb24gc3ViLWNvbXBvbmVudCBhY2NvcmRpbmcgdG8gUkZDIDM5ODYuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgQ29tcG9uZW50IHRvIGVuY29kZS5cblx0ICogQHJldHVybnMge3N0cmluZ30gRW5jb2RlZCBjb21wb25lbnQuXG5cdCAqL1xuXHRlbmNvZGVVc2VySW5mb1N1YkNvbXBvbmVudDogZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdHJldHVybiBzdHJpbmcucmVwbGFjZShcblx0XHRcdC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yLjFcblx0XHRcdC9bXlxcd1xcLn5cXC0hXFwkJidcXChcXClcXCpcXCssOz1cXHVEODAwLVxcdURCRkZcXHVEQzAwLVxcdURGRkZdL2csXG5cdFx0XHRlbmNvZGVVUklDb21wb25lbnRcblx0XHQpO1xuXHR9LFxuXHQvKipcblx0ICogRW5jb2RlcyBhdXRob3JpdHkgaG9zdCBjb21wb25lbnQgYWNjb3JkaW5nIHRvIFJGQyAzOTg2LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIENvbXBvbmVudCB0byBlbmNvZGUuXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IEVuY29kZWQgY29tcG9uZW50LlxuXHQgKi9cblx0ZW5jb2RlSG9zdDogZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdHJldHVybiBzdHJpbmcucmVwbGFjZShcblx0XHRcdC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMy4yLjJcblx0XHRcdC9bXlxcd1xcLn5cXC0hXFwkJidcXChcXClcXCpcXCssOz06XFxbXFxdXFx1RDgwMC1cXHVEQkZGXFx1REMwMC1cXHVERkZGXS9nLFxuXHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50XG5cdFx0KTtcblx0fSxcblx0LyoqXG5cdCAqIEVuY29kZXMgVVJJIHBhdGggY29tcG9uZW50IGFjY29yZGluZyB0byBSRkMgMzk4Ni5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBDb21wb25lbnQgdG8gZW5jb2RlLlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBFbmNvZGVkIGNvbXBvbmVudC5cblx0ICovXG5cdGVuY29kZVBhdGg6IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0XHRyZXR1cm4gc3RyaW5nLnNwbGl0KC8lMmYvaSlcblx0XHRcdC5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcblx0XHRcdFx0cmV0dXJuIHBhcnQucmVwbGFjZShcblx0XHRcdFx0XHQvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuM1xuXHRcdFx0XHRcdC9bXlxcd1xcLn5cXC0hXFwkJidcXChcXClcXCpcXCssOz06QFxcL1xcdUQ4MDAtXFx1REJGRlxcdURDMDAtXFx1REZGRl0vZyxcblx0XHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnRcblx0XHRcdFx0KTtcblx0XHRcdH0pXG5cdFx0XHQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50KSB7XG5cdFx0XHRcdGlmICghcHJldikge1xuXHRcdFx0XHRcdHJldHVybiBjdXJyZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghY3VycmVudCkge1xuXHRcdFx0XHRcdHJldHVybiBwcmV2O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBwcmV2ICsgJyUyRicgKyBjdXJyZW50O1xuXHRcdFx0fSwgJycpO1xuXHR9LFxuXHQvKipcblx0ICogRW5jb2RlcyBxdWVyeSBzdWItY29tcG9uZW50IGFjY29yZGluZyB0byBSRkMgMzk4Ni5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBDb21wb25lbnQgdG8gZW5jb2RlLlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBFbmNvZGVkIGNvbXBvbmVudC5cblx0ICovXG5cdGVuY29kZVF1ZXJ5U3ViQ29tcG9uZW50OiBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKFxuXHRcdFx0Ly8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjRcblx0XHRcdC9bXlxcd1xcLn5cXC0hXFwkJ1xcKFxcKVxcKlxcKyw7OkBcXC9cXD9cXHVEODAwLVxcdURCRkZcXHVEQzAwLVxcdURGRkZdL2csXG5cdFx0XHRlbmNvZGVVUklDb21wb25lbnRcblx0XHQpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBFbmNvZGVzIFVSSSBmcmFnbWVudCBjb21wb25lbnQgYWNjb3JkaW5nIHRvIFJGQyAzOTg2LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIENvbXBvbmVudCB0byBlbmNvZGUuXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IEVuY29kZWQgY29tcG9uZW50LlxuXHQgKi9cblx0ZW5jb2RlRnJhZ21lbnQ6IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoXG5cdFx0XHQvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTMuNVxuXHRcdFx0L1teXFx3XFwuflxcLSFcXCQmJ1xcKFxcKVxcKlxcKyw7PTpAXFwvXFw/XFx1RDgwMC1cXHVEQkZGXFx1REMwMC1cXHVERkZGXS9nLFxuXHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50XG5cdFx0KTtcblx0fSxcblxuXHQvKipcblx0ICogRGVjb2RlcyBwZXJjZW50IGVuY29kZWQgY29tcG9uZW50LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIENvbXBvbmVudCB0byBkZWNvZGUuXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IERlY29kZWQgY29tcG9uZW50LlxuXHQgKi9cblx0ZGVjb2RlOiBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJpbmcpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBEZWNvZGVzIHBlcmNlbnQgZW5jb2RlZCBwYXRoIGNvbXBvbmVudC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBDb21wb25lbnQgdG8gZGVjb2RlLlxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBEZWNvZGVkIHBhdGggY29tcG9uZW50LlxuXHQgKi9cblx0ZGVjb2RlUGF0aDogZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdHJldHVybiBzdHJpbmcuc3BsaXQoLyUyZi9pKVxuXHRcdFx0Lm1hcChkZWNvZGVVUklDb21wb25lbnQpXG5cdFx0XHQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50KSB7XG5cdFx0XHRcdGlmICghcHJldikge1xuXHRcdFx0XHRcdHJldHVybiBjdXJyZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghY3VycmVudCkge1xuXHRcdFx0XHRcdHJldHVybiBwcmV2O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBwcmV2ICsgJyUyRicgKyBjdXJyZW50O1xuXHRcdFx0fSwgJycpO1xuXHR9XG59OyIsIi8vIENyZWF0ZSBhIHJhbmdlIG9iamVjdCBmb3IgZWZmaWNlbnRseSByZW5kZXJpbmcgc3RyaW5ncyB0byBlbGVtZW50cy5cbnZhciByYW5nZTtcblxuZnVuY3Rpb24gZW1wdHkobykge1xuICAgIGZvciAodmFyIGsgaW4gbykge1xuICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB0b0VsZW1lbnQoc3RyKSB7XG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuXG4gICAgdmFyIGZyYWdtZW50O1xuICAgIGlmIChyYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQpIHtcbiAgICAgICAgZnJhZ21lbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoc3RyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgZnJhZ21lbnQuaW5uZXJIVE1MID0gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbn1cblxudmFyIHNwZWNpYWxFbEhhbmRsZXJzID0ge1xuICAgIC8qKlxuICAgICAqIE5lZWRlZCBmb3IgSUUuIEFwcGFyZW50bHkgSUUgZG9lc24ndCB0aGlua1xuICAgICAqIHRoYXQgXCJzZWxlY3RlZFwiIGlzIGFuIGF0dHJpYnV0ZSB3aGVuIHJlYWRpbmdcbiAgICAgKiBvdmVyIHRoZSBhdHRyaWJ1dGVzIHVzaW5nIHNlbGVjdEVsLmF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBPUFRJT046IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBpZiAoKGZyb21FbC5zZWxlY3RlZCA9IHRvRWwuc2VsZWN0ZWQpKSB7XG4gICAgICAgICAgICBmcm9tRWwuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUaGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBpcyBzcGVjaWFsIGZvciB0aGUgPGlucHV0PiBlbGVtZW50XG4gICAgICogc2luY2UgaXQgc2V0cyB0aGUgaW5pdGlhbCB2YWx1ZS4gQ2hhbmdpbmcgdGhlIFwidmFsdWVcIlxuICAgICAqIGF0dHJpYnV0ZSB3aXRob3V0IGNoYW5naW5nIHRoZSBcInZhbHVlXCIgcHJvcGVydHkgd2lsbCBoYXZlXG4gICAgICogbm8gZWZmZWN0IHNpbmNlIGl0IGlzIG9ubHkgdXNlZCB0byB0aGUgc2V0IHRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIFNpbWlsYXIgZm9yIHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgSU5QVVQ6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICBmcm9tRWwuY2hlY2tlZCA9IHRvRWwuY2hlY2tlZDtcblxuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9IHRvRWwudmFsdWUpIHtcbiAgICAgICAgICAgIGZyb21FbC52YWx1ZSA9IHRvRWwudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRvRWwuaGFzQXR0cmlidXRlKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ2NoZWNrZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdG9FbC5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgIGZyb21FbC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgVEVYVEFSRUE6IGZ1bmN0aW9uKGZyb21FbCwgdG9FbCkge1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSB0b0VsLnZhbHVlO1xuICAgICAgICBpZiAoZnJvbUVsLnZhbHVlICE9IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBmcm9tRWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcm9tRWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZnJvbUVsLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXG4gKiBMb29wIG92ZXIgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIG9uIHRoZSB0YXJnZXQgbm9kZSBhbmQgbWFrZSBzdXJlIHRoZVxuICogb3JpZ2luYWwgRE9NIG5vZGUgaGFzIHRoZSBzYW1lIGF0dHJpYnV0ZXMuIElmIGFuIGF0dHJpYnV0ZVxuICogZm91bmQgb24gdGhlIG9yaWdpbmFsIG5vZGUgaXMgbm90IG9uIHRoZSBuZXcgbm9kZSB0aGVuIHJlbW92ZSBpdCBmcm9tXG4gKiB0aGUgb3JpZ2luYWwgbm9kZVxuICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGZyb21Ob2RlXG4gKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gdG9Ob2RlXG4gKi9cbmZ1bmN0aW9uIG1vcnBoQXR0cnMoZnJvbU5vZGUsIHRvTm9kZSkge1xuICAgIHZhciBhdHRycyA9IHRvTm9kZS5hdHRyaWJ1dGVzO1xuICAgIHZhciBpO1xuICAgIHZhciBhdHRyO1xuICAgIHZhciBhdHRyTmFtZTtcbiAgICB2YXIgYXR0clZhbHVlO1xuICAgIHZhciBmb3VuZEF0dHJzID0ge307XG5cbiAgICBmb3IgKGk9YXR0cnMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgIGlmIChhdHRyLnNwZWNpZmllZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgYXR0clZhbHVlID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIGZvdW5kQXR0cnNbYXR0ck5hbWVdID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGZyb21Ob2RlLmdldEF0dHJpYnV0ZShhdHRyTmFtZSkgIT09IGF0dHJWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGZyb21Ob2RlLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlbGV0ZSBhbnkgZXh0cmEgYXR0cmlidXRlcyBmb3VuZCBvbiB0aGUgb3JpZ2luYWwgRE9NIGVsZW1lbnQgdGhhdCB3ZXJlbid0XG4gICAgLy8gZm91bmQgb24gdGhlIHRhcmdldCBlbGVtZW50LlxuICAgIGF0dHJzID0gZnJvbU5vZGUuYXR0cmlidXRlcztcblxuICAgIGZvciAoaT1hdHRycy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKGF0dHIuc3BlY2lmaWVkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgYXR0ck5hbWUgPSBhdHRyLm5hbWU7XG4gICAgICAgICAgICBpZiAoIWZvdW5kQXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDb3BpZXMgdGhlIGNoaWxkcmVuIG9mIG9uZSBET00gZWxlbWVudCB0byBhbm90aGVyIERPTSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIG1vdmVDaGlsZHJlbihmcm9tRWwsIHRvRWwpIHtcbiAgICB2YXIgY3VyQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICB3aGlsZShjdXJDaGlsZCkge1xuICAgICAgICB2YXIgbmV4dENoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIHRvRWwuYXBwZW5kQ2hpbGQoY3VyQ2hpbGQpO1xuICAgICAgICBjdXJDaGlsZCA9IG5leHRDaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIHRvRWw7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXROb2RlS2V5KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5pZDtcbn1cblxuZnVuY3Rpb24gbW9ycGhkb20oZnJvbU5vZGUsIHRvTm9kZSwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0b05vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRvTm9kZSA9IHRvRWxlbWVudCh0b05vZGUpO1xuICAgIH1cblxuICAgIHZhciBzYXZlZEVscyA9IHt9OyAvLyBVc2VkIHRvIHNhdmUgb2ZmIERPTSBlbGVtZW50cyB3aXRoIElEc1xuICAgIHZhciB1bm1hdGNoZWRFbHMgPSB7fTtcbiAgICB2YXIgZ2V0Tm9kZUtleSA9IG9wdGlvbnMuZ2V0Tm9kZUtleSB8fCBkZWZhdWx0R2V0Tm9kZUtleTtcbiAgICB2YXIgb25Ob2RlRGlzY2FyZGVkID0gb3B0aW9ucy5vbk5vZGVEaXNjYXJkZWQgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVNb3JwaEVsID0gb3B0aW9ucy5vbkJlZm9yZU1vcnBoRWwgfHwgbm9vcDtcbiAgICB2YXIgb25CZWZvcmVNb3JwaEVsQ2hpbGRyZW4gPSBvcHRpb25zLm9uQmVmb3JlTW9ycGhFbENoaWxkcmVuIHx8IG5vb3A7XG4gICAgdmFyIG9uQmVmb3JlTm9kZURpc2NhcmRlZCA9IG9wdGlvbnMub25CZWZvcmVOb2RlRGlzY2FyZGVkIHx8IG5vb3A7XG4gICAgdmFyIGNoaWxkcmVuT25seSA9IG9wdGlvbnMuY2hpbGRyZW5Pbmx5ID09PSB0cnVlO1xuICAgIHZhciBtb3ZlZEVscyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gcmVtb3ZlTm9kZUhlbHBlcihub2RlLCBuZXN0ZWRJblNhdmVkRWwpIHtcbiAgICAgICAgdmFyIGlkID0gZ2V0Tm9kZUtleShub2RlKTtcbiAgICAgICAgLy8gSWYgdGhlIG5vZGUgaGFzIGFuIElEIHRoZW4gc2F2ZSBpdCBvZmYgc2luY2Ugd2Ugd2lsbCB3YW50XG4gICAgICAgIC8vIHRvIHJldXNlIGl0IGluIGNhc2UgdGhlIHRhcmdldCBET00gdHJlZSBoYXMgYSBET00gZWxlbWVudFxuICAgICAgICAvLyB3aXRoIHRoZSBzYW1lIElEXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgc2F2ZWRFbHNbaWRdID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICghbmVzdGVkSW5TYXZlZEVsKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IG5lc3RlZCBpbiBhIHNhdmVkIGVsZW1lbnQgdGhlbiB3ZSBrbm93IHRoYXQgdGhpcyBub2RlIGhhcyBiZWVuXG4gICAgICAgICAgICAvLyBjb21wbGV0ZWx5IGRpc2NhcmRlZCBhbmQgd2lsbCBub3QgZXhpc3QgaW4gdGhlIGZpbmFsIERPTS5cbiAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICB2YXIgY3VyQ2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZShjdXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVIZWxwZXIoY3VyQ2hpbGQsIG5lc3RlZEluU2F2ZWRFbCB8fCBpZCk7XG4gICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBjdXJDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHdoaWxlKGN1ckNoaWxkKSB7XG5cblxuICAgICAgICAgICAgICAgIGlmICghZ2V0Tm9kZUtleShjdXJDaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSB3YW50IHRvIGhhbmRsZSBub2RlcyB0aGF0IGRvbid0IGhhdmUgYW4gSUQgdG8gYXZvaWQgZG91YmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhbGtpbmcgdGhlIHNhbWUgc2F2ZWQgZWxlbWVudC5cblxuICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoY3VyQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdhbGsgcmVjdXJzaXZlbHlcbiAgICAgICAgICAgICAgICAgICAgd2Fsa0Rpc2NhcmRlZENoaWxkTm9kZXMoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1ckNoaWxkID0gY3VyQ2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUsIHBhcmVudE5vZGUsIGFscmVhZHlWaXNpdGVkKSB7XG4gICAgICAgIGlmIChvbkJlZm9yZU5vZGVEaXNjYXJkZWQobm9kZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICBpZiAoYWxyZWFkeVZpc2l0ZWQpIHtcbiAgICAgICAgICAgIGlmICghZ2V0Tm9kZUtleShub2RlKSkge1xuICAgICAgICAgICAgICAgIG9uTm9kZURpc2NhcmRlZChub2RlKTtcbiAgICAgICAgICAgICAgICB3YWxrRGlzY2FyZGVkQ2hpbGROb2Rlcyhub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGVIZWxwZXIobm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb3JwaEVsKGZyb21FbCwgdG9FbCwgYWxyZWFkeVZpc2l0ZWQsIGNoaWxkcmVuT25seSkge1xuICAgICAgICB2YXIgdG9FbEtleSA9IGdldE5vZGVLZXkodG9FbCk7XG4gICAgICAgIGlmICh0b0VsS2V5KSB7XG4gICAgICAgICAgICAvLyBJZiBhbiBlbGVtZW50IHdpdGggYW4gSUQgaXMgYmVpbmcgbW9ycGhlZCB0aGVuIGl0IGlzIHdpbGwgYmUgaW4gdGhlIGZpbmFsXG4gICAgICAgICAgICAvLyBET00gc28gY2xlYXIgaXQgb3V0IG9mIHRoZSBzYXZlZCBlbGVtZW50cyBjb2xsZWN0aW9uXG4gICAgICAgICAgICBkZWxldGUgc2F2ZWRFbHNbdG9FbEtleV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNoaWxkcmVuT25seSkge1xuICAgICAgICAgICAgaWYgKG9uQmVmb3JlTW9ycGhFbChmcm9tRWwsIHRvRWwpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9ycGhBdHRycyhmcm9tRWwsIHRvRWwpO1xuXG4gICAgICAgICAgICBpZiAob25CZWZvcmVNb3JwaEVsQ2hpbGRyZW4oZnJvbUVsLCB0b0VsKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbUVsLnRhZ05hbWUgIT0gJ1RFWFRBUkVBJykge1xuICAgICAgICAgICAgdmFyIGN1clRvTm9kZUNoaWxkID0gdG9FbC5maXJzdENoaWxkO1xuICAgICAgICAgICAgdmFyIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tRWwuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHZhciBjdXJUb05vZGVJZDtcblxuICAgICAgICAgICAgdmFyIGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIHZhciB0b05leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIHNhdmVkRWw7XG4gICAgICAgICAgICB2YXIgdW5tYXRjaGVkRWw7XG5cbiAgICAgICAgICAgIG91dGVyOiB3aGlsZShjdXJUb05vZGVDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRvTmV4dFNpYmxpbmcgPSBjdXJUb05vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBjdXJUb05vZGVJZCA9IGdldE5vZGVLZXkoY3VyVG9Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUoY3VyRnJvbU5vZGVDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyRnJvbU5vZGVJZCA9IGdldE5vZGVLZXkoY3VyRnJvbU5vZGVDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGZyb21OZXh0U2libGluZyA9IGN1ckZyb21Ob2RlQ2hpbGQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5VmlzaXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ckZyb21Ob2RlSWQgJiYgKHVubWF0Y2hlZEVsID0gdW5tYXRjaGVkRWxzW2N1ckZyb21Ob2RlSWRdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWF0Y2hlZEVsLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGN1ckZyb21Ob2RlQ2hpbGQsIHVubWF0Y2hlZEVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3JwaEVsKGN1ckZyb21Ob2RlQ2hpbGQsIHVubWF0Y2hlZEVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJGcm9tTm9kZVR5cGUgPSBjdXJGcm9tTm9kZUNoaWxkLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNDb21wYXRpYmxlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZVR5cGUgPT09IDEpIHsgLy8gQm90aCBub2RlcyBiZWluZyBjb21wYXJlZCBhcmUgRWxlbWVudCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJGcm9tTm9kZUNoaWxkLnRhZ05hbWUgPT09IGN1clRvTm9kZUNoaWxkLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBjb21wYXRpYmxlIERPTSBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyRnJvbU5vZGVJZCB8fCBjdXJUb05vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgZWl0aGVyIERPTSBlbGVtZW50IGhhcyBhbiBJRCB0aGVuIHdlIGhhbmRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhvc2UgZGlmZmVyZW50bHkgc2luY2Ugd2Ugd2FudCB0byBtYXRjaCB1cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJUb05vZGVJZCA9PT0gY3VyRnJvbU5vZGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBjb21wYXRpYmxlIERPTSBlbGVtZW50cyBzbyB0cmFuc2Zvcm0gdGhlIGN1cnJlbnQgXCJmcm9tXCIgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBtYXRjaCB0aGUgY3VycmVudCB0YXJnZXQgRE9NIG5vZGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoY3VyRnJvbU5vZGVDaGlsZCwgY3VyVG9Ob2RlQ2hpbGQsIGFscmVhZHlWaXNpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1ckZyb21Ob2RlVHlwZSA9PT0gMykgeyAvLyBCb3RoIG5vZGVzIGJlaW5nIGNvbXBhcmVkIGFyZSBUZXh0IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW1wbHkgdXBkYXRlIG5vZGVWYWx1ZSBvbiB0aGUgb3JpZ2luYWwgbm9kZSB0byBjaGFuZ2UgdGhlIHRleHQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkLm5vZGVWYWx1ZSA9IGN1clRvTm9kZUNoaWxkLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGF0aWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRvTm9kZUNoaWxkID0gdG9OZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJGcm9tTm9kZUNoaWxkID0gZnJvbU5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gY29tcGF0aWJsZSBtYXRjaCBzbyByZW1vdmUgdGhlIG9sZCBub2RlIGZyb20gdGhlIERPTSBhbmQgY29udGludWUgdHJ5aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGZpbmQgYSBtYXRjaCBpbiB0aGUgb3JpZ2luYWwgRE9NXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY3VyRnJvbU5vZGVDaGlsZCwgZnJvbUVsLCBhbHJlYWR5VmlzaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoc2F2ZWRFbCA9IHNhdmVkRWxzW2N1clRvTm9kZUlkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vcnBoRWwoc2F2ZWRFbCwgY3VyVG9Ob2RlQ2hpbGQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyVG9Ob2RlQ2hpbGQgPSBzYXZlZEVsOyAvLyBXZSB3YW50IHRvIGFwcGVuZCB0aGUgc2F2ZWQgZWxlbWVudCBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBET00gZWxlbWVudCBpbiB0aGUgdGFyZ2V0IHRyZWUgaGFzIGFuIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2UgZGlkIG5vdCBmaW5kIGEgbWF0Y2ggaW4gYW55IG9mIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaWJsaW5ncy4gV2UganVzdCBwdXQgdGhlIHRhcmdldCBlbGVtZW50IGluIHRoZSBvbGQgRE9NIHRyZWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpZiB3ZSBsYXRlciBmaW5kIGFuIGVsZW1lbnQgaW4gdGhlIG9sZCBET00gdHJlZSB0aGF0IGhhc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBtYXRjaGluZyBJRCB0aGVuIHdlIHdpbGwgcmVwbGFjZSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgb2xkIGVsZW1lbnQgYW5kIG1vcnBoIHRoZSBvbGQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5tYXRjaGVkRWxzW2N1clRvTm9kZUlkXSA9IGN1clRvTm9kZUNoaWxkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgZ290IHRoaXMgZmFyIHRoZW4gd2UgZGlkIG5vdCBmaW5kIGEgY2FuZGlkYXRlIG1hdGNoIGZvciBvdXIgXCJ0byBub2RlXCJcbiAgICAgICAgICAgICAgICAvLyBhbmQgd2UgZXhoYXVzdGVkIGFsbCBvZiB0aGUgY2hpbGRyZW4gXCJmcm9tXCIgbm9kZXMuIFRoZXJlZm9yZSwgd2Ugd2lsbCBqdXN0XG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRoZSBjdXJyZW50IFwidG8gbm9kZVwiIHRvIHRoZSBlbmRcbiAgICAgICAgICAgICAgICBmcm9tRWwuYXBwZW5kQ2hpbGQoY3VyVG9Ob2RlQ2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1clRvTm9kZUNoaWxkLm5vZGVUeXBlID09PSAxICYmIChjdXJUb05vZGVJZCB8fCBjdXJUb05vZGVDaGlsZC5maXJzdENoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB0aGF0IHdhcyBqdXN0IGFkZGVkIHRvIHRoZSBvcmlnaW5hbCBET00gbWF5IGhhdmVcbiAgICAgICAgICAgICAgICAgICAgLy8gc29tZSBuZXN0ZWQgZWxlbWVudHMgd2l0aCBhIGtleS9JRCB0aGF0IG5lZWRzIHRvIGJlIG1hdGNoZWQgdXBcbiAgICAgICAgICAgICAgICAgICAgLy8gd2l0aCBvdGhlciBlbGVtZW50cy4gV2UnbGwgYWRkIHRoZSBlbGVtZW50IHRvIGEgbGlzdCBzbyB0aGF0IHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbiBsYXRlciBwcm9jZXNzIHRoZSBuZXN0ZWQgZWxlbWVudHMgaWYgdGhlcmUgYXJlIGFueSB1bm1hdGNoZWRcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5ZWQgZWxlbWVudHMgdGhhdCB3ZXJlIGRpc2NhcmRlZFxuICAgICAgICAgICAgICAgICAgICBtb3ZlZEVscy5wdXNoKGN1clRvTm9kZUNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJUb05vZGVDaGlsZCA9IHRvTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY3VyRnJvbU5vZGVDaGlsZCA9IGZyb21OZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBwcm9jZXNzZWQgYWxsIG9mIHRoZSBcInRvIG5vZGVzXCIuIElmIGN1ckZyb21Ob2RlQ2hpbGQgaXMgbm9uLW51bGwgdGhlblxuICAgICAgICAgICAgLy8gd2Ugc3RpbGwgaGF2ZSBzb21lIGZyb20gbm9kZXMgbGVmdCBvdmVyIHRoYXQgbmVlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgICB3aGlsZShjdXJGcm9tTm9kZUNoaWxkKSB7XG4gICAgICAgICAgICAgICAgZnJvbU5leHRTaWJsaW5nID0gY3VyRnJvbU5vZGVDaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICByZW1vdmVOb2RlKGN1ckZyb21Ob2RlQ2hpbGQsIGZyb21FbCwgYWxyZWFkeVZpc2l0ZWQpO1xuICAgICAgICAgICAgICAgIGN1ckZyb21Ob2RlQ2hpbGQgPSBmcm9tTmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3BlY2lhbEVsSGFuZGxlciA9IHNwZWNpYWxFbEhhbmRsZXJzW2Zyb21FbC50YWdOYW1lXTtcbiAgICAgICAgaWYgKHNwZWNpYWxFbEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHNwZWNpYWxFbEhhbmRsZXIoZnJvbUVsLCB0b0VsKTtcbiAgICAgICAgfVxuICAgIH0gLy8gRU5EOiBtb3JwaEVsKC4uLilcblxuICAgIHZhciBtb3JwaGVkTm9kZSA9IGZyb21Ob2RlO1xuICAgIHZhciBtb3JwaGVkTm9kZVR5cGUgPSBtb3JwaGVkTm9kZS5ub2RlVHlwZTtcbiAgICB2YXIgdG9Ob2RlVHlwZSA9IHRvTm9kZS5ub2RlVHlwZTtcblxuICAgIGlmICghY2hpbGRyZW5Pbmx5KSB7XG4gICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBhcmUgZ2l2ZW4gdHdvIERPTSBub2RlcyB0aGF0IGFyZSBub3RcbiAgICAgICAgLy8gY29tcGF0aWJsZSAoZS5nLiA8ZGl2PiAtLT4gPHNwYW4+IG9yIDxkaXY+IC0tPiBURVhUKVxuICAgICAgICBpZiAobW9ycGhlZE5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICBpZiAodG9Ob2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tTm9kZS50YWdOYW1lICE9PSB0b05vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBvbk5vZGVEaXNjYXJkZWQoZnJvbU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IG1vdmVDaGlsZHJlbihmcm9tTm9kZSwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0b05vZGUudGFnTmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gR29pbmcgZnJvbSBhbiBlbGVtZW50IG5vZGUgdG8gYSB0ZXh0IG5vZGVcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb3JwaGVkTm9kZVR5cGUgPT09IDMpIHsgLy8gVGV4dCBub2RlXG4gICAgICAgICAgICBpZiAodG9Ob2RlVHlwZSA9PT0gMykge1xuICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlLm5vZGVWYWx1ZSA9IHRvTm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vcnBoZWROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUZXh0IG5vZGUgdG8gc29tZXRoaW5nIGVsc2VcbiAgICAgICAgICAgICAgICBtb3JwaGVkTm9kZSA9IHRvTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb3JwaGVkTm9kZSA9PT0gdG9Ob2RlKSB7XG4gICAgICAgIC8vIFRoZSBcInRvIG5vZGVcIiB3YXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgXCJmcm9tIG5vZGVcIlxuICAgICAgICAvLyBzbyB3ZSBoYWQgdG8gdG9zcyBvdXQgdGhlIFwiZnJvbSBub2RlXCIgYW5kIHVzZSB0aGUgXCJ0byBub2RlXCJcbiAgICAgICAgb25Ob2RlRGlzY2FyZGVkKGZyb21Ob2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtb3JwaEVsKG1vcnBoZWROb2RlLCB0b05vZGUsIGZhbHNlLCBjaGlsZHJlbk9ubHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGF0IHdlIHdpbGwgZG8gaGVyZSBpcyB3YWxrIHRoZSB0cmVlIGZvciB0aGUgRE9NIGVsZW1lbnRcbiAgICAgICAgICogdGhhdCB3YXMgbW92ZWQgZnJvbSB0aGUgdGFyZ2V0IERPTSB0cmVlIHRvIHRoZSBvcmlnaW5hbFxuICAgICAgICAgKiBET00gdHJlZSBhbmQgd2Ugd2lsbCBsb29rIGZvciBrZXllZCBlbGVtZW50cyB0aGF0IGNvdWxkXG4gICAgICAgICAqIGJlIG1hdGNoZWQgdG8ga2V5ZWQgZWxlbWVudHMgdGhhdCB3ZXJlIGVhcmxpZXIgZGlzY2FyZGVkLlxuICAgICAgICAgKiBJZiB3ZSBmaW5kIGEgbWF0Y2ggdGhlbiB3ZSB3aWxsIG1vdmUgdGhlIHNhdmVkIGVsZW1lbnRcbiAgICAgICAgICogaW50byB0aGUgZmluYWwgRE9NIHRyZWVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBoYW5kbGVNb3ZlZEVsID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciBjdXJDaGlsZCA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZShjdXJDaGlsZCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0U2libGluZyA9IGN1ckNoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGdldE5vZGVLZXkoY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhdmVkRWwgPSBzYXZlZEVsc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWRFbCAmJiAoY3VyQ2hpbGQudGFnTmFtZSA9PT0gc2F2ZWRFbC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoc2F2ZWRFbCwgY3VyQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhFbChzYXZlZEVsLCBjdXJDaGlsZCwgdHJ1ZSAvKiBhbHJlYWR5IHZpc2l0ZWQgdGhlIHNhdmVkIGVsIHRyZWUgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyQ2hpbGQgPSBuZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eShzYXZlZEVscykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjdXJDaGlsZC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb3ZlZEVsKGN1ckNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJDaGlsZCA9IG5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGlzIHVzZWQgdG8gcG9zc2libHkgbWF0Y2ggdXAgYW55IGRpc2NhcmRlZFxuICAgICAgICAvLyBlbGVtZW50cyBpbiB0aGUgb3JpZ2luYWwgRE9NIHRyZWUgd2l0aCBlbGVtZW5ldHMgZnJvbSB0aGVcbiAgICAgICAgLy8gdGFyZ2V0IHRyZWUgdGhhdCB3ZXJlIG1vdmVkIG92ZXIgd2l0aG91dCB2aXNpdGluZyB0aGVpclxuICAgICAgICAvLyBjaGlsZHJlblxuICAgICAgICBpZiAoIWVtcHR5KHNhdmVkRWxzKSkge1xuICAgICAgICAgICAgaGFuZGxlTW92ZWRFbHNMb29wOlxuICAgICAgICAgICAgd2hpbGUgKG1vdmVkRWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlZEVsc1RlbXAgPSBtb3ZlZEVscztcbiAgICAgICAgICAgICAgICBtb3ZlZEVscyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxtb3ZlZEVsc1RlbXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZU1vdmVkRWwobW92ZWRFbHNUZW1wW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBubyBtb3JlIHVubWF0Y2hlZCBlbGVtZW50cyBzbyBjb21wbGV0ZWx5IGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGhhbmRsZU1vdmVkRWxzTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcmUgdGhlIFwib25Ob2RlRGlzY2FyZGVkXCIgZXZlbnQgZm9yIGFueSBzYXZlZCBlbGVtZW50c1xuICAgICAgICAvLyB0aGF0IG5ldmVyIGZvdW5kIGEgbmV3IGhvbWUgaW4gdGhlIG1vcnBoZWQgRE9NXG4gICAgICAgIGZvciAodmFyIHNhdmVkRWxJZCBpbiBzYXZlZEVscykge1xuICAgICAgICAgICAgaWYgKHNhdmVkRWxzLmhhc093blByb3BlcnR5KHNhdmVkRWxJZCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZWRFbCA9IHNhdmVkRWxzW3NhdmVkRWxJZF07XG4gICAgICAgICAgICAgICAgb25Ob2RlRGlzY2FyZGVkKHNhdmVkRWwpO1xuICAgICAgICAgICAgICAgIHdhbGtEaXNjYXJkZWRDaGlsZE5vZGVzKHNhdmVkRWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjaGlsZHJlbk9ubHkgJiYgbW9ycGhlZE5vZGUgIT09IGZyb21Ob2RlICYmIGZyb21Ob2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgLy8gSWYgd2UgaGFkIHRvIHN3YXAgb3V0IHRoZSBmcm9tIG5vZGUgd2l0aCBhIG5ldyBub2RlIGJlY2F1c2UgdGhlIG9sZFxuICAgICAgICAvLyBub2RlIHdhcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSB0YXJnZXQgbm9kZSB0aGVuIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gcmVwbGFjZSB0aGUgb2xkIERPTSBub2RlIGluIHRoZSBvcmlnaW5hbCBET00gdHJlZS4gVGhpcyBpcyBvbmx5XG4gICAgICAgIC8vIHBvc3NpYmxlIGlmIHRoZSBvcmlnaW5hbCBET00gbm9kZSB3YXMgcGFydCBvZiBhIERPTSB0cmVlIHdoaWNoXG4gICAgICAgIC8vIHdlIGtub3cgaXMgdGhlIGNhc2UgaWYgaXQgaGFzIGEgcGFyZW50IG5vZGUuXG4gICAgICAgIGZyb21Ob2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG1vcnBoZWROb2RlLCBmcm9tTm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vcnBoZWROb2RlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vcnBoZG9tO1xuIiwiLypqc2hpbnQgbm9kZTp0cnVlICovXHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBtaW5pbWFsRGVzYyA9IFsnaCcsICdtaW4nLCAncycsICdtcycsICfOvHMnLCAnbnMnXTtcclxudmFyIHZlcmJvc2VEZXNjID0gWydob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnLCAnbWljcm9zZWNvbmQnLCAnbmFub3NlY29uZCddO1xyXG52YXIgY29udmVydCA9IFs2MCo2MCwgNjAsIDEsIDFlNiwgMWUzLCAxXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNvdXJjZSwgb3B0cykge1xyXG5cdHZhciB2ZXJib3NlLCBwcmVjaXNlLCBpLCBzcG90LCBzb3VyY2VBdFN0ZXAsIHZhbEF0U3RlcCwgZGVjaW1hbHMsIHN0ckF0U3RlcCwgcmVzdWx0cztcclxuXHJcblx0dmVyYm9zZSA9IGZhbHNlO1xyXG5cdHByZWNpc2UgPSBmYWxzZTtcclxuXHRpZiAob3B0cykge1xyXG5cdFx0dmVyYm9zZSA9IG9wdHMudmVyYm9zZSB8fCBmYWxzZTtcclxuXHRcdHByZWNpc2UgPSBvcHRzLnByZWNpc2UgfHwgZmFsc2U7XHJcblx0fVxyXG5cclxuXHRpZiAoIUFycmF5LmlzQXJyYXkoc291cmNlKSB8fCBzb3VyY2UubGVuZ3RoICE9PSAyKSB7XHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fVxyXG5cdGlmICh0eXBlb2Ygc291cmNlWzBdICE9PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc291cmNlWzFdICE9PSAnbnVtYmVyJykge1xyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH1cclxuXHJcblx0cmVzdWx0cyA9ICcnO1xyXG5cclxuXHQvLyBmb3JlYWNoIHVuaXRcclxuXHRmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcblx0XHRzcG90ID0gaSA8IDMgPyAwIDogMTsgLy8gZ3JhYmJpbmcgZmlyc3Qgb3Igc2Vjb25kIHNwb3QgaW4gc291cmNlIGFycmF5XHJcblx0XHRzb3VyY2VBdFN0ZXAgPSBzb3VyY2Vbc3BvdF07XHJcblx0XHRpZiAoaSAhPT0gMyAmJiBpICE9PSAwKSB7XHJcblx0XHRcdHNvdXJjZUF0U3RlcCA9IHNvdXJjZUF0U3RlcCAlIGNvbnZlcnRbaS0xXTsgLy8gdHJpbSBvZmYgcHJldmlvdXMgcG9ydGlvbnNcclxuXHRcdH1cclxuXHRcdGlmIChpID09PSAyKSB7XHJcblx0XHRcdHNvdXJjZUF0U3RlcCArPSBzb3VyY2VbMV0vMWU5OyAvLyBnZXQgcGFydGlhbCBzZWNvbmRzIGZyb20gb3RoZXIgcG9ydGlvbiBvZiB0aGUgYXJyYXlcclxuXHRcdH1cclxuXHRcdHZhbEF0U3RlcCA9IHNvdXJjZUF0U3RlcCAvIGNvbnZlcnRbaV07IC8vIHZhbCBhdCB0aGlzIHVuaXRcclxuXHRcdGlmICh2YWxBdFN0ZXAgPj0gMSkge1xyXG5cdFx0XHRpZiAodmVyYm9zZSkge1xyXG5cdFx0XHRcdHZhbEF0U3RlcCA9IE1hdGguZmxvb3IodmFsQXRTdGVwKTsgLy8gZGVhbCBpbiB3aG9sZSB1bml0cywgc3Vic2VxdWVudCBsYXBzIHdpbGwgZ2V0IHRoZSBkZWNpbWFsIHBvcnRpb25cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXByZWNpc2UpIHtcclxuXHRcdFx0XHQvLyBkb24ndCBmbGluZyB0b28gbWFueSBkZWNpbWFsc1xyXG5cdFx0XHRcdGRlY2ltYWxzID0gdmFsQXRTdGVwID49IDEwID8gMCA6IDI7XHJcblx0XHRcdFx0c3RyQXRTdGVwID0gdmFsQXRTdGVwLnRvRml4ZWQoZGVjaW1hbHMpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0ckF0U3RlcCA9IHZhbEF0U3RlcC50b1N0cmluZygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChzdHJBdFN0ZXAuaW5kZXhPZignLicpID4gLTEgJiYgc3RyQXRTdGVwW3N0ckF0U3RlcC5sZW5ndGgtMV0gPT09ICcwJykge1xyXG5cdFx0XHRcdHN0ckF0U3RlcCA9IHN0ckF0U3RlcC5yZXBsYWNlKC9cXC4/MCskLywnJyk7IC8vIHJlbW92ZSB0cmFpbGluZyB6ZXJvc1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChyZXN1bHRzKSB7XHJcblx0XHRcdFx0cmVzdWx0cyArPSAnICc7IC8vIGFwcGVuZCBzcGFjZSBpZiB3ZSBoYXZlIGEgcHJldmlvdXMgdmFsdWVcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXN1bHRzICs9IHN0ckF0U3RlcDsgLy8gYXBwZW5kIHRoZSB2YWx1ZVxyXG5cdFx0XHQvLyBhcHBlbmQgdW5pdHNcclxuXHRcdFx0aWYgKHZlcmJvc2UpIHtcclxuXHRcdFx0XHRyZXN1bHRzICs9ICcgJyt2ZXJib3NlRGVzY1tpXTtcclxuXHRcdFx0XHRpZiAoc3RyQXRTdGVwICE9PSAnMScpIHtcclxuXHRcdFx0XHRcdHJlc3VsdHMgKz0gJ3MnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHRzICs9ICcgJyttaW5pbWFsRGVzY1tpXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIXZlcmJvc2UpIHtcclxuXHRcdFx0XHRicmVhazsgLy8gdmVyYm9zZSBnZXRzIGFzIG1hbnkgZ3JvdXBzIGFzIG5lY2Vzc2FyeSwgdGhlIHJlc3QgZ2V0IG9ubHkgb25lXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiByZXN1bHRzO1xyXG59O1xyXG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWInKVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNhcCA9IHJlcXVpcmUoJ2FzYXAvcmF3Jyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4vLyBTdGF0ZXM6XG4vL1xuLy8gMCAtIHBlbmRpbmdcbi8vIDEgLSBmdWxmaWxsZWQgd2l0aCBfdmFsdWVcbi8vIDIgLSByZWplY3RlZCB3aXRoIF92YWx1ZVxuLy8gMyAtIGFkb3B0ZWQgdGhlIHN0YXRlIG9mIGFub3RoZXIgcHJvbWlzZSwgX3ZhbHVlXG4vL1xuLy8gb25jZSB0aGUgc3RhdGUgaXMgbm8gbG9uZ2VyIHBlbmRpbmcgKDApIGl0IGlzIGltbXV0YWJsZVxuXG4vLyBBbGwgYF9gIHByZWZpeGVkIHByb3BlcnRpZXMgd2lsbCBiZSByZWR1Y2VkIHRvIGBfe3JhbmRvbSBudW1iZXJ9YFxuLy8gYXQgYnVpbGQgdGltZSB0byBvYmZ1c2NhdGUgdGhlbSBhbmQgZGlzY291cmFnZSB0aGVpciB1c2UuXG4vLyBXZSBkb24ndCB1c2Ugc3ltYm9scyBvciBPYmplY3QuZGVmaW5lUHJvcGVydHkgdG8gZnVsbHkgaGlkZSB0aGVtXG4vLyBiZWNhdXNlIHRoZSBwZXJmb3JtYW5jZSBpc24ndCBnb29kIGVub3VnaC5cblxuXG4vLyB0byBhdm9pZCB1c2luZyB0cnkvY2F0Y2ggaW5zaWRlIGNyaXRpY2FsIGZ1bmN0aW9ucywgd2Vcbi8vIGV4dHJhY3QgdGhlbSB0byBoZXJlLlxudmFyIExBU1RfRVJST1IgPSBudWxsO1xudmFyIElTX0VSUk9SID0ge307XG5mdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuICB0cnkge1xuICAgIHJldHVybiBvYmoudGhlbjtcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBMQVNUX0VSUk9SID0gZXg7XG4gICAgcmV0dXJuIElTX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUNhbGxPbmUoZm4sIGEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZm4oYSk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgTEFTVF9FUlJPUiA9IGV4O1xuICAgIHJldHVybiBJU19FUlJPUjtcbiAgfVxufVxuZnVuY3Rpb24gdHJ5Q2FsbFR3byhmbiwgYSwgYikge1xuICB0cnkge1xuICAgIGZuKGEsIGIpO1xuICB9IGNhdGNoIChleCkge1xuICAgIExBU1RfRVJST1IgPSBleDtcbiAgICByZXR1cm4gSVNfRVJST1I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICh0eXBlb2YgdGhpcyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgfVxuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuICB0aGlzLl80NSA9IDA7XG4gIHRoaXMuXzgxID0gMDtcbiAgdGhpcy5fNjUgPSBudWxsO1xuICB0aGlzLl81NCA9IG51bGw7XG4gIGlmIChmbiA9PT0gbm9vcCkgcmV0dXJuO1xuICBkb1Jlc29sdmUoZm4sIHRoaXMpO1xufVxuUHJvbWlzZS5fMTAgPSBudWxsO1xuUHJvbWlzZS5fOTcgPSBudWxsO1xuUHJvbWlzZS5fNjEgPSBub29wO1xuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgaWYgKHRoaXMuY29uc3RydWN0b3IgIT09IFByb21pc2UpIHtcbiAgICByZXR1cm4gc2FmZVRoZW4odGhpcywgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICB9XG4gIHZhciByZXMgPSBuZXcgUHJvbWlzZShub29wKTtcbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCByZXMpKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHNhZmVUaGVuKHNlbGYsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIHJldHVybiBuZXcgc2VsZi5jb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcyA9IG5ldyBQcm9taXNlKG5vb3ApO1xuICAgIHJlcy50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgaGFuZGxlKHNlbGYsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCByZXMpKTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gaGFuZGxlKHNlbGYsIGRlZmVycmVkKSB7XG4gIHdoaWxlIChzZWxmLl84MSA9PT0gMykge1xuICAgIHNlbGYgPSBzZWxmLl82NTtcbiAgfVxuICBpZiAoUHJvbWlzZS5fMTApIHtcbiAgICBQcm9taXNlLl8xMChzZWxmKTtcbiAgfVxuICBpZiAoc2VsZi5fODEgPT09IDApIHtcbiAgICBpZiAoc2VsZi5fNDUgPT09IDApIHtcbiAgICAgIHNlbGYuXzQ1ID0gMTtcbiAgICAgIHNlbGYuXzU0ID0gZGVmZXJyZWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzZWxmLl80NSA9PT0gMSkge1xuICAgICAgc2VsZi5fNDUgPSAyO1xuICAgICAgc2VsZi5fNTQgPSBbc2VsZi5fNTQsIGRlZmVycmVkXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VsZi5fNTQucHVzaChkZWZlcnJlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGhhbmRsZVJlc29sdmVkKHNlbGYsIGRlZmVycmVkKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVzb2x2ZWQoc2VsZiwgZGVmZXJyZWQpIHtcbiAgYXNhcChmdW5jdGlvbigpIHtcbiAgICB2YXIgY2IgPSBzZWxmLl84MSA9PT0gMSA/IGRlZmVycmVkLm9uRnVsZmlsbGVkIDogZGVmZXJyZWQub25SZWplY3RlZDtcbiAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgIGlmIChzZWxmLl84MSA9PT0gMSkge1xuICAgICAgICByZXNvbHZlKGRlZmVycmVkLnByb21pc2UsIHNlbGYuXzY1KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl82NSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQgPSB0cnlDYWxsT25lKGNiLCBzZWxmLl82NSk7XG4gICAgaWYgKHJldCA9PT0gSVNfRVJST1IpIHtcbiAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBMQVNUX0VSUk9SKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShkZWZlcnJlZC5wcm9taXNlLCByZXQpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlKHNlbGYsIG5ld1ZhbHVlKSB7XG4gIC8vIFByb21pc2UgUmVzb2x1dGlvbiBQcm9jZWR1cmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gIGlmIChuZXdWYWx1ZSA9PT0gc2VsZikge1xuICAgIHJldHVybiByZWplY3QoXG4gICAgICBzZWxmLFxuICAgICAgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKVxuICAgICk7XG4gIH1cbiAgaWYgKFxuICAgIG5ld1ZhbHVlICYmXG4gICAgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG5ld1ZhbHVlID09PSAnZnVuY3Rpb24nKVxuICApIHtcbiAgICB2YXIgdGhlbiA9IGdldFRoZW4obmV3VmFsdWUpO1xuICAgIGlmICh0aGVuID09PSBJU19FUlJPUikge1xuICAgICAgcmV0dXJuIHJlamVjdChzZWxmLCBMQVNUX0VSUk9SKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhlbiA9PT0gc2VsZi50aGVuICYmXG4gICAgICBuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2VcbiAgICApIHtcbiAgICAgIHNlbGYuXzgxID0gMztcbiAgICAgIHNlbGYuXzY1ID0gbmV3VmFsdWU7XG4gICAgICBmaW5hbGUoc2VsZik7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZG9SZXNvbHZlKHRoZW4uYmluZChuZXdWYWx1ZSksIHNlbGYpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBzZWxmLl84MSA9IDE7XG4gIHNlbGYuXzY1ID0gbmV3VmFsdWU7XG4gIGZpbmFsZShzZWxmKTtcbn1cblxuZnVuY3Rpb24gcmVqZWN0KHNlbGYsIG5ld1ZhbHVlKSB7XG4gIHNlbGYuXzgxID0gMjtcbiAgc2VsZi5fNjUgPSBuZXdWYWx1ZTtcbiAgaWYgKFByb21pc2UuXzk3KSB7XG4gICAgUHJvbWlzZS5fOTcoc2VsZiwgbmV3VmFsdWUpO1xuICB9XG4gIGZpbmFsZShzZWxmKTtcbn1cbmZ1bmN0aW9uIGZpbmFsZShzZWxmKSB7XG4gIGlmIChzZWxmLl80NSA9PT0gMSkge1xuICAgIGhhbmRsZShzZWxmLCBzZWxmLl81NCk7XG4gICAgc2VsZi5fNTQgPSBudWxsO1xuICB9XG4gIGlmIChzZWxmLl80NSA9PT0gMikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5fNTQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGhhbmRsZShzZWxmLCBzZWxmLl81NFtpXSk7XG4gICAgfVxuICAgIHNlbGYuXzU0ID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9taXNlKXtcbiAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuICogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUoZm4sIHByb21pc2UpIHtcbiAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgdmFyIHJlcyA9IHRyeUNhbGxUd28oZm4sIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgZG9uZSA9IHRydWU7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICBpZiAoZG9uZSkgcmV0dXJuO1xuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICB9KVxuICBpZiAoIWRvbmUgJiYgcmVzID09PSBJU19FUlJPUikge1xuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChwcm9taXNlLCBMQVNUX0VSUk9SKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5Qcm9taXNlLnByb3RvdHlwZS5kb25lID0gZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIHZhciBzZWxmID0gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMudGhlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdGhpcztcbiAgc2VsZi50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9LCAwKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL1RoaXMgZmlsZSBjb250YWlucyB0aGUgRVM2IGV4dGVuc2lvbnMgdG8gdGhlIGNvcmUgUHJvbWlzZXMvQSsgQVBJXG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblxuLyogU3RhdGljIEZ1bmN0aW9ucyAqL1xuXG52YXIgVFJVRSA9IHZhbHVlUHJvbWlzZSh0cnVlKTtcbnZhciBGQUxTRSA9IHZhbHVlUHJvbWlzZShmYWxzZSk7XG52YXIgTlVMTCA9IHZhbHVlUHJvbWlzZShudWxsKTtcbnZhciBVTkRFRklORUQgPSB2YWx1ZVByb21pc2UodW5kZWZpbmVkKTtcbnZhciBaRVJPID0gdmFsdWVQcm9taXNlKDApO1xudmFyIEVNUFRZU1RSSU5HID0gdmFsdWVQcm9taXNlKCcnKTtcblxuZnVuY3Rpb24gdmFsdWVQcm9taXNlKHZhbHVlKSB7XG4gIHZhciBwID0gbmV3IFByb21pc2UoUHJvbWlzZS5fNjEpO1xuICBwLl84MSA9IDE7XG4gIHAuXzY1ID0gdmFsdWU7XG4gIHJldHVybiBwO1xufVxuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHJldHVybiB2YWx1ZTtcblxuICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiBOVUxMO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFVOREVGSU5FRDtcbiAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gVFJVRTtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSkgcmV0dXJuIEZBTFNFO1xuICBpZiAodmFsdWUgPT09IDApIHJldHVybiBaRVJPO1xuICBpZiAodmFsdWUgPT09ICcnKSByZXR1cm4gRU1QVFlTVFJJTkc7XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0aGVuID0gdmFsdWUudGhlbjtcbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UodGhlbi5iaW5kKHZhbHVlKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlamVjdChleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlUHJvbWlzZSh2YWx1ZSk7XG59O1xuXG5Qcm9taXNlLmFsbCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzb2x2ZShbXSk7XG4gICAgdmFyIHJlbWFpbmluZyA9IGFyZ3MubGVuZ3RoO1xuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBQcm9taXNlICYmIHZhbC50aGVuID09PSBQcm9taXNlLnByb3RvdHlwZS50aGVuKSB7XG4gICAgICAgICAgd2hpbGUgKHZhbC5fODEgPT09IDMpIHtcbiAgICAgICAgICAgIHZhbCA9IHZhbC5fNjU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2YWwuXzgxID09PSAxKSByZXR1cm4gcmVzKGksIHZhbC5fNjUpO1xuICAgICAgICAgIGlmICh2YWwuXzgxID09PSAyKSByZWplY3QodmFsLl82NSk7XG4gICAgICAgICAgdmFsLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IFByb21pc2UodGhlbi5iaW5kKHZhbCkpO1xuICAgICAgICAgICAgcC50aGVuKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgcmVzKGksIHZhbCk7XG4gICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IHZhbDtcbiAgICAgIGlmICgtLXJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcyhpLCBhcmdzW2ldKTtcbiAgICB9XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vKiBQcm90b3R5cGUgTWV0aG9kcyAqL1xuXG5Qcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXSA9IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJy4vY29yZS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gZnVuY3Rpb24gKGYpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcbnJlcXVpcmUoJy4vZG9uZS5qcycpO1xucmVxdWlyZSgnLi9maW5hbGx5LmpzJyk7XG5yZXF1aXJlKCcuL2VzNi1leHRlbnNpb25zLmpzJyk7XG5yZXF1aXJlKCcuL25vZGUtZXh0ZW5zaW9ucy5qcycpO1xucmVxdWlyZSgnLi9zeW5jaHJvbm91cy5qcycpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGlzIGZpbGUgY29udGFpbnMgdGhlbi9wcm9taXNlIHNwZWNpZmljIGV4dGVuc2lvbnMgdGhhdCBhcmUgb25seSB1c2VmdWxcbi8vIGZvciBub2RlLmpzIGludGVyb3BcblxudmFyIFByb21pc2UgPSByZXF1aXJlKCcuL2NvcmUuanMnKTtcbnZhciBhc2FwID0gcmVxdWlyZSgnYXNhcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByb21pc2U7XG5cbi8qIFN0YXRpYyBGdW5jdGlvbnMgKi9cblxuUHJvbWlzZS5kZW5vZGVpZnkgPSBmdW5jdGlvbiAoZm4sIGFyZ3VtZW50Q291bnQpIHtcbiAgaWYgKFxuICAgIHR5cGVvZiBhcmd1bWVudENvdW50ID09PSAnbnVtYmVyJyAmJiBhcmd1bWVudENvdW50ICE9PSBJbmZpbml0eVxuICApIHtcbiAgICByZXR1cm4gZGVub2RlaWZ5V2l0aENvdW50KGZuLCBhcmd1bWVudENvdW50KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGVub2RlaWZ5V2l0aG91dENvdW50KGZuKTtcbiAgfVxufVxuXG52YXIgY2FsbGJhY2tGbiA9IChcbiAgJ2Z1bmN0aW9uIChlcnIsIHJlcykgeycgK1xuICAnaWYgKGVycikgeyByaihlcnIpOyB9IGVsc2UgeyBycyhyZXMpOyB9JyArXG4gICd9J1xuKTtcbmZ1bmN0aW9uIGRlbm9kZWlmeVdpdGhDb3VudChmbiwgYXJndW1lbnRDb3VudCkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50Q291bnQ7IGkrKykge1xuICAgIGFyZ3MucHVzaCgnYScgKyBpKTtcbiAgfVxuICB2YXIgYm9keSA9IFtcbiAgICAncmV0dXJuIGZ1bmN0aW9uICgnICsgYXJncy5qb2luKCcsJykgKyAnKSB7JyxcbiAgICAndmFyIHNlbGYgPSB0aGlzOycsXG4gICAgJ3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocnMsIHJqKSB7JyxcbiAgICAndmFyIHJlcyA9IGZuLmNhbGwoJyxcbiAgICBbJ3NlbGYnXS5jb25jYXQoYXJncykuY29uY2F0KFtjYWxsYmFja0ZuXSkuam9pbignLCcpLFxuICAgICcpOycsXG4gICAgJ2lmIChyZXMgJiYnLFxuICAgICcodHlwZW9mIHJlcyA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgcmVzID09PSBcImZ1bmN0aW9uXCIpICYmJyxcbiAgICAndHlwZW9mIHJlcy50aGVuID09PSBcImZ1bmN0aW9uXCInLFxuICAgICcpIHtycyhyZXMpO30nLFxuICAgICd9KTsnLFxuICAgICd9OydcbiAgXS5qb2luKCcnKTtcbiAgcmV0dXJuIEZ1bmN0aW9uKFsnUHJvbWlzZScsICdmbiddLCBib2R5KShQcm9taXNlLCBmbik7XG59XG5mdW5jdGlvbiBkZW5vZGVpZnlXaXRob3V0Q291bnQoZm4pIHtcbiAgdmFyIGZuTGVuZ3RoID0gTWF0aC5tYXgoZm4ubGVuZ3RoIC0gMSwgMyk7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZm5MZW5ndGg7IGkrKykge1xuICAgIGFyZ3MucHVzaCgnYScgKyBpKTtcbiAgfVxuICB2YXIgYm9keSA9IFtcbiAgICAncmV0dXJuIGZ1bmN0aW9uICgnICsgYXJncy5qb2luKCcsJykgKyAnKSB7JyxcbiAgICAndmFyIHNlbGYgPSB0aGlzOycsXG4gICAgJ3ZhciBhcmdzOycsXG4gICAgJ3ZhciBhcmdMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOycsXG4gICAgJ2lmIChhcmd1bWVudHMubGVuZ3RoID4gJyArIGZuTGVuZ3RoICsgJykgeycsXG4gICAgJ2FyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCArIDEpOycsXG4gICAgJ2ZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7JyxcbiAgICAnYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTsnLFxuICAgICd9JyxcbiAgICAnfScsXG4gICAgJ3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocnMsIHJqKSB7JyxcbiAgICAndmFyIGNiID0gJyArIGNhbGxiYWNrRm4gKyAnOycsXG4gICAgJ3ZhciByZXM7JyxcbiAgICAnc3dpdGNoIChhcmdMZW5ndGgpIHsnLFxuICAgIGFyZ3MuY29uY2F0KFsnZXh0cmEnXSkubWFwKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJ2Nhc2UgJyArIChpbmRleCkgKyAnOicgK1xuICAgICAgICAncmVzID0gZm4uY2FsbCgnICsgWydzZWxmJ10uY29uY2F0KGFyZ3Muc2xpY2UoMCwgaW5kZXgpKS5jb25jYXQoJ2NiJykuam9pbignLCcpICsgJyk7JyArXG4gICAgICAgICdicmVhazsnXG4gICAgICApO1xuICAgIH0pLmpvaW4oJycpLFxuICAgICdkZWZhdWx0OicsXG4gICAgJ2FyZ3NbYXJnTGVuZ3RoXSA9IGNiOycsXG4gICAgJ3JlcyA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpOycsXG4gICAgJ30nLFxuICAgIFxuICAgICdpZiAocmVzICYmJyxcbiAgICAnKHR5cGVvZiByZXMgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHJlcyA9PT0gXCJmdW5jdGlvblwiKSAmJicsXG4gICAgJ3R5cGVvZiByZXMudGhlbiA9PT0gXCJmdW5jdGlvblwiJyxcbiAgICAnKSB7cnMocmVzKTt9JyxcbiAgICAnfSk7JyxcbiAgICAnfTsnXG4gIF0uam9pbignJyk7XG5cbiAgcmV0dXJuIEZ1bmN0aW9uKFxuICAgIFsnUHJvbWlzZScsICdmbiddLFxuICAgIGJvZHlcbiAgKShQcm9taXNlLCBmbik7XG59XG5cblByb21pc2Uubm9kZWlmeSA9IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICB2YXIgY2FsbGJhY2sgPVxuICAgICAgdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJyA/IGFyZ3MucG9wKCkgOiBudWxsO1xuICAgIHZhciBjdHggPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKS5ub2RlaWZ5KGNhbGxiYWNrLCBjdHgpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoY2FsbGJhY2sgPT09IG51bGwgfHwgdHlwZW9mIGNhbGxiYWNrID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgcmVqZWN0KGV4KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYWxsYmFjay5jYWxsKGN0eCwgZXgpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjdHgpIHtcbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnZnVuY3Rpb24nKSByZXR1cm4gdGhpcztcblxuICB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKGN0eCwgbnVsbCwgdmFsdWUpO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKGN0eCwgZXJyKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBQcm9taXNlID0gcmVxdWlyZSgnLi9jb3JlLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblByb21pc2UuZW5hYmxlU3luY2hyb25vdXMgPSBmdW5jdGlvbiAoKSB7XG4gIFByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkgPT0gMDtcbiAgfTtcblxuICBQcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0YXRlKCkgPT0gMTtcbiAgfTtcblxuICBQcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RhdGUoKSA9PSAyO1xuICB9O1xuXG4gIFByb21pc2UucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl84MSA9PT0gMykge1xuICAgICAgcmV0dXJuIHRoaXMuXzY1LmdldFZhbHVlKCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmlzRnVsZmlsbGVkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCBhIHZhbHVlIG9mIGFuIHVuZnVsZmlsbGVkIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuXzY1O1xuICB9O1xuXG4gIFByb21pc2UucHJvdG90eXBlLmdldFJlYXNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fODEgPT09IDMpIHtcbiAgICAgIHJldHVybiB0aGlzLl82NS5nZXRSZWFzb24oKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNSZWplY3RlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBnZXQgYSByZWplY3Rpb24gcmVhc29uIG9mIGEgbm9uLXJlamVjdGVkIHByb21pc2UuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuXzY1O1xuICB9O1xuXG4gIFByb21pc2UucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLl84MSA9PT0gMykge1xuICAgICAgcmV0dXJuIHRoaXMuXzY1LmdldFN0YXRlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl84MSA9PT0gLTEgfHwgdGhpcy5fODEgPT09IC0yKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fODE7XG4gIH07XG59O1xuXG5Qcm9taXNlLmRpc2FibGVTeW5jaHJvbm91cyA9IGZ1bmN0aW9uKCkge1xuICBQcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSB1bmRlZmluZWQ7XG4gIFByb21pc2UucHJvdG90eXBlLmlzRnVsZmlsbGVkID0gdW5kZWZpbmVkO1xuICBQcm9taXNlLnByb3RvdHlwZS5pc1JlamVjdGVkID0gdW5kZWZpbmVkO1xuICBQcm9taXNlLnByb3RvdHlwZS5nZXRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgUHJvbWlzZS5wcm90b3R5cGUuZ2V0UmVhc29uID0gdW5kZWZpbmVkO1xuICBQcm9taXNlLnByb3RvdHlwZS5nZXRTdGF0ZSA9IHVuZGVmaW5lZDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmF3QXNhcCBwcm92aWRlcyBldmVyeXRoaW5nIHdlIG5lZWQgZXhjZXB0IGV4Y2VwdGlvbiBtYW5hZ2VtZW50LlxudmFyIHJhd0FzYXAgPSByZXF1aXJlKFwiLi9yYXdcIik7XG4vLyBSYXdUYXNrcyBhcmUgcmVjeWNsZWQgdG8gcmVkdWNlIEdDIGNodXJuLlxudmFyIGZyZWVUYXNrcyA9IFtdO1xuLy8gV2UgcXVldWUgZXJyb3JzIHRvIGVuc3VyZSB0aGV5IGFyZSB0aHJvd24gaW4gcmlnaHQgb3JkZXIgKEZJRk8pLlxuLy8gQXJyYXktYXMtcXVldWUgaXMgZ29vZCBlbm91Z2ggaGVyZSwgc2luY2Ugd2UgYXJlIGp1c3QgZGVhbGluZyB3aXRoIGV4Y2VwdGlvbnMuXG52YXIgcGVuZGluZ0Vycm9ycyA9IFtdO1xudmFyIHJlcXVlc3RFcnJvclRocm93ID0gcmF3QXNhcC5tYWtlUmVxdWVzdENhbGxGcm9tVGltZXIodGhyb3dGaXJzdEVycm9yKTtcblxuZnVuY3Rpb24gdGhyb3dGaXJzdEVycm9yKCkge1xuICAgIGlmIChwZW5kaW5nRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBwZW5kaW5nRXJyb3JzLnNoaWZ0KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxzIGEgdGFzayBhcyBzb29uIGFzIHBvc3NpYmxlIGFmdGVyIHJldHVybmluZywgaW4gaXRzIG93biBldmVudCwgd2l0aCBwcmlvcml0eVxuICogb3ZlciBvdGhlciBldmVudHMgbGlrZSBhbmltYXRpb24sIHJlZmxvdywgYW5kIHJlcGFpbnQuIEFuIGVycm9yIHRocm93biBmcm9tIGFuXG4gKiBldmVudCB3aWxsIG5vdCBpbnRlcnJ1cHQsIG5vciBldmVuIHN1YnN0YW50aWFsbHkgc2xvdyBkb3duIHRoZSBwcm9jZXNzaW5nIG9mXG4gKiBvdGhlciBldmVudHMsIGJ1dCB3aWxsIGJlIHJhdGhlciBwb3N0cG9uZWQgdG8gYSBsb3dlciBwcmlvcml0eSBldmVudC5cbiAqIEBwYXJhbSB7e2NhbGx9fSB0YXNrIEEgY2FsbGFibGUgb2JqZWN0LCB0eXBpY2FsbHkgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vXG4gKiBhcmd1bWVudHMuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gYXNhcDtcbmZ1bmN0aW9uIGFzYXAodGFzaykge1xuICAgIHZhciByYXdUYXNrO1xuICAgIGlmIChmcmVlVGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHJhd1Rhc2sgPSBmcmVlVGFza3MucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmF3VGFzayA9IG5ldyBSYXdUYXNrKCk7XG4gICAgfVxuICAgIHJhd1Rhc2sudGFzayA9IHRhc2s7XG4gICAgcmF3QXNhcChyYXdUYXNrKTtcbn1cblxuLy8gV2Ugd3JhcCB0YXNrcyB3aXRoIHJlY3ljbGFibGUgdGFzayBvYmplY3RzLiAgQSB0YXNrIG9iamVjdCBpbXBsZW1lbnRzXG4vLyBgY2FsbGAsIGp1c3QgbGlrZSBhIGZ1bmN0aW9uLlxuZnVuY3Rpb24gUmF3VGFzaygpIHtcbiAgICB0aGlzLnRhc2sgPSBudWxsO1xufVxuXG4vLyBUaGUgc29sZSBwdXJwb3NlIG9mIHdyYXBwaW5nIHRoZSB0YXNrIGlzIHRvIGNhdGNoIHRoZSBleGNlcHRpb24gYW5kIHJlY3ljbGVcbi8vIHRoZSB0YXNrIG9iamVjdCBhZnRlciBpdHMgc2luZ2xlIHVzZS5cblJhd1Rhc2sucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdGhpcy50YXNrLmNhbGwoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoYXNhcC5vbmVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGhvb2sgZXhpc3RzIHB1cmVseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICAgICAgICAgIC8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdFxuICAgICAgICAgICAgLy8gZGVwZW5kcyBvbiBpdHMgZXhpc3RlbmNlLlxuICAgICAgICAgICAgYXNhcC5vbmVycm9yKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluIGEgd2ViIGJyb3dzZXIsIGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC4gSG93ZXZlciwgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNsb3dpbmcgZG93biB0aGUgcXVldWUgb2YgcGVuZGluZyB0YXNrcywgd2UgcmV0aHJvdyB0aGUgZXJyb3IgaW4gYVxuICAgICAgICAgICAgLy8gbG93ZXIgcHJpb3JpdHkgdHVybi5cbiAgICAgICAgICAgIHBlbmRpbmdFcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0RXJyb3JUaHJvdygpO1xuICAgICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgZnJlZVRhc2tzW2ZyZWVUYXNrcy5sZW5ndGhdID0gdGhpcztcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFVzZSB0aGUgZmFzdGVzdCBtZWFucyBwb3NzaWJsZSB0byBleGVjdXRlIGEgdGFzayBpbiBpdHMgb3duIHR1cm4sIHdpdGhcbi8vIHByaW9yaXR5IG92ZXIgb3RoZXIgZXZlbnRzIGluY2x1ZGluZyBJTywgYW5pbWF0aW9uLCByZWZsb3csIGFuZCByZWRyYXdcbi8vIGV2ZW50cyBpbiBicm93c2Vycy5cbi8vXG4vLyBBbiBleGNlcHRpb24gdGhyb3duIGJ5IGEgdGFzayB3aWxsIHBlcm1hbmVudGx5IGludGVycnVwdCB0aGUgcHJvY2Vzc2luZyBvZlxuLy8gc3Vic2VxdWVudCB0YXNrcy4gVGhlIGhpZ2hlciBsZXZlbCBgYXNhcGAgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IGlmIGFuXG4vLyBleGNlcHRpb24gaXMgdGhyb3duIGJ5IGEgdGFzaywgdGhhdCB0aGUgdGFzayBxdWV1ZSB3aWxsIGNvbnRpbnVlIGZsdXNoaW5nIGFzXG4vLyBzb29uIGFzIHBvc3NpYmxlLCBidXQgaWYgeW91IHVzZSBgcmF3QXNhcGAgZGlyZWN0bHksIHlvdSBhcmUgcmVzcG9uc2libGUgdG9cbi8vIGVpdGhlciBlbnN1cmUgdGhhdCBubyBleGNlcHRpb25zIGFyZSB0aHJvd24gZnJvbSB5b3VyIHRhc2ssIG9yIHRvIG1hbnVhbGx5XG4vLyBjYWxsIGByYXdBc2FwLnJlcXVlc3RGbHVzaGAgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93bi5cbm1vZHVsZS5leHBvcnRzID0gcmF3QXNhcDtcbmZ1bmN0aW9uIHJhd0FzYXAodGFzaykge1xuICAgIGlmICghcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHJlcXVlc3RGbHVzaCgpO1xuICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgfVxuICAgIC8vIEVxdWl2YWxlbnQgdG8gcHVzaCwgYnV0IGF2b2lkcyBhIGZ1bmN0aW9uIGNhbGwuXG4gICAgcXVldWVbcXVldWUubGVuZ3RoXSA9IHRhc2s7XG59XG5cbnZhciBxdWV1ZSA9IFtdO1xuLy8gT25jZSBhIGZsdXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgbm8gZnVydGhlciBjYWxscyB0byBgcmVxdWVzdEZsdXNoYCBhcmVcbi8vIG5lY2Vzc2FyeSB1bnRpbCB0aGUgbmV4dCBgZmx1c2hgIGNvbXBsZXRlcy5cbnZhciBmbHVzaGluZyA9IGZhbHNlO1xuLy8gYHJlcXVlc3RGbHVzaGAgaXMgYW4gaW1wbGVtZW50YXRpb24tc3BlY2lmaWMgbWV0aG9kIHRoYXQgYXR0ZW1wdHMgdG8ga2lja1xuLy8gb2ZmIGEgYGZsdXNoYCBldmVudCBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLiBgZmx1c2hgIHdpbGwgYXR0ZW1wdCB0byBleGhhdXN0XG4vLyB0aGUgZXZlbnQgcXVldWUgYmVmb3JlIHlpZWxkaW5nIHRvIHRoZSBicm93c2VyJ3Mgb3duIGV2ZW50IGxvb3AuXG52YXIgcmVxdWVzdEZsdXNoO1xuLy8gVGhlIHBvc2l0aW9uIG9mIHRoZSBuZXh0IHRhc2sgdG8gZXhlY3V0ZSBpbiB0aGUgdGFzayBxdWV1ZS4gVGhpcyBpc1xuLy8gcHJlc2VydmVkIGJldHdlZW4gY2FsbHMgdG8gYGZsdXNoYCBzbyB0aGF0IGl0IGNhbiBiZSByZXN1bWVkIGlmXG4vLyBhIHRhc2sgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbnZhciBpbmRleCA9IDA7XG4vLyBJZiBhIHRhc2sgc2NoZWR1bGVzIGFkZGl0aW9uYWwgdGFza3MgcmVjdXJzaXZlbHksIHRoZSB0YXNrIHF1ZXVlIGNhbiBncm93XG4vLyB1bmJvdW5kZWQuIFRvIHByZXZlbnQgbWVtb3J5IGV4aGF1c3Rpb24sIHRoZSB0YXNrIHF1ZXVlIHdpbGwgcGVyaW9kaWNhbGx5XG4vLyB0cnVuY2F0ZSBhbHJlYWR5LWNvbXBsZXRlZCB0YXNrcy5cbnZhciBjYXBhY2l0eSA9IDEwMjQ7XG5cbi8vIFRoZSBmbHVzaCBmdW5jdGlvbiBwcm9jZXNzZXMgYWxsIHRhc2tzIHRoYXQgaGF2ZSBiZWVuIHNjaGVkdWxlZCB3aXRoXG4vLyBgcmF3QXNhcGAgdW5sZXNzIGFuZCB1bnRpbCBvbmUgb2YgdGhvc2UgdGFza3MgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbi8vIElmIGEgdGFzayB0aHJvd3MgYW4gZXhjZXB0aW9uLCBgZmx1c2hgIGVuc3VyZXMgdGhhdCBpdHMgc3RhdGUgd2lsbCByZW1haW5cbi8vIGNvbnNpc3RlbnQgYW5kIHdpbGwgcmVzdW1lIHdoZXJlIGl0IGxlZnQgb2ZmIHdoZW4gY2FsbGVkIGFnYWluLlxuLy8gSG93ZXZlciwgYGZsdXNoYCBkb2VzIG5vdCBtYWtlIGFueSBhcnJhbmdlbWVudHMgdG8gYmUgY2FsbGVkIGFnYWluIGlmIGFuXG4vLyBleGNlcHRpb24gaXMgdGhyb3duLlxuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgd2hpbGUgKGluZGV4IDwgcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgLy8gQWR2YW5jZSB0aGUgaW5kZXggYmVmb3JlIGNhbGxpbmcgdGhlIHRhc2suIFRoaXMgZW5zdXJlcyB0aGF0IHdlIHdpbGxcbiAgICAgICAgLy8gYmVnaW4gZmx1c2hpbmcgb24gdGhlIG5leHQgdGFzayB0aGUgdGFzayB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgIGluZGV4ID0gaW5kZXggKyAxO1xuICAgICAgICBxdWV1ZVtjdXJyZW50SW5kZXhdLmNhbGwoKTtcbiAgICAgICAgLy8gUHJldmVudCBsZWFraW5nIG1lbW9yeSBmb3IgbG9uZyBjaGFpbnMgb2YgcmVjdXJzaXZlIGNhbGxzIHRvIGBhc2FwYC5cbiAgICAgICAgLy8gSWYgd2UgY2FsbCBgYXNhcGAgd2l0aGluIHRhc2tzIHNjaGVkdWxlZCBieSBgYXNhcGAsIHRoZSBxdWV1ZSB3aWxsXG4gICAgICAgIC8vIGdyb3csIGJ1dCB0byBhdm9pZCBhbiBPKG4pIHdhbGsgZm9yIGV2ZXJ5IHRhc2sgd2UgZXhlY3V0ZSwgd2UgZG9uJ3RcbiAgICAgICAgLy8gc2hpZnQgdGFza3Mgb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGV5IGhhdmUgYmVlbiBleGVjdXRlZC5cbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgcGVyaW9kaWNhbGx5IHNoaWZ0IDEwMjQgdGFza3Mgb2ZmIHRoZSBxdWV1ZS5cbiAgICAgICAgaWYgKGluZGV4ID4gY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IHNoaWZ0IGFsbCB2YWx1ZXMgc3RhcnRpbmcgYXQgdGhlIGluZGV4IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAvLyBiZWdpbm5pbmcgb2YgdGhlIHF1ZXVlLlxuICAgICAgICAgICAgZm9yICh2YXIgc2NhbiA9IDAsIG5ld0xlbmd0aCA9IHF1ZXVlLmxlbmd0aCAtIGluZGV4OyBzY2FuIDwgbmV3TGVuZ3RoOyBzY2FuKyspIHtcbiAgICAgICAgICAgICAgICBxdWV1ZVtzY2FuXSA9IHF1ZXVlW3NjYW4gKyBpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZS5sZW5ndGggLT0gaW5kZXg7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBpbmRleCA9IDA7XG4gICAgZmx1c2hpbmcgPSBmYWxzZTtcbn1cblxuLy8gYHJlcXVlc3RGbHVzaGAgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSBzdHJhdGVneSBiYXNlZCBvbiBkYXRhIGNvbGxlY3RlZCBmcm9tXG4vLyBldmVyeSBhdmFpbGFibGUgU2F1Y2VMYWJzIFNlbGVuaXVtIHdlYiBkcml2ZXIgd29ya2VyIGF0IHRpbWUgb2Ygd3JpdGluZy5cbi8vIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLzFtRy01VVlHdXA1cXhHZEVNV2toUDZCV0N6MDUzTlViMkUxUW9VVFUxNnVBL2VkaXQjZ2lkPTc4MzcyNDU5M1xuXG4vLyBTYWZhcmkgNiBhbmQgNi4xIGZvciBkZXNrdG9wLCBpUGFkLCBhbmQgaVBob25lIGFyZSB0aGUgb25seSBicm93c2VycyB0aGF0XG4vLyBoYXZlIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgYnV0IG5vdCB1bi1wcmVmaXhlZCBNdXRhdGlvbk9ic2VydmVyLlxuLy8gTXVzdCB1c2UgYGdsb2JhbGAgaW5zdGVhZCBvZiBgd2luZG93YCB0byB3b3JrIGluIGJvdGggZnJhbWVzIGFuZCB3ZWJcbi8vIHdvcmtlcnMuIGBnbG9iYWxgIGlzIGEgcHJvdmlzaW9uIG9mIEJyb3dzZXJpZnksIE1yLCBNcnMsIG9yIE1vcC5cbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG4vLyBNdXRhdGlvbk9ic2VydmVycyBhcmUgZGVzaXJhYmxlIGJlY2F1c2UgdGhleSBoYXZlIGhpZ2ggcHJpb3JpdHkgYW5kIHdvcmtcbi8vIHJlbGlhYmx5IGV2ZXJ5d2hlcmUgdGhleSBhcmUgaW1wbGVtZW50ZWQuXG4vLyBUaGV5IGFyZSBpbXBsZW1lbnRlZCBpbiBhbGwgbW9kZXJuIGJyb3dzZXJzLlxuLy9cbi8vIC0gQW5kcm9pZCA0LTQuM1xuLy8gLSBDaHJvbWUgMjYtMzRcbi8vIC0gRmlyZWZveCAxNC0yOVxuLy8gLSBJbnRlcm5ldCBFeHBsb3JlciAxMVxuLy8gLSBpUGFkIFNhZmFyaSA2LTcuMVxuLy8gLSBpUGhvbmUgU2FmYXJpIDctNy4xXG4vLyAtIFNhZmFyaSA2LTdcbmlmICh0eXBlb2YgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcblxuLy8gTWVzc2FnZUNoYW5uZWxzIGFyZSBkZXNpcmFibGUgYmVjYXVzZSB0aGV5IGdpdmUgZGlyZWN0IGFjY2VzcyB0byB0aGUgSFRNTFxuLy8gdGFzayBxdWV1ZSwgYXJlIGltcGxlbWVudGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwLCBTYWZhcmkgNS4wLTEsIGFuZCBPcGVyYVxuLy8gMTEtMTIsIGFuZCBpbiB3ZWIgd29ya2VycyBpbiBtYW55IGVuZ2luZXMuXG4vLyBBbHRob3VnaCBtZXNzYWdlIGNoYW5uZWxzIHlpZWxkIHRvIGFueSBxdWV1ZWQgcmVuZGVyaW5nIGFuZCBJTyB0YXNrcywgdGhleVxuLy8gd291bGQgYmUgYmV0dGVyIHRoYW4gaW1wb3NpbmcgdGhlIDRtcyBkZWxheSBvZiB0aW1lcnMuXG4vLyBIb3dldmVyLCB0aGV5IGRvIG5vdCB3b3JrIHJlbGlhYmx5IGluIEludGVybmV0IEV4cGxvcmVyIG9yIFNhZmFyaS5cblxuLy8gSW50ZXJuZXQgRXhwbG9yZXIgMTAgaXMgdGhlIG9ubHkgYnJvd3NlciB0aGF0IGhhcyBzZXRJbW1lZGlhdGUgYnV0IGRvZXNcbi8vIG5vdCBoYXZlIE11dGF0aW9uT2JzZXJ2ZXJzLlxuLy8gQWx0aG91Z2ggc2V0SW1tZWRpYXRlIHlpZWxkcyB0byB0aGUgYnJvd3NlcidzIHJlbmRlcmVyLCBpdCB3b3VsZCBiZVxuLy8gcHJlZmVycmFibGUgdG8gZmFsbGluZyBiYWNrIHRvIHNldFRpbWVvdXQgc2luY2UgaXQgZG9lcyBub3QgaGF2ZVxuLy8gdGhlIG1pbmltdW0gNG1zIHBlbmFsdHkuXG4vLyBVbmZvcnR1bmF0ZWx5IHRoZXJlIGFwcGVhcnMgdG8gYmUgYSBidWcgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAgTW9iaWxlIChhbmRcbi8vIERlc2t0b3AgdG8gYSBsZXNzZXIgZXh0ZW50KSB0aGF0IHJlbmRlcnMgYm90aCBzZXRJbW1lZGlhdGUgYW5kXG4vLyBNZXNzYWdlQ2hhbm5lbCB1c2VsZXNzIGZvciB0aGUgcHVycG9zZXMgb2YgQVNBUC5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9pc3N1ZXMvMzk2XG5cbi8vIFRpbWVycyBhcmUgaW1wbGVtZW50ZWQgdW5pdmVyc2FsbHkuXG4vLyBXZSBmYWxsIGJhY2sgdG8gdGltZXJzIGluIHdvcmtlcnMgaW4gbW9zdCBlbmdpbmVzLCBhbmQgaW4gZm9yZWdyb3VuZFxuLy8gY29udGV4dHMgaW4gdGhlIGZvbGxvd2luZyBicm93c2Vycy5cbi8vIEhvd2V2ZXIsIG5vdGUgdGhhdCBldmVuIHRoaXMgc2ltcGxlIGNhc2UgcmVxdWlyZXMgbnVhbmNlcyB0byBvcGVyYXRlIGluIGFcbi8vIGJyb2FkIHNwZWN0cnVtIG9mIGJyb3dzZXJzLlxuLy9cbi8vIC0gRmlyZWZveCAzLTEzXG4vLyAtIEludGVybmV0IEV4cGxvcmVyIDYtOVxuLy8gLSBpUGFkIFNhZmFyaSA0LjNcbi8vIC0gTHlueCAyLjguN1xufSBlbHNlIHtcbiAgICByZXF1ZXN0Rmx1c2ggPSBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXIoZmx1c2gpO1xufVxuXG4vLyBgcmVxdWVzdEZsdXNoYCByZXF1ZXN0cyB0aGF0IHRoZSBoaWdoIHByaW9yaXR5IGV2ZW50IHF1ZXVlIGJlIGZsdXNoZWQgYXNcbi8vIHNvb24gYXMgcG9zc2libGUuXG4vLyBUaGlzIGlzIHVzZWZ1bCB0byBwcmV2ZW50IGFuIGVycm9yIHRocm93biBpbiBhIHRhc2sgZnJvbSBzdGFsbGluZyB0aGUgZXZlbnRcbi8vIHF1ZXVlIGlmIHRoZSBleGNlcHRpb24gaGFuZGxlZCBieSBOb2RlLmpz4oCZc1xuLy8gYHByb2Nlc3Mub24oXCJ1bmNhdWdodEV4Y2VwdGlvblwiKWAgb3IgYnkgYSBkb21haW4uXG5yYXdBc2FwLnJlcXVlc3RGbHVzaCA9IHJlcXVlc3RGbHVzaDtcblxuLy8gVG8gcmVxdWVzdCBhIGhpZ2ggcHJpb3JpdHkgZXZlbnQsIHdlIGluZHVjZSBhIG11dGF0aW9uIG9ic2VydmVyIGJ5IHRvZ2dsaW5nXG4vLyB0aGUgdGV4dCBvZiBhIHRleHQgbm9kZSBiZXR3ZWVuIFwiMVwiIGFuZCBcIi0xXCIuXG5mdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjaykge1xuICAgIHZhciB0b2dnbGUgPSAxO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuICAgICAgICB0b2dnbGUgPSAtdG9nZ2xlO1xuICAgICAgICBub2RlLmRhdGEgPSB0b2dnbGU7XG4gICAgfTtcbn1cblxuLy8gVGhlIG1lc3NhZ2UgY2hhbm5lbCB0ZWNobmlxdWUgd2FzIGRpc2NvdmVyZWQgYnkgTWFsdGUgVWJsIGFuZCB3YXMgdGhlXG4vLyBvcmlnaW5hbCBmb3VuZGF0aW9uIGZvciB0aGlzIGxpYnJhcnkuXG4vLyBodHRwOi8vd3d3Lm5vbmJsb2NraW5nLmlvLzIwMTEvMDYvd2luZG93bmV4dHRpY2suaHRtbFxuXG4vLyBTYWZhcmkgNi4wLjUgKGF0IGxlYXN0KSBpbnRlcm1pdHRlbnRseSBmYWlscyB0byBjcmVhdGUgbWVzc2FnZSBwb3J0cyBvbiBhXG4vLyBwYWdlJ3MgZmlyc3QgbG9hZC4gVGhhbmtmdWxseSwgdGhpcyB2ZXJzaW9uIG9mIFNhZmFyaSBzdXBwb3J0c1xuLy8gTXV0YXRpb25PYnNlcnZlcnMsIHNvIHdlIGRvbid0IG5lZWQgdG8gZmFsbCBiYWNrIGluIHRoYXQgY2FzZS5cblxuLy8gZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbU1lc3NhZ2VDaGFubmVsKGNhbGxiYWNrKSB7XG4vLyAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbi8vICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuLy8gICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0Q2FsbCgpIHtcbi8vICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbi8vICAgICB9O1xuLy8gfVxuXG4vLyBGb3IgcmVhc29ucyBleHBsYWluZWQgYWJvdmUsIHdlIGFyZSBhbHNvIHVuYWJsZSB0byB1c2UgYHNldEltbWVkaWF0ZWBcbi8vIHVuZGVyIGFueSBjaXJjdW1zdGFuY2VzLlxuLy8gRXZlbiBpZiB3ZSB3ZXJlLCB0aGVyZSBpcyBhbm90aGVyIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMC5cbi8vIEl0IGlzIG5vdCBzdWZmaWNpZW50IHRvIGFzc2lnbiBgc2V0SW1tZWRpYXRlYCB0byBgcmVxdWVzdEZsdXNoYCBiZWNhdXNlXG4vLyBgc2V0SW1tZWRpYXRlYCBtdXN0IGJlIGNhbGxlZCAqYnkgbmFtZSogYW5kIHRoZXJlZm9yZSBtdXN0IGJlIHdyYXBwZWQgaW4gYVxuLy8gY2xvc3VyZS5cbi8vIE5ldmVyIGZvcmdldC5cblxuLy8gZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbVNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuLy8gICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0Q2FsbCgpIHtcbi8vICAgICAgICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcbi8vICAgICB9O1xuLy8gfVxuXG4vLyBTYWZhcmkgNi4wIGhhcyBhIHByb2JsZW0gd2hlcmUgdGltZXJzIHdpbGwgZ2V0IGxvc3Qgd2hpbGUgdGhlIHVzZXIgaXNcbi8vIHNjcm9sbGluZy4gVGhpcyBwcm9ibGVtIGRvZXMgbm90IGltcGFjdCBBU0FQIGJlY2F1c2UgU2FmYXJpIDYuMCBzdXBwb3J0c1xuLy8gbXV0YXRpb24gb2JzZXJ2ZXJzLCBzbyB0aGF0IGltcGxlbWVudGF0aW9uIGlzIHVzZWQgaW5zdGVhZC5cbi8vIEhvd2V2ZXIsIGlmIHdlIGV2ZXIgZWxlY3QgdG8gdXNlIHRpbWVycyBpbiBTYWZhcmksIHRoZSBwcmV2YWxlbnQgd29yay1hcm91bmRcbi8vIGlzIHRvIGFkZCBhIHNjcm9sbCBldmVudCBsaXN0ZW5lciB0aGF0IGNhbGxzIGZvciBhIGZsdXNoLlxuXG4vLyBgc2V0VGltZW91dGAgZG9lcyBub3QgY2FsbCB0aGUgcGFzc2VkIGNhbGxiYWNrIGlmIHRoZSBkZWxheSBpcyBsZXNzIHRoYW5cbi8vIGFwcHJveGltYXRlbHkgNyBpbiB3ZWIgd29ya2VycyBpbiBGaXJlZm94IDggdGhyb3VnaCAxOCwgYW5kIHNvbWV0aW1lcyBub3Rcbi8vIGV2ZW4gdGhlbi5cblxuZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuICAgICAgICAvLyBXZSBkaXNwYXRjaCBhIHRpbWVvdXQgd2l0aCBhIHNwZWNpZmllZCBkZWxheSBvZiAwIGZvciBlbmdpbmVzIHRoYXRcbiAgICAgICAgLy8gY2FuIHJlbGlhYmx5IGFjY29tbW9kYXRlIHRoYXQgcmVxdWVzdC4gVGhpcyB3aWxsIHVzdWFsbHkgYmUgc25hcHBlZFxuICAgICAgICAvLyB0byBhIDQgbWlsaXNlY29uZCBkZWxheSwgYnV0IG9uY2Ugd2UncmUgZmx1c2hpbmcsIHRoZXJlJ3Mgbm8gZGVsYXlcbiAgICAgICAgLy8gYmV0d2VlbiBldmVudHMuXG4gICAgICAgIHZhciB0aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChoYW5kbGVUaW1lciwgMCk7XG4gICAgICAgIC8vIEhvd2V2ZXIsIHNpbmNlIHRoaXMgdGltZXIgZ2V0cyBmcmVxdWVudGx5IGRyb3BwZWQgaW4gRmlyZWZveFxuICAgICAgICAvLyB3b3JrZXJzLCB3ZSBlbmxpc3QgYW4gaW50ZXJ2YWwgaGFuZGxlIHRoYXQgd2lsbCB0cnkgdG8gZmlyZVxuICAgICAgICAvLyBhbiBldmVudCAyMCB0aW1lcyBwZXIgc2Vjb25kIHVudGlsIGl0IHN1Y2NlZWRzLlxuICAgICAgICB2YXIgaW50ZXJ2YWxIYW5kbGUgPSBzZXRJbnRlcnZhbChoYW5kbGVUaW1lciwgNTApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVRpbWVyKCkge1xuICAgICAgICAgICAgLy8gV2hpY2hldmVyIHRpbWVyIHN1Y2NlZWRzIHdpbGwgY2FuY2VsIGJvdGggdGltZXJzIGFuZFxuICAgICAgICAgICAgLy8gZXhlY3V0ZSB0aGUgY2FsbGJhY2suXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSGFuZGxlKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyBUaGlzIGlzIGZvciBgYXNhcC5qc2Agb25seS5cbi8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdCBkZXBlbmRzIG9uXG4vLyBpdHMgZXhpc3RlbmNlLlxucmF3QXNhcC5tYWtlUmVxdWVzdENhbGxGcm9tVGltZXIgPSBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXI7XG5cbi8vIEFTQVAgd2FzIG9yaWdpbmFsbHkgYSBuZXh0VGljayBzaGltIGluY2x1ZGVkIGluIFEuIFRoaXMgd2FzIGZhY3RvcmVkIG91dFxuLy8gaW50byB0aGlzIEFTQVAgcGFja2FnZS4gSXQgd2FzIGxhdGVyIGFkYXB0ZWQgdG8gUlNWUCB3aGljaCBtYWRlIGZ1cnRoZXJcbi8vIGFtZW5kbWVudHMuIFRoZXNlIGRlY2lzaW9ucywgcGFydGljdWxhcmx5IHRvIG1hcmdpbmFsaXplIE1lc3NhZ2VDaGFubmVsIGFuZFxuLy8gdG8gY2FwdHVyZSB0aGUgTXV0YXRpb25PYnNlcnZlciBpbXBsZW1lbnRhdGlvbiBpbiBhIGNsb3N1cmUsIHdlcmUgaW50ZWdyYXRlZFxuLy8gYmFjayBpbnRvIEFTQVAgcHJvcGVyLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL2NkZGY3MjMyNTQ2YTljZjg1ODUyNGI3NWNkZTZmOWVkZjcyNjIwYTcvbGliL3JzdnAvYXNhcC5qc1xuIiwiLyoqXG4gKiBkaWdpdHMgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2RpZ2l0cz5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNSBKb24gU2NobGlua2VydFxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcGFkID0gcmVxdWlyZSgncGFkLWxlZnQnKTtcbnZhciBsb25nZXN0ID0gcmVxdWlyZSgnbG9uZ2VzdCcpO1xuXG4vKipcbiAqIEV4cG9zZSBgZGlnaXRzYFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGlnaXRzO1xuXG4vKipcbiAqIExlZnQgcGFkIHRoZSBnaXZlbiBgdmFsdWVgIHdpdGggdGhlIHNwZWNpZmllZCBgbnVtYmVyYCBvZiB6ZXJvc1xuICogb3IgYWx0ZXJuYXRlIGBjaGFyYWN0ZXJgLlxuICpcbiAqIGBgYGpzXG4gKiBkaWdpdHMoJ2FiYycsIDEwKTtcbiAqIC8vPT4gJzAwMDAwMDAwMDBhYmMnXG4gKlxuICogZGlnaXRzKCdhYmMnLCAxMCwgJ34nKTtcbiAqIC8vPT4gJ35+fn5+fn5+fn5hYmMnXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYHZhbHVlYFxuICogQHBhcmFtIHtTdHJpbmd9IGBudW1iZXJgXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGBjaGFyYWN0ZXJgXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpZ2l0cyh2YWwsIG51bSwgY2gpIHtcbiAgcmV0dXJuIHBhZCh2YWwsIG51bSAtIHZhbC5sZW5ndGgsIGNoKTtcbn1cblxuLyoqXG4gKiBQYWQgbGVmdCBwYWQgZWFjaCB2YWx1ZSBpbiB0aGUgZ2l2ZW4gYGFycmF5YCB0byBhbGlnbiB3aXRoIHRoZVxuICogbG9uZ2VzdCBpdGVtL251bWJlciBpbiB0aGUgYXJyYXkuIFplcm9zIGFyZSB1c2VkIGJ5IGRlZmF1bHQsIGJ1dFxuICogYSBjdXN0b20gYGNoYXJhY3RlcmAgY2FuIGJlIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICpcbiAqICoqRXhhbXBsZSoqXG4gKlxuICogYGBganNcbiAqIGRpZ2l0cy5lYWNoKFsxLCAxMDAsIDEwMDBdKVxuICogLy89PiBbJzAwMDEnLCAnMDEwMCcsICcxMDAwJ11cbiAqXG4gKiBkaWdpdHMuZWFjaChbYSwgYmIsIGNjY10sICcgJylcbiAqIC8vPT4gWycgIGEnLCAnIGJiJywgJ2NjYyddXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYGFycmAgVGhlIGFycmF5IG9mIHZhbHVlcyB0byBwYWQuXG4gKiBAcGFyYW0ge051bWJlcn0gYGxlbmAgQW1vdW50IHRvIHBhZCB0aGUgbnVtYmVyLlxuICogQHJldHVybiB7U3RyaW5nfSBQYWRkZWQgbnVtYmVyXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmRpZ2l0cy5lYWNoID0gZnVuY3Rpb24oYXJyLCBjaCkge1xuICB2YXIgbGVuID0gbG9uZ2VzdChhcnIpLmxlbmd0aDtcblxuICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbihlbGUpIHtcbiAgICByZXR1cm4gZGlnaXRzKGVsZSwgbGVuLCBjaCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBTdHJpcCBsZWFkaW5nIGRpZ2l0cyBmcm9tIGEgc3RyaW5nXG4gKlxuICogYGBganNcbiAqIGRpZ2l0cy5zdHJpcGxlZnQoJzAxMGZvby5tZCcpO1xuICogLy8gPT4gXCJmb28ubWRcIlxuICogYGBgXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBgc3RyYFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmRpZ2l0cy5zdHJpcGxlZnQgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxkK1xcLT8vZywgJycpO1xufTtcblxuLyoqXG4gKiBTdHJpcCB0cmFpbGluZyBkaWdpdHMgZnJvbSBhIHN0cmluZ1xuICpcbiAqIGBgYGpzXG4gKiBkaWdpdHMuc3RyaXByaWdodCgnYmFyMDEwLm1kJyk7XG4gKiAvLyA9PiBcImJhci5tZFwiXG4gKiBgYGBcbiAqIEBwYXJhbSAge1N0cmluZ30gYHN0cmBcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuXG5kaWdpdHMuc3RyaXByaWdodCA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcLT9cXGQrJC9nLCAnJyk7XG59O1xuXG4vKipcbiAqIENvdW50IGRpZ2l0cyBvbiB0aGUgbGVmdCBzaWRlIG9mIGEgc3RyaW5nXG4gKlxuICogYGBganNcbiAqIGRpZ2l0cy5jb3VudGxlZnQoJzAwMS1mb28ubWQnKTtcbiAqIC8vPT4gM1xuICogYGBgXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBgc3RyYFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmRpZ2l0cy5jb3VudGxlZnQgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIFN0cmluZyhzdHIubWF0Y2goL15cXGQrL2cpKS5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENvdW50IGRpZ2l0cyBvbiB0aGUgcmlnaHQgc2lkZSBvZiBhIHN0cmluZ1xuICpcbiAqIGBgYGpzXG4gKiBkaWdpdHMuY291bnRsZWZ0KCdmb28tMDAxLm1kJyk7XG4gKiAvLz0+IDNcbiAqIGBgYFxuICogQHBhcmFtICB7U3RyaW5nfSBgc3RyYFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5cbmRpZ2l0cy5jb3VudHJpZ2h0ID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyLm1hdGNoKC9cXGQrJC9nKSkubGVuZ3RoO1xufTtcbiIsIi8qKlxuICogbG9uZ2VzdCBpdGVtIGluIGFuIGFycmF5XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgSm9uIFNjaGxpbmtlcnQsIGNvbnRyaWJ1dG9ycy5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXJyKSB7XG4gIHZhciBjID0gMCxcbiAgICBsZW4gPSAwLFxuICAgIGwgPSAwLFxuICAgIGlkeCA9IGFyci5sZW5ndGg7XG4gIGlmIChpZHgpIHtcbiAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgIGxlbiA9IGFycltpZHhdLmxlbmd0aDtcbiAgICAgIGlmIChsZW4gPiBjKSB7XG4gICAgICAgIGwgPSBpZHg7XG4gICAgICAgIGMgPSBsZW47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJbbF07XG59OyIsIi8qIVxuICogcGFkLWxlZnQgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L3BhZC1sZWZ0PlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBKb24gU2NobGlua2VydCwgY29udHJpYnV0b3JzLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGVhdCA9IHJlcXVpcmUoJ3JlcGVhdC1zdHJpbmcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYWRMZWZ0KHZhbCwgbnVtLCBzdHIpIHtcbiAgcmV0dXJuIHJlcGVhdChzdHIgfHwgJzAnLCBudW0pICsgdmFsO1xufTtcbiIsIi8qIVxuICogcmVwZWF0LXN0cmluZyA8aHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvcmVwZWF0LXN0cmluZz5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgSm9uIFNjaGxpbmtlcnQsIGNvbnRyaWJ1dG9ycy5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXBlYXQoc3RyLCBjb3VudCkge1xuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZXBlYXQtc3RyaW5nIGV4cGVjdHMgYSBzdHJpbmcuJyk7XG4gIH1cblxuICBpZiAoY291bnQgPCAxKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgaWYgKGNvdW50ICYgMSkge1xuICAgICAgcmVzdWx0ICs9IHN0cjtcbiAgICB9XG4gICAgY291bnQgPj49IDE7XG4gICAgc3RyICs9IHN0cjtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8ganNjczpkaXNhYmxlIG1heGltdW1MaW5lTGVuZ3RoXG4vLyBUaGlzIGZpbGUgY29udGFpbnMgZGVmaW5pdGlvbnMgb2YgcnVsZXMgaG93IGxvY2F0aW9uIFVSTHMgYXJlIHRyYW5zbGF0ZWRcbi8vIHRvIFwicmVuZGVyXCIgbWV0aG9kcyBvZiBjYXRiZXJyeSdzIG1vZHVsZXMuXG4vL1xuLy8gRm9ybWF0OlxuLy8gL3NvbWUvOnBhcmFtZXRlclttb2R1bGUxLG1vZHVsZTIsbW9kdWxlM11cbi8vXG4vLyBNb3JlIGRldGFpbHMgaGVyZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXRiZXJyeS9jYXRiZXJyeS9ibG9iL21hc3Rlci9kb2NzL2luZGV4Lm1kI3VybC1yb3V0ZS1kZWZpbml0aW9uXG5cbm1vZHVsZS5leHBvcnRzID0gW1xuICAgICcvOnBhZ2VbUGFnZXNdJyxcbiAgICAvL2lkINC80LDRgdGC0LXRgNCwXG4gICAge1xuICAgICAgICBleHByZXNzaW9uOiAvXFwvKFtcXC9cXGRdKykkL2ksXG4gICAgICAgIG1hcDogZnVuY3Rpb24gKHVybFBhdGgpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gdXJsUGF0aC5wYXRoLm1hdGNoKC9cXC8oW1xcL1xcZF0rKSQvaSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICdtYXN0ZXIvTWFzdGVySXRlbSc6IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogbWF0Y2hlc1sxXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgUGFnZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogXCJtYXN0ZXItcGFnZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvL9GB0YLQsNGC0YzRjyDQvNCw0YHRgtC10YDQsFxuICAgIHtcbiAgICAgICAgZXhwcmVzc2lvbjogJy9cXC8oW1xcL1xcZF0rKVxcL2FydGljbGVcXC8oW1xcL1xcZF0rKSQvaScsXG4gICAgICAgIG1hcDogZnVuY3Rpb24gKHVybFBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgUGFnZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogXCJtYXN0ZXItYXJ0aWNsZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyDQv9GD0YLRjDog0YDRg9Cx0YDQuNC60LAv0L/QvtC00YDRg9Cx0YDQuNC60LBcbiAgICAvLyDQv9GD0YLRjDog0YDRg9Cx0YDQuNC60LAv0L/QvtC00YDRg9Cx0YDQuNC60LAv0YLQtdCzXG4gICAgLy8g0L/Rg9GC0Yw6INGA0YPQsdGA0LjQutCwL9C/0L7QtNGA0YPQsdGA0LjQutCwL9GB0LXQutGG0LjRj1xuICAgIC8vINC/0YPRgtGMOiDRgNGD0LHRgNC40LrQsC/Qv9C+0LTRgNGD0LHRgNC40LrQsC/RgtC10LMv0YHQtdC60YbQuNGPXG4gICAge1xuICAgICAgICBleHByZXNzaW9uOiAvXlxcLyhbXlxcL1xcZF0rKVxcLyhbXlxcL1xcZF0rKVxcLz8oKD8hdmlkZW98c2FsZXxzb3ZldHl8Y29tcGFueSlbXlxcL1xcZF0rKT9cXC8/KHZpZGVvfHNhbGV8c292ZXR5fGNvbXBhbnkpPyQvaSxcbiAgICAgICAgbWFwOiBmdW5jdGlvbiAodXJsUGF0aCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSB1cmxQYXRoLnBhdGgubWF0Y2goL15cXC8oW15cXC9cXGRdKylcXC8oW15cXC9cXGRdKylcXC8/KCg/IXZpZGVvfHNhbGV8c292ZXR5fGNvbXBhbnkpW15cXC9cXGRdKyk/XFwvPyh2aWRlb3xzYWxlfHNvdmV0eXxjb21wYW55KT8kL2kpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAncnVicmlrYS9SdWJyaWthJzoge1xuICAgICAgICAgICAgICAgICAgICBydWJyaWthOiBtYXRjaGVzWzFdLFxuICAgICAgICAgICAgICAgICAgICBwb2RydWJyaWthOiBtYXRjaGVzWzJdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYWc6IHtcbiAgICAgICAgICAgICAgICAgICAgdGFnOiBtYXRjaGVzWzNdLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiBtYXRjaGVzWzRdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBQYWdlczoge1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiBcIm1hc3Rlci1ydWJyaWthXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vINC/0YPRgtGMOiAvX18vcGFnZS86aWRcbiAgICB7XG4gICAgICAgIGV4cHJlc3Npb246IC9eXFwvKFteXFwvXFxkXSspXFwvcGFnZVxcLyhcXGQrKS9pLFxuICAgICAgICBtYXA6IGZ1bmN0aW9uICh1cmxQYXRoKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHVybFBhdGgucGF0aC5tYXRjaCgvXlxcLyhbXlxcL1xcZF0rKVxcL3BhZ2VcXC8oXFxkKykvaSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFBhZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IG1hdGNoZXNbMV1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFBhZ2luYXRvcjoge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogbWF0Y2hlc1syXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vINC/0YPRgtGMOiAvc2FsZVxuICAgIC8vINC/0YPRgtGMOiAvc292ZXR5XG4gICAgLy8g0L/Rg9GC0Yw6IC92aWRlb1xuICAgIC8vINC/0YPRgtGMOiAvX18vcGFnZS86aWRcbiAgICAvLyDQv9GD0YLRjDogL19fL2NhdGVnb3J5LzppZFxuICAgIC8vINC/0YPRgtGMOiAvX18vY2F0ZWdvcnkvOmlkL3BhZ2UvOmlkXG4gICAge1xuICAgICAgICBleHByZXNzaW9uOiAvXlxcLyhzYWxlfHNvdmV0eXx2aWRlbykoXFwvY2F0YWxvZ1xcLyhcXGQrKSk/KFxcL3BhZ2VcXC8oXFxkKykpPyQvaSxcbiAgICAgICAgbWFwOiBmdW5jdGlvbiAodXJsUGF0aCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSB1cmxQYXRoLnBhdGgubWF0Y2goL15cXC8oc2FsZXxzb3ZldHl8dmlkZW8pKFxcL2NhdGFsb2dcXC8oXFxkKykpPyhcXC9wYWdlXFwvKFxcZCspKT8kL2kpO1xuICAgICAgICAgICAgdmFyIG5hbWVDYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBtYXRjaGVzWzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbWF0Y2hlc1sxXS5zbGljZSgxKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHt9O1xuXG4gICAgICAgICAgICBzdGF0ZS5QYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBwYWdlOiBtYXRjaGVzWzFdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdGVbJ21hc3Rlci9NYXN0ZXInICsgbmFtZUNhcGl0YWxpemVGaXJzdExldHRlcl0gPSB7XG4gICAgICAgICAgICAgICAgY2F0YWxvZzogbWF0Y2hlc1szXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0YXRlLlBhZ2luYXRvciA9IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogbWF0Y2hlc1s1XVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyDQv9GD0YLRjDogL25ld3MvaXRlbS86aWRcbiAgICAvLyDQv9GD0YLRjDogL3ZhY2FuY3kvaXRlbS86aWRcbiAgICAvLyDQv9GD0YLRjDogL2tvbmt1cnMvaXRlbS86aWRcbiAgICB7XG4gICAgICAgIGV4cHJlc3Npb246IC9eXFwvKG5ld3N8dmFjYW5jeXxrb25rdXJzKVxcL2l0ZW1cXC8oXFxkKykkL2ksXG4gICAgICAgIG1hcDogZnVuY3Rpb24gKHVybFBhdGgpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gdXJsUGF0aC5wYXRoLm1hdGNoKC9eXFwvKG5ld3N8dmFjYW5jeXxrb25rdXJzKVxcL2l0ZW1cXC8oXFxkKykkL2kpO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0ge307XG5cbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBtYXRjaGVzWzFdO1xuXG4gICAgICAgICAgICBzdGF0ZS5QYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBwYWdlOiBzdHJpbmcgKyBcIi1pdGVtXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGF0ZVsnb3RoZXIvJyArIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKSArIFwiSXRlbVwiXSA9IHtcbiAgICAgICAgICAgICAgICBpdGVtOiBtYXRjaGVzWzJdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgfVxuXTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRpZ2l0cyA9IHJlcXVpcmUoJ2RpZ2l0cycpO1xuXG52YXIgRGF0ZXMgPSByZXF1aXJlKCcuL3V0aWxzL2RhdGVzJyk7XG52YXIgVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEhhbmRsZWJhcnMpIHtcblxuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBlYXQgIGhlbHBlclxuICAgICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG4gICAgICAgbnVtYmVyIG9mIGl0ZXJhdGlvbnNcbiAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSBvcHRpb25zIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICovXG4gICAgICAgIHJlcGVhdDogZnVuY3Rpb24gKG4sIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgdmFyIF9kYXRhID0ge30sXG4gICAgICAgICAgICAgICAgY29udGVudCA9ICcnLFxuICAgICAgICAgICAgICAgIGNvdW50ID0gbiAtIDE7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLl9kYXRhKSB7XG4gICAgICAgICAgICAgICAgX2RhdGEgPSBIYW5kbGViYXJzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuX2RhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX2RhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBkaWdpdHMucGFkKChpICsgMSksIHthdXRvOiBufSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gb3B0aW9ucy5mbih0aGlzLCB7ZGF0YTogX2RhdGF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5TYWZlU3RyaW5nKGNvbnRlbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBoZWxwZXIgd2l0aCBwYXJhbXNcbiAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSBhICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAgICAgICAqIEBwYXJhbSAge1t0eXBlXX0gYiAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IG9wdGlvbnMgIG9wZXJhdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICovXG4gICAgICAgIGlzOiBmdW5jdGlvbiAobGVmdE9wZXJhbmQsIG9wZXJhdGlvbiwgcmlnaHRPcGVyYW5kLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGxlZnRPcGVyYW5kIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgIGIgPSByaWdodE9wZXJhbmQgfHwgZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gJiYgdHlwZW9mIG9wZXJhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdCBzdHJpY3RseSBlcXVhbFxuICAgICAgICAgICAgICAgICAgICBjYXNlICc9PSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTdHJpY3RseSBlcXVhbFxuICAgICAgICAgICAgICAgICAgICBjYXNlICc9PT0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgPiBiIGNoZWNraW5nXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPiBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBhID49IGIgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnPj0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPj0gYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYSA8IGIgY2hlY2tpbmdcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgPD0gYiBjaGVja2luZ1xuICAgICAgICAgICAgICAgICAgICBjYXNlICc8PSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA8PSBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm4odGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBBY3Rpb24sIGlmIG9wZXJhdGlvbiBpcyB1bmtub3duXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ09wZXJhdGlvbiBpcyB1bmtub3duIVxcblwiaXNcIiBoZWxwZXIgc3VwcG9ydHMgb25seTpcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCI9PVwiLFxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIj09PVwiLFxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIj5cIixcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCI+PVwiLFxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIjxcIixcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCI8PVwiLFxcbidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZXJhdGlvbiBoYXZlIHRvIGJlIHJlY2l2ZWQgYW5kIGhhdmUgdG8gYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHIgdG8gbG93ZXIgY2FzZVxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciBbZGVzY3JpcHRpb25dXG4gICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICovXG4gICAgICAgIHRvTG93ZXJDYXNlOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHN0ci50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0ciB0byB1cHBlciBjYXNlXG4gICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gc3RyIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAgICAgKi9cbiAgICAgICAgdG9VcHBlckNhc2U6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyICE9ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3RyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FwaXRhbGl6ZSBmaXJzdCBzeW1ib2wgb2Ygc3RyXG4gICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gc3RyIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAgICAgKi9cbiAgICAgICAgY2FwaXRhbGl6ZUZpcnN0OiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHN0ci50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgd2hpdGVzcGFjZXMgZnJvbSByZWNpdmVkIGRhdGEgdG8gaGVscGVyXG4gICAgICAgICAqIEBwYXJhbSAge1t0eXBlXX0gb3B0aW9ucyBbZGVzY3JpcHRpb25dXG4gICAgICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAgICAgICAqL1xuICAgICAgICBzdHJpcDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgICAgICB2YXIgX2RhdGEgPSB7fSxcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLl9kYXRhKSB7XG4gICAgICAgICAgICAgICAgX2RhdGEgPSBIYW5kbGViYXJzLmNyZWF0ZUZyYW1lKG9wdGlvbnMuX2RhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZW50ID0gb3B0aW9ucy5mbih0aGlzLCB7ZGF0YTogX2RhdGF9KS5yZXBsYWNlKC8+KFxccyspPC9nLCAnPjwnKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlNhZmVTdHJpbmcoY29udGVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RyaXBUYWdzOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgvPCEtLVteXSotLT4vZywgJycpO1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC88XFwvP1tePl0rPi9naSwgJycpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHN0cmlwU3R5bGU6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvIHN0eWxlPVwiW15cIl0qXCIvZywgJycpXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHt7Zm9ybWF0RGF0YX19XG4gICAgICAgICAqIFBvcnQgb2YgZm9ybWF0RGF0ZS1qcyBsaWJyYXJ5IChodHRwOi8vYml0Lmx5LzE4ZW8yeHcpXG4gICAgICAgICAqIEBwYXJhbSAge1t0eXBlXX0gZGF0ZSAgIFtkZXNjcmlwdGlvbl1cbiAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSBmb3JtYXQgW2Rlc2NyaXB0aW9uXVxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAgICAgICAqL1xuICAgICAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZXMuZm9ybWF0KGRhdGUsIGZvcm1hdCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHt7bm93fX1cbiAgICAgICAgICogQHBhcmFtICB7W3R5cGVdfSBmb3JtYXQgW2Rlc2NyaXB0aW9uXVxuICAgICAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAgICAgICAqL1xuICAgICAgICBub3c6IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGlmIChVdGlscy5pc1VuZGVmaW5lZChmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5mb3JtYXQoZGF0ZSwgZm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICoge3tpMThufX1cbiAgICAgICAgICogQGF1dGhvcjogTGF1cmVudCBHb2RlcnJlIDxodHRwczovL2dpdGh1Yi5jb20vTGF1cmVudEdvZGVycnJlPlxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRleHRcbiAgICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgICAgICogQGV4YW1wbGU6IDxodHRwczovL2dpdGh1Yi5jb20vYXNzZW1ibGUvYnV0dG9ucz4gKFNlZSB0aGUgXCJidXR0b24taTE4blwiIGV4YW1wbGUpXG4gICAgICAgICAqL1xuICAgICAgICBpMThuOiBmdW5jdGlvbiAoY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGxhbmd1YWdlID0gdm9pZCAwO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0tleSBtdXN0IGJlIG9mIHR5cGUgXFwnc3RyaW5nXFwnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFuZ3VhZ2UgPSAodHlwZW9mIG9wdGlvbnMuaGFzaC5sYW5ndWFnZSA9PT0gJ3N0cmluZycgPyBvcHRpb25zLmhhc2gubGFuZ3VhZ2UgOiB0aGlzLmxhbmd1YWdlKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsYW5ndWFnZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnVGhlIFxcJ2xhbmd1YWdlXFwnIHBhcmFtZXRlciBpcyBub3QgZGVmaW5lZCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tsYW5ndWFnZV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnTm8gc3RyaW5ncyBmb3VuZCBmb3IgbGFuZ3VhZ2UgXFwnXCIgKyBsYW5ndWFnZSArIFwiXFwnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzW2xhbmd1YWdlXVtjb250ZXh0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHRocm93ICdObyBzdHJpbmcgZm9yIGtleSBcXCdcIiArIGNvbnRleHQgKyBcIlxcJyBmb3IgbGFuZ3VhZ2UgXFwnXCIgKyBsYW5ndWFnZSArIFwiXFwnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbbGFuZ3VhZ2VdW2NvbnRleHRdO1xuICAgICAgICB9LFxuICAgICAgICBpY29uOiBmdW5jdGlvbiAobmFtZSwgc2VsZWN0b3IsIHN5cykge1xuICAgICAgICAgICAgdmFyIGNsID0gJ2ljb24gaWNvbl8nICsgbmFtZTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgY2wgKz0gXCIgXCIgKyBzZWxlY3RvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlNhZmVTdHJpbmcoXG4gICAgICAgICAgICAgICAgJzxzdmcgcm9sZT1cImltZ1wiIHRpdGxlPVwiaWNvbl8nICsgbmFtZSArICdcIiBjbGFzcz1cIicgKyBjbCArICdcIj4nICtcbiAgICAgICAgICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiL2ljb24tc3ZnL3N2Zy1zeW1ib2xzLnN2ZyNpY29uXycgKyBuYW1lICsgJ1wiLz4nICtcbiAgICAgICAgICAgICAgICAnPC9zdmc+J1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW1nU3JjOiBmdW5jdGlvbiAoaW1nSWQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciBpbWdTcmMgPSAnaHR0cDovL2FwaS1mbS5wcmVzZW50LXRsdC5ydS9maWxlcz9rZXk9JyArIGltZ0lkO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKHdpZHRoKSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZih3aWR0aCkgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGltZ1NyYyA9IGltZ1NyYyArICcmd2lkdGg9JyArIHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZihoZWlnaHQpICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mKGhlaWdodCkgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGltZ1NyYyA9IGltZ1NyYyArICcmaGVpZ2h0PScgKyBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGltZ1NyYyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuU2FmZVN0cmluZyhpbWdTcmMpO1xuICAgICAgICB9XG4gICAgfTtcbn07IiwiLyoqXG4gKiBIYW5kbGViYXJzIEhlbHBlcnMgVXRpbHNcbiAqIGh0dHA6Ly9naXRodWIuY29tL2Fzc2VtYmxlL2hhbmRsZWJhcnMtaGVscGVyc1xuICogQ29weXJpZ2h0IChjKSAyMDEzIEpvbiBTY2hsaW5rZXJ0LCBCcmlhbiBXb29kd2FyZCwgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCkuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIERhdGVzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuRGF0ZXMucGFkTnVtYmVyID0gZnVuY3Rpb24gKG51bSwgY291bnQsIHBhZENoYXJhY3Rlcikge1xuXG4gICAgaWYgKHR5cGVvZiBwYWRDaGFyYWN0ZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHBhZENoYXJhY3RlciA9ICcwJztcbiAgICB9XG5cbiAgICB2YXIgbGVuRGlmZiA9IGNvdW50IC0gU3RyaW5nKG51bSkubGVuZ3RoO1xuICAgIHZhciBwYWRkaW5nID0gJyc7XG5cbiAgICBpZiAobGVuRGlmZiA+IDApIHtcbiAgICAgICAgd2hpbGUgKGxlbkRpZmYtLSkge1xuICAgICAgICAgICAgcGFkZGluZyArPSBwYWRDaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhZGRpbmcgKyBudW07XG59O1xuXG5EYXRlcy5kYXlPZlllYXIgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIHZhciBvbmVKYW4gPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuXG4gICAgcmV0dXJuIE1hdGguY2VpbCgoZGF0ZSAtIG9uZUphbikgLyA4NjQwMDAwMCk7XG59O1xuXG5EYXRlcy53ZWVrT2ZZZWFyID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICB2YXIgb25lSmFuID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICByZXR1cm4gTWF0aC5jZWlsKCgoKGRhdGUgLSBvbmVKYW4pIC8gODY0MDAwMDApICsgb25lSmFuLmdldERheSgpICsgMSkgLyA3KTtcbn07XG5cbkRhdGVzLmlzb1dlZWtPZlllYXIgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIHZhciB0YXJnZXQgPSBuZXcgRGF0ZShkYXRlLnZhbHVlT2YoKSk7XG4gICAgdmFyIGRheU5yID0gKGRhdGUuZ2V0RGF5KCkgKyA2KSAlIDc7XG4gICAgdGFyZ2V0LnNldERhdGUodGFyZ2V0LmdldERhdGUoKSAtIGRheU5yICsgMyk7XG4gICAgdmFyIGphbjQgPSBuZXcgRGF0ZSh0YXJnZXQuZ2V0RnVsbFllYXIoKSwgMCwgNCk7XG4gICAgdmFyIGRheURpZmYgPSAodGFyZ2V0IC0gamFuNCkgLyA4NjQwMDAwMDtcblxuICAgIHJldHVybiAxICsgTWF0aC5jZWlsKGRheURpZmYgLyA3KTtcbn07XG5cbkRhdGVzLnR3ZWxldmVIb3VyID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICBpZiAoZGF0ZS5nZXRIb3VycygpID4gMTIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0SG91cnMoKSAtIDEyO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRlLmdldEhvdXJzKCk7XG59O1xuXG5EYXRlcy50aW1lWm9uZU9mZnNldCA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgdmFyIGhvdXJzRGlmZiA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MDtcbiAgICB2YXIgcmVzdWx0ID0gRGF0ZXMucGFkTnVtYmVyKE1hdGguYWJzKGhvdXJzRGlmZiksIDQpO1xuXG4gICAgcmV0dXJuIChob3Vyc0RpZmYgPiAwID8gJysnIDogJy0nKSArIHJlc3VsdDtcbn07XG5cbkRhdGVzLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlLCBmb3JtYXQpIHtcbiAgICB2YXIgbWF0Y2ggPSBudWxsO1xuICAgIHJldHVybiBmb3JtYXQucmVwbGFjZShEYXRlcy5mb3JtYXRzLCBmdW5jdGlvbiAobSwgcCkge1xuICAgICAgICBzd2l0Y2ggKHApIHtcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5hYmJyZXZpYXRlZFdlZWtkYXlzW2RhdGUuZ2V0RGF5KCldO1xuICAgICAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLmZ1bGxXZWVrZGF5c1tkYXRlLmdldERheSgpXTtcbiAgICAgICAgICAgIGNhc2UgJ2InOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5hYmJyZXZpYXRlZE1vbnRoc1tkYXRlLmdldE1vbnRoKCldO1xuICAgICAgICAgICAgY2FzZSAnQic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLmdldEZ1bGxNb3VudGgoZGF0ZS5nZXRNb250aCgpLCBcIlJ1XCIpO1xuICAgICAgICAgICAgY2FzZSAnYyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRhdGUuZ2V0RnVsbFllYXIoKSAvIDEwMCk7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMucGFkTnVtYmVyKGRhdGUuZ2V0RGF0ZSgpLCAyKTtcbiAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5mb3JtYXQoZGF0ZSwgJyVtLyVkLyV5Jyk7XG4gICAgICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMucGFkTnVtYmVyKGRhdGUuZ2V0RGF0ZSgpLCAyLCAnICcpO1xuICAgICAgICAgICAgY2FzZSAnRic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLmZvcm1hdChkYXRlLCAnJVktJW0tJWQnKTtcbiAgICAgICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5mb3JtYXQoZGF0ZSwgJyViJyk7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMucGFkTnVtYmVyKGRhdGUuZ2V0SG91cnMoKSwgMik7XG4gICAgICAgICAgICBjYXNlICdJJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMucGFkTnVtYmVyKERhdGVzLnR3ZWxldmVIb3VyKGRhdGUpLCAyKTtcbiAgICAgICAgICAgIGNhc2UgJ2onOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5wYWROdW1iZXIoRGF0ZXMuZGF5T2ZZZWFyKGRhdGUpLCAzKTtcbiAgICAgICAgICAgIGNhc2UgJ2snOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5wYWROdW1iZXIoZGF0ZS5nZXRIb3VycygpLCAyLCAnICcpO1xuICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLnBhZE51bWJlcihEYXRlcy50d2VsZXZlSG91cihkYXRlKSwgMiwgJyAnKTtcbiAgICAgICAgICAgIGNhc2UgJ0wnOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5wYWROdW1iZXIoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSwgMyk7XG4gICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMucGFkTnVtYmVyKGRhdGUuZ2V0TW9udGgoKSArIDEsIDIpO1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLnBhZE51bWJlcihkYXRlLmdldE1pbnV0ZXMoKSwgMik7XG4gICAgICAgICAgICBjYXNlICduJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1xcbic7XG4gICAgICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXRIb3VycygpID4gMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdQTSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdBTSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLmZvcm1hdChkYXRlLCAnJXAnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLmZvcm1hdChkYXRlLCAnJUk6JU06JVMgJXAnKTtcbiAgICAgICAgICAgIGNhc2UgJ1InOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5mb3JtYXQoZGF0ZSwgJyVIOiVNJyk7XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLnBhZE51bWJlcihkYXRlLmdldFNlY29uZHMoKSwgMik7XG4gICAgICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1xcdCc7XG4gICAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMuZm9ybWF0KGRhdGUsICclSDolTTolUycpO1xuICAgICAgICAgICAgY2FzZSAndSc6XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUuZ2V0RGF5KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLnBhZE51bWJlcihEYXRlcy53ZWVrT2ZZZWFyKGRhdGUpLCAyKTtcbiAgICAgICAgICAgIGNhc2UgJ3YnOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5mb3JtYXQoZGF0ZSwgJyVlLSViLSVZJyk7XG4gICAgICAgICAgICBjYXNlICdWJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMucGFkTnVtYmVyKERhdGVzLmlzb1dlZWtPZlllYXIoZGF0ZSksIDIpO1xuICAgICAgICAgICAgY2FzZSAnVyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERhdGVzLnBhZE51bWJlcihEYXRlcy53ZWVrT2ZZZWFyKGRhdGUpLCAyKTtcbiAgICAgICAgICAgIGNhc2UgJ3cnOlxuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlcy5wYWROdW1iZXIoZGF0ZS5nZXREYXkoKSwgMik7XG4gICAgICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICAgICAgICAgIGNhc2UgJ1gnOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpO1xuICAgICAgICAgICAgY2FzZSAneSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhkYXRlLmdldEZ1bGxZZWFyKCkpLnN1YnN0cmluZygyKTtcbiAgICAgICAgICAgIGNhc2UgJ1knOlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBjYXNlICd6JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMudGltZVpvbmVPZmZzZXQoZGF0ZSk7XG4gICAgICAgICAgICBjYXNlICdaJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZXMuZnVsbE1vbnRoc1J1UFtkYXRlLmdldE1vbnRoKCldO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbkRhdGVzLmZvcm1hdHMgPSAvJShhfEF8YnxCfGN8Q3xkfER8ZXxFfEZ8aHxIfEl8anxrfGx8THxtfE18bnxwfFB8cnxSfHN8U3x0fFR8dXxVfHZ8VnxXfHd8eHxYfHl8WXx6fFopL2c7XG5cbkRhdGVzLmFiYnJldmlhdGVkV2Vla2RheXMgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHVyJywgJ0ZyaScsICdTYXQnXTtcbkRhdGVzLmZ1bGxXZWVrZGF5cyA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcbkRhdGVzLmFiYnJldmlhdGVkTW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddO1xuRGF0ZXMuZnVsbE1vbnRocyA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuXG5EYXRlcy5mdWxsTW9udGhzUnVQID0gWyfQr9C90LLQsNGA0Y8nLCAn0KTQtdCy0YDQsNC70Y8nLCAn0JzQsNGA0YLQsCcsICfQkNC/0YDQtdC70Y8nLCAn0JzQsNGPJywgJ9CY0Y7QvdGPJywgJ9CY0Y7Qu9GPJywgJ9CQ0LLQs9GD0YHRgtCwJywgJ9Ch0LXQvdGC0Y/QsdGA0Y8nLCAn0J7QutGC0Y/QsdGA0Y8nLCAn0J3QvtGP0LHRgNGPJywgJ9CU0LXQutCw0LHRgNGPJ107XG5EYXRlcy5mdWxsTW9udGhzUnUgPSBbJ9Cv0L3QstCw0YDRjCcsICfQpNC10LLRgNCw0LvRjCcsICfQnNCw0YDRgicsICfQkNC/0YDQtdC70YwnLCAn0JzQsNC5JywgJ9CY0Y7QvdGMJywgJ9CY0Y7Qu9GMJywgJ9CQ0LLQs9GD0YHRgicsICfQodC10L3RgtGP0LHRgNGMJywgJ9Ce0LrRgtGP0LHRgNGMJywgJ9Cd0L7Rj9Cx0YDRjCcsICfQlNC10LrQsNCx0YDRjCddO1xuXG5EYXRlcy5nZXRGdWxsTW91bnRoID0gZnVuY3Rpb24gKG51bSwgbGFuZykge1xuICAgIGlmIChsYW5nID09IFwiUnVcIilcbiAgICAgICAgcmV0dXJuIERhdGVzLmZ1bGxNb250aHNSdTtcbiAgICByZXR1cm4gRGF0ZXMuZnVsbE1vbnRocztcbn1cblxuIiwiLyoqXG4gKiBIYW5kbGViYXJzIEhlbHBlcnM6IFV0aWxzXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9hc3NlbWJsZS9oYW5kbGViYXJzLWhlbHBlcnNcbiAqIENvcHlyaWdodCAoYykgMjAxMywgMjAxNCBKb24gU2NobGlua2VydCwgQnJpYW4gV29vZHdhcmQsIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzVW5kZWZpbmVkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJyB8fCAodmFsdWUuaGFzaCAhPSBudWxsKTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCBoZWxwZXJzLlxuICAgICAqIEBwYXJhbSB7U2VydmljZUxvY2F0b3J9IGxvY2F0b3IgQ2F0YmVycnkncyBzZXJ2aWNlIGxvY2F0b3IuXG4gICAgICovXG4gICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChsb2NhdG9yKSB7XG4gICAgICAgIHZhciBjb25maWcgPSBsb2NhdG9yLnJlc29sdmUoJ2NvbmZpZycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZWJhcnMgPSBsb2NhdG9yLnJlc29sdmUoJ2hhbmRsZWJhcnMnKTtcbiAgICAgICAgICAgIHZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oYW5kbGViYXJzLWhlbHBlcicpKGhhbmRsZWJhcnMpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhoZWxwZXJzKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIobmFtZSwgaGVscGVyc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG8uXG4gICAgICAgIH1cbiAgICB9XG59OyIsIi8qXG4gKiBjYXRiZXJyeS1oYW5kbGViYXJzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnktaGFuZGxlYmFycydzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnktaGFuZGxlYmFycyB0aGF0IGFyZVxuICogbm90IGV4dGVybmFsbHkgbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRlbXBsYXRlUHJvdmlkZXI7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgSGFuZGxlYmFycyB0ZW1wbGF0ZSBwcm92aWRlci5cbiAqIEBwYXJhbSB7SGFuZGxlYmFyc30gJGhhbmRsZWJhcnMgSGFuZGxlYmFycyBmYWN0b3J5LlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFRlbXBsYXRlUHJvdmlkZXIoJGhhbmRsZWJhcnMpIHtcblx0dGhpcy5faGFuZGxlYmFycyA9ICRoYW5kbGViYXJzO1xuXHR0aGlzLl90ZW1wbGF0ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG4vKipcbiAqIEN1cnJlbnQgSGFuZGxlYmFycyBmYWN0b3J5LlxuICogQHR5cGUge0hhbmRsZWJhcnN9XG4gKiBAcHJpdmF0ZVxuICovXG5UZW1wbGF0ZVByb3ZpZGVyLnByb3RvdHlwZS5faGFuZGxlYmFycyA9IG51bGw7XG5cbi8qKlxuICogQ3VycmVudCBzZXQgb2YgcmVnaXN0ZXJlZCB0ZW1wbGF0ZXMuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGVtcGxhdGVQcm92aWRlci5wcm90b3R5cGUuX3RlbXBsYXRlcyA9IG51bGw7XG5cbi8qKlxuICogUmVnaXN0ZXJzIGNvbXBpbGVkIChwcmVjb21waWxlZCkgSGFuZGxlYmFycyB0ZW1wbGF0ZS5cbiAqIGh0dHA6Ly9oYW5kbGViYXJzanMuY29tL3JlZmVyZW5jZS5odG1sXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUZW1wbGF0ZSBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBpbGVkIENvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS5cbiAqL1xuVGVtcGxhdGVQcm92aWRlci5wcm90b3R5cGUucmVnaXN0ZXJDb21waWxlZCA9IGZ1bmN0aW9uIChuYW1lLCBjb21waWxlZCkge1xuXHQvLyBqc2hpbnQgZXZpbDp0cnVlXG5cdHZhciBzcGVjcyA9IG5ldyBGdW5jdGlvbigncmV0dXJuICcgKyBjb21waWxlZCArICc7Jyk7XG5cdHRoaXMuX3RlbXBsYXRlc1tuYW1lXSA9IHRoaXMuX2hhbmRsZWJhcnMudGVtcGxhdGUoc3BlY3MoKSk7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgdGVtcGxhdGUgd2l0aCBzcGVjaWZpZWQgZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGVtcGxhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBEYXRhIGNvbnRleHQgZm9yIHRlbXBsYXRlLlxuICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUHJvbWlzZSBmb3IgcmVuZGVyZWQgSFRNTC5cbiAqL1xuVGVtcGxhdGVQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEpIHtcblx0aWYgKCEobmFtZSBpbiB0aGlzLl90ZW1wbGF0ZXMpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTm8gc3VjaCB0ZW1wbGF0ZScpKTtcblx0fVxuXG5cdHZhciBwcm9taXNlO1xuXHR0cnkge1xuXHRcdHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodGhpcy5fdGVtcGxhdGVzW25hbWVdKGRhdGEpKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHByb21pc2UgPSBQcm9taXNlLnJlamVjdChlKTtcblx0fVxuXHRyZXR1cm4gcHJvbWlzZTtcbn07IiwiLyohXG5cbiBoYW5kbGViYXJzIHYyLjAuMFxuXG5Db3B5cmlnaHQgKEMpIDIwMTEtMjAxNCBieSBZZWh1ZGEgS2F0elxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbkBsaWNlbnNlXG4qL1xuLyogZXhwb3J0ZWQgSGFuZGxlYmFycyAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuSGFuZGxlYmFycyA9IHJvb3QuSGFuZGxlYmFycyB8fCBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuLy8gaGFuZGxlYmFycy9zYWZlLXN0cmluZy5qc1xudmFyIF9fbW9kdWxlM19fID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIF9fZXhwb3J0c19fO1xuICAvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuICBmdW5jdGlvbiBTYWZlU3RyaW5nKHN0cmluZykge1xuICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICB9XG5cbiAgU2FmZVN0cmluZy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJcIiArIHRoaXMuc3RyaW5nO1xuICB9O1xuXG4gIF9fZXhwb3J0c19fID0gU2FmZVN0cmluZztcbiAgcmV0dXJuIF9fZXhwb3J0c19fO1xufSkoKTtcblxuLy8gaGFuZGxlYmFycy91dGlscy5qc1xudmFyIF9fbW9kdWxlMl9fID0gKGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXykge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIF9fZXhwb3J0c19fID0ge307XG4gIC8qanNoaW50IC1XMDA0ICovXG4gIHZhciBTYWZlU3RyaW5nID0gX19kZXBlbmRlbmN5MV9fO1xuXG4gIHZhciBlc2NhcGUgPSB7XG4gICAgXCImXCI6IFwiJmFtcDtcIixcbiAgICBcIjxcIjogXCImbHQ7XCIsXG4gICAgXCI+XCI6IFwiJmd0O1wiLFxuICAgICdcIic6IFwiJnF1b3Q7XCIsXG4gICAgXCInXCI6IFwiJiN4Mjc7XCIsXG4gICAgXCJgXCI6IFwiJiN4NjA7XCJcbiAgfTtcblxuICB2YXIgYmFkQ2hhcnMgPSAvWyY8PlwiJ2BdL2c7XG4gIHZhciBwb3NzaWJsZSA9IC9bJjw+XCInYF0vO1xuXG4gIGZ1bmN0aW9uIGVzY2FwZUNoYXIoY2hyKSB7XG4gICAgcmV0dXJuIGVzY2FwZVtjaHJdO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKG9iaiAvKiAsIC4uLnNvdXJjZSAqLykge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzW2ldKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXJndW1lbnRzW2ldLCBrZXkpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBfX2V4cG9ydHNfXy5leHRlbmQgPSBleHRlbmQ7dmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgX19leHBvcnRzX18udG9TdHJpbmcgPSB0b1N0cmluZztcbiAgLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmVzdGllanMvbG9kYXNoL2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0XG4gIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICB9O1xuICAvLyBmYWxsYmFjayBmb3Igb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21lIGFuZCBTYWZhcmlcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKGlzRnVuY3Rpb24oL3gvKSkge1xuICAgIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9O1xuICB9XG4gIHZhciBpc0Z1bmN0aW9uO1xuICBfX2V4cG9ydHNfXy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSA/IHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nIDogZmFsc2U7XG4gIH07XG4gIF9fZXhwb3J0c19fLmlzQXJyYXkgPSBpc0FycmF5O1xuXG4gIGZ1bmN0aW9uIGVzY2FwZUV4cHJlc3Npb24oc3RyaW5nKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgaW5zdGFuY2VvZiBTYWZlU3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChzdHJpbmcgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gXCJcIiArIHN0cmluZztcblxuICAgIGlmKCFwb3NzaWJsZS50ZXN0KHN0cmluZykpIHsgcmV0dXJuIHN0cmluZzsgfVxuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG4gIH1cblxuICBfX2V4cG9ydHNfXy5lc2NhcGVFeHByZXNzaW9uID0gZXNjYXBlRXhwcmVzc2lvbjtmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX19leHBvcnRzX18uaXNFbXB0eSA9IGlzRW1wdHk7ZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gICAgcmV0dXJuIChjb250ZXh0UGF0aCA/IGNvbnRleHRQYXRoICsgJy4nIDogJycpICsgaWQ7XG4gIH1cblxuICBfX2V4cG9ydHNfXy5hcHBlbmRDb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoO1xuICByZXR1cm4gX19leHBvcnRzX187XG59KShfX21vZHVsZTNfXyk7XG5cbi8vIGhhbmRsZWJhcnMvZXhjZXB0aW9uLmpzXG52YXIgX19tb2R1bGU0X18gPSAoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICB2YXIgX19leHBvcnRzX187XG5cbiAgdmFyIGVycm9yUHJvcHMgPSBbJ2Rlc2NyaXB0aW9uJywgJ2ZpbGVOYW1lJywgJ2xpbmVOdW1iZXInLCAnbWVzc2FnZScsICduYW1lJywgJ251bWJlcicsICdzdGFjayddO1xuXG4gIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gICAgdmFyIGxpbmU7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5maXJzdExpbmUpIHtcbiAgICAgIGxpbmUgPSBub2RlLmZpcnN0TGluZTtcblxuICAgICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBub2RlLmZpcnN0Q29sdW1uO1xuICAgIH1cblxuICAgIHZhciB0bXAgPSBFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcblxuICAgIC8vIFVuZm9ydHVuYXRlbHkgZXJyb3JzIGFyZSBub3QgZW51bWVyYWJsZSBpbiBDaHJvbWUgKGF0IGxlYXN0KSwgc28gYGZvciBwcm9wIGluIHRtcGAgZG9lc24ndCB3b3JrLlxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgdGhpc1tlcnJvclByb3BzW2lkeF1dID0gdG1wW2Vycm9yUHJvcHNbaWR4XV07XG4gICAgfVxuXG4gICAgaWYgKGxpbmUpIHtcbiAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmU7XG4gICAgICB0aGlzLmNvbHVtbiA9IG5vZGUuZmlyc3RDb2x1bW47XG4gICAgfVxuICB9XG5cbiAgRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG4gIF9fZXhwb3J0c19fID0gRXhjZXB0aW9uO1xuICByZXR1cm4gX19leHBvcnRzX187XG59KSgpO1xuXG4vLyBoYW5kbGViYXJzL2Jhc2UuanNcbnZhciBfX21vZHVsZTFfXyA9IChmdW5jdGlvbihfX2RlcGVuZGVuY3kxX18sIF9fZGVwZW5kZW5jeTJfXykge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIF9fZXhwb3J0c19fID0ge307XG4gIHZhciBVdGlscyA9IF9fZGVwZW5kZW5jeTFfXztcbiAgdmFyIEV4Y2VwdGlvbiA9IF9fZGVwZW5kZW5jeTJfXztcblxuICB2YXIgVkVSU0lPTiA9IFwiMi4wLjBcIjtcbiAgX19leHBvcnRzX18uVkVSU0lPTiA9IFZFUlNJT047dmFyIENPTVBJTEVSX1JFVklTSU9OID0gNjtcbiAgX19leHBvcnRzX18uQ09NUElMRVJfUkVWSVNJT04gPSBDT01QSUxFUl9SRVZJU0lPTjtcbiAgdmFyIFJFVklTSU9OX0NIQU5HRVMgPSB7XG4gICAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgICAyOiAnPT0gMS4wLjAtcmMuMycsXG4gICAgMzogJz09IDEuMC4wLXJjLjQnLFxuICAgIDQ6ICc9PSAxLngueCcsXG4gICAgNTogJz09IDIuMC4wLWFscGhhLngnLFxuICAgIDY6ICc+PSAyLjAuMC1iZXRhLjEnXG4gIH07XG4gIF9fZXhwb3J0c19fLlJFVklTSU9OX0NIQU5HRVMgPSBSRVZJU0lPTl9DSEFOR0VTO1xuICB2YXIgaXNBcnJheSA9IFV0aWxzLmlzQXJyYXksXG4gICAgICBpc0Z1bmN0aW9uID0gVXRpbHMuaXNGdW5jdGlvbixcbiAgICAgIHRvU3RyaW5nID0gVXRpbHMudG9TdHJpbmcsXG4gICAgICBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbiAgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzKSB7XG4gICAgdGhpcy5oZWxwZXJzID0gaGVscGVycyB8fCB7fTtcbiAgICB0aGlzLnBhcnRpYWxzID0gcGFydGlhbHMgfHwge307XG5cbiAgICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICB9XG5cbiAgX19leHBvcnRzX18uSGFuZGxlYmFyc0Vudmlyb25tZW50ID0gSGFuZGxlYmFyc0Vudmlyb25tZW50O0hhbmRsZWJhcnNFbnZpcm9ubWVudC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IEhhbmRsZWJhcnNFbnZpcm9ubWVudCxcblxuICAgIGxvZ2dlcjogbG9nZ2VyLFxuICAgIGxvZzogbG9nLFxuXG4gICAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgICBpZiAodG9TdHJpbmcuY2FsbChuYW1lKSA9PT0gb2JqZWN0VHlwZSkge1xuICAgICAgICBpZiAoZm4pIHsgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBoZWxwZXJzJyk7IH1cbiAgICAgICAgVXRpbHMuZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gICAgfSxcblxuICAgIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSwgcGFydGlhbCkge1xuICAgICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgICAgVXRpbHMuZXh0ZW5kKHRoaXMucGFydGlhbHMsICBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFydGlhbHNbbmFtZV0gPSBwYXJ0aWFsO1xuICAgICAgfVxuICAgIH0sXG4gICAgdW5yZWdpc3RlclBhcnRpYWw6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnBhcnRpYWxzW25hbWVdO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRIZWxwZXJzKGluc3RhbmNlKSB7XG4gICAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHVjdC5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNvbWVvbmUgaXMgYWN0dWFsbHkgdHJ5aW5nIHRvIGNhbGwgc29tZXRoaW5nLCBibG93IHVwLlxuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiTWlzc2luZyBoZWxwZXI6ICdcIiArIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdLm5hbWUgKyBcIidcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgdmFyIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgICAgZm4gPSBvcHRpb25zLmZuO1xuXG4gICAgICBpZihjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBmbih0aGlzKTtcbiAgICAgIH0gZWxzZSBpZihjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgICAgaWYoY29udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzLmVhY2goY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGludmVyc2UodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IFV0aWxzLmFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgICBvcHRpb25zID0ge2RhdGE6IGRhdGF9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2VhY2gnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTXVzdCBwYXNzIGl0ZXJhdG9yIHRvICNlYWNoJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmbiA9IG9wdGlvbnMuZm4sIGludmVyc2UgPSBvcHRpb25zLmludmVyc2U7XG4gICAgICB2YXIgaSA9IDAsIHJldCA9IFwiXCIsIGRhdGE7XG5cbiAgICAgIHZhciBjb250ZXh0UGF0aDtcbiAgICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgICAgY29udGV4dFBhdGggPSBVdGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMuaWRzWzBdKSArICcuJztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgICBpZiAob3B0aW9ucy5kYXRhKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZihjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICAgIGZvcih2YXIgaiA9IGNvbnRleHQubGVuZ3RoOyBpPGo7IGkrKykge1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgZGF0YS5pbmRleCA9IGk7XG4gICAgICAgICAgICAgIGRhdGEuZmlyc3QgPSAoaSA9PT0gMCk7XG4gICAgICAgICAgICAgIGRhdGEubGFzdCAgPSAoaSA9PT0gKGNvbnRleHQubGVuZ3RoLTEpKTtcblxuICAgICAgICAgICAgICBpZiAoY29udGV4dFBhdGgpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gY29udGV4dFBhdGggKyBpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQgPSByZXQgKyBmbihjb250ZXh0W2ldLCB7IGRhdGE6IGRhdGEgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvcih2YXIga2V5IGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmKGNvbnRleHQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICBpZihkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5rZXkgPSBrZXk7XG4gICAgICAgICAgICAgICAgZGF0YS5pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgZGF0YS5maXJzdCA9IChpID09PSAwKTtcblxuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuICAgICAgICAgICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXQgPSByZXQgKyBmbihjb250ZXh0W2tleV0sIHtkYXRhOiBkYXRhfSk7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoaSA9PT0gMCl7XG4gICAgICAgIHJldCA9IGludmVyc2UodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSk7XG5cbiAgICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oY29uZGl0aW9uYWwpKSB7IGNvbmRpdGlvbmFsID0gY29uZGl0aW9uYWwuY2FsbCh0aGlzKTsgfVxuXG4gICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuICAgICAgLy8gYmVoYXZpb3Igb2YgaXNFbXB0eS4gRWZmZWN0aXZlbHkgdGhpcyBkZXRlcm1pbmVzIGlmIDAgaXMgaGFuZGxlZCBieSB0aGUgcG9zaXRpdmUgcGF0aCBvciBuZWdhdGl2ZS5cbiAgICAgIGlmICgoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwpIHx8IFV0aWxzLmlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge2ZuOiBvcHRpb25zLmludmVyc2UsIGludmVyc2U6IG9wdGlvbnMuZm4sIGhhc2g6IG9wdGlvbnMuaGFzaH0pO1xuICAgIH0pO1xuXG4gICAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0KSkgeyBjb250ZXh0ID0gY29udGV4dC5jYWxsKHRoaXMpOyB9XG5cbiAgICAgIHZhciBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICAgIGlmICghVXRpbHMuaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBVdGlscy5hcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMuaWRzWzBdKTtcbiAgICAgICAgICBvcHRpb25zID0ge2RhdGE6ZGF0YX07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZXZlbCA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCA/IHBhcnNlSW50KG9wdGlvbnMuZGF0YS5sZXZlbCwgMTApIDogMTtcbiAgICAgIGluc3RhbmNlLmxvZyhsZXZlbCwgbWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24ob2JqLCBmaWVsZCkge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmpbZmllbGRdO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGxvZ2dlciA9IHtcbiAgICBtZXRob2RNYXA6IHsgMDogJ2RlYnVnJywgMTogJ2luZm8nLCAyOiAnd2FybicsIDM6ICdlcnJvcicgfSxcblxuICAgIC8vIFN0YXRlIGVudW1cbiAgICBERUJVRzogMCxcbiAgICBJTkZPOiAxLFxuICAgIFdBUk46IDIsXG4gICAgRVJST1I6IDMsXG4gICAgbGV2ZWw6IDMsXG5cbiAgICAvLyBjYW4gYmUgb3ZlcnJpZGRlbiBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudFxuICAgIGxvZzogZnVuY3Rpb24obGV2ZWwsIG1lc3NhZ2UpIHtcbiAgICAgIGlmIChsb2dnZXIubGV2ZWwgPD0gbGV2ZWwpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IGxvZ2dlci5tZXRob2RNYXBbbGV2ZWxdO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGVbbWV0aG9kXSkge1xuICAgICAgICAgIGNvbnNvbGVbbWV0aG9kXS5jYWxsKGNvbnNvbGUsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBfX2V4cG9ydHNfXy5sb2dnZXIgPSBsb2dnZXI7XG4gIHZhciBsb2cgPSBsb2dnZXIubG9nO1xuICBfX2V4cG9ydHNfXy5sb2cgPSBsb2c7XG4gIHZhciBjcmVhdGVGcmFtZSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBmcmFtZSA9IFV0aWxzLmV4dGVuZCh7fSwgb2JqZWN0KTtcbiAgICBmcmFtZS5fcGFyZW50ID0gb2JqZWN0O1xuICAgIHJldHVybiBmcmFtZTtcbiAgfTtcbiAgX19leHBvcnRzX18uY3JlYXRlRnJhbWUgPSBjcmVhdGVGcmFtZTtcbiAgcmV0dXJuIF9fZXhwb3J0c19fO1xufSkoX19tb2R1bGUyX18sIF9fbW9kdWxlNF9fKTtcblxuLy8gaGFuZGxlYmFycy9ydW50aW1lLmpzXG52YXIgX19tb2R1bGU1X18gPSAoZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZGVwZW5kZW5jeTNfXykge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIF9fZXhwb3J0c19fID0ge307XG4gIHZhciBVdGlscyA9IF9fZGVwZW5kZW5jeTFfXztcbiAgdmFyIEV4Y2VwdGlvbiA9IF9fZGVwZW5kZW5jeTJfXztcbiAgdmFyIENPTVBJTEVSX1JFVklTSU9OID0gX19kZXBlbmRlbmN5M19fLkNPTVBJTEVSX1JFVklTSU9OO1xuICB2YXIgUkVWSVNJT05fQ0hBTkdFUyA9IF9fZGVwZW5kZW5jeTNfXy5SRVZJU0lPTl9DSEFOR0VTO1xuICB2YXIgY3JlYXRlRnJhbWUgPSBfX2RlcGVuZGVuY3kzX18uY3JlYXRlRnJhbWU7XG5cbiAgZnVuY3Rpb24gY2hlY2tSZXZpc2lvbihjb21waWxlckluZm8pIHtcbiAgICB2YXIgY29tcGlsZXJSZXZpc2lvbiA9IGNvbXBpbGVySW5mbyAmJiBjb21waWxlckluZm9bMF0gfHwgMSxcbiAgICAgICAgY3VycmVudFJldmlzaW9uID0gQ09NUElMRVJfUkVWSVNJT047XG5cbiAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiAhPT0gY3VycmVudFJldmlzaW9uKSB7XG4gICAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuICAgICAgICB2YXIgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiBcIitcbiAgICAgICAgICAgICAgXCJQbGVhc2UgdXBkYXRlIHlvdXIgcHJlY29tcGlsZXIgdG8gYSBuZXdlciB2ZXJzaW9uIChcIitydW50aW1lVmVyc2lvbnMrXCIpIG9yIGRvd25ncmFkZSB5b3VyIHJ1bnRpbWUgdG8gYW4gb2xkZXIgdmVyc2lvbiAoXCIrY29tcGlsZXJWZXJzaW9ucytcIikuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXNlIHRoZSBlbWJlZGRlZCB2ZXJzaW9uIGluZm8gc2luY2UgdGhlIHJ1bnRpbWUgZG9lc24ndCBrbm93IGFib3V0IHRoaXMgcmV2aXNpb24geWV0XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gb2YgSGFuZGxlYmFycyB0aGFuIHRoZSBjdXJyZW50IHJ1bnRpbWUuIFwiK1xuICAgICAgICAgICAgICBcIlBsZWFzZSB1cGRhdGUgeW91ciBydW50aW1lIHRvIGEgbmV3ZXIgdmVyc2lvbiAoXCIrY29tcGlsZXJJbmZvWzFdK1wiKS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX19leHBvcnRzX18uY2hlY2tSZXZpc2lvbiA9IGNoZWNrUmV2aXNpb247Ly8gVE9ETzogUmVtb3ZlIHRoaXMgbGluZSBhbmQgYnJlYWsgdXAgY29tcGlsZVBhcnRpYWxcblxuICBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCFlbnYpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJObyBlbnZpcm9ubWVudCBwYXNzZWQgdG8gdGVtcGxhdGVcIik7XG4gICAgfVxuICAgIGlmICghdGVtcGxhdGVTcGVjIHx8ICF0ZW1wbGF0ZVNwZWMubWFpbikge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVW5rbm93biB0ZW1wbGF0ZSBvYmplY3Q6ICcgKyB0eXBlb2YgdGVtcGxhdGVTcGVjKTtcbiAgICB9XG5cbiAgICAvLyBOb3RlOiBVc2luZyBlbnYuVk0gcmVmZXJlbmNlcyByYXRoZXIgdGhhbiBsb2NhbCB2YXIgcmVmZXJlbmNlcyB0aHJvdWdob3V0IHRoaXMgc2VjdGlvbiB0byBhbGxvd1xuICAgIC8vIGZvciBleHRlcm5hbCB1c2VycyB0byBvdmVycmlkZSB0aGVzZSBhcyBwc3VlZG8tc3VwcG9ydGVkIEFQSXMuXG4gICAgZW52LlZNLmNoZWNrUmV2aXNpb24odGVtcGxhdGVTcGVjLmNvbXBpbGVyKTtcblxuICAgIHZhciBpbnZva2VQYXJ0aWFsV3JhcHBlciA9IGZ1bmN0aW9uKHBhcnRpYWwsIGluZGVudCwgbmFtZSwgY29udGV4dCwgaGFzaCwgaGVscGVycywgcGFydGlhbHMsIGRhdGEsIGRlcHRocykge1xuICAgICAgaWYgKGhhc2gpIHtcbiAgICAgICAgY29udGV4dCA9IFV0aWxzLmV4dGVuZCh7fSwgY29udGV4dCwgaGFzaCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXN1bHQgPSBlbnYuVk0uaW52b2tlUGFydGlhbC5jYWxsKHRoaXMsIHBhcnRpYWwsIG5hbWUsIGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhLCBkZXB0aHMpO1xuXG4gICAgICBpZiAocmVzdWx0ID09IG51bGwgJiYgZW52LmNvbXBpbGUpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7IGhlbHBlcnM6IGhlbHBlcnMsIHBhcnRpYWxzOiBwYXJ0aWFscywgZGF0YTogZGF0YSwgZGVwdGhzOiBkZXB0aHMgfTtcbiAgICAgICAgcGFydGlhbHNbbmFtZV0gPSBlbnYuY29tcGlsZShwYXJ0aWFsLCB7IGRhdGE6IGRhdGEgIT09IHVuZGVmaW5lZCwgY29tcGF0OiB0ZW1wbGF0ZVNwZWMuY29tcGF0IH0sIGVudik7XG4gICAgICAgIHJlc3VsdCA9IHBhcnRpYWxzW25hbWVdKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpbmRlbnQpIHtcbiAgICAgICAgICB2YXIgbGluZXMgPSByZXN1bHQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lc1tpXSA9IGluZGVudCArIGxpbmVzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBsaW5lcy5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIlRoZSBwYXJ0aWFsIFwiICsgbmFtZSArIFwiIGNvdWxkIG5vdCBiZSBjb21waWxlZCB3aGVuIHJ1bm5pbmcgaW4gcnVudGltZS1vbmx5IG1vZGVcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEp1c3QgYWRkIHdhdGVyXG4gICAgdmFyIGNvbnRhaW5lciA9IHtcbiAgICAgIGxvb2t1cDogZnVuY3Rpb24oZGVwdGhzLCBuYW1lKSB7XG4gICAgICAgIHZhciBsZW4gPSBkZXB0aHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGRlcHRoc1tpXSAmJiBkZXB0aHNbaV1bbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlcHRoc1tpXVtuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjdXJyZW50ID09PSAnZnVuY3Rpb24nID8gY3VycmVudC5jYWxsKGNvbnRleHQpIDogY3VycmVudDtcbiAgICAgIH0sXG5cbiAgICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgICBpbnZva2VQYXJ0aWFsOiBpbnZva2VQYXJ0aWFsV3JhcHBlcixcblxuICAgICAgZm46IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIH0sXG5cbiAgICAgIHByb2dyYW1zOiBbXSxcbiAgICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlcHRocykge1xuICAgICAgICB2YXIgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldLFxuICAgICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgICBpZiAoZGF0YSB8fCBkZXB0aHMpIHtcbiAgICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHByb2dyYW0odGhpcywgaSwgZm4sIGRhdGEsIGRlcHRocyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXByb2dyYW1XcmFwcGVyKSB7XG4gICAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldID0gcHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW1XcmFwcGVyO1xuICAgICAgfSxcblxuICAgICAgZGF0YTogZnVuY3Rpb24oZGF0YSwgZGVwdGgpIHtcbiAgICAgICAgd2hpbGUgKGRhdGEgJiYgZGVwdGgtLSkge1xuICAgICAgICAgIGRhdGEgPSBkYXRhLl9wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9LFxuICAgICAgbWVyZ2U6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgICAgdmFyIHJldCA9IHBhcmFtIHx8IGNvbW1vbjtcblxuICAgICAgICBpZiAocGFyYW0gJiYgY29tbW9uICYmIChwYXJhbSAhPT0gY29tbW9uKSkge1xuICAgICAgICAgIHJldCA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSxcblxuICAgICAgbm9vcDogZW52LlZNLm5vb3AsXG4gICAgICBjb21waWxlckluZm86IHRlbXBsYXRlU3BlYy5jb21waWxlclxuICAgIH07XG5cbiAgICB2YXIgcmV0ID0gZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YTtcblxuICAgICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsICYmIHRlbXBsYXRlU3BlYy51c2VEYXRhKSB7XG4gICAgICAgIGRhdGEgPSBpbml0RGF0YShjb250ZXh0LCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXB0aHM7XG4gICAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocykge1xuICAgICAgICBkZXB0aHMgPSBvcHRpb25zLmRlcHRocyA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogW2NvbnRleHRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGVtcGxhdGVTcGVjLm1haW4uY2FsbChjb250YWluZXIsIGNvbnRleHQsIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsIGRhdGEsIGRlcHRocyk7XG4gICAgfTtcbiAgICByZXQuaXNUb3AgPSB0cnVlO1xuXG4gICAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICAgIGNvbnRhaW5lci5oZWxwZXJzID0gY29udGFpbmVyLm1lcmdlKG9wdGlvbnMuaGVscGVycywgZW52LmhlbHBlcnMpO1xuXG4gICAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLnBhcnRpYWxzLCBlbnYucGFydGlhbHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuaGVscGVycyA9IG9wdGlvbnMuaGVscGVycztcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3B0aW9ucy5wYXJ0aWFscztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGRlcHRocykge1xuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMgJiYgIWRlcHRocykge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvZ3JhbShjb250YWluZXIsIGksIHRlbXBsYXRlU3BlY1tpXSwgZGF0YSwgZGVwdGhzKTtcbiAgICB9O1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBfX2V4cG9ydHNfXy50ZW1wbGF0ZSA9IHRlbXBsYXRlO2Z1bmN0aW9uIHByb2dyYW0oY29udGFpbmVyLCBpLCBmbiwgZGF0YSwgZGVwdGhzKSB7XG4gICAgdmFyIHByb2cgPSBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgcmV0dXJuIGZuLmNhbGwoY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBvcHRpb25zLmRhdGEgfHwgZGF0YSwgZGVwdGhzICYmIFtjb250ZXh0XS5jb25jYXQoZGVwdGhzKSk7XG4gICAgfTtcbiAgICBwcm9nLnByb2dyYW0gPSBpO1xuICAgIHByb2cuZGVwdGggPSBkZXB0aHMgPyBkZXB0aHMubGVuZ3RoIDogMDtcbiAgICByZXR1cm4gcHJvZztcbiAgfVxuXG4gIF9fZXhwb3J0c19fLnByb2dyYW0gPSBwcm9ncmFtO2Z1bmN0aW9uIGludm9rZVBhcnRpYWwocGFydGlhbCwgbmFtZSwgY29udGV4dCwgaGVscGVycywgcGFydGlhbHMsIGRhdGEsIGRlcHRocykge1xuICAgIHZhciBvcHRpb25zID0geyBwYXJ0aWFsOiB0cnVlLCBoZWxwZXJzOiBoZWxwZXJzLCBwYXJ0aWFsczogcGFydGlhbHMsIGRhdGE6IGRhdGEsIGRlcHRoczogZGVwdGhzIH07XG5cbiAgICBpZihwYXJ0aWFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJUaGUgcGFydGlhbCBcIiArIG5hbWUgKyBcIiBjb3VsZCBub3QgYmUgZm91bmRcIik7XG4gICAgfSBlbHNlIGlmKHBhcnRpYWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgX19leHBvcnRzX18uaW52b2tlUGFydGlhbCA9IGludm9rZVBhcnRpYWw7ZnVuY3Rpb24gbm9vcCgpIHsgcmV0dXJuIFwiXCI7IH1cblxuICBfX2V4cG9ydHNfXy5ub29wID0gbm9vcDtmdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gICAgaWYgKCFkYXRhIHx8ICEoJ3Jvb3QnIGluIGRhdGEpKSB7XG4gICAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICByZXR1cm4gX19leHBvcnRzX187XG59KShfX21vZHVsZTJfXywgX19tb2R1bGU0X18sIF9fbW9kdWxlMV9fKTtcblxuLy8gaGFuZGxlYmFycy5ydW50aW1lLmpzXG52YXIgX19tb2R1bGUwX18gPSAoZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZGVwZW5kZW5jeTNfXywgX19kZXBlbmRlbmN5NF9fLCBfX2RlcGVuZGVuY3k1X18pIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBfX2V4cG9ydHNfXztcbiAgLypnbG9iYWxzIEhhbmRsZWJhcnM6IHRydWUgKi9cbiAgdmFyIGJhc2UgPSBfX2RlcGVuZGVuY3kxX187XG5cbiAgLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuICAvLyAoVGhpcyBpcyBkb25lIHRvIGVhc2lseSBzaGFyZSBjb2RlIGJldHdlZW4gY29tbW9uanMgYW5kIGJyb3dzZSBlbnZzKVxuICB2YXIgU2FmZVN0cmluZyA9IF9fZGVwZW5kZW5jeTJfXztcbiAgdmFyIEV4Y2VwdGlvbiA9IF9fZGVwZW5kZW5jeTNfXztcbiAgdmFyIFV0aWxzID0gX19kZXBlbmRlbmN5NF9fO1xuICB2YXIgcnVudGltZSA9IF9fZGVwZW5kZW5jeTVfXztcblxuICAvLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbiAgdmFyIGNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoYiA9IG5ldyBiYXNlLkhhbmRsZWJhcnNFbnZpcm9ubWVudCgpO1xuXG4gICAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgICBoYi5TYWZlU3RyaW5nID0gU2FmZVN0cmluZztcbiAgICBoYi5FeGNlcHRpb24gPSBFeGNlcHRpb247XG4gICAgaGIuVXRpbHMgPSBVdGlscztcbiAgICBoYi5lc2NhcGVFeHByZXNzaW9uID0gVXRpbHMuZXNjYXBlRXhwcmVzc2lvbjtcblxuICAgIGhiLlZNID0gcnVudGltZTtcbiAgICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgIHJldHVybiBydW50aW1lLnRlbXBsYXRlKHNwZWMsIGhiKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGhiO1xuICB9O1xuXG4gIHZhciBIYW5kbGViYXJzID0gY3JlYXRlKCk7XG4gIEhhbmRsZWJhcnMuY3JlYXRlID0gY3JlYXRlO1xuXG4gIEhhbmRsZWJhcnNbJ2RlZmF1bHQnXSA9IEhhbmRsZWJhcnM7XG5cbiAgX19leHBvcnRzX18gPSBIYW5kbGViYXJzO1xuICByZXR1cm4gX19leHBvcnRzX187XG59KShfX21vZHVsZTFfXywgX19tb2R1bGUzX18sIF9fbW9kdWxlNF9fLCBfX21vZHVsZTJfXywgX19tb2R1bGU1X18pO1xuXG4gIHJldHVybiBfX21vZHVsZTBfXztcbn0pKTtcbiIsIi8qXG4gKiBjYXRiZXJyeS1oYW5kbGViYXJzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IERlbmlzIFJlY2hrdW5vdiBhbmQgcHJvamVjdCBjb250cmlidXRvcnMuXG4gKlxuICogY2F0YmVycnktaGFuZGxlYmFycydzIGxpY2Vuc2UgZm9sbG93czpcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICogb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbiAqIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbixcbiAqIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsXG4gKiBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLFxuICogYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4gKiBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4gKiBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG4gKiBTT0ZUV0FSRS5cbiAqXG4gKiBUaGlzIGxpY2Vuc2UgYXBwbGllcyB0byBhbGwgcGFydHMgb2YgY2F0YmVycnktaGFuZGxlYmFycyB0aGF0XG4gKiBhcmUgbm90IGV4dGVybmFsbHkgbWFpbnRhaW5lZCBsaWJyYXJpZXMuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgSGFuZGxlYmFycyA9IHJlcXVpcmUoJy4vbGliL3ZlbmRvcnMvaGFuZGxlYmFycycpLFxuICAgIFRlbXBsYXRlUHJvdmlkZXIgPSByZXF1aXJlKCcuL2xpYi9UZW1wbGF0ZVByb3ZpZGVyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAobG9jYXRvciwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgICAgbG9jYXRvci5yZWdpc3Rlckluc3RhbmNlKCdoYW5kbGViYXJzJywgSGFuZGxlYmFycyk7XG4gICAgICAgIGxvY2F0b3IucmVnaXN0ZXIoJ3RlbXBsYXRlUHJvdmlkZXInLCBUZW1wbGF0ZVByb3ZpZGVyLCBjb25maWcsIHRydWUpO1xuICAgIH0sXG4gICAgSGFuZGxlYmFyczogSGFuZGxlYmFycyxcbiAgICBUZW1wbGF0ZVByb3ZpZGVyOiBUZW1wbGF0ZVByb3ZpZGVyXG59O1xuIl19
